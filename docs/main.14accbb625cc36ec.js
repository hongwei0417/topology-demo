(self.webpackChunktopology_web=self.webpackChunktopology_web||[]).push([[792],{5789:(dn,re,P)=>{"use strict";var x=P(4845),G=P(7715),g=P(4291),lt=P(6627),ut=P(3683),et=P(1732);function At(n){return new g.wOt(3e3,!1)}function Oe(n){switch(n.length){case 0:return new et.sf;case 1:return n[0];default:return new et.ui(n)}}function cn(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),h=u==s,p=h&&a||new Map;l.forEach((v,y)=>{let b=y,E=v;if("offset"!==y)switch(b=n.normalizePropertyName(b,r),E){case et.FX:E=t.get(y);break;case et.kp:E=i.get(y);break;default:E=n.normalizeStyleValue(y,b,E,r)}p.set(b,E)}),h||o.push(p),a=p,s=u}),r.length)throw function he(){return new g.wOt(3502,!1)}();return o}function Ln(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Di(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Di(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Di(t,"destroy",n)))}}function Di(n,e,t){const o=Fn(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Fn(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ii(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Si(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const ki=typeof document>"u"?null:document.documentElement;function Ii(n){const e=n.parentNode||n.host||null;return e===ki?null:e}let Dn=null,on=!1;function Qe(n,e){for(;e;){if(e===n)return!0;e=Ii(e)}return!1}function He(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Qn=(()=>{class n{validateStyleProperty(t){return function _t(n){Dn||(Dn=function me(){return typeof document<"u"?document.body:null}()||{},on=!!Dn.style&&"WebkitAppearance"in Dn.style);let e=!0;return Dn.style&&!function Fi(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Dn.style,!e&&on&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Dn.style)),e}(t)}containsElement(t,i){return Qe(t,i)}getParentElement(t){return Ii(t)}query(t,i,r){return He(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new et.sf(r,o)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();class ri{static#t=this.NOOP=new Qn}class we{}const ae=1e3,Cn="ng-enter",Rn="ng-leave",di="ng-trigger",Re=".ng-trigger",Mn="ng-animating",an=".ng-animating";function wn(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ue(parseFloat(e[1]),e[2])}function Ue(n,e){return"s"===e?n*ae:n}function Nn(n,e,t){return n.hasOwnProperty("duration")?n:function kt(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(At()),{duration:0,delay:0,easing:""};r=Ue(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Ue(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function ft(){return new g.wOt(3100,!1)}()),a=!0),o<0&&(e.push(function vt(){return new g.wOt(3101,!1)}()),a=!0),a&&e.splice(l,0,At())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Lt(n,e,t){e.forEach((i,r)=>{const o=Me(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Ze(n,e){e.forEach((t,i)=>{const r=Me(i);n.style[r]=""})}function On(n){return Array.isArray(n)?1==n.length?n[0]:(0,et.K2)(n):n}const hi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Be(n){let e=[];if("string"==typeof n){let t;for(;t=hi.exec(n);)e.push(t[1]);hi.lastIndex=0}return e}function Ce(n,e,t){const i=`${n}`,r=i.replace(hi,(o,s)=>{let a=e[s];return null==a&&(t.push(function Rt(){return new g.wOt(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const Gt=/-+([a-z0-9])/g;function Me(n){return n.replace(Gt,(...e)=>e[1].toUpperCase())}function Yt(n,e,t){switch(e.type){case et.If.Trigger:return n.visitTrigger(e,t);case et.If.State:return n.visitState(e,t);case et.If.Transition:return n.visitTransition(e,t);case et.If.Sequence:return n.visitSequence(e,t);case et.If.Group:return n.visitGroup(e,t);case et.If.Animate:return n.visitAnimate(e,t);case et.If.Keyframes:return n.visitKeyframes(e,t);case et.If.Style:return n.visitStyle(e,t);case et.If.Reference:return n.visitReference(e,t);case et.If.AnimateChild:return n.visitAnimateChild(e,t);case et.If.AnimateRef:return n.visitAnimateRef(e,t);case et.If.Query:return n.visitQuery(e,t);case et.If.Stagger:return n.visitStagger(e,t);default:throw function yt(){return new g.wOt(3004,!1)}()}}function je(n,e){return window.getComputedStyle(n)[e]}const Xe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jn extends we{normalizePropertyName(e,t){return Me(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Xe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function jt(){return new g.wOt(3005,!1)}())}return s+o}}const Jt="*";const Sn=new Set(["true","1"]),ke=new Set(["false","0"]);function Je(n,e){const t=Sn.has(n)||ke.has(n),i=Sn.has(e)||ke.has(e);return(r,o)=>{let s=n==Jt||n==r,a=e==Jt||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Sn.has(n):ke.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Sn.has(e):ke.has(e)),s&&a}}const si=new RegExp("s*:selfs*,?","g");function ci(n,e,t,i){return new xt(n).build(e,t,i)}class xt{constructor(e){this._driver=e}build(e,t,i){const r=new Ne(t);return this._resetContextStyleTimingState(r),Yt(this,On(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Ut(){return new g.wOt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==et.If.State){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,t))}),l.name=u}else if(a.type==et.If.Transition){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function le(){return new g.wOt(3007,!1)}())}),{type:et.If.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Be(l).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(function ve(){return new g.wOt(3008,!1)}(0,o.values()))}return{type:et.If.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Yt(this,On(e.animation),t),r=function Pe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ye(n,e,t){if(":"==n[0]){const l=function ge(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function $t(){return new g.wOt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function te(){return new g.wOt(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(Je(r,s)),"<"==o[0]&&(r!=Jt||s!=Jt)&&e.push(Je(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:et.If.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:In(e.options)}}visitSequence(e,t){return{type:et.If.Sequence,steps:e.steps.map(i=>Yt(this,i,t)),options:In(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Yt(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:et.If.Group,steps:o,options:In(e.options)}}visitAnimate(e,t){const i=function Pn(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pi(Nn(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=pi(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Nn(t,e);return pi(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:(0,et.iF)({});if(o.type==et.If.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=(0,et.iF)(u)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:et.If.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===et.kp?i.push(a):t.errors.push(new g.wOt(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:et.If.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l);let p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(t.errors.push(function be(){return new g.wOt(3010,!1)}()),p=!1),o=h.startTime),p&&u.set(l,{startTime:o,endTime:r}),t.options&&function qn(n,e,t){const i=e.params||{},r=Be(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Dt(){return new g.wOt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:et.If.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function We(){return new g.wOt(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const h=e.steps.map(S=>{const C=this._makeStyleAst(S,t);let D=null!=C.offset?C.offset:function vn(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(C.styles),k=0;return null!=D&&(o++,k=C.offset=D),l=l||k<0||k>1,a=a||k<u,u=k,s.push(k),C});l&&t.errors.push(function Xt(){return new g.wOt(3012,!1)}()),a&&t.errors.push(function zt(){return new g.wOt(3200,!1)}());const p=e.steps.length;let v=0;o>0&&o<p?t.errors.push(function Tt(){return new g.wOt(3202,!1)}()):0==o&&(v=1/(p-1));const y=p-1,b=t.currentTime,E=t.currentAnimateTimings,w=E.duration;return h.forEach((S,C)=>{const D=v>0?C==y?1:v*C:s[C],k=D*w;t.currentTime=b+E.delay+k,E.duration=k,this._validateStyleAst(S,t),S.offset=D,i.styles.push(S)}),i}visitReference(e,t){return{type:et.If.Reference,animation:Yt(this,On(e.animation),t),options:In(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:et.If.AnimateChild,options:In(e.options)}}visitAnimateRef(e,t){return{type:et.If.AnimateRef,animation:this.visitReference(e.animation,t),options:In(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function se(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(si,"")),n=n.replace(/@\*/g,Re).replace(/@\w+/g,t=>Re+"-"+t.slice(1)).replace(/:animating/g,an),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,ii(t.collectedStyles,t.currentQuerySelector,new Map);const a=Yt(this,On(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:et.If.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:In(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function de(){return new g.wOt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Nn(e.timings,t.errors,!0);return{type:et.If.Stagger,animation:Yt(this,On(e.animation),t),timings:i,options:null}}}class Ne{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function In(n){return n?(n={...n}).params&&(n.params=function ce(n){return n?{...n}:null}(n.params)):n={},n}function pi(n,e,t){return{duration:n,delay:e,easing:t}}function bi(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class or{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Pr=new RegExp(":enter","g"),fo=new RegExp(":leave","g");function Vi(n,e,t,i,r,o=new Map,s=new Map,a,l,u=[]){return(new mr).buildKeyframes(n,e,t,i,r,o,s,a,l,u)}class mr{buildKeyframes(e,t,i,r,o,s,a,l,u,h=[]){u=u||new or;const p=new Ft(e,t,u,r,o,h,[]);p.options=l;const v=l.delay?wn(l.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([s],null,p.errors,l),Yt(this,i,p);const y=p.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let E=y.length-1;E>=0;E--){const w=y[E];if(w.element===t){b=w;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return y.length?y.map(b=>b.buildKeyframes()):[bi(t,[],[],[],0,v,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:wn(Ce(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?wn(i.duration):null,a=null!=i.delay?wn(i.delay):null;return 0!==s&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Yt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==et.If.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=po);const s=wn(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Yt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?wn(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Yt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Nn(t.params?Ce(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==et.If.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?wn(r.delay):0;o&&(t.previousNode.type===et.If.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=po);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;const p=t.createSubContext(e.options,u);o&&p.delayNextStep(o),u===t.element&&(l=p.currentTimeline),Yt(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const h=t.currentTimeline;l&&h.delayNextStep(l);const p=h.currentTime;Yt(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const po={};class Ft{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=po,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Se(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=wn(i.duration)),null!=i.delay&&(r.delay=wn(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ce(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Ft(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=po,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new Ve(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Pr,"."+this._enterClassName)).replace(fo,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function Te(){return new g.wOt(3014,!1)}()),a}}class Se{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Se(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||et.kp),this._currentKeyframe.set(t,et.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Bn(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,et.kp)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const u=Ce(l,o,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??et.kp),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===et.FX?e.add(p):h===et.kp&&t.add(p)}),i||u.set("offset",l/this.duration),r.push(u)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return bi(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Ve extends Se{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);const u=new Map(e[0]);u.set("offset",en(a)),o.push(u);const h=e.length-1;for(let p=1;p<=h;p++){let v=new Map(e[p]);const y=v.get("offset");v.set("offset",en((t+y*i)/s)),o.push(v)}i=s,t=0,r="",e=o}return bi(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function en(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function Xn(n,e,t,i,r,o,s,a,l,u,h,p,v){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:p,errors:v}}const Ni={};class wr{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function $o(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,u,h){const p=[],v=this.ast.options&&this.ast.options.params||Ni,b=this.buildStyles(i,a&&a.params||Ni,p),E=l&&l.params||Ni,w=this.buildStyles(r,E,p),S=new Set,C=new Map,D=new Map,k="void"===r,T={params:Mr(E,v),delay:this.ast.options?.delay},I=h?[]:Vi(e,t,this.ast.animation,o,s,b,w,T,u,p);let F=0;return I.forEach(z=>{F=Math.max(z.duration+z.delay,F)}),p.length?Xn(t,this._triggerName,i,r,k,b,w,[],[],C,D,F,p):(I.forEach(z=>{const V=z.element,K=ii(C,V,new Set);z.preStyleProps.forEach(Q=>K.add(Q));const Y=ii(D,V,new Set);z.postStyleProps.forEach(Q=>Y.add(Q)),V!==t&&S.add(V)}),Xn(t,this._triggerName,i,r,k,b,w,I,[...S.values()],C,D,F))}}function Mr(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class Zr{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Mr(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Ce(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class Wd{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Zr(r.style,r.options&&r.options.params||{},i))}),_c(this.states,"true","1"),_c(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new wr(e,r,this.states))}),this.fallbackTransition=function Kd(n,e){return new wr(n,{type:et.If.Transition,animation:{type:et.If.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function _c(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ru=new or;class ou{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=ci(this._driver,t,i,[]);if(i.length)throw function Ae(){return new g.wOt(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=cn(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Vi(this._driver,t,o,Cn,Rn,new Map,new Map,i,ru,r),s.forEach(h=>{const p=ii(a,h.element,new Map);h.postStyleProps.forEach(v=>p.set(v,null))})):(r.push(function qt(){return new g.wOt(3300,!1)}()),s=[]),r.length)throw function Ot(){return new g.wOt(3504,!1)}();a.forEach((h,p)=>{h.forEach((v,y)=>{h.set(y,this._driver.computeStyle(p,y,et.kp))})});const u=Oe(s.map(h=>{const p=a.get(h.element);return this._buildPlayer(h,new Map,p)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function dt(){return new g.wOt(3301,!1)}();return t}listen(e,t,i,r){const o=Fn(t,"","","");return Ln(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Ms="ng-animate-queued",ml="ng-animate-disabled",ua=[],Ha={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ar={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zo="__ng_removed";class _i{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function td(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Da="void",$a=new _i(Da);class da{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ss(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function ht(){return new g.wOt(3302,!1)}();if(null==i||0==i.length)throw function Et(){return new g.wOt(3303,!1)}();if(!function su(n){return"start"==n||"done"==n}(i))throw function it(){return new g.wOt(3400,!1)}();const o=ii(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=ii(this._engine.statesByElement,e,new Map);return a.has(t)||(Ss(e,di),Ss(e,di+"-"+t),a.set(t,$a)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Ct(){return new g.wOt(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new zl(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ss(e,di),Ss(e,di+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new _i(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=$a),u.value!==Da&&l.value===u.value){if(!function Cc(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,u.params)){const E=[],w=o.matchStyles(l.value,l.params,E),S=o.matchStyles(u.value,u.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Ze(e,w),Lt(e,S)})}return}const v=ii(this._engine.playersByElement,e,[]);v.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let y=o.matchTransition(l.value,u.value,e,u.params),b=!1;if(!y){if(!r)return;y=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:s,isFallbackTransition:b}),b||(Ss(e,Ms),s.onStart(()=>{Vr(e,Ms)})),s.onDone(()=>{let E=this.players.indexOf(s);E>=0&&this.players.splice(E,1);const w=this._engine.playersByElement.get(e);if(w){let S=w.indexOf(s);S>=0&&w.splice(S,1)}}),this.players.push(s),v.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Re,!0);i.forEach(r=>{if(r[zo])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,u)=>{if(s.set(u,l.value),this._triggers.has(u)){const h=this.trigger(e,u,Da,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Oe(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,u=i.get(s)||$a,h=new _i(Da),p=new zl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[zo];(!o||o===Ha)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ss(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Fn(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,Ln(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class xc{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new da(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(gl(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!gl(t))return;const o=t[zo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ss(e,ml)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vr(e,ml))}removeNode(e,t,i){if(gl(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[zo]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return gl(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Re,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,an,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Oe(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[zo];if(t&&t.setForRemoval){if(e[zo]=Ha,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ml)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ss(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Oe(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function pt(){return new g.wOt(3402,!1)}()}_flushAnimations(e,t){const i=new or,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(ct=>{h.add(ct);const ot=this.driver.query(ct,".ng-animate-queued",!0);for(let rt=0;rt<ot.length;rt++)h.add(ot[rt])});const p=this.bodyNode,v=Array.from(this.statesByElement.keys()),y=os(v,this.collectedEnterElements),b=new Map;let E=0;y.forEach((ct,ot)=>{const rt=Cn+E++;b.set(ot,rt),ct.forEach(Nt=>Ss(Nt,rt))});const w=[],S=new Set,C=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const ot=this.collectedLeaveElements[ct],rt=ot[zo];rt&&rt.setForRemoval&&(w.push(ot),S.add(ot),rt.hasAnimation?this.driver.query(ot,".ng-star-inserted",!0).forEach(Nt=>S.add(Nt)):C.add(ot))}const D=new Map,k=os(v,Array.from(S));k.forEach((ct,ot)=>{const rt=Rn+E++;D.set(ot,rt),ct.forEach(Nt=>Ss(Nt,rt))}),e.push(()=>{y.forEach((ct,ot)=>{const rt=b.get(ot);ct.forEach(Nt=>Vr(Nt,rt))}),k.forEach((ct,ot)=>{const rt=D.get(ot);ct.forEach(Nt=>Vr(Nt,rt))}),w.forEach(ct=>{this.processLeaveNode(ct)})});const T=[],I=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(t).forEach(rt=>{const Nt=rt.player,ie=rt.element;if(T.push(Nt),this.collectedEnterElements.length){const fi=ie[zo];if(fi&&fi.setForMove){if(fi.previousTriggersValues&&fi.previousTriggersValues.has(rt.triggerName)){const rs=fi.previousTriggersValues.get(rt.triggerName),gs=this.statesByElement.get(rt.element);if(gs&&gs.has(rt.triggerName)){const Ho=gs.get(rt.triggerName);Ho.value=rs,gs.set(rt.triggerName,Ho)}}return void Nt.destroy()}}const $e=!p||!this.driver.containsElement(p,ie),ye=D.get(ie),ln=b.get(ie),kn=this._buildInstruction(rt,i,ln,ye,$e);if(kn.errors&&kn.errors.length)return void I.push(kn);if($e)return Nt.onStart(()=>Ze(ie,kn.fromStyles)),Nt.onDestroy(()=>Lt(ie,kn.toStyles)),void r.push(Nt);if(rt.isFallbackTransition)return Nt.onStart(()=>Ze(ie,kn.fromStyles)),Nt.onDestroy(()=>Lt(ie,kn.toStyles)),void r.push(Nt);const oi=[];kn.timelines.forEach(fi=>{fi.stretchStartingKeyframe=!0,this.disabledNodes.has(fi.element)||oi.push(fi)}),kn.timelines=oi,i.append(ie,kn.timelines),s.push({instruction:kn,player:Nt,element:ie}),kn.queriedElements.forEach(fi=>ii(a,fi,[]).push(Nt)),kn.preStyleProps.forEach((fi,rs)=>{if(fi.size){let gs=l.get(rs);gs||l.set(rs,gs=new Set),fi.forEach((Ho,bc)=>gs.add(bc))}}),kn.postStyleProps.forEach((fi,rs)=>{let gs=u.get(rs);gs||u.set(rs,gs=new Set),fi.forEach((Ho,bc)=>gs.add(bc))})});if(I.length){const ct=[];I.forEach(ot=>{ct.push(function _e(){return new g.wOt(3505,!1)}())}),T.forEach(ot=>ot.destroy()),this.reportError(ct)}const F=new Map,z=new Map;s.forEach(ct=>{const ot=ct.element;i.has(ot)&&(z.set(ot,ot),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,F))}),r.forEach(ct=>{const ot=ct.element;this._getPreviousPlayers(ot,!1,ct.namespaceId,ct.triggerName,null).forEach(Nt=>{ii(F,ot,[]).push(Nt),Nt.destroy()})});const V=w.filter(ct=>Wa(ct,l,u)),K=new Map;Xd(K,this.driver,C,u,et.kp).forEach(ct=>{Wa(ct,l,u)&&V.push(ct)});const Q=new Map;y.forEach((ct,ot)=>{Xd(Q,this.driver,new Set(ct),l,et.FX)}),V.forEach(ct=>{const ot=K.get(ct),rt=Q.get(ct);K.set(ct,new Map([...ot?.entries()??[],...rt?.entries()??[]]))});const at=[],It=[],Pt={};s.forEach(ct=>{const{element:ot,player:rt,instruction:Nt}=ct;if(i.has(ot)){if(h.has(ot))return rt.onDestroy(()=>Lt(ot,Nt.toStyles)),rt.disabled=!0,rt.overrideTotalTime(Nt.totalTime),void r.push(rt);let ie=Pt;if(z.size>1){let ye=ot;const ln=[];for(;ye=ye.parentNode;){const kn=z.get(ye);if(kn){ie=kn;break}ln.push(ye)}ln.forEach(kn=>z.set(kn,ie))}const $e=this._buildAnimation(rt.namespaceId,Nt,F,o,Q,K);if(rt.setRealPlayer($e),ie===Pt)at.push(rt);else{const ye=this.playersByElement.get(ie);ye&&ye.length&&(rt.parentPlayer=Oe(ye)),r.push(rt)}}else Ze(ot,Nt.fromStyles),rt.onDestroy(()=>Lt(ot,Nt.toStyles)),It.push(rt),h.has(ot)&&r.push(rt)}),It.forEach(ct=>{const ot=o.get(ct.element);if(ot&&ot.length){const rt=Oe(ot);ct.setRealPlayer(rt)}}),r.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<w.length;ct++){const ot=w[ct],rt=ot[zo];if(Vr(ot,Rn),rt&&rt.hasAnimation)continue;let Nt=[];if(a.size){let $e=a.get(ot);$e&&$e.length&&Nt.push(...$e);let ye=this.driver.query(ot,an,!0);for(let ln=0;ln<ye.length;ln++){let kn=a.get(ye[ln]);kn&&kn.length&&Nt.push(...kn)}}const ie=Nt.filter($e=>!$e.destroyed);ie.length?vl(this,ot,ie):this.processLeaveNode(ot)}return w.length=0,at.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const ot=this.players.indexOf(ct);this.players.splice(ot,1)}),ct.play()}),at}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Da;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,h=u!==o,p=ii(i,u,[]);this._getPreviousPlayers(u,h,s,a,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),p.push(y)})}Ze(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,u=[],h=new Set,p=new Set,v=t.timelines.map(b=>{const E=b.element;h.add(E);const w=E[zo];if(w&&w.removedBeforeQueried)return new et.sf(b.duration,b.delay);const S=E!==l,C=function Oa(n){const e=[];return Ta(n,e),e}((i.get(E)||ua).map(F=>F.getRealPlayer())).filter(F=>!!F.element&&F.element===E),D=o.get(E),k=s.get(E),T=cn(this._normalizer,b.keyframes,D,k),I=this._buildPlayer(b,T,C);if(b.subTimeline&&r&&p.add(E),S){const F=new zl(e,a,E);F.setRealPlayer(I),u.push(F)}return I});u.forEach(b=>{ii(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Ju(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>Ss(b,Mn));const y=Oe(v);return y.onDestroy(()=>{h.forEach(b=>Vr(b,Mn)),Lt(l,t.toStyles)}),p.forEach(b=>{ii(r,b,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new et.sf(e.duration,e.delay)}}class zl{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new et.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Ln(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ii(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function gl(n){return n&&1===n.nodeType}function Ul(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Xd(n,e,t,i,r){const o=[];t.forEach(l=>o.push(Ul(l)));const s=[];i.forEach((l,u)=>{const h=new Map;l.forEach(p=>{const v=e.computeStyle(u,p,r);h.set(p,v),(!v||0==v.length)&&(u[zo]=Ar,s.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>Ul(l,o[a++])),s}function os(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function Ss(n,e){n.classList?.add(e)}function Vr(n,e){n.classList?.remove(e)}function vl(n,e,t){Oe(t).onDone(()=>n.processLeaveNode(e))}function Ta(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof et.ui?Ta(i.players,e):e.push(i)}}function Wa(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Ka{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new xc(e.body,t,i),this._timelineEngine=new ou(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],h=ci(this._driver,o,l,[]);if(l.length)throw function xe(){return new g.wOt(3404,!1)}();a=function iu(n,e,t){return new Wd(n,e,t)}(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=Si(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=Si(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class yl{static#t=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=yl.initialStylesByElement.get(e);r||yl.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Lt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lt(this._element,this._initialStyles),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(yl.initialStylesByElement.delete(this._element),this._startStyles&&(Ze(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ze(this._element,this._endStyles),this._endStyles=null),Lt(this._element,this._initialStyles),this._state=3)}}function Ao(n){let e=null;return n.forEach((t,i)=>{(function au(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class bl{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:je(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class lf{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Qe(e,t)}getParentElement(e){return Ii(e)}query(e,t,i){return He(e,t,i)}computeStyle(e,t,i){return je(e,t)}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u=new Map,h=s.filter(y=>y instanceof bl);(function Ht(n,e){return 0===n||0===e})(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((b,E)=>u.set(E,b))});let p=function Mt(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(y=>new Map(y));p=function wt(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,je(n,a)))}}return e}(e,p,u);const v=function Yd(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Ao(e[0]),e.length>1&&(i=Ao(e[e.length-1]))):e instanceof Map&&(t=Ao(e)),t||i?new yl(n,t,i):null}(e,p);return new bl(e,p,l,v)}}const ss="@.disabled";class ed{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==ss?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class lu extends ed{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ss?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Xa(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Gl(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Hl{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const u=this._rendererCache;let h=u.get(r);return h||(h=new ed("",r,this.engine,()=>u.delete(r)),u.set(r,h)),h}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new lu(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Oi=P(9284);let $l=(()=>{class n extends Ka{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Oi.qQ),g.KVO(ri),g.KVO(we))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();const nd=[{provide:we,useFactory:function Wl(){return new Jn}},{provide:Ka,useClass:$l},{provide:g._9s,useFactory:function Op(n,e,t){return new Hl(n,e,t)},deps:[x.B7,Ka,g.SKi]}],Kl=[{provide:ri,useFactory:()=>new lf},{provide:g.bc$,useValue:"BrowserAnimations"},...nd];var Z=P(3198),q=P(3815),H=P(2647),mt=P(7071),fe=P(7569),mi=P(7621),ei=P(1071),lo=P(3204),Ds=function(n){return n.Local="local_strategy",n.Session="session_strategy",n.InMemory="in_memory_strategy",n}(Ds||{});class Qd{static isStorageAvailable(e){let t=!0;try{"object"==typeof e?(e.setItem("test-storage","foobar"),e.removeItem("test-storage")):t=!1}catch{t=!1}return t}}function df(){}const Tp="ngx-webstorage";let Ys=(()=>{class n{static#t=this.prefix=Tp;static#e=this.separator="|";static#n=this.isCaseSensitive=false;static normalize(t){return t=n.isCaseSensitive?t:t.toLowerCase(),`${n.prefix}${n.separator}${t}`}static isNormalizedKey(t){return 0===t.indexOf(n.prefix+n.separator)}static setPrefix(t){n.prefix=t}static setSeparator(t){n.separator=t}static setCaseSensitive(t){n.isCaseSensitive=t}static consumeConfiguration(t){"prefix"in t&&this.setPrefix(t.prefix),"separator"in t&&this.setSeparator(t.separator),"caseSensitive"in t&&this.setCaseSensitive(t.caseSensitive)}}return n})();class Zs{constructor(e){this.strategy=e}retrieve(e){let t;return this.strategy.get(Ys.normalize(e)).subscribe(i=>t=typeof i>"u"?null:i),t}store(e,t){return this.strategy.set(Ys.normalize(e),t).subscribe(df),t}clear(e){void 0!==e?this.strategy.del(Ys.normalize(e)).subscribe(df):this.strategy.clear().subscribe(df)}getStrategyName(){return this.strategy.name}observe(e){return e=Ys.normalize(e),this.strategy.keyChanges.pipe((0,H.p)(t=>null===t||t===e),(0,mt.n)(()=>this.strategy.get(e)),(0,fe.F)(),(0,mi.t)({refCount:!0,bufferSize:1}))}}let hf=(()=>{class n{constructor(){this.caches={}}get(t,i){return this.getCacheStore(t)[i]}set(t,i,r){this.getCacheStore(t)[i]=r}del(t,i){delete this.getCacheStore(t)[i]}clear(t){this.caches[t]={}}getCacheStore(t){return t in this.caches?this.caches[t]:this.caches[t]={}}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ap=new g.nKC("window_local_storage"),wo={provide:Ap,useFactory:function er(){return typeof window<"u"?window.localStorage:null}},as=new g.nKC("window_session_storage"),Os={provide:as,useFactory:function Xl(){return typeof window<"u"?window.sessionStorage:null}};class uu{constructor(e,t){this.storage=e,this.cache=t,this.keyChanges=new ei.B}get isAvailable(){return void 0===this._isAvailable&&(this._isAvailable=Qd.isStorageAvailable(this.storage)),this._isAvailable}get(e){let t=this.cache.get(this.name,e);if(void 0!==t)return(0,lo.of)(t);try{const i=this.storage.getItem(e);null!==i&&(t=JSON.parse(i),this.cache.set(this.name,e,t))}catch(i){console.warn(i)}return(0,lo.of)(t)}set(e,t){const i=JSON.stringify(t);return this.storage.setItem(e,i),this.cache.set(this.name,e,t),this.keyChanges.next(e),(0,lo.of)(t)}del(e){return this.storage.removeItem(e),this.cache.del(this.name,e),this.keyChanges.next(e),(0,lo.of)(null)}clear(){return this.storage.clear(),this.cache.clear(this.name),this.keyChanges.next(null),(0,lo.of)(null)}}class Yl extends uu{static#t=this.strategyName=Ds.Local;constructor(e,t,i,r){super(e,t),this.storage=e,this.cache=t,this.platformId=i,this.zone=r,this.name=Yl.strategyName,(0,Oi.UE)(this.platformId)&&this.listenExternalChanges()}listenExternalChanges(){window.addEventListener("storage",e=>this.zone.run(()=>{if(e.storageArea!==this.storage)return;const t=e.key;null!==t?this.cache.del(this.name,e.key):this.cache.clear(this.name),this.keyChanges.next(t)}))}static#e=this.\u0275fac=function(t){return new(t||Yl)(g.KVO(Ap),g.KVO(hf),g.KVO(g.Agw),g.KVO(g.SKi))};static#n=this.\u0275prov=g.jDH({token:Yl,factory:Yl.\u0275fac})}class Ya extends uu{static#t=this.strategyName=Ds.Session;constructor(e,t,i,r){super(e,t),this.storage=e,this.cache=t,this.platformId=i,this.zone=r,this.name=Ya.strategyName,(0,Oi.UE)(this.platformId)&&this.listenExternalChanges()}listenExternalChanges(){window.addEventListener("storage",e=>this.zone.run(()=>{if(e.storageArea!==this.storage)return;const t=e.key;null!==e.key?this.cache.del(this.name,e.key):this.cache.clear(this.name),this.keyChanges.next(t)}))}static#e=this.\u0275fac=function(t){return new(t||Ya)(g.KVO(as),g.KVO(hf),g.KVO(g.Agw),g.KVO(g.SKi))};static#n=this.\u0275prov=g.jDH({token:Ya,factory:Ya.\u0275fac})}class du{static#t=this.strategyName=Ds.InMemory;constructor(e){this.cache=e,this.keyChanges=new ei.B,this.isAvailable=!0,this.name=du.strategyName}get(e){return(0,lo.of)(this.cache.get(this.name,e))}set(e,t){return this.cache.set(this.name,e,t),this.keyChanges.next(e),(0,lo.of)(t)}del(e){return this.cache.del(this.name,e),this.keyChanges.next(e),(0,lo.of)(null)}clear(){return this.cache.clear(this.name),this.keyChanges.next(null),(0,lo.of)(null)}static#e=this.\u0275fac=function(t){return new(t||du)(g.KVO(hf))};static#n=this.\u0275prov=g.jDH({token:du,factory:du.\u0275fac})}const rd=new g.nKC("STORAGE_STRATEGIES"),Qs=[{provide:rd,useClass:du,multi:!0},{provide:rd,useClass:Yl,multi:!0},{provide:rd,useClass:Ya,multi:!0}],[Ug,kp,Gg]=Qs,$g="invalid_strategy";let Mc=(()=>{class n{static#t=this.index={};constructor(t){this.strategies=t,this.registration$=new ei.B,t||(t=[]),this.strategies=t.reverse().map((i,r,o)=>i.name).map((i,r,o)=>o.indexOf(i)===r?r:null).filter(i=>null!==i).map(i=>t[i])}static get(t){if(!this.isStrategyRegistered(t))throw Error($g);let i=this.index[t];return i.isAvailable||(i=this.index[Ds.InMemory]),i}static set(t,i){this.index[t]=i}static clear(t){void 0!==t?delete this.index[t]:this.index={}}static isStrategyRegistered(t){return t in this.index}static hasRegistredStrategies(){return Object.keys(this.index).length>0}getStrategy(t){return n.get(t)}indexStrategies(){this.strategies.forEach(t=>this.register(t.name,t))}indexStrategy(t,i=!1){if(n.isStrategyRegistered(t)&&!i)return n.get(t);const r=this.strategies.find(o=>o.name===t);if(!r)throw new Error($g);return this.register(t,r,i),r}register(t,i,r=!1){(!n.isStrategyRegistered(t)||r)&&(n.set(t,i),this.registration$.next(t))}static#e=this.\u0275fac=function(i){return new(i||n)(g.KVO(rd,8))};static#n=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zl={provide:class Wg extends Zs{},useFactory:function pf(n){const e=n.indexStrategy(Ds.Local);return new Zs(e)},deps:[Mc]},eh={provide:class by extends Zs{},useFactory:function mf(n){const e=n.indexStrategy(Ds.Session);return new Zs(e)},deps:[Mc]},Ts=new g.nKC("ngx_webstorage_config");var Za=function(n){return n[n.Config=1]="Config",n[n.LocalStorage=2]="LocalStorage",n[n.SessionStorage=3]="SessionStorage",n}(Za||{});function Np(){const n=(0,g.WQX)(Ts),e=(0,g.WQX)(Mc);return()=>{Ys.consumeConfiguration(n),e.indexStrategies()}}function od(n,e){return{kind:n,providers:e}}var qs=P(5263),ql=P(5561),ih=P(6148);class st{onChanged=e=>{};onTouched=()=>{};registerOnChange(e){this.onChanged=e}registerOnTouched(e){this.onTouched=e}}function ee(n,e,t){const i=ui(n),r=xr(i)(e),o=Nr(r,t),s=_n(o,"Route"),a=_n(o,"Category"),l=_n(o,"Group");return{label:s?.displayName||"",metaData:{category:a?nn(a):null,subcategory:l?nn(l):null,configs:t}}}const nn=n=>({label:n.displayName||"",isRoute:!!n.route,path:n.route,hide:n.hide}),_n=(n,e)=>n.find(t=>t.type===e),ui=n=>n.flatMap(e=>e.children&&e.children.length>0?[e,...ui(e.children)]:e),xr=n=>(e,t=[])=>{const i=n.find(r=>r.id===e||r.displayName===e);return i?i.parentId?xr(n)(i.parentId,[i,...t]):[i,...t]:t},Nr=(n,e)=>{const t=e?.filter(i=>i.hide).map(i=>i.label)||[];return n.filter(i=>{const r=[i.id,i.displayName];return t.every(o=>!r.includes(o))})},kr=[{id:"topology1",type:"Route",displayName:"Topology 1",route:"/topology1",iconName:"icon:mx-lan",isActive:!1},{id:"topology2",type:"Route",displayName:"Topology 2",route:"/topology2",iconName:"icon:mx-lan",isActive:!1}],ur=[...kr];var pr=P(2308);function Ti(n){const e=(0,g.O8t)(()=>n());return function yn(n){return n?.constructor===Object}(e)?new Proxy(n,{get:(t,i)=>i in e?((0,g.Hps)(t[i])||Object.defineProperty(t,i,{value:(0,g.EWP)(()=>t()[i]),configurable:!0}),Ti(t[i])):t[i]}):n}const Sr=new WeakMap,vr=Symbol("STATE_SOURCE");function zr(n,...e){n[vr].update(t=>e.reduce((i,r)=>({...i,..."function"==typeof r?r(i):r}),t)),function ko(n){const e=function yr(n){return Sr.get(n[vr])||[]}(n);for(const t of e)t((0,g.O8t)(()=>Wo(n)))}(n)}function Wo(n){return n[vr]()}function Xg(...n){const e=[...n],t="function"==typeof e[0]?{}:e.shift(),i=e;return(()=>{class o{constructor(){const a=i.reduce((E,w)=>w(E),function ad(){return{[vr]:(0,g.vPA)({}),stateSignals:{},computedSignals:{},methods:{},hooks:{}}}()),{stateSignals:l,computedSignals:u,methods:h,hooks:p}=a,v={...l,...u,...h};this[vr]=a[vr];for(const E in v)this[E]=v[E];const{onInit:y,onDestroy:b}=p;y&&y(),b&&(0,g.WQX)(g.abz).onDestroy(b)}static \u0275fac=function(l){return new(l||o)};static \u0275prov=g.jDH({token:o,factory:o.\u0275fac,providedIn:t.providedIn||null})}return o})()}function jp(n){return e=>{const t=n({[vr]:e[vr],...e.stateSignals,...e.computedSignals,...e.methods});return Object.keys(t),{...e,methods:{...e.methods,...t}}}}function Jl(n){return e=>{const t="function"==typeof n?n():n,i=Object.keys(t);e[vr].update(o=>({...o,...t}));const r=i.reduce((o,s)=>{const a=(0,g.EWP)(()=>e[vr]()[s]);return{...o,[s]:Ti(a)}},{});return{...e,stateSignals:{...e.stateSignals,...r}}}}var Aa=P(9755),Rr=P(6582),Hn=P(4498),Io=P(3823),As=P(3479),Qa=P(1201),Vp=P(2388),Zo=P(7512),ld=P(3982),Ur=P(8169),Js=P(8093),Qo=P(3796),fa=P(8199),tc=P(5910),ta=P(5044),ec=P(613),fu=P(4700);function lE(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<t.length;r++)t[r].removeAttribute("id");return"canvas"===i?Qg(n,e):("input"===i||"select"===i||"textarea"===i)&&cE(n,e),Yg("canvas",n,e,Qg),Yg("input, textarea, select",n,e,cE),e}function Yg(n,e,t,i){const r=e.querySelectorAll(n);if(r.length){const o=t.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let Zg=0;function cE(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Zg++}`)}function Qg(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function uE(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function dE(n,e,t){const{top:i,bottom:r,left:o,right:s}=n;return t>=i&&t<=r&&e>=o&&e<=s}function qg(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function uS(n,e,t,i){const{top:r,right:o,bottom:s,left:a,width:l,height:u}=n,h=l*e,p=u*e;return i>r-p&&i<s+p&&t>a-h&&t<o+h}class dS{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:uE(t)})})}handleScroll(e){const t=(0,Io.Fb)(e),i=this.positions.get(t);if(!i)return null;const r=i.scrollPosition;let o,s;if(t===this._document){const u=this.getViewportScrollPosition();o=u.top,s=u.left}else o=t.scrollTop,s=t.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((u,h)=>{u.clientRect&&t!==h&&t.contains(h)&&qg(u.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function N(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const i=e.createElement("div");return t.forEach(r=>i.appendChild(r)),i}function U(n,e,t){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];r?n.setProperty(i,r,t?.has(i)?"important":""):n.removeProperty(i)}return n}function L(n,e){const t=e?"":"none";U(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function $(n,e,t){U(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function J(n,e){return e&&"none"!=e?n+" "+e:n}function bt(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=ne(e.left,e.top)}function ne(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function rn(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function Yn(n,e){return n.getPropertyValue(e).split(",").map(i=>i.trim())}const Gi=new Set(["position"]);class qi{get element(){return this._preview}constructor(e,t,i,r,o,s,a,l,u){this._document=e,this._rootElement=t,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=u}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),mo(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return function ze(n){const e=getComputedStyle(n),t=Yn(e,"transition-property"),i=t.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=t.indexOf(i),o=Yn(e,"transition-duration"),s=Yn(e,"transition-delay");return rn(o[r])+rn(s[r])}(this._preview)}addEventListener(e,t){this._preview.addEventListener(e,t)}removeEventListener(e,t){this._preview.removeEventListener(e,t)}_createPreview(){const e=this._previewTemplate,t=this._previewClass,i=e?e.template:null;let r;if(i&&e){const o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),r=N(s,this._document),this._previewEmbeddedView=s,e.matchSize?bt(r,o):r.style.transform=ne(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=lE(this._rootElement),bt(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return U(r.style,{"pointer-events":"none",margin:mo(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Gi),L(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>r.classList.add(o)):r.classList.add(t)),r}}function mo(n){return"showPopover"in n}const _l=(0,Io.BQ)({passive:!0}),ls=(0,Io.BQ)({passive:!1}),El=(0,Io.BQ)({passive:!1,capture:!0}),sh=new Set(["position"]);class hE{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>L(t,e)))}constructor(e,t,i,r,o,s){this._config=t,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=(0,g.vPA)(!1),this._moveEvents=new ei.B,this._pointerMoveSubscription=As.yU.EMPTY,this._pointerUpSubscription=As.yU.EMPTY,this._scrollSubscription=As.yU.EMPTY,this._resizeSubscription=As.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this.scale=1,this._disabled=!1,this.beforeStarted=new ei.B,this.started=new ei.B,this.released=new ei.B,this.ended=new ei.B,this.entered=new ei.B,this.exited=new ei.B,this.dropped=new ei.B,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging()){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const y=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),b=this._dropContainer;if(!y)return void this._endDragSequence(a);(!b||!b.isDragging()&&!b.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();const u=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(u),this._dropContainer)this._updateActiveDropContainer(u,l);else{const h=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,p=this._activeTransform;p.x=u.x-h.x+this._passiveTransform.x,p.y=u.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(p.x,p.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:u,event:a,distance:this._getDragDistance(u),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new dS(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>(0,Hn.i8)(i)),this._handles.forEach(i=>L(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=(0,Hn.i8)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,ls),t.addEventListener("touchstart",this._pointerDown,_l),t.addEventListener("dragstart",this._nativeDragStart,ls)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?(0,Hn.i8)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),L(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),L(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",hS,El)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){zp(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._getShadowRoot(),i=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",hS,El)}),i){const r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new qi(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(o,t)),$(r,!1,sh),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),r=zp(t),o=!r&&0!==t.button,s=this._rootElement,a=(0,Io.Fb)(t),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),u=r?(0,Rr.w6)(t):(0,Rr._G)(t);if(a&&a.draggable&&"mousedown"===t.type&&t.preventDefault(),i||o||l||u)return;if(this._handles.length){const v=s.style;this._rootElementTapHighlight=v.webkitTapHighlightColor||"",v.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(v=>this._updateOnScroll(v)),this._boundaryElement&&(this._boundaryRect=uE(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);const p=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:p.x,y:p.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){$(this._rootElement,!0,sh),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),r=this._getPointerPositionOnPage(e),o=this._getDragDistance(r),s=t._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:e}),t.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=this._preview.getTransitionDuration();return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{(!s||this._preview&&(0,Io.Fb)(s)===this._preview.element&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*t);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=N(this._placeholderRef,this._document)):i=lE(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t,i){const r=t===this._rootElement?null:t,o=r?r.getBoundingClientRect():e,s=zp(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:o.left-e.left+(s.pageX-o.left-a.left),y:o.top-e.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),i=zp(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-t.left,o=i.pageY-t.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:u}=this._getPreviewRect(),h=a.top+s,p=a.bottom-(u-s);i=ah(i,a.left+o,a.right-(l-o)),r=ah(r,h,p)}return{x:i,y:r}}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,L(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,ls),e.removeEventListener("touchstart",this._pointerDown,_l),e.removeEventListener("dragstart",this._nativeDragStart,ls)}_applyRootElementTransform(e,t){const i=1/this.scale,r=ne(e*i,t*i),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=J(r,this._initialTransform)}_applyPreviewTransform(e,t){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=ne(e,t);this._preview.setTransform(J(r,i))}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>i.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:zp(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const i=(0,Io.Fb)(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&qg(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Io.KT)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const i=this._previewContainer||"global";if("parent"===i)return e;if("global"===i){const r=this._document;return t||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return(0,Hn.i8)(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function ah(n,e,t){return Math.max(e,Math.min(t,n))}function zp(n){return"t"===n.type[0]}function hS(n){n.preventDefault()}function Ey(n,e,t){const i=Up(e,n.length-1),r=Up(t,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}function Up(n,e){return Math.max(0,Math.min(e,n))}class fE{constructor(e){this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,i,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,i,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,l=o.findIndex(w=>w.drag===e),u=o[s],p=u.clientRect,v=l>s?1:-1,y=this._getItemOffsetPx(o[l].clientRect,p,v),b=this._getSiblingOffsetPx(l,o,v),E=o.slice();return Ey(o,l,s),o.forEach((w,S)=>{if(E[S]===w)return;const C=w.drag===e,D=C?y:b,k=C?e.getPlaceholderElement():w.drag.getRootElement();w.offset+=D;const T=Math.round(w.offset*(1/w.drag.scale));a?(k.style.transform=J(`translate3d(${T}px, 0, 0)`,w.initialTransform),qg(w.clientRect,0,D)):(k.style.transform=J(`translate3d(0, ${T}px, 0)`,w.initialTransform),qg(w.clientRect,D,0))}),this._previousSwap.overlaps=dE(p,t,i),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(e,t,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r,s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement();let u=s[o];if(u===e&&(u=s[o+1]),!u&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(u=s[0]),a>-1&&s.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){const h=u.getRootElement();h.parentElement.insertBefore(l,h),s.splice(o,0,e)}else this._element.appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{const t=e.getRootElement();if(t){const i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;t.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:i})=>{qg(i,e,t)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:uE(i)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_getItemOffsetPx(e,t,i){const r="horizontal"===this.orientation;let o=r?t.left-e.left:t.top-e.top;return-1===i&&(o+=r?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,i){const r="horizontal"===this.orientation,o=t[e].clientRect,s=t[e+-1*i];let a=o[r?"width":"height"]*i;if(s){const l=r?"left":"top",u=r?"right":"bottom";-1===i?a-=s.clientRect[l]-o[u]:a+=o[l]-s.clientRect[u]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return r?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==e&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(l.left)&&t<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==s&&this._sortPredicate(s,e)?s:-1}}class Lr{constructor(e,t){this._document=e,this._dragDropRegistry=t,this._previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1},this._relatedNodes=[]}start(e){const t=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<t.length;i++){const r=t[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(e)}sort(e,t,i,r){const o=this._getItemIndexFromPointerPosition(e,t,i),s=this._previousSwap;if(-1===o||this._activeItems[o]===e)return null;const a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;const l=this.getItemIndex(e),u=e.getPlaceholderElement(),h=a.getRootElement();o>l?h.after(u):h.before(u),Ey(this._activeItems,l,o);const p=this._getRootNode().elementFromPoint(t,i);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=h===p||h.contains(p),{previousIndex:l,currentIndex:o}}enter(e,t,i,r){let o=null==r||r<0?this._getItemIndexFromPointerPosition(e,t,i):r;-1===o&&(o=this._getClosestItemIndexToPointer(e,t,i));const s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){const e=this._element,t=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){const[r,o]=this._relatedNodes[i];r.parentNode===e&&r.nextSibling!==o&&(null===o?e.appendChild(r):o.parentNode===e&&e.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,i){const r=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(i)),o=r?this._activeItems.findIndex(s=>{const a=s.getRootElement();return r===a||a.contains(r)}):-1;return-1!==o&&this._sortPredicate(o,e)?o:-1}_getRootNode(){return this._rootNode||(this._rootNode=(0,Io.KT)(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,i){if(0===this._activeItems.length)return-1;if(1===this._activeItems.length)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){const a=this._activeItems[s];if(a!==e){const{x:l,y:u}=a.getRootElement().getBoundingClientRect(),h=Math.hypot(t-l,i-u);h<r&&(r=h,o=s)}}return o}}var xo=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(xo||{}),ka=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(ka||{});class Jg{constructor(e,t,i,r,o){this._dragDropRegistry=t,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ei.B,this.entered=new ei.B,this.exited=new ei.B,this.dropped=new ei.B,this.sorted=new ei.B,this.receivingStarted=new ei.B,this.receivingStopped=new ei.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=As.yU.EMPTY,this._verticalScrollDirection=xo.NONE,this._horizontalScrollDirection=ka.NONE,this._stopScrollTimers=new ei.B,this._cachedShadowRoot=null,this._scrollableElements=[],this._direction="ltr",this._startScrollInterval=()=>{this._stopScrolling(),function oh(n=0,e=Qa.E){return n<0&&(n=0),(0,Vp.O)(n,n,e)}(0,Zo.X).pipe((0,Qo.Q)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;this._verticalScrollDirection===xo.UP?a.scrollBy(0,-l):this._verticalScrollDirection===xo.DOWN&&a.scrollBy(0,l),this._horizontalScrollDirection===ka.LEFT?a.scrollBy(-l,0):this._horizontalScrollDirection===ka.RIGHT&&a.scrollBy(l,0)})};const s=this.element=(0,Hn.i8)(e);this._document=i,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new dS(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,r,o,s,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(r=>r.isDragging()).every(r=>-1===e.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof fE&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if("mixed"===e)this._sortStrategy=new Lr(this._document,this._dragDropRegistry);else{const t=new fE(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,i)=>this.sortPredicate(t,i,this)),this}withScrollableParents(e){const t=this._container;return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;(0,Hn.i8)(this.element);const i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,r){if(this.sortingDisabled||!this._domRect||!uS(this._domRect,.05,t,i))return;const o=this._sortStrategy.sort(e,t,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,r=xo.NONE,o=ka.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||uS(s.clientRect,.05,e,t)&&([r,o]=function PP(n,e,t,i,r){const o=lh(e,r),s=Ja(e,i);let a=xo.NONE,l=ka.NONE;if(o){const u=n.scrollTop;o===xo.UP?u>0&&(a=xo.UP):n.scrollHeight-u>n.clientHeight&&(a=xo.DOWN)}if(s){const u=n.scrollLeft;"rtl"===t?s===ka.RIGHT?u<0&&(l=ka.RIGHT):n.scrollWidth+u>n.clientWidth&&(l=ka.LEFT):s===ka.LEFT?u>0&&(l=ka.LEFT):n.scrollWidth-u>n.clientWidth&&(l=ka.RIGHT)}return[a,l]}(a,s.clientRect,this._direction,e,t),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=lh(l,t),o=Ja(l,e),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;const e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._domRect&&dE(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(r=>r._canReceive(e,t,i))}_canReceive(e,t,i){if(!this._domRect||!dE(this._domRect,t,i)||!this.enterPredicate(e,this))return!1;const r=this._getShadowRoot().elementFromPoint(t,i);return!!r&&(r===this._container||this._container.contains(r))}_startReceiving(e,t){const i=this._activeSiblings;!i.has(e)&&t.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=(0,Io.KT)(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function lh(n,e){const{top:t,bottom:i,height:r}=n,o=.05*r;return e>=t-o&&e<=t+o?xo.UP:e>=i-o&&e<=i+o?xo.DOWN:xo.NONE}function Ja(n,e){const{left:t,right:i,width:r}=n,o=.05*r;return e>=t-o&&e<=t+o?ka.LEFT:e>=i-o&&e<=i+o?ka.RIGHT:ka.NONE}const Hp=(0,Io.BQ)({passive:!1,capture:!0}),xy=new Set;let nc=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(i,r){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return n})(),fS=(()=>{class n{constructor(t,i){this._ngZone=t,this._appRef=(0,g.WQX)(g.o8S),this._environmentInjector=(0,g.WQX)(g.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=(0,g.vPA)([]),this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new ei.B,this.pointerUp=new ei.B,this.scroll=new ei.B,this._preventDefaultWhileDragging=r=>{this._activeDragInstances().length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Hp)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Hp)}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(r=>[...r,t]),1===this._activeDragInstances().length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Hp}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Hp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(t){this._activeDragInstances.update(i=>{const r=i.indexOf(t);return r>-1?(i.splice(r,1),[...i]):i}),0===this._activeDragInstances().length&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new ld.c(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances().length&&r.next(a)};return t.addEventListener("scroll",s,!0),()=>{t.removeEventListener("scroll",s,!0)}}))),(0,Ur.h)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!xy.has(this._appRef)){xy.add(this._appRef);const t=(0,g.a0P)(nc,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{xy.delete(this._appRef),0===xy.size&&t.destroy()})}}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(g.SKi),g.KVO(Oi.qQ))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pS={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pE=(()=>{class n{constructor(t,i,r,o){this._document=t,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(t,i=pS){return new hE(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Jg(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Oi.qQ),g.KVO(g.SKi),g.KVO(Aa.Xj),g.KVO(fS))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ch=new g.nKC("CDK_DRAG_PARENT"),tv=new g.nKC("CdkDragHandle"),My=new g.nKC("CDK_DRAG_CONFIG"),$i=new g.nKC("CdkDropList");let ev=(()=>{class n{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,i,r,o,s,a,l,u,h,p,v){this.element=t,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=s,this._dir=l,this._changeDetectorRef=h,this._selfHandle=p,this._parentDrag=v,this._destroyed=new ei.B,this._handles=new Js.t([]),this.scale=1,this.started=new g.bkB,this.released=new g.bkB,this.ended=new g.bkB,this.entered=new g.bkB,this.exited=new g.bkB,this.dropped=new g.bkB,this.moved=new ld.c(y=>{const b=this._dragRef.moved.pipe((0,fa.T)(E=>({source:this,pointerPosition:E.pointerPosition,event:E.event,delta:E.delta,distance:E.distance}))).subscribe(y);return()=>{b.unsubscribe()}}),this._injector=(0,g.WQX)(g.zZn),this._dragRef=u.createDrag(t,{dragStartThreshold:a&&null!=a.dragStartThreshold?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&null!=a.pointerDirectionChangeThreshold?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),a&&this._assignDefaults(a),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this),i._dropListRef.beforeStarted.pipe((0,Qo.Q)(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){(0,g.mal)(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){const i=t.rootElementSelector,r=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){const i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){const i=this._handles.getValue(),r=i.indexOf(t);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const t=this.element.nativeElement;let i=t;this.rootElementSelector&&(i=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,Hn.i8)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay="object"==typeof r&&r?r:(0,Hn.OE)(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,tc.s)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:u,previewContainer:h}=t;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.pipe((0,ta.M)(t=>{const i=t.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,mt.n)(t=>(0,Ur.h)(...t.map(i=>i._stateChanges.pipe((0,ec.Z)(i))))),(0,Qo.Q)(this._destroyed)).subscribe(t=>{const i=this._dragRef,r=t.element.nativeElement;t.disabled?i.disableHandle(r):i.enableHandle(r)})}static#e=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU($i,12),g.rXU(Oi.qQ),g.rXU(g.SKi),g.rXU(g.c1b),g.rXU(My,8),g.rXU(fu.dS,8),g.rXU(pE),g.rXU(g.gRc),g.rXU(tv,10),g.rXU(ch,12))};static#n=this.\u0275dir=g.FsC({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){2&i&&g.AVh("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",g.L39],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",g.Udg]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[g.Jv_([{provide:ch,useExisting:n}]),g.GFd,g.OA$]})}return n})();const nv=new g.nKC("CdkDropListGroup");let rU=0,vS=(()=>{class n{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,i,r,o,s,a,l){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=s,this._group=a,this._destroyed=new ei.B,this.connectedTo=[],this.id="cdk-drop-list-"+rU++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new g.bkB,this.entered=new g.bkB,this.exited=new g.bkB,this.sorted=new g.bkB,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(u,h)=>this.enterPredicate(u.data,h.data),this._dropListRef.sortPredicate=(u,h,p)=>this.sortPredicate(u,h.data,p.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),a&&a._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,ec.Z)(this._dir.value),(0,Qo.Q)(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{const i=(0,Hn.FG)(this.connectedTo).map(r=>"string"==typeof r?n._dropLists.find(s=>s.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===i.indexOf(r)&&i.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){const r=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(r)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=(0,Hn.OE)(this.autoScrollStep,2),t.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),(0,Ur.h)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#e=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(pE),g.rXU(g.gRc),g.rXU(Aa.R),g.rXU(fu.dS,8),g.rXU(nv,12),g.rXU(My,8))};static#n=this.\u0275dir=g.FsC({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){2&i&&(g.BMQ("id",r.id),g.AVh("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",g.L39],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",g.L39],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",g.L39],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[g.Jv_([{provide:nv,useValue:void 0},{provide:$i,useExisting:n}]),g.GFd]})}return n})(),FP=(()=>{class n{constructor(){this._elRef=(0,g.WQX)(g.aKT),this.mxCardHasAction=!1,this.mxCardDisabled=!1,this.cardType="elevated",this.hasAction=!1}set mxCard(t){this.cardType=t||"elevated"}get isOutlined(){return"outlined"===this.cardType}get isElevated(){return"elevated"===this.cardType}get isFilled(){return"filled"===this.cardType}ngOnInit(){this._elRef.nativeElement.insertBefore(document.createElement("div"),this._elRef.nativeElement.firstChild).classList.add("mx-card--ripple"),this._elRef.nativeElement.hasAttribute("cdkDrag")&&(this.mxCardHasAction=!0)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","mxCard",""]],hostAttrs:[1,"mx-card"],hostVars:10,hostBindings:function(i,r){2&i&&g.AVh("mx-card--action",r.mxCardHasAction)("disabled",r.mxCardDisabled)("mx-outlined-card",r.isOutlined)("mx-elevated-card",r.isElevated)("mx-filled-card",r.isFilled)},inputs:{mxCard:"mxCard",mxCardHasAction:[2,"mxCardHasAction","mxCardHasAction",g.L39],mxCardDisabled:[2,"mxCardDisabled","mxCardDisabled",g.L39]},standalone:!0,features:[g.GFd]})}return n})();const BP=["selector"];function jP(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",3),g.bIt("cdkDragReleased",function(r){const o=g.eBV(t).$implicit,s=g.XpG();return g.Njj(s.onDragReleased(r,o))}),g.nrm(1,"img",4),g.j41(2,"label"),g.EFF(3),g.k0s()()}if(2&n){const t=e.$implicit;g.R7$(),g.Y8G("src",t.src,g.B4B),g.R7$(2),g.JRh(t.name)}}let hn=(()=>{class n{devices=(0,g.hFB)([]);select=(0,g.CGW)();selectorDiv=(0,g.ebz)("selector");onDragReleased(t,i){const r=t.event,s=(this.selectorDiv()?.nativeElement).getBoundingClientRect(),a=t.source.element.nativeElement.getBoundingClientRect();(a.right>s.right||a.bottom>s.bottom||a.left<s.left||a.top<s.top)&&(r.clientX>s.right||r.clientY>s.bottom||r.clientX<s.left||r.clientY<s.top)&&this.select.emit({event:t,item:i}),t.source.reset(),t.source.element.nativeElement.style.position=""}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-device-selector"]],viewQuery:function(i,r){1&i&&g.wEZ(r.selectorDiv,BP,5),2&i&&g.NyB()},inputs:{devices:[1,"devices"]},outputs:{select:"select"},standalone:!0,features:[g.aNF],decls:4,vars:0,consts:[["selector",""],["cdkDropList","",1,"absolute","left-0","top-0","flex","h-[300px]","flex-col","gap-3","overflow-y-auto","p-3"],["mxCard","elevated","mxCardHasAction","","cdkDrag","","cdkDragBoundary",".boundary",1,"d-flex","flex-col","items-center","justify-center"],["mxCard","elevated","mxCardHasAction","","cdkDrag","","cdkDragBoundary",".boundary",1,"d-flex","flex-col","items-center","justify-center",3,"cdkDragReleased"],["alt","",3,"src"]],template:function(i,r){1&i&&(g.j41(0,"div",1,0),g.Z7z(2,jP,4,2,"div",2,g.Vm6),g.k0s()),2&i&&(g.R7$(2),g.Dyx(r.devices()))},dependencies:[Oi.MD,ev,vS,FP],changeDetection:0})}return n})();var Ai=P(3999);P(7375);class Sy{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ei.B,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}return e}}let aU=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fr=P(2675),Pi=P(4007),Xi=P(6569);const Ia=["button"],dd=["*"];function xS(n,e){if(1&n&&g.nrm(0,"mat-pseudo-checkbox",3),2&n){const t=g.XpG();g.Y8G("disabled",t.disabled)}}function Dc(n,e){if(1&n&&g.nrm(0,"mat-pseudo-checkbox",3),2&n){const t=g.XpG();g.Y8G("disabled",t.disabled)}}const mu=new g.nKC("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:function zP(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1,disabledInteractive:!1}}}),mE=new g.nKC("MatButtonToggleGroup"),UP={provide:Pi.kq,useExisting:(0,g.Rfq)(()=>Oy),multi:!0};let CS=0;class Dy{constructor(e,t){this.source=e,this.value=t}}let Oy=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markButtonsForCheck()}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(t){this._hideMultipleSelectionIndicator=t,this._markButtonsForCheck()}constructor(t,i,r){this._changeDetector=t,this._dir=r,this._multiple=!1,this._disabled=!1,this._disabledInteractive=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+CS++,this.valueChange=new g.bkB,this.change=new g.bkB,this.appearance=i&&i.appearance?i.appearance:"standard",this.hideSingleSelectionIndicator=i?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=i?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Sy(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked)),this.multiple||this._initializeTabIndex()}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_keydown(t){if(this.multiple||this.disabled)return;const r=t.target.id,o=this._buttonToggles.toArray().findIndex(a=>a.buttonId===r);let s=null;switch(t.keyCode){case Fr.t6:case Fr.Fm:s=this._buttonToggles.get(o)||null;break;case Fr.i7:s=this._getNextButton(o,-1);break;case Fr.UQ:s=this._getNextButton(o,"ltr"===this.dir?-1:1);break;case Fr.n6:s=this._getNextButton(o,1);break;case Fr.LE:s=this._getNextButton(o,"ltr"===this.dir?1:-1);break;default:return}s&&(t.preventDefault(),s._onButtonClick(),s.focus())}_emitChangeEvent(t){const i=new Dy(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,o=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_initializeTabIndex(){if(this._buttonToggles.forEach(t=>{t.tabIndex=-1}),this.selected)this.selected.tabIndex=0;else for(let t=0;t<this._buttonToggles.length;t++){const i=this._buttonToggles.get(t);if(!i.disabled){i.tabIndex=0;break}}this._markButtonsForCheck()}_getNextButton(t,i){const r=this._buttonToggles;for(let o=1;o<=r.length;o++){const a=r.get((t+i*o+r.length)%r.length);if(a&&!a.disabled)return a}return null}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>{t.checked=!1,this.multiple||(t.tabIndex=-1)})}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i),this.multiple||(i.tabIndex=0))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc),g.rXU(mu,8),g.rXU(fu.dS,8))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,o){if(1&i&&g.wni(o,iv,5),2&i){let s;g.mGM(s=g.lsd())&&(r._buttonToggles=s)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(i,r){1&i&&g.bIt("keydown",function(s){return r._keydown(s)}),2&i&&(g.BMQ("role",r.multiple?"group":"radiogroup")("aria-disabled",r.disabled),g.AVh("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",g.L39],value:"value",multiple:[2,"multiple","multiple",g.L39],disabled:[2,"disabled","disabled",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",g.L39],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",g.L39]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[g.Jv_([UP,{provide:mE,useExisting:n}]),g.GFd]})}return n})(),iv=(()=>{class n{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(t){this._tabIndex=t,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}get disabledInteractive(){return this._disabledInteractive||null!==this.buttonToggleGroup&&this.buttonToggleGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}constructor(t,i,r,o,s,a){this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new g.bkB;const l=Number(s);this.tabIndex=l||0===l?l:null,this.buttonToggleGroup=t,this.appearance=a&&a.appearance?a.appearance:"standard",this.disabledInteractive=a?.disabledInteractive??!1}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+CS++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){if(this.disabled)return;const t=!!this.isSingleSelector()||!this._checked;if(t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){const i=this.buttonToggleGroup._buttonToggles.find(r=>0===r.tabIndex);i&&(i.tabIndex=-1),this.tabIndex=0}this.change.emit(new Dy(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(mE,8),g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(Rr.FN),g.kS0("tabindex"),g.rXU(mu,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&g.GBs(Ia,5),2&i){let o;g.mGM(o=g.lsd())&&(r._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:14,hostBindings:function(i,r){1&i&&g.bIt("focus",function(){return r.focus()}),2&i&&(g.BMQ("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),g.AVh("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-disabled-interactive",r.disabledInteractive)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",g.L39],appearance:"appearance",checked:[2,"checked","checked",g.L39],disabled:[2,"disabled","disabled",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:dd,decls:8,vars:14,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(),g.j41(0,"button",1,0),g.bIt("click",function(){return g.eBV(o),g.Njj(r._onButtonClick())}),g.j41(2,"span",2),g.DNE(3,xS,1,1,"mat-pseudo-checkbox",3)(4,Dc,1,1,"mat-pseudo-checkbox",3),g.SdG(5),g.k0s()(),g.nrm(6,"span",4)(7,"span",5)}if(2&i){const o=g.sdS(1);g.Y8G("id",r.buttonId)("disabled",r.disabled&&!r.disabledInteractive||null),g.BMQ("role",r.isSingleSelector()?"radio":"button")("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-pressed",r.isSingleSelector()?null:r.checked)("aria-checked",r.isSingleSelector()?r.checked:null)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),g.R7$(3),g.vxM(r.buttonToggleGroup&&r.checked&&!r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),g.R7$(),g.vxM(r.buttonToggleGroup&&r.checked&&r.buttonToggleGroup.multiple&&!r.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),g.R7$(3),g.Y8G("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[Xi.r6,Xi.wg],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container))}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-legacy-button-toggle-selected-state-text-color)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{pointer-events:none;color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-legacy-button-toggle-disabled-state-text-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-disabled-interactive{pointer-events:auto}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color, var(--mat-app-on-surface));background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font, var(--mat-app-label-large-font));font-size:var(--mat-standard-button-toggle-label-text-size, var(--mat-app-label-large-size));line-height:var(--mat-standard-button-toggle-label-text-line-height, var(--mat-app-label-large-line-height));font-weight:var(--mat-standard-button-toggle-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mat-standard-button-toggle-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color, var(--mat-app-outline))}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color, var(--mat-app-on-secondary-container));background-color:var(--mat-standard-button-toggle-selected-state-background-color, var(--mat-app-secondary-container))}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var(--mat-standard-button-toggle-disabled-selected-state-text-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color, var(--mat-app-on-surface))}.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-button-toggle-appearance-standard.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}@media(hover: none){.mat-button-toggle-appearance-standard:hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-right-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full));border-bottom-left-radius:var(--mat-standard-button-toggle-shape, var(--mat-app-corner-full))}"],encapsulation:2,changeDetection:0})}return n})(),Ty=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Xi.yE,Xi.pZ,iv,Xi.yE]})}return n})();var ea=P(4288),gE=P(7969),vE=P(3279),MS=P(5266),SS=P(3498),DS=P(7252),yE=P(4637);function Ay(n,e){return e?t=>(0,vE.x)(e.pipe((0,tc.s)(1),(0,MS.w)()),t.pipe(Ay(n))):(0,DS.Z)((t,i)=>(0,yE.Tg)(n(t,i)).pipe((0,tc.s)(1),(0,SS.u)(t)))}function bE(n,e=Qa.E){const t=(0,Vp.O)(n,e);return Ay(()=>t)}var vs=P(3068),Cr=P(2926);const Co=["mat-menu-item",""],OS=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],GP=["mat-icon, [matMenuItemIcon]","*"];function TS(n,e){1&n&&(g.qSk(),g.j41(0,"svg",2),g.nrm(1,"polygon",3),g.k0s())}const HP=["*"];function AS(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",0),g.bIt("keydown",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._handleKeydown(r))})("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.closed.emit("click"))})("@transformMenu.start",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._onAnimationStart(r))})("@transformMenu.done",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._onAnimationDone(r))}),g.j41(1,"div",1),g.SdG(2),g.k0s()()}if(2&n){const t=g.XpG();g.HbH(t._classList),g.Y8G("id",t.panelId)("@transformMenu",t._panelAnimationState),g.BMQ("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const ky=new g.nKC("MAT_MENU_PANEL");let hd=(()=>{class n{constructor(t,i,r,o,s){this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new ei.B,this._focused=new ei.B,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(Oi.qQ),g.rXU(Rr.FN),g.rXU(ky,8),g.rXU(g.gRc))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&g.bIt("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(g.BMQ("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),g.AVh("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39]},exportAs:["matMenuItem"],standalone:!0,features:[g.GFd,g.aNF],attrs:Co,ngContentSelectors:GP,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(g.NAR(OS),g.SdG(0),g.j41(1,"span",0),g.SdG(2,1),g.k0s(),g.nrm(3,"div",1),g.DNE(4,TS,2,0,":svg:svg",2)),2&i&&(g.R7$(3),g.Y8G("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),g.R7$(),g.vxM(r._triggersSubmenu?4:-1))},dependencies:[Xi.r6],encapsulation:2,changeDetection:0})}return n})();const Iy=new g.nKC("MatMenuContent"),Wp={transformMenu:(0,et.hZ)("transformMenu",[(0,et.wk)("void",(0,et.iF)({opacity:0,transform:"scale(0.8)"})),(0,et.kY)("void => enter",(0,et.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,et.iF)({opacity:1,transform:"scale(1)"}))),(0,et.kY)("* => void",(0,et.i0)("100ms 25ms linear",(0,et.iF)({opacity:0})))]),fadeInItems:(0,et.hZ)("fadeInItems",[(0,et.wk)("showing",(0,et.iF)({opacity:1})),(0,et.kY)("void => *",[(0,et.iF)({opacity:0}),(0,et.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let KP=0;const Kp=new g.nKC("mat-menu-default-options",{providedIn:"root",factory:function rv(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Xp=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){const i=this._previousPanelClass,r={...this._classList};i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new g.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new ei.B,this.closed=new g.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+KP++,this._injector=(0,g.WQX)(g.zZn),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Rr.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,ec.Z)(this._directDescendantItems),(0,mt.n)(t=>(0,Ur.h)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,ec.Z)(this._directDescendantItems),(0,mt.n)(i=>(0,Ur.h)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case Fr._f:(0,Fr.rp)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case Fr.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case Fr.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===Fr.i7||i===Fr.n6)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,g.mal)(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){if(null===this._baseElevation){const a=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(a)}const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){const s={...this._classList};this._previousElevation&&(s[this._previousElevation]=!1),s[r]=!0,this._previousElevation=r,this._classList=s}}setPositionClasses(t=this.xPosition,i=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===t,"mat-menu-after":"after"===t,"mat-menu-above":"above"===i,"mat-menu-below":"below"===i},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,ec.Z)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(Kp),g.rXU(g.gRc))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(1&i&&(g.wni(o,Iy,5),g.wni(o,hd,5),g.wni(o,hd,4)),2&i){let s;g.mGM(s=g.lsd())&&(r.lazyContent=s.first),g.mGM(s=g.lsd())&&(r._allItems=s),g.mGM(s=g.lsd())&&(r.items=s)}},viewQuery:function(i,r){if(1&i&&g.GBs(g.C4Q,5),2&i){let o;g.mGM(o=g.lsd())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){2&i&&g.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",g.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>null==t?null:(0,g.L39)(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[g.Jv_([{provide:ky,useExisting:n}]),g.GFd,g.aNF],ngContentSelectors:HP,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(g.NAR(),g.DNE(0,AS,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Wp.transformMenu,Wp.fadeInItems]},changeDetection:0})}return n})();const Ry=new g.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(Cr.hJ);return()=>n.scrollStrategies.reposition()}}),XP={provide:Ry,deps:[Cr.hJ],useFactory:function kS(n){return()=>n.scrollStrategies.reposition()}},IS=(0,Io.BQ)({passive:!0});let RS=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,s,a,l,u,h){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=u,this._ngZone=h,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=As.yU.EMPTY,this._hoverSubscription=As.yU.EMPTY,this._menuCloseSubscription=As.yU.EMPTY,this._changeDetectorRef=(0,g.WQX)(g.gRc),this._handleTouchStart=p=>{(0,Rr.w6)(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new g.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new g.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Xp?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,IS)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,IS),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Xp&&(t._startAnimation(),t._directDescendantItems.changes.pipe((0,Qo.Q)(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Xp?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,H.p)(r=>"void"===r.toState),(0,tc.s)(1),(0,Qo.Q)(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Cr.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,u]=[s,a],[h,p]=[r,o],v=0;if(this.triggersSubmenu()){if(p=r="before"===t.xPosition?"start":"end",o=h="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}v="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",u="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:h,overlayY:s,offsetY:v},{originX:o,originY:l,overlayX:p,overlayY:s,offsetY:v},{originX:r,originY:u,overlayX:h,overlayY:a,offsetY:-v},{originX:o,originY:u,overlayX:p,overlayY:a,offsetY:-v}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,lo.of)(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,H.p)(s=>s!==this._menuItemInstance),(0,H.p)(()=>this._menuOpen)):(0,lo.of)();return(0,Ur.h)(t,r,o,i)}_handleMousedown(t){(0,Rr._G)(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(i===Fr.Fm||i===Fr.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===Fr.LE&&"ltr"===this.dir||i===Fr.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,H.p)(t=>t===this._menuItemInstance&&!t.disabled),bE(0,gE.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Xp&&this.menu._isAnimating?this.menu._animationDone.pipe((0,tc.s)(1),bE(0,gE.$),(0,Qo.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new vs.VA(t.templateRef,this._viewContainerRef)),this._portal}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(Cr.hJ),g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(Ry),g.rXU(ky,8),g.rXU(hd,10),g.rXU(fu.dS,8),g.rXU(Rr.FN),g.rXU(g.SKi))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){1&i&&g.bIt("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&g.BMQ("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),wE=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[XP],imports:[Oi.MD,Xi.pZ,Xi.yE,Cr.z_,Aa.Gj,Xi.yE]})}return n})();const xE=["tooltip"],Yp=new g.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(Cr.hJ);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),ov={provide:Yp,deps:[Cr.hJ],useFactory:function YP(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},CE=new g.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function ZP(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),QP="tooltip-panel",SE=(0,Io.BQ)({passive:!0});let sv=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=(0,Hn.he)(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){const i=(0,Hn.he)(t);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=(0,Hn.OE)(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=(0,Hn.OE)(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){const i=this._message;this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,l,u,h,p,v,y){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=u,this._dir=p,this._defaultOptions=v,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=DE,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new ei.B,this._injector=(0,g.WQX)(g.zZn),this._scrollStrategy=h,this._document=y,v&&(this._showDelay=v.showDelay,this._hideDelay=v.hideDelay,v.position&&(this.position=v.position),v.positionAtOrigin&&(this.positionAtOrigin=v.positionAtOrigin),v.touchGestures&&(this.touchGestures=v.touchGestures),v.tooltipClass&&(this.tooltipClass=v.tooltipClass)),p.change.pipe((0,Qo.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,Qo.Q)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,SE)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new vs.A8(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe((0,Qo.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof g.aKT)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe((0,Qo.Q)(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${QP}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,Qo.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,Qo.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,Qo.Q)(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&o.keyCode===Fr._f&&!(0,Fr.rp)(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,g.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${QP}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,SE)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(Cr.hJ),g.rXU(g.aKT),g.rXU(Aa.R),g.rXU(g.c1b),g.rXU(g.SKi),g.rXU(Io.OD),g.rXU(Rr.vr),g.rXU(Rr.FN),g.rXU(Yp),g.rXU(fu.dS),g.rXU(CE,8),g.rXU(Oi.qQ))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&g.AVh("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return n})(),DE=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ei.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(g.bc$,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&g.GBs(xE,7),2&i){let o;g.mGM(o=g.lsd())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){1&i&&g.bIt("mouseleave",function(s){return r._handleMouseLeave(s)})},standalone:!0,features:[g.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(1&i){const o=g.RV6();g.j41(0,"div",1,0),g.bIt("animationend",function(a){return g.eBV(o),g.Njj(r._handleAnimationEnd(a))}),g.j41(2,"div",2),g.EFF(3),g.k0s()()}2&i&&(g.AVh("mdc-tooltip--multiline",r._isMultiline),g.Y8G("ngClass",r.tooltipClass),g.R7$(3),g.JRh(r.message))},dependencies:[Oi.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),av=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[ov],imports:[Rr.Pd,Oi.MD,Cr.z_,Xi.yE,Xi.yE,Aa.Gj]})}return n})(),OE=(()=>{class n{constructor(){this.mxSegmentedButtonDensity=0,this.mxSegmentedButtonIsWidthFixed=!1}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mat-button-toggle-group","mxSegmentedButton",""]],hostVars:8,hostBindings:function(i,r){2&i&&g.AVh("mx-width-fixed",r.mxSegmentedButtonIsWidthFixed)("mx-density--1",-1===r.mxSegmentedButtonDensity)("mx-density--2",-2===r.mxSegmentedButtonDensity)("mx-density--3",-3===r.mxSegmentedButtonDensity)},inputs:{mxSegmentedButtonDensity:"mxSegmentedButtonDensity",mxSegmentedButtonIsWidthFixed:[2,"mxSegmentedButtonIsWidthFixed","mxSegmentedButtonIsWidthFixed",g.L39]},standalone:!0,features:[g.GFd]})}return n})();var yf=function(n){return n.MONITOR="monitor",n.DESIGN="design",n}(yf||{}),Oc=function(n){return n.PAN="pan",n.SINGLE_SELECT="single-select",n.MULTI_SELECT="multi-select",n}(Oc||{}),bf=function(n){return n.ALIGN_VERTICAL="align-vertical",n.ALIGN_HORIZONTAL="align-horizontal",n.ALIGN_GRID="align-grid",n.ALIGN_CIRCLE="align-circle",n}(bf||{});function LS(n,e){if(1&n&&g.nrm(0,"img",14),2&n){g.XpG();const t=g.r8f(20);g.Y8G("src","assets/icon-pan-tool-"+t+".svg",g.B4B)}}function FS(n,e){if(1&n&&g.nrm(0,"img",15),2&n){g.XpG();const t=g.r8f(20);g.Y8G("src","assets/icon-pan-tool-"+t+".svg",g.B4B)}}function eN(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",17)(1,"button",25)(2,"div",26)(3,"div"),g.nrm(4,"img",27),g.k0s(),g.j41(5,"div")(6,"span"),g.EFF(7,"Global auto arrange"),g.k0s()()()(),g.j41(8,"mat-menu",9,1)(10,"button",10),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectAction(r.TopologyActionType.ALIGN_HORIZONTAL))}),g.j41(11,"span",11),g.nrm(12,"img",28),g.EFF(13," Align horizontally "),g.k0s()(),g.j41(14,"button",10),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectAction(r.TopologyActionType.ALIGN_VERTICAL))}),g.j41(15,"span",11),g.nrm(16,"img",29),g.EFF(17," Align vertically "),g.k0s()(),g.j41(18,"button",10),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectAction(r.TopologyActionType.ALIGN_CIRCLE))}),g.j41(19,"span",11),g.nrm(20,"img",30),g.EFF(21," Arrange in a circle "),g.k0s()(),g.j41(22,"button",10),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSelectAction(r.TopologyActionType.ALIGN_GRID))}),g.EFF(23,"Arrange in grid"),g.k0s()()()}if(2&n){const t=g.sdS(9);g.Y8G("matMenuTriggerFor",t)}}function Py(n,e){if(1&n){const t=g.RV6();g.j41(0,"div")(1,"button",31),g.bIt("click",function(){return g.eBV(t),g.Njj({})}),g.j41(2,"div",26)(3,"div")(4,"span"),g.EFF(5,"Change IP"),g.k0s()()()()(),g.j41(6,"div")(7,"button",32),g.bIt("click",function(){return g.eBV(t),g.Njj({})}),g.j41(8,"div",26)(9,"div")(10,"span"),g.EFF(11,"Reboot"),g.k0s()()()()()}}let _f=(()=>{class n{topologyMode=(0,g.hFB)();interactiveMode=(0,g.hFB)(Oc.PAN);toggleTopologyMode=(0,g.CGW)();toggleInteractiveMode=(0,g.CGW)();selectTopologyAction=(0,g.CGW)();toggleInfo=(0,g.CGW)();TopologyMode=yf;TopologyInteractiveMode=Oc;TopologyActionType=bf;isPanMode=(0,g.EWP)(()=>this.interactiveMode()===Oc.PAN);isEditMode=(0,g.EWP)(()=>this.topologyMode()===yf.DESIGN);onChangeInteractiveMode(t){this.toggleInteractiveMode.emit(t)}onSelectAction(t){this.selectTopologyAction.emit(t)}onChangeTopologyMode(t){this.toggleTopologyMode.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-toolbar"]],inputs:{topologyMode:[1,"topologyMode"],interactiveMode:[1,"interactiveMode"]},outputs:{toggleTopologyMode:"toggleTopologyMode",toggleInteractiveMode:"toggleInteractiveMode",selectTopologyAction:"selectTopologyAction",toggleInfo:"toggleInfo"},standalone:!0,features:[g.aNF],decls:36,vars:8,consts:[["selectMenu","matMenu"],["layoutMenu","matMenu"],[1,"container"],[1,"container_tool_group"],[1,"select-tool"],["title","Select tool","matTooltip","Select tool",1,"select-tool_arrow",3,"matMenuTriggerFor"],["title","Select tool",1,"img-select-tool",3,"src"],["mat-icon-button","",1,"menu-trigger"],["svgIcon","icon:arrow_drop_down",1,"select-arrow-down"],[1,"select-menu"],["mat-menu-item","",3,"click"],[1,"h-100","flex","items-center"],["title","Select tool",1,"select-image",3,"src"],["title","Pan tool","mat-icon-button","","matTooltip","Pan tool",3,"click"],["title","Pan tool",1,"img-fill-pan",3,"src"],["title","Pan tool",3,"src"],[1,"container_divider"],[1,"global-auto-arrange",3,"matMenuTriggerFor"],[1,"toggle-mode"],["mxSegmentedButton","","data-testid","mx-seg-btn-1",1,"toggle-mode_segement"],["value","monitorMode",3,"click"],["value","editMode",3,"click","checked"],[1,"info"],["title","Info","mat-icon-button","","matTooltip","Info"],["svgIcon","icon:info_outline"],["title","Global Auto Arrange","mat-button",""],[1,"text-button"],["title","Global auto arrange","src","assets/icon-global-auto-arrange.svg",1,"icon-image"],["title","Align horizontally","src","assets/icon-align-horizontally.svg",1,"select-image"],["title","Align vertically","src","assets/icon-align-vertically.svg",1,"select-image"],["title","Align in a circle","src","assets/icon-align-ring.svg",1,"select-image"],["title","Change IP","mat-button","",3,"click"],["title","Reboot","mat-button","",3,"click"]],template:function(i,r){if(1&i){const o=g.RV6();g.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),g.SS7(4),g.nrm(5,"img",6),g.j41(6,"div",7),g.nrm(7,"mat-icon",8),g.k0s()(),g.j41(8,"mat-menu",9,0)(10,"button",10),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeInteractiveMode(r.TopologyInteractiveMode.SINGLE_SELECT))}),g.j41(11,"div",11),g.nrm(12,"img",12),g.EFF(13," Single selection "),g.k0s()(),g.j41(14,"button",10),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeInteractiveMode(r.TopologyInteractiveMode.MULTI_SELECT))}),g.j41(15,"div",11),g.nrm(16,"img",12),g.EFF(17," Multiple selection "),g.k0s()()()(),g.j41(18,"div")(19,"button",13),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeInteractiveMode(r.TopologyInteractiveMode.PAN))}),g.SS7(20),g.DNE(21,LS,1,1,"img",14)(22,FS,1,1,"img",15),g.k0s()()(),g.nrm(23,"div",16),g.j41(24,"div",3),g.DNE(25,eN,24,1,"div",17)(26,Py,12,0),g.k0s(),g.j41(27,"div",18)(28,"mat-button-toggle-group",19)(29,"mat-button-toggle",20),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeTopologyMode(r.TopologyMode.MONITOR))}),g.EFF(30,"Monitor Mode"),g.k0s(),g.j41(31,"mat-button-toggle",21),g.bIt("click",function(){return g.eBV(o),g.Njj(r.onChangeTopologyMode(r.TopologyMode.DESIGN))}),g.EFF(32,"Design mode"),g.k0s()()(),g.j41(33,"div",22)(34,"button",23),g.nrm(35,"mat-icon",24),g.k0s()()()}if(2&i){const o=g.sdS(9);g.R7$(3),g.Y8G("matMenuTriggerFor",o);const s=r.isPanMode()?"stroke":"fill";g.R7$(2),g.Y8G("src","assets/icon-single-select-tool-"+s+".svg",g.B4B),g.R7$(7),g.Y8G("src","assets/icon-single-select-tool-fill-black.svg",g.B4B),g.R7$(4),g.Y8G("src","assets/icon-multiple-select-tool-fill-black.svg",g.B4B),g.R7$(4),g.bH3(r.isPanMode()?"fill":"stroke"),g.R7$(),g.vxM(r.isPanMode()?21:22),g.R7$(4),g.vxM(r.topologyMode()===r.TopologyMode.DESIGN?25:r.topologyMode()===r.TopologyMode.MONITOR?26:-1),g.R7$(6),g.Y8G("checked",r.isEditMode())}},dependencies:[Ai.Hl,Ai.$z,Ai.iY,Ty,Oy,iv,ea.m_,ea.An,wE,Xp,hd,RS,OE,av,sv],styles:[".container[_ngcontent-%COMP%]{width:100%;height:52px;background-color:#e0e3e2;display:flex;justify-content:space-between;align-items:center}.container_divider[_ngcontent-%COMP%]{width:1px;height:32px;background-color:#bec9c8}.container_tool_group[_ngcontent-%COMP%]{display:flex;align-items:center}.container[_ngcontent-%COMP%]   .icon-image[_ngcontent-%COMP%]{width:16.5px;height:16.5px;vertical-align:middle}.container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;vertical-align:middle}.container[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{display:flex;align-items:center}.toggle-mode[_ngcontent-%COMP%]{margin-left:auto}.toggle-mode_segement[_ngcontent-%COMP%]{height:36px}.text-button[_ngcontent-%COMP%]{display:flex;align-items:center}.text-button[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 4px;text-wrap:nowrap}.text-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:24px;vertical-align:middle}.info[_ngcontent-%COMP%]{margin-right:10px}.select-tool[_ngcontent-%COMP%]{cursor:pointer}.select-tool_arrow[_ngcontent-%COMP%]{width:48px;margin-left:8px;display:flex;align-items:center;justify-content:center}.select-tool_arrow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle}.select-tool_arrow[_ngcontent-%COMP%]   .menu-trigger[_ngcontent-%COMP%]{height:52px;display:flex;align-items:center;padding-left:5px}.select-tool_arrow[_ngcontent-%COMP%]   .select-arrow-down[_ngcontent-%COMP%]{width:24px;height:24px}.select-image[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:16px}.global-auto-arrange[_ngcontent-%COMP%]{height:52px;display:flex;align-items:center}.img-fill-pan[_ngcontent-%COMP%]{width:32px!important;height:32px!important;position:relative;top:-4px;left:-4px}"],changeDetection:0})}return n})();var wl=P(6994),BS=Object.defineProperty,gi=(n,e,t)=>(((n,e,t)=>{e in n?BS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t})(n,"symbol"!=typeof e?e+"":e,t),t),dh=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)},uo=(n,e,t)=>(dh(n,e,"read from private field"),t?t.call(n):e.get(n)),VS=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},Ny=(n,e,t,i)=>(dh(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Ly=(n,e,t)=>(dh(n,e,"access private method"),t);function hh(n){return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function lv(n){var e=function zS(n,e){if("object"!=hh(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=hh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==hh(e)?e:e+""}function zn(n,e,t){return(e=lv(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function nr(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?TE(Object(t),!0).forEach(function(i){zn(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TE(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function un(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function AE(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,lv(i.key),i)}}function fn(n,e,t){return e&&AE(n.prototype,e),t&&AE(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kE(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function IE(n,e){if(n){if("string"==typeof n)return kE(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kE(n,e):void 0}}function pa(n){return function nN(n){if(Array.isArray(n))return kE(n)}(n)||function US(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||IE(n)||function GS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zp(n){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}function iN(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iN=function(){return!!n})()}function Ei(n,e,t){return e=Zp(e),function $S(n,e){if(e&&("object"==hh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function HS(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}(n,iN()?Reflect.construct(e,t||[],Zp(n).constructor):e.apply(n,t))}function WS(n,e){return(WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}function zi(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&WS(n,e)}function Ui(n,e){return function uU(n){if(Array.isArray(n))return n}(n)||function KS(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(h){u=!0,r=h}finally{try{if(!l&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}(n,e)||IE(n,e)||function dU(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function fh(n){if(n.__esModule)return n;var e=n.default;if("function"==typeof e){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var XS={exports:{}};!function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}function r(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function o(l,u,h,p,v){if("function"!=typeof h)throw new TypeError("The listener must be a function");var y=new r(h,p||l,v),b=t?t+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function s(l,u){0==--l._eventsCount?l._events=new i:delete l._events[u]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(t=!1)),a.prototype.eventNames=function(){var u,h,l=[];if(0===this._eventsCount)return l;for(h in u=this._events)e.call(u,h)&&l.push(t?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var h=this._events[t?t+l:l];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,v=h.length,y=new Array(v);p<v;p++)y[p]=h[p].fn;return y},a.prototype.listenerCount=function(l){var h=this._events[t?t+l:l];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,u,h,p,v,y){var b=t?t+l:l;if(!this._events[b])return!1;var S,C,E=this._events[b],w=arguments.length;if(E.fn){switch(E.once&&this.removeListener(l,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,u),!0;case 3:return E.fn.call(E.context,u,h),!0;case 4:return E.fn.call(E.context,u,h,p),!0;case 5:return E.fn.call(E.context,u,h,p,v),!0;case 6:return E.fn.call(E.context,u,h,p,v,y),!0}for(C=1,S=new Array(w-1);C<w;C++)S[C-1]=arguments[C];E.fn.apply(E.context,S)}else{var k,D=E.length;for(C=0;C<D;C++)switch(E[C].once&&this.removeListener(l,E[C].fn,void 0,!0),w){case 1:E[C].fn.call(E[C].context);break;case 2:E[C].fn.call(E[C].context,u);break;case 3:E[C].fn.call(E[C].context,u,h);break;case 4:E[C].fn.call(E[C].context,u,h,p);break;default:if(!S)for(k=1,S=new Array(w-1);k<w;k++)S[k-1]=arguments[k];E[C].fn.apply(E[C].context,S)}}return!0},a.prototype.on=function(l,u,h){return o(this,l,u,h,!1)},a.prototype.once=function(l,u,h){return o(this,l,u,h,!0)},a.prototype.removeListener=function(l,u,h,p){var v=t?t+l:l;if(!this._events[v])return this;if(!u)return s(this,v),this;var y=this._events[v];if(y.fn)y.fn===u&&(!p||y.once)&&(!h||y.context===h)&&s(this,v);else{for(var b=0,E=[],w=y.length;b<w;b++)(y[b].fn!==u||p&&!y[b].once||h&&y[b].context!==h)&&E.push(y[b]);E.length?this._events[v]=1===E.length?E[0]:E:s(this,v)}return this},a.prototype.removeAllListeners=function(l){var u;return l?this._events[u=t?t+l:l]&&s(this,u):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a}(XS);const YS=pd(XS.exports);var Ro=1e-6,no=typeof Float32Array<"u"?Float32Array:Array;function cv(){var n=new no(9);return no!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function RE(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],h=e[7],p=e[8],v=t[0],y=t[1],b=t[2],E=t[3],w=t[4],S=t[5],C=t[6],D=t[7],k=t[8];return n[0]=v*i+y*s+b*u,n[1]=v*r+y*a+b*h,n[2]=v*o+y*l+b*p,n[3]=E*i+w*s+S*u,n[4]=E*r+w*a+S*h,n[5]=E*o+w*l+S*p,n[6]=C*i+D*s+k*u,n[7]=C*r+D*a+k*h,n[8]=C*o+D*l+k*p,n}function ji(){var n=new no(16);return no!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0),n[0]=1,n[5]=1,n[10]=1,n[15]=1,n}function qS(n){var e=new no(16);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}function ph(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function JS(n,e,t,i,r,o,s,a,l,u,h,p,v,y,b,E){var w=new no(16);return w[0]=n,w[1]=e,w[2]=t,w[3]=i,w[4]=r,w[5]=o,w[6]=s,w[7]=a,w[8]=l,w[9]=u,w[10]=h,w[11]=p,w[12]=v,w[13]=y,w[14]=b,w[15]=E,w}function NE(n,e,t,i,r,o,s,a,l,u,h,p,v,y,b,E,w){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=o,n[5]=s,n[6]=a,n[7]=l,n[8]=u,n[9]=h,n[10]=p,n[11]=v,n[12]=y,n[13]=b,n[14]=E,n[15]=w,n}function vu(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function LE(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15];return n}function xl(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],h=e[8],p=e[9],v=e[10],y=e[11],b=e[12],E=e[13],w=e[14],S=e[15],C=t*a-i*s,D=t*l-r*s,k=t*u-o*s,T=i*l-r*a,I=i*u-o*a,F=r*u-o*l,z=h*E-p*b,V=h*w-v*b,K=h*S-y*b,Y=p*w-v*E,Q=p*S-y*E,at=v*S-y*w,It=C*at-D*Q+k*Y+T*K-I*V+F*z;return It?(n[0]=(a*at-l*Q+u*Y)*(It=1/It),n[1]=(r*Q-i*at-o*Y)*It,n[2]=(E*F-w*I+S*T)*It,n[3]=(v*I-p*F-y*T)*It,n[4]=(l*K-s*at-u*V)*It,n[5]=(t*at-r*K+o*V)*It,n[6]=(w*k-b*F-S*D)*It,n[7]=(h*F-v*k+y*D)*It,n[8]=(s*Q-a*K+u*z)*It,n[9]=(i*K-t*Q-o*z)*It,n[10]=(b*I-E*k+S*C)*It,n[11]=(p*k-h*I-y*C)*It,n[12]=(a*V-s*Y-l*z)*It,n[13]=(t*Y-i*V+r*z)*It,n[14]=(E*D-b*T-w*C)*It,n[15]=(h*T-p*D+v*C)*It,n):null}function tD(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],l=n[7],u=n[8],h=n[9],p=n[10],v=n[11],y=n[12],b=n[13],E=n[14],w=n[15];return(e*s-t*o)*(p*w-v*E)-(e*a-i*o)*(h*w-v*b)+(e*l-r*o)*(h*E-p*b)+(t*a-i*s)*(u*w-v*y)-(t*l-r*s)*(u*E-p*y)+(i*l-r*a)*(u*b-h*y)}function ma(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],h=e[7],p=e[8],v=e[9],y=e[10],b=e[11],E=e[12],w=e[13],S=e[14],C=e[15],D=t[0],k=t[1],T=t[2],I=t[3];return n[0]=D*i+k*a+T*p+I*E,n[1]=D*r+k*l+T*v+I*w,n[2]=D*o+k*u+T*y+I*S,n[3]=D*s+k*h+T*b+I*C,n[4]=(D=t[4])*i+(k=t[5])*a+(T=t[6])*p+(I=t[7])*E,n[5]=D*r+k*l+T*v+I*w,n[6]=D*o+k*u+T*y+I*S,n[7]=D*s+k*h+T*b+I*C,n[8]=(D=t[8])*i+(k=t[9])*a+(T=t[10])*p+(I=t[11])*E,n[9]=D*r+k*l+T*v+I*w,n[10]=D*o+k*u+T*y+I*S,n[11]=D*s+k*h+T*b+I*C,n[12]=(D=t[12])*i+(k=t[13])*a+(T=t[14])*p+(I=t[15])*E,n[13]=D*r+k*l+T*v+I*w,n[14]=D*o+k*u+T*y+I*S,n[15]=D*s+k*h+T*b+I*C,n}function wf(n,e,t){var s,a,l,u,h,p,v,y,b,E,w,S,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],l=e[2],u=e[3],h=e[4],p=e[5],v=e[6],y=e[7],b=e[8],E=e[9],w=e[10],S=e[11],n[0]=s=e[0],n[1]=a,n[2]=l,n[3]=u,n[4]=h,n[5]=p,n[6]=v,n[7]=y,n[8]=b,n[9]=E,n[10]=w,n[11]=S,n[12]=s*i+h*r+b*o+e[12],n[13]=a*i+p*r+E*o+e[13],n[14]=l*i+v*r+w*o+e[14],n[15]=u*i+y*r+S*o+e[15]),n}function eD(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function nD(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],l=e[7],u=e[8],h=e[9],p=e[10],v=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+u*i,n[5]=s*r+h*i,n[6]=a*r+p*i,n[7]=l*r+v*i,n[8]=u*r-o*i,n[9]=h*r-s*i,n[10]=p*r-a*i,n[11]=v*r-l*i,n}function BE(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],l=e[3],u=e[8],h=e[9],p=e[10],v=e[11];return e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-u*i,n[1]=s*r-h*i,n[2]=a*r-p*i,n[3]=l*r-v*i,n[8]=o*i+u*r,n[9]=s*i+h*r,n[10]=a*i+p*r,n[11]=l*i+v*r,n}function mh(n,e){return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=e[0],n[13]=e[1],n[14]=e[2],n[15]=1,n}function gh(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function iD(n,e,t){var a,l,u,i=t[0],r=t[1],o=t[2],s=Math.hypot(i,r,o);return s<Ro?null:(i*=s=1/s,r*=s,o*=s,a=Math.sin(e),l=Math.cos(e),n[0]=i*i*(u=1-l)+l,n[1]=r*i*u+o*a,n[2]=o*i*u-r*a,n[3]=0,n[4]=i*r*u-o*a,n[5]=r*r*u+l,n[6]=o*r*u+i*a,n[7]=0,n[8]=i*o*u+r*a,n[9]=r*o*u-i*a,n[10]=o*o*u+l,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n)}function rD(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=i,n[6]=t,n[7]=0,n[8]=0,n[9]=-t,n[10]=i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function oD(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=0,n[2]=-t,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=t,n[9]=0,n[10]=i,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function vh(n,e){var t=Math.sin(e),i=Math.cos(e);return n[0]=i,n[1]=t,n[2]=0,n[3]=0,n[4]=-t,n[5]=i,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Qp(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=i+i,l=r+r,u=o+o,h=i*a,p=i*l,v=i*u,y=r*l,b=r*u,E=o*u,w=s*a,S=s*l,C=s*u;return n[0]=1-(y+E),n[1]=p+C,n[2]=v-S,n[3]=0,n[4]=p-C,n[5]=1-(h+E),n[6]=b+w,n[7]=0,n[8]=v+S,n[9]=b-w,n[10]=1-(h+y),n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}function By(n,e){return n[0]=e[12],n[1]=e[13],n[2]=e[14],n}function gd(n,e){var o=e[4],s=e[5],a=e[6],l=e[8],u=e[9],h=e[10];return n[0]=Math.hypot(e[0],e[1],e[2]),n[1]=Math.hypot(o,s,a),n[2]=Math.hypot(l,u,h),n}function yh(n,e){var t=new no(3);gd(t,e);var i=1/t[0],r=1/t[1],o=1/t[2],s=e[0]*i,a=e[1]*r,l=e[2]*o,u=e[4]*i,h=e[5]*r,p=e[6]*o,v=e[8]*i,y=e[9]*r,b=e[10]*o,E=s+h+b,w=0;return E>0?(w=2*Math.sqrt(E+1),n[3]=.25*w,n[0]=(p-y)/w,n[1]=(v-l)/w,n[2]=(a-u)/w):s>h&&s>b?(w=2*Math.sqrt(1+s-h-b),n[3]=(p-y)/w,n[0]=.25*w,n[1]=(a+u)/w,n[2]=(v+l)/w):h>b?(w=2*Math.sqrt(1+h-s-b),n[3]=(v-l)/w,n[0]=(a+u)/w,n[1]=.25*w,n[2]=(p+y)/w):(w=2*Math.sqrt(1+b-s-h),n[3]=(a-u)/w,n[0]=(v+l)/w,n[1]=(p+y)/w,n[2]=.25*w),n}function xf(n,e,t,i,r){var o=e[0],s=e[1],a=e[2],l=e[3],u=o+o,h=s+s,p=a+a,v=o*u,y=o*h,b=o*p,E=s*h,w=s*p,S=a*p,C=l*u,D=l*h,k=l*p,T=i[0],I=i[1],F=i[2],z=r[0],V=r[1],K=r[2],Y=(1-(E+S))*T,Q=(y+k)*T,at=(b-D)*T,It=(y-k)*I,Pt=(1-(v+S))*I,ct=(w+C)*I,ot=(b+D)*F,rt=(w-C)*F,Nt=(1-(v+E))*F;return n[0]=Y,n[1]=Q,n[2]=at,n[3]=0,n[4]=It,n[5]=Pt,n[6]=ct,n[7]=0,n[8]=ot,n[9]=rt,n[10]=Nt,n[11]=0,n[12]=t[0]+z-(Y*z+It*V+ot*K),n[13]=t[1]+V-(Q*z+Pt*V+rt*K),n[14]=t[2]+K-(at*z+ct*V+Nt*K),n[15]=1,n}function jy(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,l=r+r,u=t*s,h=i*s,p=i*a,v=r*s,y=r*a,b=r*l,E=o*s,w=o*a,S=o*l;return n[0]=1-p-b,n[1]=h+S,n[2]=v-w,n[3]=0,n[4]=h-S,n[5]=1-u-b,n[6]=y+E,n[7]=0,n[8]=v+w,n[9]=y-E,n[10]=1-u-p,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function qp(n,e,t,i,r){var s,o=1/Math.tan(e/2);return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i),n}function lD(n,e,t,i,r,o,s){var a=1/(e-t),l=1/(i-r),u=1/(o-s);return n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*u,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*l,n[14]=(s+o)*u,n[15]=1,n}Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});var cD=lD;function VE(n,e,t,i,r,o,s){var a=1/(e-t),l=1/(i-r),u=1/(o-s);return n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*l,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=u,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*l,n[14]=o*u,n[15]=1,n}function Vy(n,e,t,i){var r,o,s,a,l,u,h,p,v,y,b=e[0],E=e[1],w=e[2],S=i[0],C=i[1],D=i[2],k=t[0],T=t[1],I=t[2];return Math.abs(b-k)<Ro&&Math.abs(E-T)<Ro&&Math.abs(w-I)<Ro?vu(n):(h=b-k,p=E-T,v=w-I,r=C*(v*=y=1/Math.hypot(h,p,v))-D*(p*=y),o=D*(h*=y)-S*v,s=S*p-C*h,(y=Math.hypot(r,o,s))?(r*=y=1/y,o*=y,s*=y):(r=0,o=0,s=0),a=p*s-v*o,l=v*r-h*s,u=h*o-p*r,(y=Math.hypot(a,l,u))?(a*=y=1/y,l*=y,u*=y):(a=0,l=0,u=0),n[0]=r,n[1]=a,n[2]=h,n[3]=0,n[4]=o,n[5]=l,n[6]=p,n[7]=0,n[8]=s,n[9]=u,n[10]=v,n[11]=0,n[12]=-(r*b+o*E+s*w),n[13]=-(a*b+l*E+u*w),n[14]=-(h*b+p*E+v*w),n[15]=1,n)}function dv(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n}var UE=ma;const lN=Object.freeze(Object.defineProperty({__proto__:null,add:function uD(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},adjoint:function FE(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],h=e[8],p=e[9],v=e[10],y=e[11],b=e[12],E=e[13],w=e[14],S=e[15];return n[0]=a*(v*S-y*w)-p*(l*S-u*w)+E*(l*y-u*v),n[1]=-(i*(v*S-y*w)-p*(r*S-o*w)+E*(r*y-o*v)),n[2]=i*(l*S-u*w)-a*(r*S-o*w)+E*(r*u-o*l),n[3]=-(i*(l*y-u*v)-a*(r*y-o*v)+p*(r*u-o*l)),n[4]=-(s*(v*S-y*w)-h*(l*S-u*w)+b*(l*y-u*v)),n[5]=t*(v*S-y*w)-h*(r*S-o*w)+b*(r*y-o*v),n[6]=-(t*(l*S-u*w)-s*(r*S-o*w)+b*(r*u-o*l)),n[7]=t*(l*y-u*v)-s*(r*y-o*v)+h*(r*u-o*l),n[8]=s*(p*S-y*E)-h*(a*S-u*E)+b*(a*y-u*p),n[9]=-(t*(p*S-y*E)-h*(i*S-o*E)+b*(i*y-o*p)),n[10]=t*(a*S-u*E)-s*(i*S-o*E)+b*(i*u-o*a),n[11]=-(t*(a*y-u*p)-s*(i*y-o*p)+h*(i*u-o*a)),n[12]=-(s*(p*w-v*E)-h*(a*w-l*E)+b*(a*v-l*p)),n[13]=t*(p*w-v*E)-h*(i*w-r*E)+b*(i*v-r*p),n[14]=-(t*(a*w-l*E)-s*(i*w-r*E)+b*(i*l-r*a)),n[15]=t*(a*v-l*p)-s*(i*v-r*p)+h*(i*l-r*a),n},clone:qS,copy:ph,create:ji,determinant:tD,equals:function Jp(n,e){var t=n[0],i=n[1],r=n[2],o=n[3],s=n[4],a=n[5],l=n[6],u=n[7],h=n[8],p=n[9],v=n[10],y=n[11],b=n[12],E=n[13],w=n[14],S=n[15],C=e[0],D=e[1],k=e[2],T=e[3],I=e[4],F=e[5],z=e[6],V=e[7],K=e[8],Y=e[9],Q=e[10],at=e[11],It=e[12],Pt=e[13],ct=e[14],ot=e[15];return Math.abs(t-C)<=Ro*Math.max(1,Math.abs(t),Math.abs(C))&&Math.abs(i-D)<=Ro*Math.max(1,Math.abs(i),Math.abs(D))&&Math.abs(r-k)<=Ro*Math.max(1,Math.abs(r),Math.abs(k))&&Math.abs(o-T)<=Ro*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-I)<=Ro*Math.max(1,Math.abs(s),Math.abs(I))&&Math.abs(a-F)<=Ro*Math.max(1,Math.abs(a),Math.abs(F))&&Math.abs(l-z)<=Ro*Math.max(1,Math.abs(l),Math.abs(z))&&Math.abs(u-V)<=Ro*Math.max(1,Math.abs(u),Math.abs(V))&&Math.abs(h-K)<=Ro*Math.max(1,Math.abs(h),Math.abs(K))&&Math.abs(p-Y)<=Ro*Math.max(1,Math.abs(p),Math.abs(Y))&&Math.abs(v-Q)<=Ro*Math.max(1,Math.abs(v),Math.abs(Q))&&Math.abs(y-at)<=Ro*Math.max(1,Math.abs(y),Math.abs(at))&&Math.abs(b-It)<=Ro*Math.max(1,Math.abs(b),Math.abs(It))&&Math.abs(E-Pt)<=Ro*Math.max(1,Math.abs(E),Math.abs(Pt))&&Math.abs(w-ct)<=Ro*Math.max(1,Math.abs(w),Math.abs(ct))&&Math.abs(S-ot)<=Ro*Math.max(1,Math.abs(S),Math.abs(ot))},exactEquals:function ga(n,e){return n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]&&n[3]===e[3]&&n[4]===e[4]&&n[5]===e[5]&&n[6]===e[6]&&n[7]===e[7]&&n[8]===e[8]&&n[9]===e[9]&&n[10]===e[10]&&n[11]===e[11]&&n[12]===e[12]&&n[13]===e[13]&&n[14]===e[14]&&n[15]===e[15]},frob:function zE(n){return Math.hypot(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])},fromQuat:jy,fromQuat2:function sD(n,e){var t=new no(3),i=-e[0],r=-e[1],o=-e[2],s=e[3],a=e[4],l=e[5],u=e[6],h=e[7],p=i*i+r*r+o*o+s*s;return p>0?(t[0]=2*(a*s+h*i+l*o-u*r)/p,t[1]=2*(l*s+h*r+u*i-a*o)/p,t[2]=2*(u*s+h*o+a*r-l*i)/p):(t[0]=2*(a*s+h*i+l*o-u*r),t[1]=2*(l*s+h*r+u*i-a*o),t[2]=2*(u*s+h*o+a*r-l*i)),Qp(n,e,t),n},fromRotation:iD,fromRotationTranslation:Qp,fromRotationTranslationScale:function oN(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3],l=r+r,u=o+o,h=s+s,p=r*l,v=r*u,y=r*h,b=o*u,E=o*h,w=s*h,S=a*l,C=a*u,D=a*h,k=i[0],T=i[1],I=i[2];return n[0]=(1-(b+w))*k,n[1]=(v+D)*k,n[2]=(y-C)*k,n[3]=0,n[4]=(v-D)*T,n[5]=(1-(p+w))*T,n[6]=(E+S)*T,n[7]=0,n[8]=(y+C)*I,n[9]=(E-S)*I,n[10]=(1-(p+b))*I,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n},fromRotationTranslationScaleOrigin:xf,fromScaling:gh,fromTranslation:mh,fromValues:JS,fromXRotation:rD,fromYRotation:oD,fromZRotation:vh,frustum:function uv(n,e,t,i,r,o,s){var a=1/(t-e),l=1/(r-i),u=1/(o-s);return n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*l,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*l,n[10]=(s+o)*u,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*u,n[15]=0,n},getRotation:yh,getScaling:gd,getTranslation:By,identity:vu,invert:xl,lookAt:Vy,mul:UE,multiply:ma,multiplyScalar:function fU(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},multiplyScalarAndAdd:function pU(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n[2]=e[2]+t[2]*i,n[3]=e[3]+t[3]*i,n[4]=e[4]+t[4]*i,n[5]=e[5]+t[5]*i,n[6]=e[6]+t[6]*i,n[7]=e[7]+t[7]*i,n[8]=e[8]+t[8]*i,n[9]=e[9]+t[9]*i,n[10]=e[10]+t[10]*i,n[11]=e[11]+t[11]*i,n[12]=e[12]+t[12]*i,n[13]=e[13]+t[13]*i,n[14]=e[14]+t[14]*i,n[15]=e[15]+t[15]*i,n},ortho:cD,orthoNO:lD,orthoZO:VE,perspective:qp,perspectiveFromFieldOfView:function sN(n,e,t,i){var r=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(s+a),u=2/(r+o);return n[0]=l,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=u,n[6]=0,n[7]=0,n[8]=-(s-a)*l*.5,n[9]=(r-o)*u*.5,n[10]=i/(t-i),n[11]=-1,n[12]=0,n[13]=0,n[14]=i*t/(t-i),n[15]=0,n},perspectiveNO:qp,perspectiveZO:function jE(n,e,t,i,r){var s,o=1/Math.tan(e/2);return n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=r*(s=1/(i-r)),n[14]=r*i*s):(n[10]=-1,n[14]=-i),n},rotate:function md(n,e,t,i){var l,u,h,p,v,y,b,E,w,S,C,D,k,T,I,F,z,V,K,Y,Q,at,It,Pt,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);return a<Ro?null:(r*=a=1/a,o*=a,s*=a,l=Math.sin(t),u=Math.cos(t),v=e[1],y=e[2],b=e[3],w=e[5],S=e[6],C=e[7],k=e[9],T=e[10],I=e[11],K=r*o*(h=1-u)-s*l,Y=o*o*h+u,Q=s*o*h+r*l,at=r*s*h+o*l,It=o*s*h-r*l,Pt=s*s*h+u,n[0]=(p=e[0])*(F=r*r*h+u)+(E=e[4])*(z=o*r*h+s*l)+(D=e[8])*(V=s*r*h-o*l),n[1]=v*F+w*z+k*V,n[2]=y*F+S*z+T*V,n[3]=b*F+C*z+I*V,n[4]=p*K+E*Y+D*Q,n[5]=v*K+w*Y+k*Q,n[6]=y*K+S*Y+T*Q,n[7]=b*K+C*Y+I*Q,n[8]=p*at+E*It+D*Pt,n[9]=v*at+w*It+k*Pt,n[10]=y*at+S*It+T*Pt,n[11]=b*at+C*It+I*Pt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n)},rotateX:nD,rotateY:BE,rotateZ:function hU(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],l=e[3],u=e[4],h=e[5],p=e[6],v=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+u*i,n[1]=s*r+h*i,n[2]=a*r+p*i,n[3]=l*r+v*i,n[4]=u*r-o*i,n[5]=h*r-s*i,n[6]=p*r-a*i,n[7]=v*r-l*i,n},scale:eD,set:NE,str:function tl(n){return"mat4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+", "+n[4]+", "+n[5]+", "+n[6]+", "+n[7]+", "+n[8]+", "+n[9]+", "+n[10]+", "+n[11]+", "+n[12]+", "+n[13]+", "+n[14]+", "+n[15]+")"},sub:dv,subtract:dv,targetTo:function aN(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=i[0],l=i[1],u=i[2],h=r-t[0],p=o-t[1],v=s-t[2],y=h*h+p*p+v*v;y>0&&(h*=y=1/Math.sqrt(y),p*=y,v*=y);var b=l*v-u*p,E=u*h-a*v,w=a*p-l*h;return(y=b*b+E*E+w*w)>0&&(b*=y=1/Math.sqrt(y),E*=y,w*=y),n[0]=b,n[1]=E,n[2]=w,n[3]=0,n[4]=p*w-v*E,n[5]=v*b-h*w,n[6]=h*E-p*b,n[7]=0,n[8]=h,n[9]=p,n[10]=v,n[11]=0,n[12]=r,n[13]=o,n[14]=s,n[15]=1,n},translate:wf,transpose:LE},Symbol.toStringTag,{value:"Module"}));function hr(){var n=new no(3);return no!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function vd(n){var e=new no(3);return e[0]=n[0],e[1]=n[1],e[2]=n[2],e}function yu(n){return Math.hypot(n[0],n[1],n[2])}function Br(n,e,t){var i=new no(3);return i[0]=n,i[1]=e,i[2]=t,i}function Tc(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function va(n,e,t,i){return n[0]=e,n[1]=t,n[2]=i,n}function bh(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function GE(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function hv(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function _h(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o,n}function Ac(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Uy(n,e,t,i){var r=e[0],o=e[1],s=e[2];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n}function Ko(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function pv(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2];return Math.abs(t-o)<=Ro*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(i-s)<=Ro*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-a)<=Ro*Math.max(1,Math.abs(r),Math.abs(a))}var pD=GE,hN=function zy(n,e){return Math.hypot(e[0]-n[0],e[1]-n[1],e[2]-n[2])},HE=yu;function bu(){var n=new no(4);return no!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function mv(n,e,t,i){var r=new no(4);return r[0]=n,r[1]=e,r[2]=t,r[3]=i,r}function kc(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}function ks(){var n=new no(4);return no!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function Ra(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function Ic(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],l=t[1],u=t[2],h=t[3];return n[0]=i*h+s*a+r*u-o*l,n[1]=r*h+s*l+o*a-i*u,n[2]=o*h+s*u+i*l-r*a,n[3]=s*h-i*a-r*l-o*u,n}function Gy(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;return n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a,n}function WE(n,e,t,i){var r=.5*Math.PI/180;e*=r,t*=r,i*=r;var o=Math.sin(e),s=Math.cos(e),a=Math.sin(t),l=Math.cos(t),u=Math.sin(i),h=Math.cos(i);return n[0]=o*l*h-s*a*u,n[1]=s*a*h+o*l*u,n[2]=s*l*u-o*a*h,n[3]=s*l*h+o*a*u,n}hr(),bu();var pN=mv,$y=function mU(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n},gD=function fN(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n},vD=Ic,KE=function mD(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n};function yD(){var n=new no(2);return no!=Float32Array&&(n[0]=0,n[1]=0),n}function Xy(n){return[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]}function Cf(n){var e=Math.round(n).toString(16);return 1===e.length?"0".concat(e):e}function gv(n){return"#".concat(Cf(n[0])).concat(Cf(n[1])).concat(Cf(n[2]))}hr(),Br(1,0,0),Br(0,1,0),ks(),ks(),cv(),yD();var Is=function(n){return null!==n&&"function"!=typeof n&&isFinite(n.length)},em=function(n,e){return!!Is(n)&&n.indexOf(e)>-1},vv=function(n,e){if(!Is(n))return n;for(var t=[],i=0;i<n.length;i++){var r=n[i];e(r,i)&&t.push(r)}return t},nm=function(n,e){return void 0===e&&(e=[]),vv(n,function(t){return!em(e,t)})};function $n(n){return"function"==typeof n}function Ri(n){return null==n}function Hi(n){return Array.isArray(n)}const Dr=function(n){var e=typeof n;return null!==n&&"object"===e||"function"===e};function im(n,e){if(n)if(Hi(n))for(var i=0,r=n.length;i<r&&!1!==e(n[i],i);i++);else if(Dr(n))for(var o in n)if(n.hasOwnProperty(o)&&!1===e(n[o],o))break}var ZE=Object.keys?function(n){return Object.keys(n)}:function(n){var e=[];return im(n,function(t,i){$n(n)&&"prototype"===i||e.push(i)}),e};function bD(n,e){var t=ZE(e),i=t.length;if(Ri(n))return!i;for(var r=0;r<i;r+=1){var o=t[r];if(e[o]!==n[o]||!(o in n))return!1}return!0}var Yy=function(n){return"object"==typeof n&&null!==n},QE={}.toString,Mf=function(n,e){return QE.call(n)==="[object "+e+"]"},Eh=function(n){if(!Yy(n)||!Mf(n,"Object"))return!1;if(null===Object.getPrototypeOf(n))return!0;for(var e=n;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e},ED=function(n,e){if(void 0===e&&(e=[]),Hi(n))for(var t=0;t<n.length;t+=1)ED(n[t],e);else e.push(n);return e};function bv(n){if(!Array.isArray(n))return-1/0;var e=n.length;if(!e)return-1/0;for(var t=n[0],i=1;i<e;i++)t=Math.max(t,n[i]);return t}const _v=function(n){if(Hi(n))return n.reduce(function(e,t){return Math.min(e,t)},n[0])};var wD=Array.prototype,Zy=wD.splice,JE=wD.indexOf,vN=Array.prototype.splice,tw=function(n,e){if(!Is(n))return[];for(var t=n?e.length:0,i=t-1;t--;){var r=void 0,o=e[t];(t===i||o!==r)&&(r=o,vN.call(n,o,1))}return n},Qy=function(n,e,t){if(!Hi(n)&&!Eh(n))return n;var i=t;return im(n,function(r,o){i=e(i,r,o)}),i};function Li(n){return"string"==typeof n}function rm(n,e){void 0===e&&(e=new Map);var t=[];if(Array.isArray(n))for(var i=0,r=n.length;i<r;i++){var o=n[i];e.has(o)||(t.push(o),e.set(o,!0))}return t}var yN=Object.prototype.hasOwnProperty;function sm(n,e){if(!e||!Hi(n))return{};for(var r,t={},i=$n(e)?e:function(a){return a[e]},o=0;o<n.length;o++){var s=n[o];r=i(s),yN.call(t,r)?t[r].push(s):t[r]=[s]}return t}function bN(n,e){if(!e)return{0:n};if(!$n(e)){var t=Hi(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var r="_",o=0,s=t.length;o<s;o++)r+=i[t[o]]&&i[t[o]].toString();return r}}return sm(n,e)}var rw={},Mo=function(n,e,t){return n<e?e:n>t?t:n};function Zn(n){return"number"==typeof n}var xN=1e-5;function lm(n,e,t){return void 0===t&&(t=xN),n===e||Math.abs(n-e)<t}const ID=function(n,e){if(Hi(n)){for(var t,i=-1/0,r=0;r<n.length;r++){var o=n[r],s=$n(e)?e(o):o[e];s>i&&(t=o,i=s)}return t}},RD=function(n,e){if(Hi(n)){for(var t,i=1/0,r=0;r<n.length;r++){var o=n[r],s=$n(e)?e(o):o[e];s<i&&(t=o,i=s)}return t}};var tb=function(n,e){return(n%e+e)%e},SN=180/Math.PI;const ON=parseInt;var TN=Math.PI/180;const rc=function(n,e){return n.hasOwnProperty(e)};var cm=Object.values?function(n){return Object.values(n)}:function(n){var e=[];return im(n,function(t,i){$n(n)&&"prototype"===i||e.push(t)}),e};const um=function(n){return Ri(n)?"":n.toString()};var AN=function(n){var e=um(n);return e.charAt(0).toLowerCase()+e.substring(1)};function kN(n,e){return n&&e?n.replace(/\\?\{([^{}]+)\}/g,function(t,i){return"\\"===t.charAt(0)?t.slice(1):void 0===e[i]?"":e[i]}):n}var Df=function(n){var e=um(n);return e.charAt(0).toUpperCase()+e.substring(1)},ow={}.toString,IN=function(n){return ow.call(n).replace(/^\[object /,"").replace(/]$/,"")},dm=function(n){return Mf(n,"Boolean")};function LD(n){return n instanceof Date}function FD(n){return null===n}var NN=Object.prototype,sw=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||NN)},vi=function(n){return void 0===n};function ib(n,e){for(var t in e)e.hasOwnProperty(t)&&"constructor"!==t&&void 0!==e[t]&&(n[t]=e[t])}function wh(n,e,t,i){return e&&ib(n,e),t&&ib(n,t),i&&ib(n,i),n}var Pa=function(n){if("object"!=typeof n||null===n)return n;var e;if(Hi(n)){e=[];for(var t=0,i=n.length;t<i;t++)e[t]="object"==typeof n[t]&&null!=n[t]?Pa(n[t]):n[t]}else for(var r in e={},n)e[r]="object"==typeof n[r]&&null!=n[r]?Pa(n[r]):n[r];return e};function Of(n,e,t){var i;return function(){var r=this,o=arguments,a=t&&!i;clearTimeout(i),i=setTimeout(function(){i=null,t||n.apply(r,o)},e),a&&n.apply(r,o)}}var wv=new Map;function rb(n,e,t){return void 0===t&&(t=128),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=e?e.apply(this,r):r[0];wv.has(n)||wv.set(n,function BN(n){var e,t,i,r=n||1;function o(a,l){++e>r&&(i=t,s(1),++e),t[a]=l}function s(a){e=0,t=Object.create(null),a||(i=Object.create(null))}return s(),{clear:s,has:function(a){return void 0!==t[a]||void 0!==i[a]},get:function(a){var l=t[a];return void 0!==l?l:void 0!==(l=i[a])?(o(a,l),l):void 0},set:function(a,l){void 0!==t[a]?t[a]=l:o(a,l)}}}(t));var a=wv.get(n);if(a.has(s))return a.get(s);var l=n.apply(this,r);return a.set(s,l),l}}function VN(n,e){if(Object.hasOwn)return Object.hasOwn(n,e);if(null==n)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(n),e)}function VD(n,e,t,i){for(var r in t=t||0,i=i||5,e)if(VN(e,r)){var o=e[r];null!==o&&Eh(o)?(Eh(n[r])||(n[r]={}),t<i?VD(n[r],o,t+1,i):n[r]=e[r]):Hi(o)?(n[r]=[],n[r]=n[r].concat(o)):void 0!==o&&(n[r]=o)}}var ya=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)VD(n,e[i]);return n},bU=Object.prototype.hasOwnProperty;function _u(n){if(Ri(n))return!0;if(Is(n))return!n.length;var e=IN(n);if("Map"===e||"Set"===e)return!n.size;if(sw(n))return!Object.keys(n).length;for(var t in n)if(bU.call(n,t))return!1;return!0}var Po=function(n,e){if(n===e)return!0;if(!n||!e||Li(n)||Li(e))return!1;if(Is(n)||Is(e)){if(n.length!==e.length)return!1;for(var t=!0,i=0;i<n.length&&(t=Po(n[i],e[i]));i++);return t}if(Yy(n)||Yy(e)){var r=Object.keys(n),o=Object.keys(e);if(r.length!==o.length)return!1;for(t=!0,i=0;i<r.length&&(t=Po(n[r[i]],e[r[i]]));i++);return t}return!1},UD=function(n){return n};const na=function(n,e,t){for(var i=0,r=Li(e)?e.split("."):e;n&&i<r.length;)n=n[r[i++]];return void 0===n||i<r.length?t:n},Tf=function(n,e,t){var i=n,r=Li(e)?e.split("."):e;return r.forEach(function(o,s){s<r.length-1?(Dr(i[o])||(i[o]=Zn(r[s+1])?[]:{}),i=i[o]):i[o]=t}),n};var HN=Object.prototype.hasOwnProperty;const xh=function(n,e){if(null===n||!Eh(n))return{};var t={};return im(e,function(i){HN.call(n,i)&&(t[i]=n[i])}),t},ob=function(n,e){return Qy(n,function(t,i,r){return e.includes(r)||(t[r]=i),t},{})},xv=function(n,e,t){var i,r,o,s,a=0;t||(t={});var l=function(){a=!1===t.leading?0:Date.now(),i=null,s=n.apply(r,o),i||(r=o=null)},u=function(){var h=Date.now();!a&&!1===t.leading&&(a=h);var p=e-(h-a);return r=this,o=arguments,p<=0||p>e?(i&&(clearTimeout(i),i=null),a=h,s=n.apply(r,o),i||(r=o=null)):!i&&!1!==t.trailing&&(i=setTimeout(l,p)),s};return u.cancel=function(){clearTimeout(i),a=0,i=r=o=null},u};var aw={};const Cv=function(n){return aw[n=n||"g"]?aw[n]+=1:aw[n]=1,n+aw[n]},lw=function(){},cw=function(n){return n};var wU=function(){function n(){this.map={}}return n.prototype.has=function(e){return void 0!==this.map[e]},n.prototype.get=function(e,t){var i=this.map[e];return void 0===i?t:i},n.prototype.set=function(e,t){this.map[e]=t},n.prototype.clear=function(){this.map={}},n.prototype.delete=function(e){delete this.map[e]},n.prototype.size=function(){return Object.keys(this.map).length},n}(),xU=/rgba?\(([\s.,0-9]+)\)/,Mv=rb(function sb(n){if("#"===n[0]&&7===n.length)return n;var e=function $N(){var n=document.getElementById("antv-web-colour-picker");return n||((n=document.createElement("i")).id="antv-web-colour-picker",n.title="Web Colour Picker",n.style.display="none",document.body.appendChild(n),n)}();e.style.color=n;var t=document.defaultView.getComputedStyle(e,"").getPropertyValue("color");return gv(xU.exec(t)[1].split(/\s*,\s*/).map(function(o){return Number(o)}))},function(n){return n},256);function ab(n,e,t,i){return n[i]+(e[i]-n[i])*t}var WN=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,KN=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,$D=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Ml(n,e,t){var i=[0,0,0,0,0,0,0,0,0];return function PE(n,e){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=e[0],n[7]=e[1],n[8]=1}(i,t),RE(n,i,e)}function WD(n,e,t){var i=[0,0,0,0,0,0,0,0,0];return function Fy(n,e){var t=Math.sin(e),i=Math.cos(e);n[0]=i,n[1]=t,n[2]=0,n[3]=-t,n[4]=i,n[5]=0,n[6]=0,n[7]=0,n[8]=1}(i,t),RE(n,i,e)}function CU(n,e,t){var i=[0,0,0,0,0,0,0,0,0];return function rN(n,e){n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=e[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1}(i,t),RE(n,i,e)}function XN(n,e,t){return RE(n,t,e)}function YN(n,e){return n[0]*e[1]-e[0]*n[1]}var Sv=function(n,e){return(Sv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])})(n,e)};function Ji(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}Sv(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var En=function(){return En=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},En.apply(this,arguments)};function vo(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function ir(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function fm(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,s,i=t.call(n),o=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(s)throw s.error}}return o}function ni(n,e,t){if(t||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return n.concat(o||Array.prototype.slice.call(e))}function uw(n,e,t,i){if("a"===t&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?i:"a"===t?i.call(n):i?i.value:e.get(n)}var dw={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function ZN(n,e,t){if(n[t].length>7){n[t].shift();for(var i=n[t],r=t;i.length;)e[t]="A",n.splice(r+=1,0,["C"].concat(i.splice(0,6)));n.splice(t,1)}}var Dv={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function hw(n){return Array.isArray(n)&&n.every(function(e){var t=e[0].toLowerCase();return Dv[t]===e.length-1&&"achlmqstvz".includes(t)})}function ub(n){return hw(n)&&n.every(function(e){var t=e[0];return t===t.toUpperCase()})}function pm(n){return ub(n)&&n.every(function(e){return"ACLMQZ".includes(e[0])})}function Ov(n){for(var e=n.pathValue[n.segmentStart],t=e.toLowerCase(),i=n.data;i.length>=Dv[t]&&("m"===t&&i.length>2?(n.segments.push([e].concat(i.splice(0,2))),t="l",e="m"===e?"l":"L"):n.segments.push([e].concat(i.splice(0,Dv[t]))),Dv[t]););}function fw(n){var e=n.index,t=n.pathValue,i=t.charCodeAt(e);return 48===i?(n.param=0,void(n.index+=1)):49===i?(n.param=1,void(n.index+=1)):void(n.err='[path-util]: invalid Arc flag "'.concat(t[e],'", expecting 0 or 1 at index ').concat(e))}function QN(n){return n>=48&&n<=57||43===n||45===n||46===n}function mm(n){return n>=48&&n<=57}function pw(n){var u,e=n.max,t=n.pathValue,i=n.index,r=i,o=!1,s=!1,a=!1,l=!1;if(r>=e)n.err="[path-util]: Invalid path value at index ".concat(r,', "pathValue" is missing param');else if((43===(u=t.charCodeAt(r))||45===u)&&(u=t.charCodeAt(r+=1)),mm(u)||46===u){if(46!==u){if(o=48===u,u=t.charCodeAt(r+=1),o&&r<e&&u&&mm(u))return void(n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(t[i],'" illegal number'));for(;r<e&&mm(t.charCodeAt(r));)r+=1,s=!0;u=t.charCodeAt(r)}if(46===u){for(l=!0,r+=1;mm(t.charCodeAt(r));)r+=1,a=!0;u=t.charCodeAt(r)}if(101===u||69===u){if(l&&!s&&!a)return void(n.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" invalid float exponent'));if((43===(u=t.charCodeAt(r+=1))||45===u)&&(r+=1),!(r<e&&mm(t.charCodeAt(r))))return void(n.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" invalid integer exponent'));for(;r<e&&mm(t.charCodeAt(r));)r+=1}n.index=r,n.param=+n.pathValue.slice(i,r)}else n.err="[path-util]: Invalid path value at index ".concat(r,', "').concat(t[r],'" is not a number')}function YD(n){return 10===n||13===n||8232===n||8233===n||32===n||9===n||11===n||12===n||160===n||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(n)}function Eu(n){for(var e=n.pathValue,t=n.max;n.index<t&&YD(e.charCodeAt(n.index));)n.index+=1}function QD(n){return 97==(32|n)}function mw(n){var e=n.max,t=n.pathValue,i=n.index,r=t.charCodeAt(i),o=Dv[t[i].toLowerCase()];if(n.segmentStart=i,function ZD(n){switch(32|n){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(r))if(n.index+=1,Eu(n),n.data=[],o){for(;;){for(var s=o;s>0;s-=1){if(!QD(r)||3!==s&&4!==s?pw(n):fw(n),n.err.length)return;n.data.push(n.param),Eu(n),n.index<e&&44===t.charCodeAt(n.index)&&(n.index+=1,Eu(n))}if(n.index>=n.max||!QN(t.charCodeAt(n.index)))break}Ov(n)}else Ov(n);else n.err='[path-util]: Invalid path value "'.concat(t[i],'" is not a path command')}var qN=function(){return function n(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}}();function Tv(n){if(hw(n))return[].concat(n);var e=new qN(n);for(Eu(e);e.index<e.max&&!e.err.length;)mw(e);return e.err?e.err:e.segments}function gw(n){if(ub(n))return[].concat(n);var e=Tv(n),t=0,i=0,r=0,o=0;return e.map(function(s){var h,a=s.slice(1).map(Number),l=s[0],u=l.toUpperCase();if("M"===l)return r=t=a[0],o=i=a[1],["M",t,i];if(l!==u)switch(u){case"A":h=[u,a[0],a[1],a[2],a[3],a[4],a[5]+t,a[6]+i];break;case"V":h=[u,a[0]+i];break;case"H":h=[u,a[0]+t];break;default:var p=a.map(function(y,b){return y+(b%2?i:t)});h=[u].concat(p)}else h=[u].concat(a);var v=h.length;switch(u){case"Z":t=r,i=o;break;case"H":t=h[1];break;case"V":i=h[1];break;default:t=h[v-2],i=h[v-1],"M"===u&&(r=t,o=i)}return h})}function qD(n,e){var t=n[0],i=e.x1,r=e.y1,o=e.x2,s=e.y2,a=n.slice(1).map(Number),l=n;if("TQ".includes(t)||(e.qx=null,e.qy=null),"H"===t)l=["L",n[1],r];else if("V"===t)l=["L",i,n[1]];else if("S"===t){var u=2*i-o,h=2*r-s;e.x1=u,e.y1=h,l=["C",u,h].concat(a)}else if("T"===t){var p=2*i-e.qx,v=2*r-e.qy;e.qx=p,e.qy=v,l=["Q",p,v].concat(a)}else if("Q"===t){var b=a[1];e.qx=a[0],e.qy=b}return l}function Ch(n){if(pm(n))return[].concat(n);for(var e=gw(n),t=En({},dw),i=0;i<e.length;i+=1){e[i]=qD(e[i],t);var r=e[i],o=r.length;t.x1=+r[o-2],t.y1=+r[o-1],t.x2=+r[o-4]||t.x1,t.y2=+r[o-3]||t.y1}return e}function Af(n,e,t){return{x:n*Math.cos(t)-e*Math.sin(t),y:n*Math.sin(t)+e*Math.cos(t)}}function wu(n,e,t,i,r,o,s,a,l,u){var D,k,T,I,F,h=n,p=e,v=t,y=i,b=a,E=l,w=120*Math.PI/180,S=Math.PI/180*(+r||0),C=[];if(u)k=u[0],T=u[1],I=u[2],F=u[3];else{p=(D=Af(h,p,-S)).y;var z=((h=D.x)-(b=(D=Af(b,E,-S)).x))/2,V=(p-(E=D.y))/2,K=z*z/(v*v)+V*V/(y*y);K>1&&(v*=K=Math.sqrt(K),y*=K);var Y=v*v,Q=y*y,at=(o===s?-1:1)*Math.sqrt(Math.abs((Y*Q-Y*V*V-Q*z*z)/(Y*V*V+Q*z*z)));I=at*v*V/y+(h+b)/2,F=at*-y*z/v+(p+E)/2,k=Math.asin(((p-F)/y*Math.pow(10,9)|0)/Math.pow(10,9)),T=Math.asin(((E-F)/y*Math.pow(10,9)|0)/Math.pow(10,9)),k=h<I?Math.PI-k:k,T=b<I?Math.PI-T:T,k<0&&(k=2*Math.PI+k),T<0&&(T=2*Math.PI+T),s&&k>T&&(k-=2*Math.PI),!s&&T>k&&(T-=2*Math.PI)}var It=T-k;if(Math.abs(It)>w){var Pt=T,ct=b,ot=E;T=k+w*(s&&T>k?1:-1),C=wu(b=I+v*Math.cos(T),E=F+y*Math.sin(T),v,y,r,0,s,ct,ot,[T,Pt,I,F])}It=T-k;var rt=Math.cos(k),Nt=Math.sin(k),ie=Math.cos(T),$e=Math.sin(T),ye=Math.tan(It/4),ln=4/3*v*ye,kn=4/3*y*ye,oi=[h,p],Un=[h+ln*Nt,p-kn*rt],fi=[b+ln*$e,E-kn*ie],rs=[b,E];if(Un[0]=2*oi[0]-Un[0],Un[1]=2*oi[1]-Un[1],u)return Un.concat(fi,rs,C);for(var gs=[],Ho=0,bc=(C=Un.concat(fi,rs,C)).length;Ho<bc;Ho+=1)gs[Ho]=Ho%2?Af(C[Ho-1],C[Ho],S).y:Af(C[Ho],C[Ho+1],S).x;return gs}function xu(n,e,t){var i=n[0],r=n[1];return[i+(e[0]-i)*t,r+(e[1]-r)*t]}var gm=function(n,e,t,i){return ni(ni([],xu([n,e],[t,i],.5),!0),[t,i,t,i],!1)};function eO(n,e){var s,t=n[0],i=n.slice(1).map(Number),r=i[0],o=i[1],a=e.x1,l=e.y1,u=e.x,h=e.y;switch("TQ".includes(t)||(e.qx=null,e.qy=null),t){case"M":return e.x=r,e.y=o,n;case"A":return s=[a,l].concat(i),["C"].concat(wu(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]));case"Q":return e.qx=r,e.qy=o,s=[a,l].concat(i),["C"].concat(function tO(n,e,t,i,r,o){var s=.3333333333333333,a=2/3;return[s*n+a*t,s*e+a*i,s*r+a*t,s*o+a*i,r,o]}(s[0],s[1],s[2],s[3],s[4],s[5]));case"L":return["C"].concat(gm(a,l,r,o));case"Z":return a===u&&l===h?["C",a,l,u,h,u,h]:["C"].concat(gm(a,l,u,h))}return n}function vm(n,e){if(void 0===e&&(e=!1),function JD(n){return pm(n)&&n.every(function(e){return"MC".includes(e[0])})}(n)){var t=[].concat(n);return e?[t,[]]:t}for(var l,u,i=Ch(n),r=En({},dw),o=[],s="",a=i.length,h=[],p=0;p<a;p+=1){i[p]&&(s=i[p][0]),o[p]=s;var v=eO(i[p],r);i[p]=v,ZN(i,o,p),a=i.length,"Z"===s&&h.push(p),r.x1=+(l=i[p])[(u=l.length)-2],r.y1=+l[u-1],r.x2=+l[u-4]||r.x1,r.y2=+l[u-3]||r.y1}return e?[i,h]:i}function nO(n){return n.map(function(e){return Array.isArray(e)?[].concat(e):e})}function vw(n){var e=n.slice(1).map(function(t,i,r){return i?r[i-1].slice(-2).concat(t.slice(1)):n[0].slice(1).concat(t.slice(1))}).map(function(t){return t.map(function(i,r){return t[t.length-r-2*(1-r%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(t){return["C"].concat(t.slice(2))}))}function Na(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}function yw(n,e,t,i,r){var o=Na([n,e],[t,i]),s={x:0,y:0};if("number"==typeof r)if(r<=0)s={x:n,y:e};else if(r>=o)s={x:t,y:i};else{var a=xu([n,e],[t,i],r/o);s={x:a[0],y:a[1]}}return{length:o,point:s,min:{x:Math.min(n,t),y:Math.min(e,i)},max:{x:Math.max(n,t),y:Math.max(e,i)}}}function iO(n,e){var t=n.x,i=n.y,r=e.x,o=e.y,s=t*r+i*o,a=Math.sqrt((Math.pow(t,2)+Math.pow(i,2))*(Math.pow(r,2)+Math.pow(o,2)));return(t*o-i*r<0?-1:1)*Math.acos(s/a)}function rO(n,e,t,i,r,o,s,a,l,u){var h=Math.abs,p=Math.sin,v=Math.cos,y=Math.sqrt,b=Math.PI,E=h(t),w=h(i),C=(r%360+360)%360*(b/180);if(n===a&&e===l)return{x:n,y:e};if(0===E||0===w)return yw(n,e,a,l,u).point;var D=(n-a)/2,k=(e-l)/2,T={x:v(C)*D+p(C)*k,y:-p(C)*D+v(C)*k},I=Math.pow(T.x,2)/Math.pow(E,2)+Math.pow(T.y,2)/Math.pow(w,2);I>1&&(E*=y(I),w*=y(I));var V=(Math.pow(E,2)*Math.pow(w,2)-Math.pow(E,2)*Math.pow(T.y,2)-Math.pow(w,2)*Math.pow(T.x,2))/(Math.pow(E,2)*Math.pow(T.y,2)+Math.pow(w,2)*Math.pow(T.x,2)),K=(o!==s?1:-1)*y(V=V<0?0:V),Y_x=K*(E*T.y/w),Y_y=K*(-w*T.x/E),Q_x=v(C)*Y_x-p(C)*Y_y+(n+a)/2,Q_y=p(C)*Y_x+v(C)*Y_y+(e+l)/2,at={x:(T.x-Y_x)/E,y:(T.y-Y_y)/w},It=iO({x:1,y:0},at),ct=iO(at,{x:(-T.x-Y_x)/E,y:(-T.y-Y_y)/w});!s&&ct>0?ct-=2*b:s&&ct<0&&(ct+=2*b);var ot=It+(ct%=2*b)*u,rt=E*v(ot),Nt=w*p(ot);return{x:v(C)*rt-p(C)*Nt+Q_x,y:p(C)*rt+v(C)*Nt+Q_y}}function oO(n,e,t,i,r,o,s,a,l,u,h){var p,v=h.bbox,y=void 0===v||v,b=h.length,E=void 0===b||b,w=h.sampleSize,S=void 0===w?30:w,C="number"==typeof u,D=n,k=e,T=0,I=[D,k,T],F=[D,k],V={x:0,y:0},K=[{x:D,y:k}];C&&u<=0&&(V={x:D,y:k});for(var Y=0;Y<=S;Y+=1){if(D=(p=rO(n,e,t,i,r,o,s,a,l,Y/S)).x,k=p.y,y&&K.push({x:D,y:k}),E&&(T+=Na(F,[D,k])),F=[D,k],C&&T>=u&&u>I[2]){var Q=(T-u)/(T-I[2]);V={x:F[0]*(1-Q)+I[0]*Q,y:F[1]*(1-Q)+I[1]*Q}}I=[D,k,T]}return C&&u>=T&&(V={x:a,y:l}),{length:T,point:V,min:{x:Math.min.apply(null,K.map(function(at){return at.x})),y:Math.min.apply(null,K.map(function(at){return at.y}))},max:{x:Math.max.apply(null,K.map(function(at){return at.x})),y:Math.max.apply(null,K.map(function(at){return at.y}))}}}function tr(n,e,t,i,r,o,s,a,l){var u=1-l;return{x:Math.pow(u,3)*n+3*Math.pow(u,2)*l*t+3*u*Math.pow(l,2)*r+Math.pow(l,3)*s,y:Math.pow(u,3)*e+3*Math.pow(u,2)*l*i+3*u*Math.pow(l,2)*o+Math.pow(l,3)*a}}function bw(n,e,t,i,r,o,s,a,l,u){var h,p=u.bbox,v=void 0===p||p,y=u.length,b=void 0===y||y,E=u.sampleSize,w=void 0===E?10:E,S="number"==typeof l,C=n,D=e,k=0,T=[C,D,k],I=[C,D],z={x:0,y:0},V=[{x:C,y:D}];S&&l<=0&&(z={x:C,y:D});for(var K=0;K<=w;K+=1){if(C=(h=tr(n,e,t,i,r,o,s,a,K/w)).x,D=h.y,v&&V.push({x:C,y:D}),b&&(k+=Na(I,[C,D])),I=[C,D],S&&k>=l&&l>T[2]){var Y=(k-l)/(k-T[2]);z={x:I[0]*(1-Y)+T[0]*Y,y:I[1]*(1-Y)+T[1]*Y}}T=[C,D,k]}return S&&l>=k&&(z={x:s,y:a}),{length:k,point:z,min:{x:Math.min.apply(null,V.map(function(Q){return Q.x})),y:Math.min.apply(null,V.map(function(Q){return Q.y}))},max:{x:Math.max.apply(null,V.map(function(Q){return Q.x})),y:Math.max.apply(null,V.map(function(Q){return Q.y}))}}}function sO(n,e,t,i,r,o,s){var a=1-s;return{x:Math.pow(a,2)*n+2*a*s*t+Math.pow(s,2)*r,y:Math.pow(a,2)*e+2*a*s*i+Math.pow(s,2)*o}}function ym(n,e,t,i,r,o,s,a){var l,u=a.bbox,h=void 0===u||u,p=a.length,v=void 0===p||p,y=a.sampleSize,b=void 0===y?10:y,E="number"==typeof s,w=n,S=e,C=0,D=[w,S,C],k=[w,S],I={x:0,y:0},F=[{x:w,y:S}];E&&s<=0&&(I={x:w,y:S});for(var z=0;z<=b;z+=1){if(w=(l=sO(n,e,t,i,r,o,z/b)).x,S=l.y,h&&F.push({x:w,y:S}),v&&(C+=Na(k,[w,S])),k=[w,S],E&&C>=s&&s>D[2]){var V=(C-s)/(C-D[2]);I={x:k[0]*(1-V)+D[0]*V,y:k[1]*(1-V)+D[1]*V}}D=[w,S,C]}return E&&s>=C&&(I={x:r,y:o}),{length:C,point:I,min:{x:Math.min.apply(null,F.map(function(K){return K.x})),y:Math.min.apply(null,F.map(function(K){return K.y}))},max:{x:Math.max.apply(null,F.map(function(K){return K.x})),y:Math.max.apply(null,F.map(function(K){return K.y}))}}}function Av(n,e,t){for(var i,r,o,s,a,l,p,y,C,u=Ch(n),h="number"==typeof e,v=[],b=0,E=0,w=0,S=0,D=[],k=[],T=0,I={x:0,y:0},F=I,z=I,V=I,K=0,Y=0,Q=u.length;Y<Q;Y+=1)v=(p="M"===(y=(C=u[Y])[0]))?v:[b,E].concat(C.slice(1)),p?(F=I={x:w=C[1],y:S=C[2]},T=0,h&&e<.001&&(V=I)):"L"===y?(T=(i=yw(v[0],v[1],v[2],v[3],(e||0)-K)).length,I=i.min,F=i.max,z=i.point):"A"===y?(T=(r=oO(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],(e||0)-K,t||{})).length,I=r.min,F=r.max,z=r.point):"C"===y?(T=(o=bw(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],(e||0)-K,t||{})).length,I=o.min,F=o.max,z=o.point):"Q"===y?(T=(s=ym(v[0],v[1],v[2],v[3],v[4],v[5],(e||0)-K,t||{})).length,I=s.min,F=s.max,z=s.point):"Z"===y&&(T=(a=yw((v=[b,E,w,S])[0],v[1],v[2],v[3],(e||0)-K)).length,I=a.min,F=a.max,z=a.point),h&&K<e&&K+T>=e&&(V=z),k.push(F),D.push(I),K+=T,b=(l="Z"!==y?C.slice(-2):[w,S])[0],E=l[1];return h&&e>=K&&(V={x:b,y:E}),{length:K,point:V,min:{x:Math.min.apply(null,D.map(function(at){return at.x})),y:Math.min.apply(null,D.map(function(at){return at.y}))},max:{x:Math.max.apply(null,k.map(function(at){return at.x})),y:Math.max.apply(null,k.map(function(at){return at.y}))}}}function bm(n,e){return Av(n,void 0,En(En({},e),{bbox:!1,length:!0})).length}function fb(n,e){var t=n.length-1,i=[],o=0,s=function kf(n){var e=n.length,t=e-1;return n.map(function(i,r){return n.map(function(o,s){var a=r+s;return 0===s||n[a]&&"M"===n[a][0]?["M"].concat(n[a].slice(-2)):(a>=e&&(a-=t),n[a])})})}(n);return s.forEach(function(a,l){n.slice(1).forEach(function(u,h){o+=Na(n[(l+h)%t].slice(-2),e[h%t].slice(-2))}),i[l]=o,o=0}),s[i.indexOf(Math.min.apply(null,i))]}function _w(n){var e=0,t=0,i=0;return vm(n).map(function(r){var o;if("M"===r[0])return e=r[1],t=r[2],0;var s=r.slice(1);return i=function kv(n,e,t,i,r,o,s,a){return 3*((a-e)*(t+r)-(s-n)*(i+o)+i*(n-r)-t*(e-o)+a*(r+n/3)-s*(o+e/3))/20}(e,t,s[0],s[1],s[2],s[3],s[4],s[5]),o=r.slice(-2),e=o[0],t=o[1],i}).reduce(function(r,o){return r+o},0)}function Iv(n){return _w(n)>=0}function If(n,e,t){return Av(n,e,En(En({},t),{bbox:!1,length:!0})).point}function cO(n){return n.map(function(e,t,i){var s,r=t&&i[t-1].slice(-2).concat(e.slice(1)),o=t?bw(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],{bbox:!1}).length:0;return s=t?o?function JN(n,e){void 0===e&&(e=.5);var t=n.slice(0,2),i=n.slice(2,4),r=n.slice(4,6),o=n.slice(6,8),s=xu(t,i,e),a=xu(i,r,e),l=xu(r,o,e),u=xu(s,a,e),h=xu(a,l,e),p=xu(u,h,e);return[["C"].concat(s,u,p),["C"].concat(h,l,o)]}(r):[e,e]:[e],{s:e,ss:s,l:o}})}function xw(n,e,t){var i=cO(n),r=cO(e),o=i.length,s=r.length,a=i.filter(function(w){return w.l}).length,l=r.filter(function(w){return w.l}).length,u=i.filter(function(w){return w.l}).reduce(function(w,S){return w+S.l},0)/a||0,h=r.filter(function(w){return w.l}).reduce(function(w,S){return w+S.l},0)/l||0,p=t||Math.max(o,s),v=[u,h],y=[p-o,p-s],b=0,E=[i,r].map(function(w,S){return w.l===p?w.map(function(C){return C.s}):w.map(function(C,D){return y[S]-=(b=D&&y[S]&&C.l>=v[S])?1:0,b?C.ss:[C.s]}).flat()});return E[0].length===E[1].length?E:xw(E[0],E[1],p)}var uO=1e-6;function Cw(n){return Math.abs(n)<uO?0:n<0?-1:1}function t3(n,e,t){return(t[0]-n[0])*(e[1]-n[1])==(e[0]-n[0])*(t[1]-n[1])&&Math.min(n[0],e[0])<=t[0]&&t[0]<=Math.max(n[0],e[0])&&Math.min(n[1],e[1])<=t[1]&&t[1]<=Math.max(n[1],e[1])}function Mw(n,e,t){var i=!1,r=n.length;if(r<=2)return!1;for(var o=0;o<r;o++){var s=n[o],a=n[(o+1)%r];if(t3(s,a,[e,t]))return!0;Cw(s[1]-t)>0!=Cw(a[1]-t)>0&&Cw(e-(t-s[1])*(s[0]-a[0])/(s[1]-a[1])-s[0])<0&&(i=!i)}return i}var dO=function(n,e,t){return n>=e&&n<=t};function Sw(n){for(var e=[],t=n.length,i=0;i<t-1;i++){var r=n[i],o=n[i+1];e.push({from:{x:r[0],y:r[1]},to:{x:o[0],y:o[1]}})}if(e.length>1){var s=n[0],a=n[t-1];e.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return e}function fO(n){var e=n.map(function(i){return i[0]}),t=n.map(function(i){return i[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function pb(n){var e=document.createElement("div");e.innerHTML=n;var t=e.childNodes[0];return t&&e.contains(t)&&e.removeChild(t),t}const Dw=Object.freeze(Object.defineProperty({__proto__:null,Cache:wU,angleTo:function KD(n,e,t){var i=function tm(n,e){var t=n[0],i=n[1],r=e[0],o=e[1],s=Math.sqrt(t*t+i*i)*Math.sqrt(r*r+o*o);return Math.acos(Math.min(Math.max(s&&(t*r+i*o)/s,-1),1))}(n,e),r=YN(n,e)>=0;return t?r?2*Math.PI-i:i:r?i:2*Math.PI-i},arcToCubic:wu,assign:wh,augment:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=n[0],i=1;i<n.length;i++){var r=n[i];$n(r)&&(r=r.prototype),wh(t.prototype,r)}},clamp:Mo,clearAnimationFrame:function nb(n){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(n)},clone:Pa,clonePath:nO,contains:em,createDOM:pb,debounce:Of,deepMix:ya,difference:nm,direction:YN,distanceSquareRoot:Na,each:im,endsWith:function qy(n,e){return!(!Hi(n)&&!Li(n))&&n[n.length-1]===e},equalizeSegments:xw,every:function(n,e){for(var t=0;t<n.length;t++)if(!e(n[t],t))return!1;return!0},extend:function(n,e,t,i){$n(e)||(t=e,e=n,n=function(){});var r=Object.create?function(s,a){return Object.create(s,{constructor:{value:a}})}:function(s,a){function l(){}l.prototype=s;var u=new l;return u.constructor=a,u},o=r(e.prototype,n);return n.prototype=wh(o,n.prototype),n.superclass=r(e.prototype,e),wh(o,t),wh(n,i),n},filter:vv,find:function gN(n,e){if(!Hi(n))return null;var t;if($n(e)&&(t=e),Eh(e)&&(t=function(r){return bD(r,e)}),t)for(var i=0;i<n.length;i+=1)if(t(n[i]))return n[i];return null},findIndex:function yv(n,e,t){void 0===t&&(t=0);for(var i=t;i<n.length;i++)if(e(n[i],i))return i;return-1},firstValue:function(n,e){for(var t=null,i=0;i<n.length;i++){var o=n[i][e];if(!Ri(o)){t=Hi(o)?o[0]:o;break}}return t},fixedBase:function(n,e){var t=e.toString(),i=t.indexOf(".");if(-1===i)return Math.round(n);var r=t.substr(i+1).length;return r>20&&(r=20),parseFloat(n.toFixed(r))},flatten:function(n){if(!Hi(n))return[];for(var e=[],t=0;t<n.length;t++)e=e.concat(n[t]);return e},flattenDeep:ED,forIn:im,get:na,getDrawDirection:Iv,getPathArea:_w,getPathBBox:function aO(n,e){if(!n)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var t=Av(n,void 0,En(En({},e),{length:!1})),i=t.min,r=i.x,o=i.y,s=t.max,a=s.x,l=s.y,u=a-r,h=l-o;return{width:u,height:h,x:r,y:o,x2:a,y2:l,cx:r+u/2,cy:o+h/2,cz:Math.max(u,h)+Math.min(u,h)/2}},getPathBBoxTotalLength:function hb(n,e){if(!n)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var t=Av(n,void 0,En(En({},e),{bbox:!0,length:!0})),r=t.min,o=r.x,s=r.y,a=t.max,l=a.x,u=a.y,h=l-o,p=u-s;return{length:t.length,width:h,height:p,x:o,y:s,x2:l,y2:u,cx:o+h/2,cy:s+p/2,cz:Math.max(h,p)+Math.min(h,p)/2}},getPointAtLength:If,getRange:function(n){var e=n.filter(function(s){return!isNaN(s)});if(!e.length)return{min:0,max:0};if(Hi(n[0])){for(var t=[],i=0;i<n.length;i++)t=t.concat(n[i]);e=t}var r=bv(e);return{min:_v(e),max:r}},getRotatedCurve:fb,getTotalLength:bm,getType:IN,getWrapBehavior:function iw(n,e){return n["_wrap_"+e]},gradient:function HD(n){var t=("string"==typeof n?n.split("-"):n).map(function(i){return Xy(-1===i.indexOf("#")?Mv(i):i)});return function(i){return function GD(n,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=n.length-1,r=Math.floor(i*t),o=i*t-r,s=n[r],a=r===i?s:n[r+1];return gv([ab(s,a,o,0),ab(s,a,o,1),ab(s,a,o,2)])}(t,i)}},group:function(n,e){if(!e)return[n];var t=bN(n,e),i=[];for(var r in t)i.push(t[r]);return i},groupBy:sm,groupToMap:bN,has:rc,hasKey:rc,hasValue:function(n,e){return em(cm(n),e)},head:function OD(n){if(Is(n))return n[0]},identity:cw,includes:em,indexOf:function(n,e){if(!Is(n))return-1;var t=Array.prototype.indexOf;if(t)return t.call(n,e);for(var i=-1,r=0;r<n.length;r++)if(n[r]===e){i=r;break}return i},isArguments:function(n){return Mf(n,"Arguments")},isArray:Hi,isArrayLike:Is,isBoolean:dm,isDate:LD,isDecimal:function EN(n){return Zn(n)&&n%1!=0},isElement:function LN(n){return n instanceof Element||n instanceof Document},isEmpty:_u,isEqual:Po,isEqualWith:function(n,e,t){return $n(t)?!!t(n,e):Po(n,e)},isError:function(n){return Mf(n,"Error")},isEven:function wN(n){return Zn(n)&&n%2==0},isFinite:function PN(n){return Zn(n)&&isFinite(n)},isFunction:$n,isInteger:function yd(n){return Zn(n)&&n%1==0},isMatch:bD,isNegative:function am(n){return Zn(n)&&n<0},isNil:Ri,isNull:FD,isNumber:Zn,isNumberEqual:lm,isObject:Dr,isObjectLike:Yy,isOdd:function CN(n){return Zn(n)&&n%2!=0},isPlainObject:Eh,isPointInPolygon:Mw,isPointInStroke:function ww(n,e){var t=function lO(n,e){for(var a,u,t=Tv(n),i=Ch(t),r=bm(t),o=function(T){var I=T.x-e.x,F=T.y-e.y;return I*I+F*F},s=8,l=0,h=0,p=1/0,v=0;v<=r;v+=s)(l=o(a=If(i,v)))<p&&(u=a,h=v,p=l);s/=2;for(var y,b,E=0,w=0,S=0,C=0;s>.5;)S=o(y=If(i,E=h-s)),C=o(b=If(i,w=h+s)),E>=0&&S<p?(u=y,h=E,p=S):w<=r&&C<p?(u=b,h=w,p=C):s/=2;var D=function Ew(n,e){var t=Tv(n);if("string"==typeof t)throw TypeError(t);var i=t.slice(),r=bm(i),o=i.length-1,s=0,a=0,l=t[0],u=l.slice(-2),v={x:u[0],y:u[1]};if(o<=0||!e||!Number.isFinite(e))return{segment:l,index:0,length:a,point:v,lengthAtSegment:s};if(e>=r)return s=bm(i=t.slice(0,-1)),{segment:t[o],index:o,length:a=r-s,lengthAtSegment:s};for(var y=[];o>0;)l=i[o],a=r-(s=bm(i=i.slice(0,-1))),r=s,y.push({segment:l,index:o,length:a,lengthAtSegment:s}),o-=1;return y.find(function(b){return b.lengthAtSegment<=e})}(t,h);return{closest:u,distance:Math.sqrt(p),segment:D}}(n,e).distance;return Math.abs(t)<.001},isPolygonsIntersect:function n3(n,e){if(n.length<2||e.length<2)return!1;if(!function el(n,e){return!(e.minX>n.maxX||e.maxX<n.minX||e.minY>n.maxY||e.maxY<n.minY)}(fO(n),fO(e)))return!1;var r=!1;if(e.forEach(function(l){if(Mw(n,l[0],l[1]))return r=!0,!1}),r||(n.forEach(function(l){if(Mw(e,l[0],l[1]))return r=!0,!1}),r))return!0;var o=Sw(n),s=Sw(e),a=!1;return s.forEach(function(l){if(function e3(n,e){var t=!1;return n.forEach(function(i){if(function hO(n,e,t,i){var o_x=t.x-n.x,o_y=t.y-n.y,s_x=e.x-n.x,s_y=e.y-n.y,a_x=i.x-t.x,a_y=i.y-t.y,l=s_x*a_y-s_y*a_x,v=null;if(l*l>.001*(s_x*s_x+s_y*s_y)*(a_x*a_x+a_y*a_y)){var y=(o_x*a_y-o_y*a_x)/l,b=(o_x*s_y-o_y*s_x)/l;dO(y,0,1)&&dO(b,0,1)&&(v={x:n.x+y*s_x,y:n.y+y*s_y})}return v}(i.from,i.to,e.from,e.to))return t=!0,!1}),t}(o,l))return a=!0,!1}),a},isPositive:function(n){return Zn(n)&&n>0},isPrototype:sw,isRegExp:function(n){return Mf(n,"RegExp")},isString:Li,isType:Mf,isUndefined:vi,keys:ZE,last:function ew(n){if(Is(n))return n[n.length-1]},lowerCase:function(n){return um(n).toLowerCase()},lowerFirst:AN,map:function(n,e){if(!Is(n))return n;for(var t=[],i=0;i<n.length;i++)t.push(e(n[i],i));return t},mapValues:function(n,e){void 0===e&&(e=UD);var t={};return Dr(n)&&!Ri(n)&&Object.keys(n).forEach(function(i){t[i]=e(n[i],i)}),t},max:bv,maxBy:ID,memoize:rb,min:_v,minBy:RD,mix:wh,mod:tb,modifyCSS:function DU(n,e){if(n)return Object.keys(e).forEach(function(t){n.style[t]=e[t]}),n},noop:lw,normalizePath:Ch,number2color:function kD(n){var e=rw[n];if(!e){for(var t=n.toString(16),i=t.length;i<6;i++)t="0"+t;rw[n]=e="#"+t}return e},omit:ob,parseRadius:function Sf(n){var e=0,t=0,i=0,r=0;return Hi(n)?1===n.length?e=t=i=r=n[0]:2===n.length?(e=i=n[0],t=r=n[1]):3===n.length?(e=n[0],t=r=n[1],i=n[2]):(e=n[0],t=n[1],i=n[2],r=n[3]):e=t=i=r=n,{r1:e,r2:t,r3:i,r4:r}},path2Absolute:gw,path2Array:function db(n){return Tv(n)},path2Curve:vm,path2String:function lb(n,e){return void 0===e&&(e="off"),function SU(n,e){if("off"===e)return[].concat(n);var t="number"==typeof e&&e>=1?Math.pow(10,e):1;return n.map(function(i){var r=i.slice(1).map(Number).map(function(o){return e?Math.round(o*t)/t:Math.round(o)});return[i[0]].concat(r)})}(n,e).map(function(t){return t[0]+t.slice(1).join(" ")}).join("")},pick:xh,pull:function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i++)for(var r=e[i],o=-1;(o=JE.call(n,r))>-1;)Zy.call(n,o,1);return n},pullAt:tw,reduce:Qy,remove:function(n,e){var t=[];if(!Is(n))return t;for(var i=-1,r=[],o=n.length;++i<o;){var s=n[i];e(s,i,n)&&(t.push(s),r.push(i))}return tw(n,r),t},requestAnimationFrame:function jD(n){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(n)},reverseCurve:vw,rgb2arr:Xy,set:Tf,size:function EU(n){return Ri(n)?0:Is(n)?n.length:Object.keys(n).length},some:function(n,e){for(var t=0;t<n.length;t++)if(e(n[t],t))return!0;return!1},sortBy:function MD(n,e){var t;if($n(e))t=function(r,o){return e(r)-e(o)};else{var i=[];Li(e)?i.push(e):Hi(e)&&(i=e),t=function(r,o){for(var s=0;s<i.length;s+=1){var a=i[s];if(r[a]>o[a])return 1;if(r[a]<o[a])return-1}return 0}}return n.sort(t),n},startsWith:function TD(n,e){return!(!Hi(n)&&!Li(n))&&n[0]===e},substitute:kN,throttle:xv,toArray:function(n){return Is(n)?Array.prototype.slice.call(n):[]},toCSSGradient:function Cl(n){if(function hm(n){return/^[r,R,L,l]{1}[\s]*\(/.test(n)}(n)){var e,t=void 0;if("l"===n[0])t=(i=WN.exec(n))[2],e="linear-gradient(".concat(+i[1]+90,"deg, ");else if("r"===n[0]){var i;e="radial-gradient(",t=(i=KN.exec(n))[4]}var o=t.match($D);return o.forEach(function(s,a){var l=s.split(":");e+="".concat(l[1]," ").concat(100*Number(l[0]),"%"),a!==o.length-1&&(e+=", ")}),e+=")"}return n},toDegree:function(n){return SN*n},toInteger:ON,toRGB:Mv,toRadian:function(n){return TN*n},toString:um,transform:function MU(n,e){for(var t=n?[].concat(n):[1,0,0,0,1,0,0,0,1],i=0,r=e.length;i<r;i++){var o=e[i];switch(o[0]){case"t":Ml(t,t,[o[1],o[2]]);break;case"s":CU(t,t,[o[1],o[2]]);break;case"r":WD(t,t,o[1]);break;case"m":XN(t,t,o[1])}}return t},union:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return rm([].concat.apply([],n))},uniq:rm,uniqueId:Cv,upperCase:function(n){return um(n).toUpperCase()},upperFirst:Df,values:cm,valuesOfKey:function(n,e){for(var t=[],i={},r=0;r<n.length;r++){var s=n[r][e];if(!Ri(s)){Hi(s)||(s=[s]);for(var a=0;a<s.length;a++){var l=s[a];i[l]||(t.push(l),i[l]=!0)}}}return t},vertical:function XD(n,e,t){return t?(n[0]=e[1],n[1]=-1*e[0]):(n[0]=-1*e[1],n[1]=e[0]),n},wrapBehavior:function AD(n,e){if(n["_wrap_"+e])return n["_wrap_"+e];var t=function(i){n[e](i)};return n["_wrap_"+e]=t,t}},Symbol.toStringTag,{value:"Module"}));function Ow(){return Ow=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=function pO(n,e){for(;!{}.hasOwnProperty.call(n,e)&&null!==(n=Zp(n)););return n}(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},Ow.apply(null,arguments)}function mO(n,e,t,i){var r=Ow(Zp(n.prototype),e,t);return"function"==typeof r?function(o){return r.apply(t,o)}:r}function Tw(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function Aw(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function Rv(){}var _m=1/.7,Em="\\s*([+-]?\\d+)\\s*",Nv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r3=/^#([0-9a-f]{3,8})$/,o3=new RegExp(`^rgb\\(${Em},${Em},${Em}\\)$`),Mu=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),kw=new RegExp(`^rgba\\(${Em},${Em},${Em},${Nv}\\)$`),s3=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${Nv}\\)$`),a3=new RegExp(`^hsl\\(${Nv},${Cu},${Cu}\\)$`),gO=new RegExp(`^hsla\\(${Nv},${Cu},${Cu},${Nv}\\)$`),Iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lv(){return this.rgb().formatHex()}function Pw(){return this.rgb().formatRgb()}function Fv(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=r3.exec(n))?(t=e[1].length,e=parseInt(e[1],16),6===t?Nw(e):3===t?new nl(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===t?Rf(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===t?Rf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=o3.exec(n))?new nl(e[1],e[2],e[3],1):(e=Mu.exec(n))?new nl(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=kw.exec(n))?Rf(e[1],e[2],e[3],e[4]):(e=s3.exec(n))?Rf(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=a3.exec(n))?Pf(e[1],e[2]/100,e[3]/100,1):(e=gO.exec(n))?Pf(e[1],e[2]/100,e[3]/100,e[4]):Iw.hasOwnProperty(n)?Nw(Iw[n]):"transparent"===n?new nl(NaN,NaN,NaN,0):null}function Nw(n){return new nl(n>>16&255,n>>8&255,255&n,1)}function Rf(n,e,t,i){return i<=0&&(n=e=t=NaN),new nl(n,e,t,i)}function nl(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}function vO(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function yO(){const n=_d(this.opacity);return`${1===n?"rgb(":"rgba("}${Mh(this.r)}, ${Mh(this.g)}, ${Mh(this.b)}${1===n?")":`, ${n})`}`}function _d(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Mh(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Sl(n){return((n=Mh(n))<16?"0":"")+n.toString(16)}function Pf(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new oc(n,e,t,i)}function mb(n){if(n instanceof oc)return new oc(n.h,n.s,n.l,n.opacity);if(n instanceof Rv||(n=Fv(n)),!n)return new oc;if(n instanceof oc)return n;var e=(n=n.rgb()).r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(t-i)/a+6*(t<i):t===o?(i-e)/a+2:(e-t)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new oc(s,a,l,n.opacity)}function oc(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}function Bw(n){return(n=(n||0)%360)<0?n+360:n}function gb(n){return Math.max(0,Math.min(1,n||0))}function jw(n,e,t){return 255*(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)}function Ed(n,e,t,i){var r=n-t,o=e-i;return Math.sqrt(r*r+o*o)}function bO(n,e){var t=Math.min.apply(Math,ni([],Kt(n),!1)),i=Math.min.apply(Math,ni([],Kt(e),!1));return{x:t,y:i,width:Math.max.apply(Math,ni([],Kt(n),!1))-t,height:Math.max.apply(Math,ni([],Kt(e),!1))-i}}function _O(n,e,t,i,r,o){return t*Math.cos(r)*Math.cos(o)-i*Math.sin(r)*Math.sin(o)+n}function u3(n,e,t,i,r,o){return t*Math.sin(r)*Math.cos(o)+i*Math.cos(r)*Math.sin(o)+e}function vb(n,e,t,i,r,o,s){for(var a=function l3(n,e,t){return Math.atan(-e/n*Math.tan(t))}(t,i,r),l=1/0,u=-1/0,h=[o,s],p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var v=a+p;o<s?o<v&&v<s&&h.push(v):s<v&&v<o&&h.push(v)}for(p=0;p<h.length;p++){var y=_O(n,0,t,i,r,h[p]);y<l&&(l=y),y>u&&(u=y)}var b=function c3(n,e,t){return Math.atan(e/(n*Math.tan(t)))}(t,i,r),E=1/0,w=-1/0,S=[o,s];for(p=2*-Math.PI;p<=2*Math.PI;p+=Math.PI){var C=b+p;o<s?o<C&&C<s&&S.push(C):s<C&&C<o&&S.push(C)}for(p=0;p<S.length;p++){var D=u3(0,e,t,i,r,S[p]);D<E&&(E=D),D>w&&(w=D)}return{x:l,y:E,width:u-l,height:w-E}}Tw(Rv,Fv,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Lv,formatHex:Lv,formatHex8:function Rw(){return this.rgb().formatHex8()},formatHsl:function OU(){return mb(this).formatHsl()},formatRgb:Pw,toString:Pw}),Tw(nl,function bd(n,e,t,i){return 1===arguments.length?function Lw(n){return n instanceof Rv||(n=Fv(n)),n?new nl((n=n.rgb()).r,n.g,n.b,n.opacity):new nl}(n):new nl(n,e,t,i??1)},Aw(Rv,{brighter(n){return n=null==n?_m:Math.pow(_m,n),new nl(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new nl(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new nl(Mh(this.r),Mh(this.g),Mh(this.b),_d(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vO,formatHex:vO,formatHex8:function Fw(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:yO,toString:yO})),Tw(oc,function Bv(n,e,t,i){return 1===arguments.length?mb(n):new oc(n,e,t,i??1)},Aw(Rv,{brighter(n){return n=null==n?_m:Math.pow(_m,n),new oc(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=null==n?.7:Math.pow(.7,n),new oc(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+360*(this.h<0),e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new nl(jw(n>=240?n-240:n+120,r,i),jw(n,r,i),jw(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new oc(Bw(this.h),gb(this.s),gb(this.l),_d(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=_d(this.opacity);return`${1===n?"hsl(":"hsla("}${Bw(this.h)}, ${100*gb(this.s)}%, ${100*gb(this.l)}%${1===n?")":`, ${n})`}`}}));var d3=1e-4;function Vw(n,e,t,i,r,o){var s=-1,a=1/0,l=[t,i],u=20;o&&o>200&&(u=o/10);for(var h=1/u,p=h/10,v=0;v<=u;v++){var y=v*h,b=[r.apply(void 0,ni([],Kt(n.concat([y])),!1)),r.apply(void 0,ni([],Kt(e.concat([y])),!1))];(E=Ed(l[0],l[1],b[0],b[1]))<a&&(s=y,a=E)}if(0===s)return{x:n[0],y:e[0]};if(1===s){var w=n.length;return{x:n[w-1],y:e[w-1]}}for(a=1/0,v=0;v<32&&!(p<d3);v++){var S=s-p,C=s+p,E=(b=[r.apply(void 0,ni([],Kt(n.concat([S])),!1)),r.apply(void 0,ni([],Kt(e.concat([S])),!1))],Ed(l[0],l[1],b[0],b[1]));if(S>=0&&E<a)s=S,a=E;else{var D=[r.apply(void 0,ni([],Kt(n.concat([C])),!1)),r.apply(void 0,ni([],Kt(e.concat([C])),!1))],k=Ed(l[0],l[1],D[0],D[1]);C<=1&&k<a?(s=C,a=k):p*=.5}}return{x:r.apply(void 0,ni([],Kt(n.concat([s])),!1)),y:r.apply(void 0,ni([],Kt(e.concat([s])),!1))}}function EO(n,e,t,i){return Ed(n,e,t,i)}function zw(n,e,t,i,r){return{x:(1-r)*n+r*t,y:(1-r)*e+r*i}}function Uw(n,e,t,i,r){var o=1-r;return o*o*o*n+3*e*r*o*o+3*t*r*r*o+i*r*r*r}function Gw(n,e,t,i){var l,u,h,r=-3*n+9*e-9*t+3*i,o=6*n-12*e+6*t,s=3*e-3*n,a=[];if(lm(r,0))lm(o,0)||(l=-s/o)>=0&&l<=1&&a.push(l);else{var p=o*o-4*r*s;lm(p,0)?a.push(-o/(2*r)):p>0&&(u=(-o-(h=Math.sqrt(p)))/(2*r),(l=(-o+h)/(2*r))>=0&&l<=1&&a.push(l),u>=0&&u<=1&&a.push(u))}return a}function Hw(n,e,t,i,r,o,s,a){for(var l=[n,s],u=[e,a],h=Gw(n,t,r,s),p=Gw(e,i,o,a),v=0;v<h.length;v++)l.push(Uw(n,t,r,s,h[v]));for(v=0;v<p.length;v++)u.push(Uw(e,i,o,a,p[v]));return bO(l,u)}function wm(n,e,t,i,r,o,s,a,l,u,h){var p=function wO(n,e,t,i,r,o,s,a,l,u,h){return Vw([n,t,r,s],[e,i,o,a],l,u,Uw,h)}(n,e,t,i,r,o,s,a,l,u,h);return Ed(p.x,p.y,l,u)}function $w(n,e,t,i){var r=1-i;return r*r*n+2*i*r*e+i*i*t}function xO(n,e,t){var i=n+t-2*e;if(lm(i,0))return[.5];var r=(n-e)/i;return r<=1&&r>=0?[r]:[]}function f3(n,e,t,i,r,o){var s=xO(n,t,r)[0],a=xO(e,i,o)[0],l=[n,r],u=[e,o];return void 0!==s&&l.push($w(n,t,r,s)),void 0!==a&&u.push($w(e,i,o,a)),bO(l,u)}function Ww(n,e,t,i,r,o,s,a){var l=function yb(n,e,t,i,r,o,s,a){return Vw([n,t,r],[e,i,o],s,a,$w)}(n,e,t,i,r,o,s,a);return Ed(l.x,l.y,s,a)}function cs(){cs=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(ct,ot,rt){ct[ot]=rt.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(ct,ot,rt){return Object.defineProperty(ct,ot,{value:rt,enumerable:!0,configurable:!0,writable:!0}),ct[ot]}try{u({},"")}catch{u=function(ct,ot,rt){return ct[ot]=rt}}function h(ct,ot,rt,Nt){var $e=Object.create((ot&&ot.prototype instanceof S?ot:S).prototype),ye=new It(Nt||[]);return r($e,"_invoke",{value:K(ct,rt,ye)}),$e}function p(ct,ot,rt){try{return{type:"normal",arg:ct.call(ot,rt)}}catch(Nt){return{type:"throw",arg:Nt}}}e.wrap=h;var v="suspendedStart",y="suspendedYield",b="executing",E="completed",w={};function S(){}function C(){}function D(){}var k={};u(k,s,function(){return this});var T=Object.getPrototypeOf,I=T&&T(T(Pt([])));I&&I!==t&&i.call(I,s)&&(k=I);var F=D.prototype=S.prototype=Object.create(k);function z(ct){["next","throw","return"].forEach(function(ot){u(ct,ot,function(rt){return this._invoke(ot,rt)})})}function V(ct,ot){function rt(ie,$e,ye,ln){var kn=p(ct[ie],ct,$e);if("throw"!==kn.type){var oi=kn.arg,Un=oi.value;return Un&&"object"==hh(Un)&&i.call(Un,"__await")?ot.resolve(Un.__await).then(function(fi){rt("next",fi,ye,ln)},function(fi){rt("throw",fi,ye,ln)}):ot.resolve(Un).then(function(fi){oi.value=fi,ye(oi)},function(fi){return rt("throw",fi,ye,ln)})}ln(kn.arg)}var Nt;r(this,"_invoke",{value:function(ie,$e){function ye(){return new ot(function(ln,kn){rt(ie,$e,ln,kn)})}return Nt=Nt?Nt.then(ye,ye):ye()}})}function K(ct,ot,rt){var Nt=v;return function(ie,$e){if(Nt===b)throw Error("Generator is already running");if(Nt===E){if("throw"===ie)throw $e;return{value:n,done:!0}}for(rt.method=ie,rt.arg=$e;;){var ye=rt.delegate;if(ye){var ln=Y(ye,rt);if(ln){if(ln===w)continue;return ln}}if("next"===rt.method)rt.sent=rt._sent=rt.arg;else if("throw"===rt.method){if(Nt===v)throw Nt=E,rt.arg;rt.dispatchException(rt.arg)}else"return"===rt.method&&rt.abrupt("return",rt.arg);Nt=b;var kn=p(ct,ot,rt);if("normal"===kn.type){if(Nt=rt.done?E:y,kn.arg===w)continue;return{value:kn.arg,done:rt.done}}"throw"===kn.type&&(Nt=E,rt.method="throw",rt.arg=kn.arg)}}}function Y(ct,ot){var rt=ot.method,Nt=ct.iterator[rt];if(Nt===n)return ot.delegate=null,"throw"===rt&&ct.iterator.return&&(ot.method="return",ot.arg=n,Y(ct,ot),"throw"===ot.method)||"return"!==rt&&(ot.method="throw",ot.arg=new TypeError("The iterator does not provide a '"+rt+"' method")),w;var ie=p(Nt,ct.iterator,ot.arg);if("throw"===ie.type)return ot.method="throw",ot.arg=ie.arg,ot.delegate=null,w;var $e=ie.arg;return $e?$e.done?(ot[ct.resultName]=$e.value,ot.next=ct.nextLoc,"return"!==ot.method&&(ot.method="next",ot.arg=n),ot.delegate=null,w):$e:(ot.method="throw",ot.arg=new TypeError("iterator result is not an object"),ot.delegate=null,w)}function Q(ct){var ot={tryLoc:ct[0]};1 in ct&&(ot.catchLoc=ct[1]),2 in ct&&(ot.finallyLoc=ct[2],ot.afterLoc=ct[3]),this.tryEntries.push(ot)}function at(ct){var ot=ct.completion||{};ot.type="normal",delete ot.arg,ct.completion=ot}function It(ct){this.tryEntries=[{tryLoc:"root"}],ct.forEach(Q,this),this.reset(!0)}function Pt(ct){if(ct||""===ct){var ot=ct[s];if(ot)return ot.call(ct);if("function"==typeof ct.next)return ct;if(!isNaN(ct.length)){var rt=-1,Nt=function ie(){for(;++rt<ct.length;)if(i.call(ct,rt))return ie.value=ct[rt],ie.done=!1,ie;return ie.value=n,ie.done=!0,ie};return Nt.next=Nt}}throw new TypeError(hh(ct)+" is not iterable")}return C.prototype=D,r(F,"constructor",{value:D,configurable:!0}),r(D,"constructor",{value:C,configurable:!0}),C.displayName=u(D,l,"GeneratorFunction"),e.isGeneratorFunction=function(ct){var ot="function"==typeof ct&&ct.constructor;return!!ot&&(ot===C||"GeneratorFunction"===(ot.displayName||ot.name))},e.mark=function(ct){return Object.setPrototypeOf?Object.setPrototypeOf(ct,D):(ct.__proto__=D,u(ct,l,"GeneratorFunction")),ct.prototype=Object.create(F),ct},e.awrap=function(ct){return{__await:ct}},z(V.prototype),u(V.prototype,a,function(){return this}),e.AsyncIterator=V,e.async=function(ct,ot,rt,Nt,ie){void 0===ie&&(ie=Promise);var $e=new V(h(ct,ot,rt,Nt),ie);return e.isGeneratorFunction(ot)?$e:$e.next().then(function(ye){return ye.done?ye.value:$e.next()})},z(F),u(F,l,"Generator"),u(F,s,function(){return this}),u(F,"toString",function(){return"[object Generator]"}),e.keys=function(ct){var ot=Object(ct),rt=[];for(var Nt in ot)rt.push(Nt);return rt.reverse(),function ie(){for(;rt.length;){var $e=rt.pop();if($e in ot)return ie.value=$e,ie.done=!1,ie}return ie.done=!0,ie}},e.values=Pt,It.prototype={constructor:It,reset:function(ct){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(at),!ct)for(var ot in this)"t"===ot.charAt(0)&&i.call(this,ot)&&!isNaN(+ot.slice(1))&&(this[ot]=n)},stop:function(){this.done=!0;var ct=this.tryEntries[0].completion;if("throw"===ct.type)throw ct.arg;return this.rval},dispatchException:function(ct){if(this.done)throw ct;var ot=this;function rt(kn,oi){return $e.type="throw",$e.arg=ct,ot.next=kn,oi&&(ot.method="next",ot.arg=n),!!oi}for(var Nt=this.tryEntries.length-1;Nt>=0;--Nt){var ie=this.tryEntries[Nt],$e=ie.completion;if("root"===ie.tryLoc)return rt("end");if(ie.tryLoc<=this.prev){var ye=i.call(ie,"catchLoc"),ln=i.call(ie,"finallyLoc");if(ye&&ln){if(this.prev<ie.catchLoc)return rt(ie.catchLoc,!0);if(this.prev<ie.finallyLoc)return rt(ie.finallyLoc)}else if(ye){if(this.prev<ie.catchLoc)return rt(ie.catchLoc,!0)}else{if(!ln)throw Error("try statement without catch or finally");if(this.prev<ie.finallyLoc)return rt(ie.finallyLoc)}}}},abrupt:function(ct,ot){for(var rt=this.tryEntries.length-1;rt>=0;--rt){var Nt=this.tryEntries[rt];if(Nt.tryLoc<=this.prev&&i.call(Nt,"finallyLoc")&&this.prev<Nt.finallyLoc){var ie=Nt;break}}ie&&("break"===ct||"continue"===ct)&&ie.tryLoc<=ot&&ot<=ie.finallyLoc&&(ie=null);var $e=ie?ie.completion:{};return $e.type=ct,$e.arg=ot,ie?(this.method="next",this.next=ie.finallyLoc,w):this.complete($e)},complete:function(ct,ot){if("throw"===ct.type)throw ct.arg;return"break"===ct.type||"continue"===ct.type?this.next=ct.arg:"return"===ct.type?(this.rval=this.arg=ct.arg,this.method="return",this.next="end"):"normal"===ct.type&&ot&&(this.next=ot),w},finish:function(ct){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var rt=this.tryEntries[ot];if(rt.finallyLoc===ct)return this.complete(rt.completion,rt.afterLoc),at(rt),w}},catch:function(ct){for(var ot=this.tryEntries.length-1;ot>=0;--ot){var rt=this.tryEntries[ot];if(rt.tryLoc===ct){var Nt=rt.completion;if("throw"===Nt.type){var ie=Nt.arg;at(rt)}return ie}}throw Error("illegal catch attempt")},delegateYield:function(ct,ot,rt){return this.delegate={iterator:Pt(ct),resultName:ot,nextLoc:rt},"next"===this.method&&(this.arg=n),w}},e}function p3(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(i,r)}function wd(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){p3(o,i,r,s,a,"next",l)}function a(l){p3(o,i,r,s,a,"throw",l)}s(void 0)})}}function Sh(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=IE(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||null==t.return||t.return()}finally{if(a)throw o}}}}function Su(n,e){if(null==n)return{};var t,i,r=function m3(n,e){if(null==n)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)e.includes(t=o[i])||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var v3={exports:{}};v3.exports=function(){function t(T,I,F,z,V){i(T,I,F||0,z||T.length-1,V||o)}function i(T,I,F,z,V){for(;z>F;){if(z-F>600){var K=z-F+1,Y=I-F+1,Q=Math.log(K),at=.5*Math.exp(2*Q/3),It=.5*Math.sqrt(Q*at*(K-at)/K)*(Y-K/2<0?-1:1);i(T,I,Math.max(F,Math.floor(I-Y*at/K+It)),Math.min(z,Math.floor(I+(K-Y)*at/K+It)),V)}var ot=T[I],rt=F,Nt=z;for(r(T,F,I),V(T[z],ot)>0&&r(T,F,z);rt<Nt;){for(r(T,rt,Nt),rt++,Nt--;V(T[rt],ot)<0;)rt++;for(;V(T[Nt],ot)>0;)Nt--}0===V(T[F],ot)?r(T,F,Nt):r(T,++Nt,z),Nt<=I&&(F=Nt+1),I<=Nt&&(z=Nt-1)}}function r(T,I,F){var z=T[I];T[I]=T[F],T[F]=z}function o(T,I){return T<I?-1:T>I?1:0}var s=function(T){void 0===T&&(T=9),this._maxEntries=Math.max(4,T),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(T,I,F){if(!F)return I.indexOf(T);for(var z=0;z<I.length;z++)if(F(T,I[z]))return z;return-1}function l(T,I){u(T,0,T.children.length,I,T)}function u(T,I,F,z,V){V||(V=D(null)),V.minX=1/0,V.minY=1/0,V.maxX=-1/0,V.maxY=-1/0;for(var K=I;K<F;K++){var Y=T.children[K];h(V,T.leaf?z(Y):Y)}return V}function h(T,I){return T.minX=Math.min(T.minX,I.minX),T.minY=Math.min(T.minY,I.minY),T.maxX=Math.max(T.maxX,I.maxX),T.maxY=Math.max(T.maxY,I.maxY),T}function p(T,I){return T.minX-I.minX}function v(T,I){return T.minY-I.minY}function y(T){return(T.maxX-T.minX)*(T.maxY-T.minY)}function b(T){return T.maxX-T.minX+(T.maxY-T.minY)}function E(T,I){return(Math.max(I.maxX,T.maxX)-Math.min(I.minX,T.minX))*(Math.max(I.maxY,T.maxY)-Math.min(I.minY,T.minY))}function w(T,I){var F=Math.max(T.minX,I.minX),z=Math.max(T.minY,I.minY),V=Math.min(T.maxX,I.maxX),K=Math.min(T.maxY,I.maxY);return Math.max(0,V-F)*Math.max(0,K-z)}function S(T,I){return T.minX<=I.minX&&T.minY<=I.minY&&I.maxX<=T.maxX&&I.maxY<=T.maxY}function C(T,I){return I.minX<=T.maxX&&I.minY<=T.maxY&&I.maxX>=T.minX&&I.maxY>=T.minY}function D(T){return{children:T,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(T,I,F,z,V){for(var K=[I,F];K.length;)if(!((F=K.pop())-(I=K.pop())<=z)){var Y=I+Math.ceil((F-I)/z/2)*z;t(T,Y,I,F,V),K.push(I,Y,Y,F)}}return s.prototype.all=function(){return this._all(this.data,[])},s.prototype.search=function(T){var I=this.data,F=[];if(!C(T,I))return F;for(var z=this.toBBox,V=[];I;){for(var K=0;K<I.children.length;K++){var Y=I.children[K],Q=I.leaf?z(Y):Y;C(T,Q)&&(I.leaf?F.push(Y):S(T,Q)?this._all(Y,F):V.push(Y))}I=V.pop()}return F},s.prototype.collides=function(T){var I=this.data;if(!C(T,I))return!1;for(var F=[];I;){for(var z=0;z<I.children.length;z++){var V=I.children[z],K=I.leaf?this.toBBox(V):V;if(C(T,K)){if(I.leaf||S(T,K))return!0;F.push(V)}}I=F.pop()}return!1},s.prototype.load=function(T){if(!T||!T.length)return this;if(T.length<this._minEntries){for(var I=0;I<T.length;I++)this.insert(T[I]);return this}var F=this._build(T.slice(),0,T.length-1,0);if(this.data.children.length)if(this.data.height===F.height)this._splitRoot(this.data,F);else{if(this.data.height<F.height){var z=this.data;this.data=F,F=z}this._insert(F,this.data.height-F.height-1,!0)}else this.data=F;return this},s.prototype.insert=function(T){return T&&this._insert(T,this.data.height-1),this},s.prototype.clear=function(){return this.data=D([]),this},s.prototype.remove=function(T,I){if(!T)return this;for(var Y,Q,at,F=this.data,z=this.toBBox(T),V=[],K=[];F||V.length;){if(F||(F=V.pop(),Q=V[V.length-1],Y=K.pop(),at=!0),F.leaf){var It=a(T,F.children,I);if(-1!==It)return F.children.splice(It,1),V.push(F),this._condense(V),this}at||F.leaf||!S(F,z)?Q?(Y++,F=Q.children[Y],at=!1):F=null:(V.push(F),K.push(Y),Y=0,Q=F,F=F.children[0])}return this},s.prototype.toBBox=function(T){return T},s.prototype.compareMinX=function(T,I){return T.minX-I.minX},s.prototype.compareMinY=function(T,I){return T.minY-I.minY},s.prototype.toJSON=function(){return this.data},s.prototype.fromJSON=function(T){return this.data=T,this},s.prototype._all=function(T,I){for(var F=[];T;)T.leaf?I.push.apply(I,T.children):F.push.apply(F,T.children),T=F.pop();return I},s.prototype._build=function(T,I,F,z){var Y,V=F-I+1,K=this._maxEntries;if(V<=K)return l(Y=D(T.slice(I,F+1)),this.toBBox),Y;z||(z=Math.ceil(Math.log(V)/Math.log(K)),K=Math.ceil(V/Math.pow(K,z-1))),(Y=D([])).leaf=!1,Y.height=z;var Q=Math.ceil(V/K),at=Q*Math.ceil(Math.sqrt(K));k(T,I,F,at,this.compareMinX);for(var It=I;It<=F;It+=at){var Pt=Math.min(It+at-1,F);k(T,It,Pt,Q,this.compareMinY);for(var ct=It;ct<=Pt;ct+=Q){var ot=Math.min(ct+Q-1,Pt);Y.children.push(this._build(T,ct,ot,z-1))}}return l(Y,this.toBBox),Y},s.prototype._chooseSubtree=function(T,I,F,z){for(;z.push(I),!I.leaf&&z.length-1!==F;){for(var V=1/0,K=1/0,Y=void 0,Q=0;Q<I.children.length;Q++){var at=I.children[Q],It=y(at),Pt=E(T,at)-It;Pt<K?(K=Pt,V=It<V?It:V,Y=at):Pt===K&&It<V&&(V=It,Y=at)}I=Y||I.children[0]}return I},s.prototype._insert=function(T,I,F){var z=F?T:this.toBBox(T),V=[],K=this._chooseSubtree(z,this.data,I,V);for(K.children.push(T),h(K,z);I>=0&&V[I].children.length>this._maxEntries;)this._split(V,I),I--;this._adjustParentBBoxes(z,V,I)},s.prototype._split=function(T,I){var F=T[I],z=F.children.length,V=this._minEntries;this._chooseSplitAxis(F,V,z);var K=this._chooseSplitIndex(F,V,z),Y=D(F.children.splice(K,F.children.length-K));Y.height=F.height,Y.leaf=F.leaf,l(F,this.toBBox),l(Y,this.toBBox),I?T[I-1].children.push(Y):this._splitRoot(F,Y)},s.prototype._splitRoot=function(T,I){this.data=D([T,I]),this.data.height=T.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},s.prototype._chooseSplitIndex=function(T,I,F){for(var z,V=1/0,K=1/0,Y=I;Y<=F-I;Y++){var Q=u(T,0,Y,this.toBBox),at=u(T,Y,F,this.toBBox),It=w(Q,at),Pt=y(Q)+y(at);It<V?(V=It,z=Y,K=Pt<K?Pt:K):It===V&&Pt<K&&(K=Pt,z=Y)}return z||F-I},s.prototype._chooseSplitAxis=function(T,I,F){var z=T.leaf?this.compareMinX:p,V=T.leaf?this.compareMinY:v;this._allDistMargin(T,I,F,z)<this._allDistMargin(T,I,F,V)&&T.children.sort(z)},s.prototype._allDistMargin=function(T,I,F,z){T.children.sort(z);for(var V=this.toBBox,K=u(T,0,I,V),Y=u(T,F-I,F,V),Q=b(K)+b(Y),at=I;at<F-I;at++){var It=T.children[at];h(K,T.leaf?V(It):It),Q+=b(K)}for(var Pt=F-I-1;Pt>=I;Pt--){var ct=T.children[Pt];h(Y,T.leaf?V(ct):ct),Q+=b(Y)}return Q},s.prototype._adjustParentBBoxes=function(T,I,F){for(var z=F;z>=0;z--)h(I[z],T)},s.prototype._condense=function(T){for(var I=T.length-1,F=void 0;I>=0;I--)0===T[I].children.length?I>0?(F=T[I-1].children).splice(F.indexOf(T[I]),1):this.clear():l(T[I],this.toBBox)},s}();var CO=v3.exports,qe=function(n){return n.GROUP="g",n.FRAGMENT="fragment",n.CIRCLE="circle",n.ELLIPSE="ellipse",n.IMAGE="image",n.RECT="rect",n.LINE="line",n.POLYLINE="polyline",n.POLYGON="polygon",n.TEXT="text",n.PATH="path",n.HTML="html",n.MESH="mesh",n}({}),zv=function(n){return n[n.ZERO=0]="ZERO",n[n.NEGATIVE_ONE=1]="NEGATIVE_ONE",n}({}),il=function(){return fn(function n(){un(this,n),this.plugins=[]},[{key:"addRenderingPlugin",value:function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)}},{key:"removeAllRenderingPlugins",value:function(){var e=this;this.plugins.forEach(function(t){var i=e.context.renderingPlugins.indexOf(t);i>=0&&e.context.renderingPlugins.splice(i,1)})}}])}(),Nf=function(){return fn(function n(e){un(this,n),this.clipSpaceNearZ=zv.NEGATIVE_ONE,this.plugins=[],this.config=nr({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0},e)},[{key:"registerPlugin",value:function(e){-1===this.plugins.findIndex(function(i){return i===e})&&this.plugins.push(e)}},{key:"unregisterPlugin",value:function(e){var t=this.plugins.findIndex(function(i){return i===e});t>-1&&this.plugins.splice(t,1)}},{key:"getPlugins",value:function(){return this.plugins}},{key:"getPlugin",value:function(e){return this.plugins.find(function(t){return t.name===e})}},{key:"getConfig",value:function(){return this.config}},{key:"setConfig",value:function(e){Object.assign(this.config,e)}}])}(),Uv=bh,xd=Tc,Kw=hv,Xw=pD,No=function(){function n(){un(this,n),this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return fn(n,[{key:"update",value:function(e,t){xd(this.center,e),xd(this.halfExtents,t),Xw(this.min,this.center,this.halfExtents),Uv(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(e,t){Uv(this.center,t,e),Kw(this.center,this.center,.5),Xw(this.halfExtents,t,e),Kw(this.halfExtents,this.halfExtents,.5),xd(this.min,e),xd(this.max,t)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(e){if(!n.isEmpty(e)){if(n.isEmpty(this))return void this.setMinMax(e.getMin(),e.getMax());var t=this.center,i=t[0],r=t[1],o=t[2],s=this.halfExtents,a=s[0],l=s[1],u=s[2],h=i-a,p=i+a,v=r-l,y=r+l,b=o-u,E=o+u,w=e.center,S=w[0],C=w[1],D=w[2],k=e.halfExtents,T=k[0],I=k[1],F=k[2],z=S-T,V=S+T,K=C-I,Y=C+I,Q=D-F,at=D+F;z<h&&(h=z),V>p&&(p=V),K<v&&(v=K),Y>y&&(y=Y),Q<b&&(b=Q),at>E&&(E=at),t[0]=.5*(h+p),t[1]=.5*(v+y),t[2]=.5*(b+E),s[0]=.5*(p-h),s[1]=.5*(y-v),s[2]=.5*(E-b),this.min[0]=h,this.min[1]=v,this.min[2]=b,this.max[0]=p,this.max[1]=y,this.max[2]=E}}},{key:"setFromTransformedAABB",value:function(e,t){var i=this.center,r=this.halfExtents,o=e.center,s=e.halfExtents,a=t[0],l=t[4],u=t[8],h=t[1],p=t[5],v=t[9],y=t[2],b=t[6],E=t[10],w=Math.abs(a),S=Math.abs(l),C=Math.abs(u),D=Math.abs(h),k=Math.abs(p),T=Math.abs(v),I=Math.abs(y),F=Math.abs(b),z=Math.abs(E);i[0]=t[12]+a*o[0]+l*o[1]+u*o[2],i[1]=t[13]+h*o[0]+p*o[1]+v*o[2],i[2]=t[14]+y*o[0]+b*o[1]+E*o[2],r[0]=w*s[0]+S*s[1]+C*s[2],r[1]=D*s[0]+k*s[1]+T*s[2],r[2]=I*s[0]+F*s[1]+z*s[2],Xw(this.min,i,r),Uv(this.max,i,r)}},{key:"intersects",value:function(e){var t=this.getMax(),i=this.getMin(),r=e.getMax(),o=e.getMin();return i[0]<=r[0]&&t[0]>=o[0]&&i[1]<=r[1]&&t[1]>=o[1]&&i[2]<=r[2]&&t[2]>=o[2]}},{key:"intersection",value:function(e){if(!this.intersects(e))return null;var t=new n,i=function fD(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n}([0,0,0],this.getMin(),e.getMin()),r=function hD(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n}([0,0,0],this.getMax(),e.getMax());return t.setMinMax(i,r),t}},{key:"getNegativeFarPoint",value:function(e){return 273===e.pnVertexFlag?xd([0,0,0],this.min):272===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:257===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:256===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:17===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:16===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:1===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]}},{key:"getPositiveFarPoint",value:function(e){return 273===e.pnVertexFlag?xd([0,0,0],this.max):272===e.pnVertexFlag?[this.max[0],this.max[1],this.min[2]]:257===e.pnVertexFlag?[this.max[0],this.min[1],this.max[2]]:256===e.pnVertexFlag?[this.max[0],this.min[1],this.min[2]]:17===e.pnVertexFlag?[this.min[0],this.max[1],this.max[2]]:16===e.pnVertexFlag?[this.min[0],this.max[1],this.min[2]]:1===e.pnVertexFlag?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]}}],[{key:"isEmpty",value:function(e){return!e||0===e.halfExtents[0]&&0===e.halfExtents[1]&&0===e.halfExtents[2]}}])}(),Yw=function(){return fn(function n(e,t){un(this,n),this.distance=e||0,this.normal=t||Br(0,1,0),this.updatePNVertexFlag()},[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(e){return Ac(e,this.normal)-this.distance}},{key:"normalize",value:function(){var e=1/HE(this.normal);hv(this.normal,this.normal,e),this.distance*=e}},{key:"intersectsLine",value:function(e,t,i){var r=this.distanceToPoint(e),s=r/(r-this.distanceToPoint(t)),a=s>=0&&s<=1;return a&&i&&Uy(i,e,t,s),a}}])}(),Dh=function(n){return n[n.OUTSIDE=4294967295]="OUTSIDE",n[n.INSIDE=0]="INSIDE",n[n.INDETERMINATE=2147483647]="INDETERMINATE",n}({}),Zw=function(){return fn(function n(e){if(un(this,n),this.planes=[],e)this.planes=e;else for(var t=0;t<6;t++)this.planes.push(new Yw)},[{key:"extractFromVPMatrix",value:function(e){var t=Ui(e,16),i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],h=t[7],p=t[8],v=t[9],y=t[10],b=t[11],E=t[12],w=t[13],S=t[14],C=t[15];va(this.planes[0].normal,s-i,h-a,b-p),this.planes[0].distance=C-E,va(this.planes[1].normal,s+i,h+a,b+p),this.planes[1].distance=C+E,va(this.planes[2].normal,s+r,h+l,b+v),this.planes[2].distance=C+w,va(this.planes[3].normal,s-r,h-l,b-v),this.planes[3].distance=C-w,va(this.planes[4].normal,s-o,h-u,b-y),this.planes[4].distance=C-S,va(this.planes[5].normal,s+o,h+u,b+y),this.planes[5].distance=C+S,this.planes.forEach(function(D){D.normalize(),D.updatePNVertexFlag()})}}])}(),Rs=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;un(this,n),this.x=0,this.y=0,this.x=e,this.y=t}return fn(n,[{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"copyFrom",value:function(e){this.x=e.x,this.y=e.y}}])}(),Lf=function(){function n(e,t,i,r){un(this,n),this.x=e,this.y=t,this.width=i,this.height=r,this.left=e,this.right=e+i,this.top=t,this.bottom=t+r}return fn(n,[{key:"toJSON",value:function(){}}],[{key:"fromRect",value:function(e){return new n(e.x,e.y,e.width,e.height)}},{key:"applyTransform",value:function(e,t){var i=mv(e.x,e.y,0,1),r=mv(e.x+e.width,e.y,0,1),o=mv(e.x,e.y+e.height,0,1),s=mv(e.x+e.width,e.y+e.height,0,1),a=bu(),l=bu(),u=bu(),h=bu();kc(a,i,t),kc(l,r,t),kc(u,o,t),kc(h,s,t);var p=Math.min(a[0],l[0],u[0],h[0]),v=Math.min(a[1],l[1],u[1],h[1]),y=Math.max(a[0],l[0],u[0],h[0]),b=Math.max(a[1],l[1],u[1],h[1]);return n.fromRect({x:p,y:v,width:y-p,height:b-v})}}])}(),Qr="Method not implemented.",xm="Use document.documentElement instead.";function Ff(n){return void 0===n?0:n>360||n<-360?n%360:n}var Qw=hr();function ba(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Array.isArray(n)&&3===n.length?i?vd(n):Tc(Qw,n):Zn(n)?i?Br(n,e,t):va(Qw,n,e,t):i?Br(n[0],n[1]||e,n[2]||t):va(Qw,n[0],n[1]||e,n[2]||t)}var bb=Math.PI/180;function $r(n){return n*bb}var SO=180/Math.PI;function rl(n){return n*SO}function $v(n){return 360*n}var _b=Math.PI/2;function Eb(n,e){return 16===e.length?function _3(n,e){var t,i,o=Ui(gd(hr(),e),3),s=o[0],a=o[1],l=o[2],u=Math.asin(-e[2]/s);return u<_b?u>-_b?(t=Math.atan2(e[6]/a,e[10]/l),i=Math.atan2(e[1]/s,e[0]/s)):(i=0,t=-Math.atan2(e[4]/a,e[5]/a)):(i=0,t=Math.atan2(e[4]/a,e[5]/a)),n[0]=t,n[1]=u,n[2]=i,n}(n,e):function b3(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],a=i*i,l=r*r,u=o*o,h=t*t+a+l+u,p=t*o-i*r;return p>.499995*h?(n[0]=_b,n[1]=2*Math.atan2(i,t),n[2]=0):p<-.499995*h?(n[0]=-_b,n[1]=2*Math.atan2(i,t),n[2]=0):(n[0]=Math.asin(2*(t*r-o*i)),n[1]=Math.atan2(2*(t*o+i*r),1-2*(l+u)),n[2]=Math.atan2(2*(t*i+r*o),1-2*(a+l))),n}(n,e)}function OO(n,e,t,i,r){var o=Math.cos(n),s=Math.sin(n);return function QS(n,e,t,i,r,o,s,a,l){var u=new no(9);return u[0]=n,u[1]=e,u[2]=t,u[3]=i,u[4]=r,u[5]=o,u[6]=s,u[7]=a,u[8]=l,u}(i*o,r*s,0,-i*s,r*o,0,e,t,1)}function Wv(n){var e=n[0],t=n[1],i=n[3],r=n[4],o=Math.sqrt(e*e+t*t),s=Math.sqrt(i*i+r*r);if(e*r-t*i<0&&(e<r?o=-o:s=-s),o){var l=1/o;e*=l,t*=l}if(s){var u=1/s;i*=u,r*=u}var p=rl(Math.atan2(t,e));return[n[6],n[7],o,s,p]}var ol=ji(),sc=ji(),Cm=bu(),Wi=[hr(),hr(),hr()],Mm=hr();function xb(n,e,t,i,r){n[0]=e[0]*i+t[0]*r,n[1]=e[1]*i+t[1]*r,n[2]=e[2]*i+t[2]*r}var Gr=function(n){return n[n.ORBITING=0]="ORBITING",n[n.EXPLORING=1]="EXPLORING",n[n.TRACKING=2]="TRACKING",n}({}),Cb=function(n){return n[n.DEFAULT=0]="DEFAULT",n[n.ROTATIONAL=1]="ROTATIONAL",n[n.TRANSLATIONAL=2]="TRANSLATIONAL",n[n.CINEMATIC=3]="CINEMATIC",n}({}),sl=function(n){return n[n.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",n[n.PERSPECTIVE=1]="PERSPECTIVE",n}({}),Jw={UPDATED:"updated"},Mb=function(){return fn(function n(){un(this,n),this.clipSpaceNearZ=zv.NEGATIVE_ONE,this.eventEmitter=new YS,this.matrix=ji(),this.right=Br(1,0,0),this.up=Br(0,1,0),this.forward=Br(0,0,1),this.position=Br(0,0,1),this.focalPoint=Br(0,0,0),this.distanceVector=Br(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=ji(),this.projectionMatrixInverse=ji(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=Gr.EXPLORING,this.trackingMode=Cb.DEFAULT,this.projectionMode=sl.PERSPECTIVE,this.frustum=new Zw,this.orthoMatrix=ji()},[{key:"isOrtho",value:function(){return this.projectionMode===sl.ORTHOGRAPHIC}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.jitteredProjectionMatrix||this.projectionMatrix}},{key:"getPerspectiveInverse",value:function(){return this.projectionMatrixInverse}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getDollyingStep",value:function(){return this.dollyingStep}},{key:"getNear",value:function(){return this.near}},{key:"getFar",value:function(){return this.far}},{key:"getZoom",value:function(){return this.zoom}},{key:"getOrthoMatrix",value:function(){return this.orthoMatrix}},{key:"getView",value:function(){return this.view}},{key:"setEnableUpdate",value:function(e){this.enableUpdate=e}},{key:"setType",value:function(e,t){return this.type=e,this.setWorldRotation(this.type===Gr.EXPLORING),this._getAngles(),this.type===Gr.TRACKING&&void 0!==t&&this.setTrackingMode(t),this}},{key:"setProjectionMode",value:function(e){return this.projectionMode=e,this}},{key:"setTrackingMode",value:function(e){if(this.type!==Gr.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this}},{key:"setWorldRotation",value:function(e){return this.rotateWorld=e,this._getAngles(),this}},{key:"getViewTransform",value:function(){return xl(ji(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"jitterProjectionMatrix",value:function(e,t){var i=mh(ji(),[e,t,0]);this.jitteredProjectionMatrix=ma(ji(),i,this.projectionMatrix)}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0}},{key:"setMatrix",value:function(e){return this.matrix=e,this._update(),this}},{key:"setProjectionMatrix",value:function(e){this.projectionMatrix=e}},{key:"setFov",value:function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this}},{key:"setAspect",value:function(e){return this.setPerspective(this.near,this.far,this.fov,e),this}},{key:"setNear",value:function(e){return this.projectionMode===sl.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this}},{key:"setFar",value:function(e){return this.projectionMode===sl.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this}},{key:"setViewOffset",value:function(e,t,i,r,o,s){return this.aspect=e/t,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.projectionMode===sl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===sl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setZoom",value:function(e){return this.zoom=e,this.projectionMode===sl.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===sl.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this}},{key:"setZoomByViewportPoint",value:function(e,t){var i=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),r=i.x,o=i.y,s=this.roll;this.rotate(0,0,-s),this.setPosition(r,o),this.setFocalPoint(r,o),this.setZoom(e),this.rotate(0,0,s);var a=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),h=Br(a.x-r,a.y-o,0),p=Ac(h,this.right)/yu(this.right),v=Ac(h,this.up)/yu(this.up),b=Ui(this.getPosition(),2),E=b[0],w=b[1],C=Ui(this.getFocalPoint(),2),D=C[0],k=C[1];return this.setPosition(E-p,w-v),this.setFocalPoint(D-p,k-v),this}},{key:"setPerspective",value:function(e,t,i,r){var o;this.projectionMode=sl.PERSPECTIVE,this.fov=i,this.near=e,this.far=t,this.aspect=r;var s=this.near*Math.tan($r(.5*this.fov))/this.zoom,a=2*s,l=this.aspect*a,u=-.5*l;if(null!==(o=this.view)&&void 0!==o&&o.enabled){var h=this.view.fullWidth,p=this.view.fullHeight;u+=this.view.offsetX*l/h,s-=this.view.offsetY*a/p,l*=this.view.width/h,a*=this.view.height/p}return function E3(n,e,t,i,r,o,s){var E,w,l=2*o,u=t-e,h=i-r,v=l/h,y=(t+e)/u,b=(i+r)/h,S=s-o,C=s*o;arguments.length>7&&void 0!==arguments[7]&&arguments[7]?(E=-s/S,w=-C/S):(E=-(s+o)/S,w=-2*C/S),n[0]=l/u,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=v,n[6]=0,n[7]=0,n[8]=y,n[9]=b,n[10]=E,n[11]=-1,n[12]=0,n[13]=0,n[14]=w,n[15]=0}(this.projectionMatrix,u,u+l,s-a,s,e,this.far,this.clipSpaceNearZ===zv.ZERO),xl(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this}},{key:"setOrthographic",value:function(e,t,i,r,o,s){var a;this.projectionMode=sl.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=i,this.bottom=r,this.near=o,this.far=s;var l=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),h=(this.rright+this.left)/2,p=(this.top+this.bottom)/2,v=h-l,y=h+l,b=p+u,E=p-u;if(null!==(a=this.view)&&void 0!==a&&a.enabled){var w=(this.rright-this.left)/this.view.fullWidth/this.zoom,S=(this.top-this.bottom)/this.view.fullHeight/this.zoom;y=(v+=w*this.view.offsetX)+w*this.view.width,E=(b-=S*this.view.offsetY)-S*this.view.height}return this.clipSpaceNearZ===zv.NEGATIVE_ONE?cD(this.projectionMatrix,v,y,b,E,o,s):VE(this.projectionMatrix,v,y,b,E,o,s),xl(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this}},{key:"setPosition",value:function(e){var r=ba(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.position[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.position[2]);return this._setPosition(r),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this}},{key:"setFocalPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focalPoint[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.focalPoint[2],r=Br(0,1,0);if(this.focalPoint=ba(e,t,i),this.trackingMode===Cb.CINEMATIC){var o=GE(hr(),this.focalPoint,this.position);e=o[0],t=o[1],i=o[2];var s=yu(o),a=rl(Math.asin(t/s)),l=90+rl(Math.atan2(i,e)),u=ji();BE(u,u,$r(l)),nD(u,u,$r(a)),r=Ko(hr(),[0,1,0],u)}return xl(this.matrix,Vy(ji(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this}},{key:"getDistance",value:function(){return this.distance}},{key:"getDistanceVector",value:function(){return this.distanceVector}},{key:"setDistance",value:function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var t=hr(),i=this.forward,r=this.focalPoint;return t[0]=(e=this.distance)*i[0]+r[0],t[1]=e*i[1]+r[1],t[2]=e*i[2]+r[2],this._setPosition(t),this.triggerUpdate(),this}},{key:"setMaxDistance",value:function(e){return this.maxDistance=e,this}},{key:"setMinDistance",value:function(e){return this.minDistance=e,this}},{key:"setAzimuth",value:function(e){return this.azimuth=Ff(e),this.computeMatrix(),this._getAxes(),this.type===Gr.ORBITING||this.type===Gr.EXPLORING?this._getPosition():this.type===Gr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(e){return this.elevation=Ff(e),this.computeMatrix(),this._getAxes(),this.type===Gr.ORBITING||this.type===Gr.EXPLORING?this._getPosition():this.type===Gr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getElevation",value:function(){return this.elevation}},{key:"setRoll",value:function(e){return this.roll=Ff(e),this.computeMatrix(),this._getAxes(),this.type===Gr.ORBITING||this.type===Gr.EXPLORING?this._getPosition():this.type===Gr.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this}},{key:"getRoll",value:function(){return this.roll}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()}},{key:"computeMatrix",value:function(){var e=Ra(ks(),[0,0,1],$r(this.roll));vu(this.matrix);var t=Ra(ks(),[1,0,0],$r((this.rotateWorld&&this.type!==Gr.TRACKING||this.type===Gr.TRACKING?1:-1)*this.elevation)),i=Ra(ks(),[0,1,0],$r((this.rotateWorld&&this.type!==Gr.TRACKING||this.type===Gr.TRACKING?1:-1)*this.azimuth)),r=Ic(ks(),i,t);r=Ic(ks(),r,e);var o=jy(ji(),r);this.type===Gr.ORBITING||this.type===Gr.EXPLORING?(wf(this.matrix,this.matrix,this.focalPoint),ma(this.matrix,this.matrix,o),wf(this.matrix,this.matrix,[0,0,this.distance])):this.type===Gr.TRACKING&&(wf(this.matrix,this.matrix,this.position),ma(this.matrix,this.matrix,o))}},{key:"_setPosition",value:function(e,t,i){this.position=ba(e,t,i);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1,this._getOrthoMatrix()}},{key:"_getAxes",value:function(){Tc(this.right,ba(kc(bu(),[1,0,0,0],this.matrix))),Tc(this.up,ba(kc(bu(),[0,1,0,0],this.matrix))),Tc(this.forward,ba(kc(bu(),[0,0,1,0],this.matrix))),_h(this.right,this.right),_h(this.up,this.up),_h(this.forward,this.forward)}},{key:"_getAngles",value:function(){var e=this.distanceVector[0],t=this.distanceVector[1],i=this.distanceVector[2],r=yu(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Gr.TRACKING||this.rotateWorld?(this.elevation=rl(Math.asin(t/r)),this.azimuth=rl(Math.atan2(-e,-i))):(this.elevation=-rl(Math.asin(t/r)),this.azimuth=-rl(Math.atan2(-e,-i)))}},{key:"_getPosition",value:function(){Tc(this.position,ba(kc(bu(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){(function uN(n,e,t){var i=e[0],r=e[1],o=e[2];n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8]})(this.distanceVector,[0,0,-this.distance],function ZS(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}(cv(),this.matrix)),bh(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=GE(hr(),this.focalPoint,this.position),this.distance=yu(this.distanceVector),this.dollyingStep=this.distance/100}},{key:"_getOrthoMatrix",value:function(){if(this.projectionMode===sl.ORTHOGRAPHIC){var e=this.position,t=Ra(ks(),[0,0,1],-this.roll*Math.PI/180);xf(this.orthoMatrix,t,Br((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),Br(this.zoom,this.zoom,1),e)}}},{key:"triggerUpdate",value:function(){if(this.enableUpdate){var e=this.getViewTransform(),t=ma(ji(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(Jw.UPDATED)}}},{key:"rotate",value:function(e,t,i){throw new Error(Qr)}},{key:"pan",value:function(e,t){throw new Error(Qr)}},{key:"dolly",value:function(e){throw new Error(Qr)}},{key:"createLandmark",value:function(e,t){throw new Error(Qr)}},{key:"gotoLandmark",value:function(e,t){throw new Error(Qr)}},{key:"cancelLandmarkAnimation",value:function(){throw new Error(Qr)}}])}(),ex=function(n){return n[n.Standard=0]="Standard",n}({}),Bf=function(n){return n[n.ADDED=0]="ADDED",n[n.REMOVED=1]="REMOVED",n[n.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED",n}({}),TO={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Lf(0,0,0,0)},Wn=function(n){return n.COORDINATE="<coordinate>",n.COLOR="<color>",n.PAINT="<paint>",n.NUMBER="<number>",n.ANGLE="<angle>",n.OPACITY_VALUE="<opacity-value>",n.SHADOW_BLUR="<shadow-blur>",n.LENGTH="<length>",n.PERCENTAGE="<percentage>",n.LENGTH_PERCENTAGE="<length> | <percentage>",n.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",n.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",n.LIST_OF_POINTS="<list-of-points>",n.PATH="<path>",n.FILTER="<filter>",n.Z_INDEX="<z-index>",n.OFFSET_DISTANCE="<offset-distance>",n.DEFINED_PATH="<defined-path>",n.MARKER="<marker>",n.TRANSFORM="<transform>",n.TRANSFORM_ORIGIN="<transform-origin>",n.TEXT="<text>",n.TEXT_TRANSFORM="<text-transform>",n}({});function La(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=e?e.apply(this,r):r[0],a=t.cache;if(a.has(s))return a.get(s);var l=n.apply(this,r);return t.cache=a.set(s,l)||a,l};return t.cache=new(La.Cache||Map),t}La.Cache=Map;var Kn=function(n){return n[n.kUnknown=0]="kUnknown",n[n.kNumber=1]="kNumber",n[n.kPercentage=2]="kPercentage",n[n.kEms=3]="kEms",n[n.kPixels=4]="kPixels",n[n.kRems=5]="kRems",n[n.kDegrees=6]="kDegrees",n[n.kRadians=7]="kRadians",n[n.kGradians=8]="kGradians",n[n.kTurns=9]="kTurns",n[n.kMilliseconds=10]="kMilliseconds",n[n.kSeconds=11]="kSeconds",n[n.kInteger=12]="kInteger",n}({}),Rc=function(n){return n[n.kUNumber=0]="kUNumber",n[n.kUPercent=1]="kUPercent",n[n.kULength=2]="kULength",n[n.kUAngle=3]="kUAngle",n[n.kUTime=4]="kUTime",n[n.kUOther=5]="kUOther",n}({}),x3=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),nx=function(n){return n[n.kYes=0]="kYes",n[n.kNo=1]="kNo",n}({}),C3=[{name:"em",unit_type:Kn.kEms},{name:"px",unit_type:Kn.kPixels},{name:"deg",unit_type:Kn.kDegrees},{name:"rad",unit_type:Kn.kRadians},{name:"grad",unit_type:Kn.kGradians},{name:"ms",unit_type:Kn.kMilliseconds},{name:"s",unit_type:Kn.kSeconds},{name:"rem",unit_type:Kn.kRems},{name:"turn",unit_type:Kn.kTurns}],Sm=function(n){return n[n.kUnknownType=0]="kUnknownType",n[n.kUnparsedType=1]="kUnparsedType",n[n.kKeywordType=2]="kKeywordType",n[n.kUnitType=3]="kUnitType",n[n.kSumType=4]="kSumType",n[n.kProductType=5]="kProductType",n[n.kNegateType=6]="kNegateType",n[n.kInvertType=7]="kInvertType",n[n.kMinType=8]="kMinType",n[n.kMaxType=9]="kMaxType",n[n.kClampType=10]="kClampType",n[n.kTransformType=11]="kTransformType",n[n.kPositionType=12]="kPositionType",n[n.kURLImageType=13]="kURLImageType",n[n.kColorType=14]="kColorType",n[n.kUnsupportedColorType=15]="kUnsupportedColorType",n}({}),Sb=function(n){var e=1;switch(n){case Kn.kPixels:case Kn.kDegrees:case Kn.kSeconds:break;case Kn.kMilliseconds:e=.001;break;case Kn.kRadians:e=180/Math.PI;break;case Kn.kGradians:e=.9;break;case Kn.kTurns:e=360}return e},rx=function(n){switch(n){case Kn.kNumber:case Kn.kInteger:return"";case Kn.kPercentage:return"%";case Kn.kEms:return"em";case Kn.kRems:return"rem";case Kn.kPixels:return"px";case Kn.kDegrees:return"deg";case Kn.kRadians:return"rad";case Kn.kGradians:return"grad";case Kn.kMilliseconds:return"ms";case Kn.kSeconds:return"s";case Kn.kTurns:return"turn"}return""},Du=function(){return fn(function n(){un(this,n)},[{key:"toString",value:function(){return this.buildCSSText(x3.kNo,nx.kNo,"")}},{key:"isNumericValue",value:function(){return this.getType()>=Sm.kUnitType&&this.getType()<=Sm.kClampType}}],[{key:"isAngle",value:function(e){return e===Kn.kDegrees||e===Kn.kRadians||e===Kn.kGradians||e===Kn.kTurns}},{key:"isLength",value:function(e){return e>=Kn.kEms&&e<Kn.kDegrees}},{key:"isRelativeUnit",value:function(e){return e===Kn.kPercentage||e===Kn.kEms||e===Kn.kRems}},{key:"isTime",value:function(e){return e===Kn.kSeconds||e===Kn.kMilliseconds}}])}(),AO=function(n){function e(t){var i;return un(this,e),(i=Ei(this,e)).colorSpace=t,i}return zi(e,n),fn(e,[{key:"getType",value:function(){return Sm.kColorType}},{key:"to",value:function(t){return this}}])}(Du),Dl=function(n){return n[n.Constant=0]="Constant",n[n.LinearGradient=1]="LinearGradient",n[n.RadialGradient=2]="RadialGradient",n}({}),Xv=function(n){function e(t,i){var r;return un(this,e),(r=Ei(this,e)).type=t,r.value=i,r}return zi(e,n),fn(e,[{key:"clone",value:function(){return new e(this.type,this.value)}},{key:"buildCSSText",value:function(t,i,r){return r}},{key:"getType",value:function(){return Sm.kColorType}}])}(Du),Ol=function(n){function e(t){var i;return un(this,e),(i=Ei(this,e)).value=t,i}return zi(e,n),fn(e,[{key:"clone",value:function(){return new e(this.value)}},{key:"getType",value:function(){return Sm.kKeywordType}},{key:"buildCSSText",value:function(t,i,r){return r+this.value}}])}(Du),ox=function(n){return function(n){switch(n){case Rc.kUNumber:return Kn.kNumber;case Rc.kULength:return Kn.kPixels;case Rc.kUPercent:return Kn.kPercentage;case Rc.kUTime:return Kn.kSeconds;case Rc.kUAngle:return Kn.kDegrees;default:return Kn.kUnknown}}(function(n){switch(n){case Kn.kNumber:case Kn.kInteger:return Rc.kUNumber;case Kn.kPercentage:return Rc.kUPercent;case Kn.kPixels:return Rc.kULength;case Kn.kMilliseconds:case Kn.kSeconds:return Rc.kUTime;case Kn.kDegrees:case Kn.kRadians:case Kn.kGradians:case Kn.kTurns:return Rc.kUAngle;default:return Rc.kUOther}}(n))},Wr=function(n){function e(t){var i,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn.kNumber;return un(this,e),i=Ei(this,e),o="string"==typeof r?function(n){return n?"number"===n?Kn.kNumber:"percent"===n||"%"===n?Kn.kPercentage:function(n){return C3.find(function(e){return e.name===n}).unit_type}(n):Kn.kUnknown}(r):r,i.unit=o,i.value=t,i}return zi(e,n),fn(e,[{key:"clone",value:function(){return new e(this.value,this.unit)}},{key:"equals",value:function(t){return this.value===t.value&&this.unit===t.unit}},{key:"getType",value:function(){return Sm.kUnitType}},{key:"convertTo",value:function(t){if(this.unit===t)return new e(this.value,this.unit);var i=ox(this.unit);if(i!==ox(t)||i===Kn.kUnknown)return null;var r=Sb(this.unit)/Sb(t);return new e(this.value*r,t)}},{key:"buildCSSText",value:function(t,i,r){var o;switch(this.unit){case Kn.kUnknown:break;case Kn.kInteger:o=Number(this.value).toFixed(0);break;case Kn.kNumber:case Kn.kPercentage:case Kn.kEms:case Kn.kRems:case Kn.kPixels:case Kn.kDegrees:case Kn.kRadians:case Kn.kGradians:case Kn.kMilliseconds:case Kn.kSeconds:case Kn.kTurns:var l=this.value,u=rx(this.unit);if(l<-999999||l>999999){var h=rx(this.unit);o=!Number.isFinite(l)||Number.isNaN(l)?function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(Number.isFinite(n)?"NaN":n>0?"infinity":"-infinity")+e}(l,h):l+(h||"")}else o="".concat(l).concat(u)}return r+o}}])}(Du),Pc=new Wr(0,"px");new Wr(1,"px");var Oh=new Wr(0,"deg"),Vf=function(n){function e(t,i,r){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return un(this,e),(o=Ei(this,e,["rgb"])).r=t,o.g=i,o.b=r,o.alpha=s,o.isNone=a,o}return zi(e,n),fn(e,[{key:"clone",value:function(){return new e(this.r,this.g,this.b,this.alpha)}},{key:"buildCSSText",value:function(t,i,r){return"".concat(r,"rgba(").concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")}}])}(AO),kO=new Ol("unset"),sx={"":kO,unset:kO,initial:new Ol("initial"),inherit:new Ol("inherit")},Th=new Vf(0,0,0,0,!0),zf=new Vf(0,0,0,0),Yv=La(function(n,e,t,i){return new Vf(n,e,t,i)},function(n,e,t,i){return"rgba(".concat(n,",").concat(e,",").concat(t,",").concat(i,")")}),Uo=function(n){return new Wr(n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kn.kNumber)};function RO(n){var e=n.type,t=n.value;return"hex"===e?"#".concat(t):"literal"===e?t:"rgb"===e?"rgb(".concat(t.join(","),")"):"rgba(".concat(t.join(","),")")}new Wr(50,"%");var ax=function(){var n={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function t(ot){throw new Error("".concat(e,": ").concat(ot))}function o(){return s("linear-gradient",n.linearGradient,l)||s("repeating-linear-gradient",n.repeatingLinearGradient,l)||s("radial-gradient",n.radialGradient,p)||s("repeating-radial-gradient",n.repeatingRadialGradient,p)||s("conic-gradient",n.conicGradient,p)}function s(ot,rt,Nt){return a(rt,function(ie){var $e=Nt();return $e&&(Pt(n.comma)||t("Missing comma before color stops")),{type:ot,orientation:$e,colorStops:D(k)}})}function a(ot,rt){var Nt=Pt(ot);if(Nt){Pt(n.startCall)||t("Missing (");var ie=rt(Nt);return Pt(n.endCall)||t("Missing )"),ie}}function l(){return function u(){return It("directional",n.sideOrCorner,1)}()||function h(){return It("angular",n.angleValue,1)}()}function p(){var ot,Nt,rt=v();return rt&&((ot=[]).push(rt),Nt=e,Pt(n.comma)&&((rt=v())?ot.push(rt):e=Nt)),ot}function v(){var ot=function y(){var ot=It("shape",/^(circle)/i,0);return ot&&(ot.style=at()||E()),ot}()||function b(){var ot=It("shape",/^(ellipse)/i,0);return ot&&(ot.style=Y()||E()),ot}();if(ot)ot.at=w();else{var rt=E();if(rt){ot=rt;var Nt=w();Nt&&(ot.at=Nt)}else{var ie=S();ie&&(ot={type:"default-radial",at:ie})}}return ot}function E(){return It("extent-keyword",n.extentKeywords,1)}function w(){if(It("position",/^at/,0)){var ot=S();return ot||t("Missing positioning value"),ot}}function S(){var ot=function C(){return{x:Y(),y:Y()}}();if(ot.x||ot.y)return{type:"position",value:ot}}function D(ot){var rt=ot(),Nt=[];if(rt)for(Nt.push(rt);Pt(n.comma);)(rt=ot())?Nt.push(rt):t("One extra comma");return Nt}function k(){var ot=function T(){return function F(){return It("hex",n.hexColor,1)}()||function V(){return a(n.rgbaColor,function(){return{type:"rgba",value:D(K)}})}()||function z(){return a(n.rgbColor,function(){return{type:"rgb",value:D(K)}})}()||function I(){return It("literal",n.literalColor,0)}()}();return ot||t("Expected color definition"),ot.length=Y(),ot}function K(){return Pt(n.number)[1]}function Y(){return It("%",n.percentageValue,1)||function Q(){return It("position-keyword",n.positionKeywords,1)}()||at()}function at(){return It("px",n.pixelValue,1)||It("em",n.emValue,1)}function It(ot,rt,Nt){var ie=Pt(rt);if(ie)return{type:ot,value:ie[Nt]}}function Pt(ot){var rt=/^[\n\r\t\s]+/.exec(e);rt&&ct(rt[0].length);var Nt=ot.exec(e);return Nt&&ct(Nt[0].length),Nt}function ct(ot){e=e.substring(ot)}return function(ot){return e=ot,function i(){var ot=function r(){return D(o)}();return e.length>0&&t("Invalid input not EOF"),ot}()}}();function lx(n,e,t,i){var r=$r(i.value),a=0+e/2,l=0+t/2,u=Math.abs(e*Math.cos(r))+Math.abs(t*Math.sin(r));return{x1:n[0]+a-Math.cos(r)*u/2,y1:n[1]+l-Math.sin(r)*u/2,x2:n[0]+a+Math.cos(r)*u/2,y2:n[1]+l+Math.sin(r)*u/2}}function Db(n,e,t,i,r,o){var s=i.value,a=r.value;i.unit===Kn.kPercentage&&(s=i.value/100*e),r.unit===Kn.kPercentage&&(a=r.value/100*t);var l=Math.max(Na([0,0],[s,a]),Na([0,t],[s,a]),Na([e,t],[s,a]),Na([e,0],[s,a]));return o&&(o instanceof Wr?l=o.value:o instanceof Ol&&("closest-side"===o.value?l=Math.min(s,e-s,a,t-a):"farthest-side"===o.value?l=Math.max(s,e-s,a,t-a):"closest-corner"===o.value&&(l=Math.min(Na([0,0],[s,a]),Na([0,t],[s,a]),Na([e,t],[s,a]),Na([e,0],[s,a]))))),{x:s+n[0],y:a+n[1],r:l}}var T3=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,PO=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,AU=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,NO=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,cx={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},A3=La(function(n){var e;return e="angular"===n.type?Number(n.value):cx[n.value]||0,Uo(e,"deg")}),k3=La(function(n){var e=50,t=50,i="%",r="%";if("position"===n?.type){var o=n.value,s=o.x,a=o.y;"position-keyword"===s?.type&&("left"===s.value?e=0:"center"===s.value?e=50:"right"===s.value?e=100:"top"===s.value?t=0:"bottom"===s.value&&(t=100)),"position-keyword"===a?.type&&("left"===a.value?e=0:"center"===a.value?t=50:"right"===a.value?e=100:"top"===a.value?t=0:"bottom"===a.value&&(t=100)),("px"===s?.type||"%"===s?.type||"em"===s?.type)&&(i=s?.type,e=Number(s.value)),("px"===a?.type||"%"===a?.type||"em"===a?.type)&&(r=a?.type,t=Number(a.value))}return{cx:Uo(e,i),cy:Uo(t,r)}}),I3=La(function(n){if(n.indexOf("linear")>-1||n.indexOf("radial")>-1)return ax(n).map(function(a){var l=a.type,u=a.orientation,h=a.colorStops;!function Zv(n){var e,i,t=n.length;n[t-1].length=null!==(e=n[t-1].length)&&void 0!==e?e:{type:"%",value:"100"},t>1&&(n[0].length=null!==(i=n[0].length)&&void 0!==i?i:{type:"%",value:"0"});for(var r=0,o=Number(n[0].length.value),s=1;s<t;s++){var a,l=null===(a=n[s].length)||void 0===a?void 0:a.value;if(!Ri(l)&&!Ri(o)){for(var u=1;u<s-r;u++)n[r+u].length={type:"%",value:"".concat(o+(Number(l)-o)*u/(s-r))};r=s,o=Number(l)}}}(h);var p=h.map(function(D){return{offset:Uo(Number(D.length.value),"%"),color:RO(D)}});if("linear-gradient"===l)return new Xv(Dl.LinearGradient,{angle:u?A3(u):Oh,steps:p});if("radial-gradient"===l&&(u||(u=[{type:"shape",value:"circle"}]),"shape"===u[0].type&&"circle"===u[0].value)){var E,v=k3(u[0].at),y=v.cx,b=v.cy;if(u[0].style){var w=u[0].style,S=w.type,C=w.value;E="extent-keyword"===S?function(n){return sx[n]||(sx[n]=new Ol(n)),sx[n]}(C):Uo(C,S)}return new Xv(Dl.RadialGradient,{cx:y,cy:b,size:E,steps:p})}});var t=n[0];if("("===n[1]||"("===n[2])if("l"===t){var i=T3.exec(n);if(i){var r,o=(null===(r=i[2].match(NO))||void 0===r?void 0:r.map(function(a){return a.split(":")}))||[];return[new Xv(Dl.LinearGradient,{angle:Uo(parseFloat(i[1]),"deg"),steps:o.map(function(a){var l=Ui(a,2),h=l[1];return{offset:Uo(100*Number(l[0]),"%"),color:h}})})]}}else if("r"===t){var s=function ux(n){var e=PO.exec(n);if(e){var t,i=(null===(t=e[4].match(NO))||void 0===t?void 0:t.map(function(r){return r.split(":")}))||[];return{cx:Uo(50,"%"),cy:Uo(50,"%"),steps:i.map(function(r){var o=Ui(r,2),a=o[1];return{offset:Uo(100*Number(o[0]),"%"),color:a}})}}return null}(n);if(s){if(!Li(s))return[new Xv(Dl.RadialGradient,s)];n=s}}else if("p"===t)return function Ah(n){var e=AU.exec(n);if(e){var t=e[1],i=e[2];switch(t){case"a":t="repeat";break;case"x":t="repeat-x";break;case"y":t="repeat-y";break;default:t="no-repeat"}return{image:i,repetition:t}}return null}(n)});function Qv(n){return!!n.type&&!!n.value}function Ou(n){return n&&!!n.image}function ac(n){return n&&!Ri(n.r)&&!Ri(n.g)&&!Ri(n.b)}var Dm=La(function(n){if(Ou(n))return nr({repetition:"repeat"},n);if(Ri(n)&&(n=""),"transparent"===n)return zf;if("currentColor"===n)n="black";else if("none"===n)return Th;var e=I3(n);if(e)return e;var t=Fv(n),i=[0,0,0,0];return null!==t&&(i[0]=t.r||0,i[1]=t.g||0,i[2]=t.b||0,i[3]=t.opacity),Yv.apply(void 0,i)});function LO(n,e){if(ac(n)&&ac(e))return[[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var i=t.slice();if(i[3])for(var r=0;r<3;r++)i[r]=Math.round(Mo(i[r],0,255));return i[3]=Mo(i[3],0,1),"rgba(".concat(i.join(","),")")}]}function Uf(n,e){if(Ri(e))return Uo(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(n)>=0)return Uo(Number(e),"px");if("deg".search(n)>=0)return Uo(Number(e),"deg")}var t=[];e=e.replace(n,function(r){return t.push(r),"U".concat(r)});var i="U(".concat(n.source,")");return t.map(function(r){return Uo(Number(e.replace(new RegExp("U".concat(r),"g"),"").replace(new RegExp(i,"g"),"*0")),r)})[0]}var dx=function(n){return Uf(new RegExp("px","g"),n)},Cd=La(dx);La(function(n){return Uf(new RegExp("%","g"),n)});var R3=function(n){return Zn(n)||isFinite(Number(n))?Uo(Number(n)||0,"px"):Uf(new RegExp("px|%|em|rem","g"),n)},Om=La(R3),hx=function(n){return Uf(new RegExp("deg|rad|grad|turn","g"),n)},FO=La(hx);function P3(n,e,t,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o="",s=n.value||0,a=e.value||0,l=ox(n.unit),u=n.convertTo(l),h=e.convertTo(l);return u&&h?(s=u.value,a=h.value,o=rx(n.unit)):(Wr.isLength(n.unit)||Wr.isLength(e.unit))&&(s=Tl(n,r,t),a=Tl(e,r,t),o="px"),[s,a,function(p){return p+o}]}function Bs(n){var e=0;return n.unit===Kn.kDegrees?e=n.value:n.unit===Kn.kRadians?e=rl(Number(n.value)):n.unit===Kn.kTurns?e=$v(Number(n.value)):n.value&&(e=n.value),e}function BO(n,e){var t;return Array.isArray(n)?t=n.map(function(i){return Number(i)}):Li(n)?t=n.split(" ").map(function(i){return Number(i)}):Zn(n)&&(t=[n]),2===e?1===t.length?[t[0],t[0]]:[t[0],t[1]]:1===t.length?[t[0],t[0],t[0],t[0]]:2===t.length?[t[0],t[1],t[0],t[1]]:3===t.length?[t[0],t[1],t[2],t[1]]:[t[0],t[1],t[2],t[3]]}function Tl(n,e,t){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n.unit===Kn.kPixels)return Number(n.value);if(n.unit===Kn.kPercentage&&t){var r=t.nodeName===qe.GROUP?t.getLocalBounds():t.getGeometryBounds();return(i?r.min[e]:0)+n.value/100*r.halfExtents[e]*2}return 0}var N3=function(n){return Uf(/deg|rad|grad|turn|px|%/g,n)},L3=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function jO(n){return n.toString()}var VO=function(n){return"number"==typeof n?Uo(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?Uo(Number(n)):Uo(0)},fx=La(VO);function Tm(n,e){return[n,e,jO]}function px(n,e){return function(t,i){return[t,i,function(r){return jO(Mo(r,n,e))}]}}function zO(n,e){if(n.length===e.length)return[n,e,function(t){return t}]}function Jv(n){return 0===n.parsedStyle.d.totalLength&&(n.parsedStyle.d.totalLength=bm(n.parsedStyle.d.absolutePath)),n.parsedStyle.d.totalLength}function t0(n,e){return n[0]===e[0]&&n[1]===e[1]}function e0(n,e){var t=n.prePoint,i=n.currentPoint,r=n.nextPoint,o=Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2),s=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),a=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2),l=Math.acos((o+s-a)/(2*Math.sqrt(o)*Math.sqrt(s)));if(!l||0===Math.sin(l)||lm(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),h=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1]));return u=u>Math.PI/2?Math.PI-u:u,h=h>Math.PI/2?Math.PI-h:h,{xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(h-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}function vx(n,e){return[e[0]+(e[0]-n[0]),e[1]+(e[1]-n[1])]}La(function(n){return Li(n)?n.split(" ").map(fx):n.map(fx)});var HO=function(n,e){var t=n.x*e.x+n.y*e.y,i=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2)));return(n.x*e.y-n.y*e.x<0?-1:1)*Math.acos(t/i)},$O=function(n,e,t,i,r,o,s,a){e=Math.abs(e),t=Math.abs(t);var l=$r(i=tb(i,360));if(n.x===s.x&&n.y===s.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(0===e||0===t)return{x:0,y:0,ellipticalArcAngle:0};var u=(n.x-s.x)/2,h=(n.y-s.y)/2,p={x:Math.cos(l)*u+Math.sin(l)*h,y:-Math.sin(l)*u+Math.cos(l)*h},v=Math.pow(p.x,2)/Math.pow(e,2)+Math.pow(p.y,2)/Math.pow(t,2);v>1&&(e*=Math.sqrt(v),t*=Math.sqrt(v));var E=(Math.pow(e,2)*Math.pow(t,2)-Math.pow(e,2)*Math.pow(p.y,2)-Math.pow(t,2)*Math.pow(p.x,2))/(Math.pow(e,2)*Math.pow(p.y,2)+Math.pow(t,2)*Math.pow(p.x,2));E=E<0?0:E;var w=(r!==o?1:-1)*Math.sqrt(E),S_x=w*(e*p.y/t),S_y=w*(-t*p.x/e),C={x:Math.cos(l)*S_x-Math.sin(l)*S_y+(n.x+s.x)/2,y:Math.sin(l)*S_x+Math.cos(l)*S_y+(n.y+s.y)/2},D={x:(p.x-S_x)/e,y:(p.y-S_y)/t},k=HO({x:1,y:0},D),I=HO(D,{x:(-p.x-S_x)/e,y:(-p.y-S_y)/t});!o&&I>0?I-=2*Math.PI:o&&I<0&&(I+=2*Math.PI);var F=k+(I%=2*Math.PI)*a,z=e*Math.cos(F),V=t*Math.sin(F);return{x:Math.cos(l)*z-Math.sin(l)*V+C.x,y:Math.sin(l)*z+Math.cos(l)*V+C.y,ellipticalArcStartAngle:k,ellipticalArcEndAngle:k+I,ellipticalArcAngle:F,ellipticalArcCenter:C,resultantRx:e,resultantRy:t}};function Ob(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=n.arcParams,r=i.rx,o=void 0===r?0:r,s=i.ry,a=void 0===s?0:s,l=i.xRotation,u=i.arcFlag,h=i.sweepFlag,p=$O({x:n.prePoint[0],y:n.prePoint[1]},o,a,l,!!u,!!h,{x:n.currentPoint[0],y:n.currentPoint[1]},e),v=$O({x:n.prePoint[0],y:n.prePoint[1]},o,a,l,!!u,!!h,{x:n.currentPoint[0],y:n.currentPoint[1]},t?e+.005:e-.005),y=v.x-p.x,b=v.y-p.y,E=Math.sqrt(y*y+b*b);return{x:-y/E,y:-b/E}}function Am(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Tb(n,e){return Am(n)*Am(e)?(n[0]*e[0]+n[1]*e[1])/(Am(n)*Am(e)):1}function Ab(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(Tb(n,e))}function yx(n,e){var t=e[1],i=e[2],r=tb($r(e[3]),2*Math.PI),o=e[4],s=e[5],a=n[0],l=n[1],u=e[6],h=e[7],p=Math.cos(r)*(a-u)/2+Math.sin(r)*(l-h)/2,v=-1*Math.sin(r)*(a-u)/2+Math.cos(r)*(l-h)/2,y=p*p/(t*t)+v*v/(i*i);y>1&&(t*=Math.sqrt(y),i*=Math.sqrt(y));var b=t*t*(v*v)+i*i*(p*p),E=b?Math.sqrt((t*t*(i*i)-b)/b):1;o===s&&(E*=-1),isNaN(E)&&(E=0);var w=i?E*t*v/i:0,S=t?E*-i*p/t:0,C=(a+u)/2+Math.cos(r)*w-Math.sin(r)*S,D=(l+h)/2+Math.sin(r)*w+Math.cos(r)*S,k=[(p-w)/t,(v-S)/i],T=[(-1*p-w)/t,(-1*v-S)/i],I=Ab([1,0],k),F=Ab(k,T);return Tb(k,T)<=-1&&(F=Math.PI),Tb(k,T)>=1&&(F=0),0===s&&F>0&&(F-=2*Math.PI),1===s&&F<0&&(F+=2*Math.PI),{cx:C,cy:D,rx:t0(n,[u,h])?0:t,ry:t0(n,[u,h])?0:i,startAngle:I,endAngle:I+F,xRotation:r,arcFlag:o,sweepFlag:s}}function WO(n,e,t,i){var r=(-1+Math.sqrt(2))/3*4,o=n*r,s=e*r,a=t-n,l=t+n,u=i-e,h=i+e;return[["M",a,i],["C",a,i-s,t-o,u,t,u],["C",t+o,u,l,i-s,l,i],["C",l,i+s,t+o,h,t,h],["C",t-o,h,a,i+s,a,i],["Z"]]}function kb(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=n.map(function(s,a){var u=n[a+1],h=0===a&&(0!==e||0!==t),p=(a===n.length-1||u&&("M"===u[0]||"Z"===u[0]))&&0!==i&&0!==r;switch(s[0]){case"M":return h?"M ".concat(s[1]+e,",").concat(s[2]+t," L ").concat(s[1],",").concat(s[2]):"M ".concat(s[1],",").concat(s[2]);case"L":return"L ".concat(s[1]+(p?i:0),",").concat(s[2]+(p?r:0));case"Q":return"Q ".concat(s[1]," ").concat(s[2],",").concat(s[3]," ").concat(s[4]).concat(p?" L ".concat(s[3]+i,",").concat(s[4]+r):"");case"C":return"C ".concat(s[1]," ").concat(s[2],",").concat(s[3]," ").concat(s[4],",").concat(s[5]," ").concat(s[6]).concat(p?" L ".concat(s[5]+i,",").concat(s[6]+r):"");case"A":return"A ".concat(s[1]," ").concat(s[2]," ").concat(s[3]," ").concat(s[4]," ").concat(s[5]," ").concat(s[6]," ").concat(s[7]).concat(p?" L ".concat(s[6]+i,",").concat(s[7]+r):"");case"Z":return"Z";default:return null}}).filter(function(s){return null!==s}).join(" ");return~o.indexOf("NaN")?"":o}var _x=function(n){if(""===n||Array.isArray(n)&&0===n.length)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=Ch(n)}catch{e=Ch(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}!function mx(n){for(var e=0;e<n.length;e++){var t=n[e-1],i=n[e];if("M"===i[0]&&t){var o=t[0],a=void 0;"L"===o||"M"===o?a=[t[1],t[2]]:("C"===o||"A"===o||"Q"===o)&&(a=[t[t.length-2],t[t.length-1]]),a&&t0([i[1],i[2]],a)&&(n.splice(e,1),e--)}}}(e);var t=function GO(n){for(var e=!1,t=n.length,i=0;i<t;i++){var o=n[i][0];if("C"===o||"A"===o||"Q"===o){e=!0;break}}return e}(e),i=function B3(n){for(var e=[],t=[],i=[],r=0;r<n.length;r++){var o=n[r],s=o[0];"M"===s?(i.length&&(t.push(i),i=[]),i.push([o[1],o[2]])):"Z"===s?i.length&&(e.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&t.push(i),{polygons:e,polylines:t}}(e),r=i.polygons,o=i.polylines,s=function j3(n){for(var e=[],t=null,i=null,r=null,o=0,s=n.length,a=0;a<s;a++){var l=n[a];i=n[a+1];var u=l[0],h={command:u,prePoint:t,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":r=[l[1],l[2]],o=a;break;case"A":var p=yx(t,l);h.arcParams=p}if("Z"===u)t=r,i=n[o+1];else{var v=l.length;t=[l[v-2],l[v-1]]}i&&"Z"===i[0]&&(i=n[o],e[o]&&(e[o].prePoint=t)),h.currentPoint=t,e[o]&&t0(t,e[o].currentPoint)&&(e[o].prePoint=h.prePoint),h.nextPoint=i?[i[i.length-2],i[i.length-1]]:null;var b=h.prePoint;if(["L","H","V"].includes(u))h.startTangent=[b[0]-t[0],b[1]-t[1]],h.endTangent=[t[0]-b[0],t[1]-b[1]];else if("Q"===u){var E=[l[1],l[2]];h.startTangent=[b[0]-E[0],b[1]-E[1]],h.endTangent=[t[0]-E[0],t[1]-E[1]]}else if("T"===u){var w=e[a-1],S=vx(w.currentPoint,b);"Q"===w.command?(h.command="Q",h.startTangent=[b[0]-S[0],b[1]-S[1]],h.endTangent=[t[0]-S[0],t[1]-S[1]]):(h.command="TL",h.startTangent=[b[0]-t[0],b[1]-t[1]],h.endTangent=[t[0]-b[0],t[1]-b[1]])}else if("C"===u){var C=[l[1],l[2]],D=[l[3],l[4]];h.startTangent=[b[0]-C[0],b[1]-C[1]],h.endTangent=[t[0]-D[0],t[1]-D[1]],0===h.startTangent[0]&&0===h.startTangent[1]&&(h.startTangent=[C[0]-D[0],C[1]-D[1]]),0===h.endTangent[0]&&0===h.endTangent[1]&&(h.endTangent=[D[0]-C[0],D[1]-C[1]])}else if("S"===u){var k=e[a-1],T=vx(k.currentPoint,b),I=[l[1],l[2]];"C"===k.command?(h.command="C",h.startTangent=[b[0]-T[0],b[1]-T[1]],h.endTangent=[t[0]-I[0],t[1]-I[1]]):(h.command="SQ",h.startTangent=[b[0]-I[0],b[1]-I[1]],h.endTangent=[t[0]-I[0],t[1]-I[1]])}else if("A"===u){var F=Ob(h,0),z=F.x,V=F.y,K=Ob(h,1,!1),Y=K.x,Q=K.y;h.startTangent=[z,V],h.endTangent=[Y,Q]}e.push(h)}return e}(e),a=function gx(n,e){for(var t=[],i=[],r=[],o=0;o<n.length;o++){var s=n[o],a=s.currentPoint,l=s.params,u=s.prePoint,h=void 0;switch(s.command){case"Q":h=f3(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":h=Hw(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var p=s.arcParams;h=vb(p.cx,p.cy,p.rx,p.ry,p.xRotation,p.startAngle,p.endAngle);break;default:t.push(a[0]),i.push(a[1])}h&&(s.box=h,t.push(h.x,h.x+h.width),i.push(h.y,h.y+h.height))}t=t.filter(function(k){return!Number.isNaN(k)&&k!==1/0&&k!==-1/0}),i=i.filter(function(k){return!Number.isNaN(k)&&k!==1/0&&k!==-1/0});var v=_v(t),y=_v(i),b=bv(t),E=bv(i);if(0===r.length)return{x:v,y,width:b-v,height:E-y};for(var w=0;w<r.length;w++){var S=r[w],C=S.currentPoint;C[0]===v?v-=e0(S,e).xExtra:C[0]===b&&(b+=e0(S,e).xExtra),C[1]===y?y-=e0(S,e).yExtra:C[1]===E&&(E+=e0(S,e).yExtra)}return{x:v,y,width:b-v,height:E-y}}(s,0),l=a.x,u=a.y,h=a.width,p=a.height;return{absolutePath:e,hasArc:t,segments:s,polygons:r,polylines:o,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(h)?h:0,height:Number.isFinite(p)?p:0}}},XO=La(_x);function Ib(n){return Li(n)?XO(n):_x(n)}function G3(n,e,t){var i=n.curve,r=e.curve;(!i||0===i.length)&&(i=vm(n.absolutePath,!1),n.curve=i),(!r||0===r.length)&&(r=vm(e.absolutePath,!1),e.curve=r);var o=[i,r];i.length!==r.length&&(o=xw(i,r));var s=Iv(o[0])!==Iv(o[1])?vw(o[0]):nO(o[0]);return[s,fb(o[1],s),function(a){return a}]}function H3(n,e){return[n.points,e.points,function(t){return t}]}var Lo=null,Gf=/\s*(\w+)\(([^)]*)\)/g;function Fa(n){return function(e){var t=0;return n.map(function(i){return i===Lo?e[t++]:i})}}function qo(n){return n}var Hf={matrix:["NNNNNN",[Lo,Lo,0,0,Lo,Lo,0,0,0,0,1,0,Lo,Lo,0,1],qo],matrix3d:["NNNNNNNNNNNNNNNN",qo],rotate:["A"],rotateX:["A"],rotateY:["A"],rotateZ:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",Fa([Lo,Lo,new Wr(1)]),qo],scaleX:["N",Fa([Lo,new Wr(1),new Wr(1)]),Fa([Lo,new Wr(1)])],scaleY:["N",Fa([new Wr(1),Lo,new Wr(1)]),Fa([new Wr(1),Lo])],scaleZ:["N",Fa([new Wr(1),new Wr(1),Lo])],scale3d:["NNN",qo],skew:["Aa",null,qo],skewX:["A",null,Fa([Lo,Oh])],skewY:["A",null,Fa([Oh,Lo])],translate:["Tt",Fa([Lo,Lo,Pc]),qo],translateX:["T",Fa([Lo,Pc,Pc]),Fa([Lo,Pc])],translateY:["T",Fa([Pc,Lo,Pc]),Fa([Pc,Lo])],translateZ:["L",Fa([Pc,Pc,Lo])],translate3d:["TTL",qo]};function $3(n){for(var e=[],t=n.length,i=0;i<t;i++){var r=n[i],o=r[0],s=r.slice(1);if("translate"===o||"skew"===o?1===s.length&&s.push(0):"scale"===o&&1===s.length&&s.push(s[0]),!Hf[o])return[];var l=s.map(function(u){return Uo(u)});e.push({t:o,d:l})}return e}function Ex(n){if(Array.isArray(n))return $3(n);if("none"===(n=(n||"none").trim()))return[];var t,e=[],i=0;for(Gf.lastIndex=0;t=Gf.exec(n);){if(t.index!==i)return[];i=t.index+t[0].length;var r=t[1],o=Hf[r];if(!o)return[];var s=t[2].split(","),a=o[0];if(a.length<s.length)return[];for(var l=[],u=0;u<a.length;u++){var v,h=s[u],p=a[u];if(void 0===(v=h?{A:function(y){return"0"===y.trim()?Oh:FO(y)},N:fx,T:Om,L:Cd}[p.toUpperCase()](h):{a:Oh,n:l[0],t:Pc}[p]))return[];l.push(v)}if(e.push({t:r,d:l}),Gf.lastIndex===n.length)return e}return[]}function ZO(n){if(Array.isArray(n))return $3(n);if("none"===(n=(n||"none").trim()))return[];var t,e=[],i=0;for(Gf.lastIndex=0;t=Gf.exec(n);){if(t.index!==i)return[];i=t.index+t[0].length;var r=t[1],o=Hf[r];if(!o)return[];var s=t[2].split(","),a=o[0];if(a.length<s.length)return[];for(var l=[],u=0;u<a.length;u++){var v,h=s[u],p=a[u];if(void 0===(v=h?{A:function(y){return"0"===y.trim()?Oh:hx(y)},N:VO,T:R3,L:dx}[p.toUpperCase()](h):{a:Oh,n:l[0],t:Pc}[p]))return[];l.push(v)}if(e.push({t:r,d:l}),Gf.lastIndex===n.length)return e}return[]}function QO(n){var e,t,i,r;switch(n.t){case"rotateX":return r=$r(Bs(n.d[0])),[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1];case"rotateY":return r=$r(Bs(n.d[0])),[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1];case"rotate":case"rotateZ":return r=$r(Bs(n.d[0])),[Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=n.d[0].value,t=n.d[1].value,i=n.d[2].value,r=$r(Bs(n.d[3]));var o=e*e+t*t+i*i;if(0===o)e=1,t=0,i=0;else if(1!==o){var s=Math.sqrt(o);e/=s,t/=s,i/=s}var a=Math.sin(r/2),l=a*Math.cos(r/2),u=a*a;return[1-2*(t*t+i*i)*u,2*(e*t*u+i*l),2*(e*i*u-t*l),0,2*(e*t*u-i*l),1-2*(e*e+i*i)*u,2*(t*i*u+e*l),0,2*(e*i*u+t*l),2*(t*i*u-e*l),1-2*(e*e+t*t)*u,0,0,0,0,1];case"scale":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scaleX":return[n.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaleY":return[1,0,0,0,0,n.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scaleZ":return[1,0,0,0,0,1,0,0,0,0,n.d[0].value,0,0,0,0,1];case"scale3d":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,n.d[2].value,0,0,0,0,1];case"skew":var h=$r(Bs(n.d[0])),p=$r(Bs(n.d[1]));return[1,Math.tan(p),0,0,Math.tan(h),1,0,0,0,0,1,0,0,0,0,1];case"skewX":return r=$r(Bs(n.d[0])),[1,0,0,0,Math.tan(r),1,0,0,0,0,1,0,0,0,0,1];case"skewY":return r=$r(Bs(n.d[0])),[1,Math.tan(r),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Tl(n.d[0],0,null)||0,t=Tl(n.d[1],0,null)||0,0,1];case"translateX":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Tl(n.d[0],0,null)||0,0,0,1];case"translateY":return[1,0,0,0,0,1,0,0,0,0,1,0,0,t=Tl(n.d[0],0,null)||0,0,1];case"translateZ":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,i=Tl(n.d[0],0,null)||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,e=Tl(n.d[0],0,null)||0,t=Tl(n.d[1],0,null)||0,i=Tl(n.d[2],0,null)||0,1];case"perspective":var v=Tl(n.d[0],0,null)||0;return[1,0,0,0,0,1,0,0,0,0,1,v?-1/v:0,0,0,0,1];case"matrix":return[n.d[0].value,n.d[1].value,0,0,n.d[2].value,n.d[3].value,0,0,0,0,1,0,n.d[4].value,n.d[5].value,0,1];case"matrix3d":return n.d.map(function(b){return b.value})}}function qO(n,e){return[n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3],n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3],n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3],n[3]*e[0]+n[7]*e[1]+n[11]*e[2]+n[15]*e[3],n[0]*e[4]+n[4]*e[5]+n[8]*e[6]+n[12]*e[7],n[1]*e[4]+n[5]*e[5]+n[9]*e[6]+n[13]*e[7],n[2]*e[4]+n[6]*e[5]+n[10]*e[6]+n[14]*e[7],n[3]*e[4]+n[7]*e[5]+n[11]*e[6]+n[15]*e[7],n[0]*e[8]+n[4]*e[9]+n[8]*e[10]+n[12]*e[11],n[1]*e[8]+n[5]*e[9]+n[9]*e[10]+n[13]*e[11],n[2]*e[8]+n[6]*e[9]+n[10]*e[10]+n[14]*e[11],n[3]*e[8]+n[7]*e[9]+n[11]*e[10]+n[15]*e[11],n[0]*e[12]+n[4]*e[13]+n[8]*e[14]+n[12]*e[15],n[1]*e[12]+n[5]*e[13]+n[9]*e[14]+n[13]*e[15],n[2]*e[12]+n[6]*e[13]+n[10]*e[14]+n[14]*e[15],n[3]*e[12]+n[7]*e[13]+n[11]*e[14]+n[15]*e[15]]}function xx(n){var e=[0,0,0],t=[1,1,1],i=[0,0,0],r=[0,0,0,1],o=[0,0,0,1];return function wb(n,e,t,i,r,o){if(!function TU(n,e){var t=e[15];if(0===t)return!1;for(var i=1/t,r=0;r<16;r++)n[r]=e[r]*i;return!0}(ol,n)||(ph(sc,ol),sc[3]=0,sc[7]=0,sc[11]=0,sc[15]=1,Math.abs(tD(sc))<1e-8))return!1;var s=ol[3],a=ol[7],l=ol[11],u=ol[12],h=ol[13],p=ol[14],v=ol[15];if(0!==s||0!==a||0!==l){if(Cm[0]=s,Cm[1]=a,Cm[2]=l,Cm[3]=v,!xl(sc,sc))return!1;LE(sc,sc),kc(r,Cm,sc)}else r[0]=r[1]=r[2]=0,r[3]=1;if(e[0]=u,e[1]=h,e[2]=p,function w3(n,e){n[0][0]=e[0],n[0][1]=e[1],n[0][2]=e[2],n[1][0]=e[4],n[1][1]=e[5],n[1][2]=e[6],n[2][0]=e[8],n[2][1]=e[9],n[2][2]=e[10]}(Wi,ol),t[0]=yu(Wi[0]),_h(Wi[0],Wi[0]),i[0]=Ac(Wi[0],Wi[1]),xb(Wi[1],Wi[1],Wi[0],1,-i[0]),t[1]=yu(Wi[1]),_h(Wi[1],Wi[1]),i[0]/=t[1],i[1]=Ac(Wi[0],Wi[2]),xb(Wi[2],Wi[2],Wi[0],1,-i[1]),i[2]=Ac(Wi[1],Wi[2]),xb(Wi[2],Wi[2],Wi[1],1,-i[2]),t[2]=yu(Wi[2]),_h(Wi[2],Wi[2]),i[1]/=t[2],i[2]/=t[2],function fv(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],l=t[2];return n[0]=r*l-o*a,n[1]=o*s-i*l,n[2]=i*a-r*s,n}(Mm,Wi[1],Wi[2]),Ac(Wi[0],Mm)<0)for(var b=0;b<3;b++)t[b]*=-1,Wi[b][0]*=-1,Wi[b][1]*=-1,Wi[b][2]*=-1;o[0]=.5*Math.sqrt(Math.max(1+Wi[0][0]-Wi[1][1]-Wi[2][2],0)),o[1]=.5*Math.sqrt(Math.max(1-Wi[0][0]+Wi[1][1]-Wi[2][2],0)),o[2]=.5*Math.sqrt(Math.max(1-Wi[0][0]-Wi[1][1]+Wi[2][2],0)),o[3]=.5*Math.sqrt(Math.max(1+Wi[0][0]+Wi[1][1]+Wi[2][2],0)),Wi[2][1]>Wi[1][2]&&(o[0]=-o[0]),Wi[0][2]>Wi[2][0]&&(o[1]=-o[1]),Wi[1][0]>Wi[0][1]&&(o[2]=-o[2])}(function wx(n){return 0===n.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:n.map(QO).reduce(qO)}(n),e,t,i,r,o),[[e,t,i,o,r]]}var JO=function(){function n(i,r){for(var o=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],s=0;s<4;s++)for(var a=0;a<4;a++)for(var l=0;l<4;l++)o[s][a]+=r[s][l]*i[l][a];return o}return function t(i,r,o,s,a){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=a[u];for(var h=0;h<3;h++)for(var p=0;p<3;p++)l[3][h]+=i[p]*l[p][h];var v=s[0],y=s[1],b=s[2],E=s[3],w=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];w[0][0]=1-2*(y*y+b*b),w[0][1]=2*(v*y-b*E),w[0][2]=2*(v*b+y*E),w[1][0]=2*(v*y+b*E),w[1][1]=1-2*(v*v+b*b),w[1][2]=2*(y*b-v*E),w[2][0]=2*(v*b-y*E),w[2][1]=2*(y*b+v*E),w[2][2]=1-2*(v*v+y*y),l=n(l,w);var S=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];o[2]&&(S[2][1]=o[2],l=n(l,S)),o[1]&&(S[2][1]=0,S[2][0]=o[0],l=n(l,S)),o[0]&&(S[2][0]=0,S[1][0]=o[0],l=n(l,S));for(var C=0;C<3;C++)for(var D=0;D<3;D++)l[C][D]*=r[C];return function e(i){return 0===i[0][2]&&0===i[0][3]&&0===i[1][2]&&0===i[1][3]&&0===i[2][0]&&0===i[2][1]&&1===i[2][2]&&0===i[2][3]&&0===i[3][2]&&1===i[3][3]}(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}}();function tT(n){return n.toFixed(6).replace(".000000","")}function Rb(n,e){var t,i;return n.decompositionPair!==e&&(n.decompositionPair=e,t=xx(n)),e.decompositionPair!==n&&(e.decompositionPair=n,i=xx(e)),null===t[0]||null===i[0]?[[!1],[!0],function(r){return r?e[0].d:n[0].d}]:(t[0].push(0),i[0].push(1),[t,i,function(r){var o=function eT(n,e,t){var i=function W3(n,e){for(var t=0,i=0;i<n.length;i++)t+=n[i]*e[i];return t}(n,e),r=[];if(1===(i=Mo(i,-1,1)))r=n;else for(var o=Math.acos(i),s=1*Math.sin(t*o)/Math.sqrt(1-i*i),a=0;a<4;a++)r.push(n[a]*(Math.cos(t*o)-i*s)+e[a]*s);return r}(t[0][3],i[0][3],r[5]);return JO(r[0],r[1],r[2],o,r[4]).map(tT).join(",")}])}function Cx(n){return n.replace(/[XY]/,"")}function Mx(n){return n.replace(/(X|Y|Z|3d)?$/,"3d")}var kU=function(n,e){return"perspective"===n&&"perspective"===e||("matrix"===n||"matrix3d"===n)&&("matrix"===e||"matrix3d"===e)};function nT(n,e,t){var i=!1;if(!n.length||!e.length){n.length||(i=!0,n=e,e=[]);for(var r=function(){var K=n[o],Y=K.t,Q=K.d,at="scale"===Y.substring(0,5)?1:0;e.push({t:Y,d:Q.map(function(It){return"number"==typeof It?Uo(at):Uo(at,It.unit)})})},o=0;o<n.length;o++)r()}var s=[],a=[],l=[];if(n.length!==e.length){var u=Rb(n,e);s=[u[0]],a=[u[1]],l=[["matrix",[u[2]]]]}else for(var h=0;h<n.length;h++){var p=n[h].t,v=e[h].t,y=n[h].d,b=e[h].d,E=Hf[p],w=Hf[v],S=void 0;if(kU(p,v)){var C=Rb([n[h]],[e[h]]);s.push(C[0]),a.push(C[1]),l.push(["matrix",[C[2]]])}else{if(p===v)S=p;else if(E[2]&&w[2]&&Cx(p)===Cx(v))S=Cx(p),y=E[2](y),b=w[2](b);else{if(!E[1]||!w[1]||Mx(p)!==Mx(v)){var D=Rb(n,e);s=[D[0]],a=[D[1]],l=[["matrix",[D[2]]]];break}S=Mx(p),y=E[1](y),b=w[1](b)}for(var k=[],T=[],I=[],F=0;F<y.length;F++){var z=P3(y[F],b[F],t,!1,F);k[F]=z[0],T[F]=z[1],I.push(z[2])}s.push(k),a.push(T),l.push([S,I])}}if(i){var V=s;s=a,a=V}return[s,a,function(K){return K.map(function(Y,Q){var at=Y.map(function(It,Pt){return l[Q][1][Pt](It)}).join(",");return"matrix"===l[Q][0]&&16===at.split(",").length&&(l[Q][0]="matrix3d"),"matrix3d"===l[Q][0]&&6===at.split(",").length&&(l[Q][0]="matrix"),"".concat(l[Q][0],"(").concat(at,")")}).join(" ")}]}var K3=La(function(n){if(Li(n)){if("text-anchor"===n)return[Uo(0,"px"),Uo(0,"px")];var e=n.split(" ");return 1===e.length&&("top"===e[0]||"bottom"===e[0]?(e[1]=e[0],e[0]="center"):e[1]="center"),2!==e.length?null:[Om(iT(e[0])),Om(iT(e[1]))]}return[Uo(n[0]||0,"px"),Uo(n[1]||0,"px")]});function iT(n){return"center"===n?"50%":"left"===n||"top"===n?"0%":"right"===n||"bottom"===n?"100%":n}var Sx=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:Wn.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:Wn.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:Wn.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:Wn.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:Wn.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:Wn.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:Wn.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:Wn.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:Wn.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:Wn.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:Wn.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:Wn.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:Wn.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:Wn.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:Wn.FILTER},{n:"clipPath",syntax:Wn.DEFINED_PATH},{n:"textPath",syntax:Wn.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:Wn.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:Wn.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:Wn.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:Wn.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:Wn.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:Wn.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:Wn.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:Wn.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:Wn.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:Wn.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:Wn.COORDINATE},{n:"y1",int:!0,l:!0,syntax:Wn.COORDINATE},{n:"z1",int:!0,l:!0,syntax:Wn.COORDINATE},{n:"x2",int:!0,l:!0,syntax:Wn.COORDINATE},{n:"y2",int:!0,l:!0,syntax:Wn.COORDINATE},{n:"z2",int:!0,l:!0,syntax:Wn.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:Wn.PATH,p:50},{n:"points",int:!0,l:!0,syntax:Wn.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:Wn.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:Wn.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:Wn.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:Wn.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:Wn.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:Wn.NUMBER,d:function(n){return n===qe.PATH||n===qe.POLYGON||n===qe.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:Wn.MARKER},{n:"markerEnd",syntax:Wn.MARKER},{n:"markerMid",syntax:Wn.MARKER},{n:"markerStartOffset",syntax:Wn.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:Wn.LENGTH,l:!0,int:!0,d:"0"}],rT=Sx.filter(function(n){return!!n.l}).map(function(n){return n.n}),km={},IU=function(){return fn(function n(e){var t=this;un(this,n),this.runtime=e,Sx.forEach(function(i){t.registerMetadata(i)})},[{key:"registerMetadata",value:function(e){[e.n].concat(pa(e.a||[])).forEach(function(t){km[t]=e})}},{key:"getPropertySyntax",value:function(e){return this.runtime.CSSPropertySyntaxFactory[e]}},{key:"processProperties",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0};Object.assign(e.attributes,t);var r=e.parsedStyle.clipPath,o=e.parsedStyle.offsetPath;Object.assign(e.parsedStyle,t);var s=!!i.forceUpdateGeometry;!s&&rT.some(function(a){return a in t})&&(s=!0),t.fill&&(e.parsedStyle.fill=Dm(t.fill)),t.stroke&&(e.parsedStyle.stroke=Dm(t.stroke)),t.shadowColor&&(e.parsedStyle.shadowColor=Dm(t.shadowColor)),t.filter&&(e.parsedStyle.filter=function F3(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("none"===(n=n.toLowerCase().trim()))return[];for(var i,e=/\s*([\w-]+)\(([^)]*)\)/g,t=[],r=0;i=e.exec(n);){if(i.index!==r)return[];if(r=i.index+i[0].length,L3.indexOf(i[1])>-1&&t.push({name:i[1],params:i[2].split(" ").map(function(o){return N3(o)||Dm(o)})}),e.lastIndex===n.length)return t}return[]}(t.filter)),Ri(t.radius)||(e.parsedStyle.radius=BO(t.radius,4)),Ri(t.lineDash)||(e.parsedStyle.lineDash=BO(t.lineDash,2)),t.points&&(e.parsedStyle.points=function YO(n){return{points:Li(n)?n.split(" ").map(function(i){var o=Ui(i.split(","),2),a=o[1];return[Number(o[0]),Number(a)]}):n,totalLength:0,segments:[]}}(t.points)),""===t.d&&(e.parsedStyle.d=nr({},TO)),t.d&&(e.parsedStyle.d=Ib(t.d)),t.textTransform&&this.runtime.CSSPropertySyntaxFactory[Wn.TEXT_TRANSFORM].calculator(null,null,{value:t.textTransform},e,null),vi(t.clipPath)||this.runtime.CSSPropertySyntaxFactory[Wn.DEFINED_PATH].calculator("clipPath",r,t.clipPath,e,this.runtime),t.offsetPath&&this.runtime.CSSPropertySyntaxFactory[Wn.DEFINED_PATH].calculator("offsetPath",o,t.offsetPath,e,this.runtime),t.transform&&(e.parsedStyle.transform=Ex(t.transform)),t.transformOrigin&&(e.parsedStyle.transformOrigin=K3(t.transformOrigin)),t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory[Wn.MARKER].calculator(null,t.markerStart,t.markerStart,null,null)),t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory[Wn.MARKER].calculator(null,t.markerEnd,t.markerEnd,null,null)),t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory[Wn.MARKER].calculator("",t.markerMid,t.markerMid,null,null)),Ri(t.zIndex)||this.runtime.CSSPropertySyntaxFactory[Wn.Z_INDEX].postProcessor(e),Ri(t.offsetDistance)||this.runtime.CSSPropertySyntaxFactory[Wn.OFFSET_DISTANCE].postProcessor(e),t.transform&&this.runtime.CSSPropertySyntaxFactory[Wn.TRANSFORM].postProcessor(e),t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory[Wn.TRANSFORM_ORIGIN].postProcessor(e),s&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,i.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},{key:"updateGeometry",value:function(e){var t=e.nodeName,i=this.runtime.geometryUpdaterFactory[t];if(i){var r=e.geometry;r.contentBounds||(r.contentBounds=new No),r.renderBounds||(r.renderBounds=new No);var o=e.parsedStyle,s=i.update(o,e),a=s.cx,l=void 0===a?0:a,u=s.cy,h=void 0===u?0:u,p=s.cz,v=void 0===p?0:p,y=s.hwidth,b=void 0===y?0:y,E=s.hheight,w=void 0===E?0:E,S=s.hdepth,C=void 0===S?0:S,D=[Math.abs(b),Math.abs(w),C],k=o.stroke,T=o.lineWidth,I=void 0===T?1:T,F=o.increasedLineWidthForHitTesting,z=void 0===F?0:F,V=o.shadowType,K=void 0===V?"outer":V,Y=o.shadowColor,Q=o.filter,at=void 0===Q?[]:Q,It=o.transformOrigin,Pt=[l,h,v];r.contentBounds.update(Pt,D);var ct=t===qe.POLYLINE||t===qe.POLYGON||t===qe.PATH?Math.SQRT2:.5;if(k&&!k.isNone){var rt=((I||0)+(z||0))*ct;D[0]+=rt,D[1]+=rt}if(r.renderBounds.update(Pt,D),Y&&K&&"inner"!==K){var Nt=r.renderBounds,ie=Nt.min,$e=Nt.max,oi=o.shadowBlur||0,Un=o.shadowOffsetX||0,fi=o.shadowOffsetY||0,gs=$e[0]+oi+Un,Ho=ie[1]-oi+fi,bc=$e[1]+oi+fi;ie[0]=Math.min(ie[0],ie[0]-oi+Un),$e[0]=Math.max($e[0],gs),ie[1]=Math.min(ie[1],Ho),$e[1]=Math.max($e[1],bc),r.renderBounds.setMinMax(ie,$e)}at.forEach(function(Sp){var Jr=Sp.name,$d=Sp.params;if("blur"===Jr){var Dp=$d[0].value;r.renderBounds.update(r.renderBounds.center,bh(r.renderBounds.halfExtents,r.renderBounds.halfExtents,[Dp,Dp,0]))}else if("drop-shadow"===Jr){var kP=$d[0].value,vy=$d[1].value,nu=$d[2].value,Ga=r.renderBounds,Zu=Ga.min,Qu=Ga.max,IP=Qu[0]+nu+kP,jg=Zu[1]-nu+vy,RP=Qu[1]+nu+vy;Zu[0]=Math.min(Zu[0],Zu[0]-nu+kP),Qu[0]=Math.max(Qu[0],IP),Zu[1]=Math.min(Zu[1],jg),Qu[1]=Math.max(Qu[1],RP),r.renderBounds.setMinMax(Zu,Qu)}}),e.geometry.dirty=!1;var lS=w<0,sE=(b<0?-1:1)*(It?Tl(It[0],0,e,!0):0),ao=(lS?-1:1)*(It?Tl(It[1],1,e,!0):0);(sE||ao)&&e.setOrigin(sE,ao)}}},{key:"updateSizeAttenuation",value:function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===qe.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===qe.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))}}])}(),RU=function(){return fn(function n(){un(this,n),this.mixer=Tm},[{key:"calculator",value:function(e,t,i,r){return Bs(i)}}])}(),PU=function(){return fn(function n(){un(this,n)},[{key:"calculator",value:function(e,t,i,r,o){return i instanceof Ol&&(i=null),o.sceneGraphService.updateDisplayObjectDependency(e,t,i,r),"clipPath"===e&&r.forEach(function(s){0===s.childNodes.length&&o.sceneGraphService.dirtifyToRoot(s)}),i}}])}(),NU=function(){return fn(function n(){un(this,n),this.parser=Dm,this.mixer=LO},[{key:"calculator",value:function(e,t,i,r){return i instanceof Ol?"none"===i.value?Th:zf:i}}])}(),LU=function(){return fn(function n(){un(this,n)},[{key:"calculator",value:function(e,t,i){return i instanceof Ol?[]:i}}])}();function X3(n){var t=n.parsedStyle.fontSize;return Ri(t)?null:t}var oT=function(){return fn(function n(){un(this,n),this.mixer=Tm},[{key:"calculator",value:function(e,t,i,r,o){if(Zn(i))return i;if(!Wr.isRelativeUnit(i.unit))return i.value;if(i.unit===Kn.kPercentage)return 0;if(i.unit===Kn.kEms){if(r.parentNode){var s=X3(r.parentNode);if(s)return s*i.value}return 0}if(i.unit===Kn.kRems){var a;if(null!=r&&null!==(a=r.ownerDocument)&&void 0!==a&&a.documentElement){var l=X3(r.ownerDocument.documentElement);if(l)return l*i.value}return 0}}}])}(),FU=function(){return fn(function n(){un(this,n),this.mixer=zO},[{key:"calculator",value:function(e,t,i){return i.map(function(r){return r.value})}}])}(),BU=function(){return fn(function n(){un(this,n),this.mixer=zO},[{key:"calculator",value:function(e,t,i){return i.map(function(r){return r.value})}}])}(),Y3=function(){return fn(function n(){un(this,n)},[{key:"calculator",value:function(e,t,i,r){var o;i instanceof Ol&&(i=null);var s=null===(o=i)||void 0===o?void 0:o.cloneNode(!0);return s&&(s.style.isMarker=!0),s}}])}(),Im=function(){return fn(function n(){un(this,n),this.mixer=Tm},[{key:"calculator",value:function(e,t,i){return i.value}}])}(),n0=function(){return fn(function n(){un(this,n),this.mixer=px(0,1)},[{key:"calculator",value:function(e,t,i){return i.value}},{key:"postProcessor",value:function(e){var t=e.parsedStyle,i=t.offsetPath;if(i){var o=i.nodeName;if(o===qe.LINE||o===qe.PATH||o===qe.POLYLINE){var s=i.getPoint(t.offsetDistance);s&&e.setLocalPosition(s.x,s.y)}}}}])}(),Z3=function(){return fn(function n(){un(this,n),this.mixer=px(0,1)},[{key:"calculator",value:function(e,t,i){return i.value}}])}(),jU=function(){return fn(function n(){un(this,n),this.parser=Ib,this.mixer=G3},[{key:"calculator",value:function(e,t,i){return i instanceof Ol&&"unset"===i.value?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new Lf(0,0,0,0)}:i}}])}(),sT=fn(function n(){un(this,n),this.mixer=H3}),Q3=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).mixer=px(0,1/0),t}return zi(e,n),fn(e)}(oT),VU=function(){return fn(function n(){un(this,n)},[{key:"calculator",value:function(e,t,i,r){return i instanceof Ol?"unset"===i.value?"":i.value:"".concat(i)}},{key:"postProcessor",value:function(e){e.nodeValue="".concat(e.parsedStyle.text)||""}}])}(),q3=function(){return fn(function n(){un(this,n)},[{key:"calculator",value:function(e,t,i,r){var o=r.getAttribute("text");if(o){var s=o;"capitalize"===i.value?s=o.charAt(0).toUpperCase()+o.slice(1):"lowercase"===i.value?s=o.toLowerCase():"uppercase"===i.value&&(s=o.toUpperCase()),r.parsedStyle.text=s}return i.value}}])}(),Dx=new WeakMap,Tu=typeof window<"u"&&typeof window.document<"u";function tL(n){return!!n.getAttribute}function eL(n,e){var t=Number(n.parsedStyle.zIndex||0),i=Number(e.parsedStyle.zIndex||0);if(t===i){var r=n.parentNode;if(r){var o=r.childNodes||[];return o.indexOf(n)-o.indexOf(e)}}return t-i}function Nb(n){var e=n;do{var t;if(null===(t=e.parsedStyle)||void 0===t?void 0:t.clipPath)return e;e=e.parentElement}while(null!==e);return null}function lT(n,e,t){Tu&&n.style&&(n.style.width=e+"px",n.style.height=t+"px")}function Ox(n,e){if(Tu)return document.defaultView.getComputedStyle(n,null).getPropertyValue(e)}var Lb={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Ax="object"==typeof performance&&performance.now?performance:Date;function Fb(n){return n.nodeName===qe.FRAGMENT||n.getRootNode().nodeName===qe.FRAGMENT}function kh(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,i=!1,r=!1;return"visiblepainted"===n||"painted"===n||"auto"===n?(i=!!e&&!e.isNone,r=!!t&&!t.isNone):"visiblefill"===n||"fill"===n?i=!0:"visiblestroke"===n||"stroke"===n?r=!0:("visible"===n||"all"===n)&&(i=!0,r=!0),[i,r]}var oL=1,Au="object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:{},cT=Date.now(),Rm={},dT=Date.now(),zU=function(n){if("function"!=typeof n)throw new TypeError("".concat(n," is not a function"));var e=Date.now(),t=e-dT,i=t>16?0:16-t,r=oL++;return Rm[r]=n,Object.keys(Rm).length>1||setTimeout(function(){dT=e;var o=Rm;Rm={},Object.keys(o).forEach(function(s){return o[s](Au.performance&&"function"==typeof Au.performance.now?Au.performance.now():Date.now()-cT)})},i),r},hT=function(n){delete Rm[n]},Ih=function(n){return"string"!=typeof n?zU:""===n?Au.requestAnimationFrame:Au["".concat(n,"RequestAnimationFrame")]},lL=function(n,e){for(var t=0;void 0!==n[t];){if(e(n[t]))return n[t];t+=1}}(["","webkit","moz","ms","o"],function(n){return!!Ih(n)}),r0=Ih(lL),Bb=function(n){return"string"!=typeof n?hT:""===n?Au.cancelAnimationFrame:Au["".concat(n,"CancelAnimationFrame")]||Au["".concat(n,"CancelRequestAnimationFrame")]}(lL);Au.requestAnimationFrame=r0,Au.cancelAnimationFrame=Bb;var cL=function(){return fn(function n(){un(this,n),this.callbacks=[]},[{key:"getCallbacksNum",value:function(){return this.callbacks.length}},{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Promise.all(this.callbacks.map(function(r){return r.apply(void 0,t)}))}}])}(),mT=function(){return fn(function n(){un(this,n),this.callbacks=[]},[{key:"tapPromise",value:function(e,t){this.callbacks.push(t)}},{key:"promise",value:(e=wd(cs().mark(function i(){var r,o,s,a,l=arguments;return cs().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.callbacks.length){u.next=14;break}return u.next=3,(r=this.callbacks)[0].apply(r,l);case 3:o=u.sent,s=0;case 5:if(!(s<this.callbacks.length-1)){u.next=13;break}return a=this.callbacks[s],u.next=9,a(o);case 9:o=u.sent;case 10:s++,u.next=5;break;case 13:return u.abrupt("return",o);case 14:return u.abrupt("return",null);case 15:case"end":return u.stop()}},i,this)})),function t(){return e.apply(this,arguments)})}]);var e}(),ia=function(){return fn(function n(){un(this,n),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=arguments;this.callbacks.forEach(function(o){o.apply(void 0,r)})}}])}(),kx=function(){return fn(function n(){un(this,n),this.callbacks=[]},[{key:"tap",value:function(e,t){this.callbacks.push(t)}},{key:"call",value:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(this.callbacks.length){for(var o=this.callbacks[0].apply(void 0,arguments),s=0;s<this.callbacks.length-1;s++)o=(0,this.callbacks[s])(o);return o}return null}}])}(),UU=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],jb=/([\"\'])[^\'\"]+\1/;function Ix(n,e,t){return vu(n),n[4]=Math.tan(e),n[1]=Math.tan(t),n}var Xo=ji(),dL=ji(),ku={scale:function(n){gh(Xo,[n[0].value,n[1].value,1])},scaleX:function(n){gh(Xo,[n[0].value,1,1])},scaleY:function(n){gh(Xo,[1,n[0].value,1])},scaleZ:function(n){gh(Xo,[1,1,n[0].value])},scale3d:function(n){gh(Xo,[n[0].value,n[1].value,n[2].value])},translate:function(n){mh(Xo,[n[0].value,n[1].value,0])},translateX:function(n){mh(Xo,[n[0].value,0,0])},translateY:function(n){mh(Xo,[0,n[0].value,0])},translateZ:function(n){mh(Xo,[0,0,n[0].value])},translate3d:function(n){mh(Xo,[n[0].value,n[1].value,n[2].value])},rotate:function(n){vh(Xo,$r(Bs(n[0])))},rotateX:function(n){rD(Xo,$r(Bs(n[0])))},rotateY:function(n){oD(Xo,$r(Bs(n[0])))},rotateZ:function(n){vh(Xo,$r(Bs(n[0])))},rotate3d:function(n){iD(Xo,$r(Bs(n[3])),[n[0].value,n[1].value,n[2].value])},skew:function(n){Ix(Xo,$r(n[0].value),$r(n[1].value))},skewX:function(n){Ix(Xo,$r(n[0].value),0)},skewY:function(n){Ix(Xo,0,$r(n[0].value))},matrix:function(n){NE(Xo,n[0].value,n[1].value,0,0,n[2].value,n[3].value,0,0,0,0,1,0,n[4].value,n[5].value,0,1)},matrix3d:function(n){NE.apply(lN,[Xo].concat(pa(n.map(function(e){return e.value}))))}},o0=Br(1,1,1),us=hr(),Rh={translate:function(n,e){Tn.sceneGraphService.setLocalScale(n,o0,!1),Tn.sceneGraphService.setLocalEulerAngles(n,us,void 0,void 0,!1),Tn.sceneGraphService.setLocalPosition(n,[e[0].value,e[1].value,0],!1),Tn.sceneGraphService.dirtifyLocal(n,n.transformable)}};function Pm(n,e){if(n.length){if(1===n.length&&Rh[n[0].t])return void Rh[n[0].t](e,n[0].d);for(var t=vu(dL),i=0;i<n.length;i++){var r=n[i],a=ku[r.t];a&&(a(r.d),UE(t,t,Xo))}e.setLocalTransform(t)}else e.resetLocalTransform();return e.getLocalTransform()}var lc=function(){return fn(function n(){un(this,n),this.parser=ZO,this.mixer=nT},[{key:"calculator",value:function(e,t,i,r){return i instanceof Ol?[]:i}},{key:"postProcessor",value:function(e){Pm(e.parsedStyle.transform,e)}}])}(),Nm=function(){return fn(function n(){un(this,n)},[{key:"postProcessor",value:function(e){var i=e.parsedStyle.transformOrigin;i[0].unit===Kn.kPixels&&i[1].unit===Kn.kPixels?e.setOrigin(i[0].value,i[1].value):e.getGeometryBounds()}}])}(),hL=function(){return fn(function n(){un(this,n)},[{key:"calculator",value:function(e,t,i,r){return i.value}},{key:"postProcessor",value:function(e){if(e.parentNode){var t=e.parentNode,i=t.renderable,r=t.sortable;i&&(i.dirty=!0),r&&(r.dirty=!0,r.dirtyReason=Bf.Z_INDEX_CHANGED)}}}])}(),Lm=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e,t){var i=e.cx,o=e.cy,a=e.r,l=void 0===a?0:a;return{cx:void 0===i?0:i,cy:void 0===o?0:o,hwidth:l,hheight:l}}}])}(),Vb=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e,t){var i=e.cx,o=e.cy,a=e.rx,u=e.ry;return{cx:void 0===i?0:i,cy:void 0===o?0:o,hwidth:void 0===a?0:a,hheight:void 0===u?0:u}}}])}(),Rx=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e){var t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=Math.min(t,r),a=Math.max(t,r),l=Math.min(i,o),v=(a-s)/2,y=(Math.max(i,o)-l)/2;return{cx:s+v,cy:l+y,hwidth:v,hheight:y}}}])}(),Px=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e){var i=e.d.rect,l=i.width/2,u=i.height/2;return{cx:i.x+l,cy:i.y+u,hwidth:l,hheight:u}}}])}(),gT=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e){if(e.points&&Hi(e.points.points)){var t=e.points.points,i=Math.min.apply(Math,pa(t.map(function(p){return p[0]}))),r=Math.max.apply(Math,pa(t.map(function(p){return p[0]}))),o=Math.min.apply(Math,pa(t.map(function(p){return p[1]}))),u=(r-i)/2,h=(Math.max.apply(Math,pa(t.map(function(p){return p[1]})))-o)/2;return{cx:i+u,cy:o+h,hwidth:u,hheight:h}}return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),vT=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e,t){var i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.src,l=e.width,h=e.height,v=void 0===l?0:l,y=void 0===h?0:h;return a&&!Li(a)&&(v||(e.width=v=a.width),y||(e.height=y=a.height)),{cx:r+v/2,cy:s+y/2,hwidth:v/2,hheight:y/2}}}])}(),Jo=function(){return fn(function n(e){un(this,n),this.globalRuntime=e},[{key:"isReadyToMeasure",value:function(e,t){return e.text}},{key:"update",value:function(e,t){var i,r=e.text,o=e.textAlign,s=void 0===o?"start":o,a=e.lineWidth,l=void 0===a?1:a,u=e.textBaseline,h=void 0===u?"alphabetic":u,p=e.dx,v=void 0===p?0:p,y=e.dy,b=void 0===y?0:y,E=e.x,w=void 0===E?0:E,S=e.y,C=void 0===S?0:S;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var D=(null==t||null===(i=t.ownerDocument)||void 0===i||null===(i=i.defaultView)||void 0===i?void 0:i.getConfig())||{},T=this.globalRuntime.textService.measureText(r,e,D.offscreenCanvas);e.metrics=T;var z=T.width/2,V=T.height/2,K=w+z;"center"===s||"middle"===s?K+=l/2-z:("right"===s||"end"===s)&&(K+=l-2*z);var Y=C-V;return"middle"===h?Y+=V:"top"===h||"hanging"===h?Y+=2*V:"alphabetic"===h||("bottom"===h||"ideographic"===h)&&(Y+=0),v&&(K+=v),b&&(Y+=b),{cx:K,cy:Y,hwidth:z,hheight:V}}}])}(),Nx=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}}}])}(),yT=function(){return fn(function n(){un(this,n)},[{key:"update",value:function(e,t){var i=e.x,o=e.y,a=e.width,l=void 0===a?0:a,u=e.height,h=void 0===u?0:u;return{cx:(void 0===i?0:i)+l/2,cy:(void 0===o?0:o)+h/2,hwidth:l/2,hheight:h/2}}}])}(),Md=function(){return fn(function n(e){un(this,n),this.eventPhase=n.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Rs,this.page=new Rs,this.canvas=new Rs,this.viewport=new Rs,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e},[{key:"name",get:function(){return this.type}},{key:"layerX",get:function(){return this.layer.x}},{key:"layerY",get:function(){return this.layer.y}},{key:"pageX",get:function(){return this.page.x}},{key:"pageY",get:function(){return this.page.y}},{key:"x",get:function(){return this.canvas.x}},{key:"y",get:function(){return this.canvas.y}},{key:"canvasX",get:function(){return this.canvas.x}},{key:"canvasY",get:function(){return this.canvas.y}},{key:"viewportX",get:function(){return this.viewport.x}},{key:"viewportY",get:function(){return this.viewport.y}},{key:"composedPath",value:function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}},{key:"propagationPath",get:function(){return this.composedPath()}},{key:"preventDefault",value:function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}},{key:"stopImmediatePropagation",value:function(){this.propagationImmediatelyStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"initEvent",value:function(){}},{key:"initUIEvent",value:function(){}},{key:"clone",value:function(){throw new Error(Qr)}}])}(),Ph=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).client=new Rs,t.movement=new Rs,t.offset=new Rs,t.global=new Rs,t.screen=new Rs,t}return zi(e,n),fn(e,[{key:"clientX",get:function(){return this.client.x}},{key:"clientY",get:function(){return this.client.y}},{key:"movementX",get:function(){return this.movement.x}},{key:"movementY",get:function(){return this.movement.y}},{key:"offsetX",get:function(){return this.offset.x}},{key:"offsetY",get:function(){return this.offset.y}},{key:"globalX",get:function(){return this.global.x}},{key:"globalY",get:function(){return this.global.y}},{key:"screenX",get:function(){return this.screen.x}},{key:"screenY",get:function(){return this.screen.y}},{key:"getModifierState",value:function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}},{key:"initMouseEvent",value:function(){throw new Error(Qr)}}])}(Md),$f=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).width=0,t.height=0,t.isPrimary=!1,t}return zi(e,n),fn(e,[{key:"getCoalescedEvents",value:function(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}},{key:"getPredictedEvents",value:function(){throw new Error("getPredictedEvents is not supported!")}},{key:"clone",value:function(){return this.manager.clonePointerEvent(this)}}])}(Ph),Nh=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e,[{key:"clone",value:function(){return this.manager.cloneWheelEvent(this)}}])}(Ph),Go=function(n){function e(t,i){var r;return un(this,e),(r=Ei(this,e,[null])).type=t,r.detail=i,Object.assign(r,i),r}return zi(e,n),fn(e)}(Md),Lx=new WeakMap,zb=function(){return fn(function n(){un(this,n),this.emitter=new YS},[{key:"on",value:function(e,t,i){return this.addEventListener(e,t,i),this}},{key:"addEventListener",value:function(e,t,i){var r=!1,o=!1;if(dm(i))r=i;else if(i){var s=i.capture;r=void 0!==s&&s;var a=i.once;o=void 0!==a&&a}r&&(e+="capture"),t=$n(t)?t:t.handleEvent;var l=$n(t)?void 0:t;return o?this.emitter.once(e,t,l):this.emitter.on(e,t,l),this}},{key:"off",value:function(e,t,i){return e?this.removeEventListener(e,t,i):this.removeAllEventListeners(),this}},{key:"removeAllEventListeners",value:function(){var e;null===(e=this.emitter)||void 0===e||e.removeAllListeners()}},{key:"removeEventListener",value:function(e,t,i){var r;if(!this.emitter)return this;(dm(i)?i:i?.capture)&&(e+="capture"),t=$n(t)?t:null===(r=t)||void 0===r?void 0:r.handleEvent;var s=$n(t)?void 0:t;return this.emitter.off(e,t,s),this}},{key:"emit",value:function(e,t){this.dispatchEvent(new Go(e,t))}},{key:"dispatchEvent",value:function(e){var r,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Lx.get(this);if(i||(i=this.document?this:this.defaultView?this.defaultView:null===(r=this.ownerDocument)||void 0===r?void 0:r.defaultView)&&Lx.set(this,i),i){if(e.manager=i.getEventService(),!e.manager)return!1;e.defaultPrevented=!1,e.path?e.path.length=0:e.page=[],t||(e.target=this),e.manager.dispatchEvent(e,e.type,t)}return!e.defaultPrevented}}])}(),So=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t}return zi(e,n),fn(e,[{key:"textContent",get:function(){var t="";this.nodeName===qe.TEXT&&(t+=this.style.text);var r,i=Sh(this.childNodes);try{for(i.s();!(r=i.n()).done;){var o=r.value;t+=o.nodeName===qe.TEXT?o.nodeValue:o.textContent}}catch(s){i.e(s)}finally{i.f()}return t},set:function(t){var i=this;this.childNodes.slice().forEach(function(r){i.removeChild(r)}),this.nodeName===qe.TEXT&&(this.style.text="".concat(t))}},{key:"getRootNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this}},{key:"hasChildNodes",value:function(){return this.childNodes.length>0}},{key:"isDefaultNamespace",value:function(t){throw new Error(Qr)}},{key:"lookupNamespaceURI",value:function(t){throw new Error(Qr)}},{key:"lookupPrefix",value:function(t){throw new Error(Qr)}},{key:"normalize",value:function(){throw new Error(Qr)}},{key:"isEqualNode",value:function(t){return this===t}},{key:"isSameNode",value:function(t){return this.isEqualNode(t)}},{key:"parent",get:function(){return this.parentNode}},{key:"parentElement",get:function(){return null}},{key:"nextSibling",get:function(){return null}},{key:"previousSibling",get:function(){return null}},{key:"firstChild",get:function(){return this.childNodes.length>0?this.childNodes[0]:null}},{key:"lastChild",get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null}},{key:"compareDocumentPosition",value:function(t){if(t===this)return 0;for(var i=t,r=this,o=[i],s=[r];null!==(a=i.parentNode)&&void 0!==a?a:r.parentNode;){var a;i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,r=r.parentNode?(s.push(r.parentNode),r.parentNode):r}if(i!==r)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var l=o.length>s.length?o:s,u=l===o?s:o;if(l[l.length-u.length]===u[0])return l===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var h=l.length-u.length,p=u.length-1;p>=0;p--){var v=u[p],y=l[h+p];if(y!==v){var b=v.parentNode.childNodes;return b.indexOf(v)<b.indexOf(y)?u===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING}},{key:"contain",value:function(t){return this.contains(t)}},{key:"contains",value:function(t){for(var i=t;i&&this!==i;)i=i.parentNode;return!!i}},{key:"getAncestor",value:function(t){for(var i=this;t>0&&i;)i=i.parentNode,t--;return i}},{key:"forEach",value:function(t){if(!1!==t(this))for(var r=this.childNodes,o=r.length,s=0;s<o;s++)r[s].forEach(t)}}],[{key:"isNode",value:function(t){return!!t.childNodes}}])}(zb);So.DOCUMENT_POSITION_DISCONNECTED=1,So.DOCUMENT_POSITION_PRECEDING=2,So.DOCUMENT_POSITION_FOLLOWING=4,So.DOCUMENT_POSITION_CONTAINS=8,So.DOCUMENT_POSITION_CONTAINED_BY=16,So.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32;var Gb=function(){return fn(function n(e,t){var i=this;un(this,n),this.emitter=new YS,this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=ji(),this.tmpVec3=hr(),this.onPointerDown=function(r){var o=i.createPointerEvent(r);i.dispatchEvent(o,"pointerdown"),"touch"===o.pointerType?i.dispatchEvent(o,"touchstart"):"mouse"!==o.pointerType&&"pen"!==o.pointerType||i.dispatchEvent(o,2===o.button?"rightdown":"mousedown"),i.trackingData(r.pointerId).pressTargetsByButton[r.button]=o.composedPath(),i.freeEvent(o)},this.onPointerUp=function(r){var o=Ax.now(),s=i.createPointerEvent(r,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0);i.dispatchEvent(s,"pointerup"),"touch"===s.pointerType?i.dispatchEvent(s,"touchend"):"mouse"!==s.pointerType&&"pen"!==s.pointerType||i.dispatchEvent(s,2===s.button?"rightup":"mouseup");var l=i.trackingData(r.pointerId),u=i.findMountedTarget(l.pressTargetsByButton[r.button]),h=u;if(u&&!s.composedPath().includes(u)){for(var p=u;p&&!s.composedPath().includes(p);)s.currentTarget=p,i.notifyTarget(s,"pointerupoutside"),"touch"===s.pointerType?i.notifyTarget(s,"touchendoutside"):"mouse"!==s.pointerType&&"pen"!==s.pointerType||i.notifyTarget(s,2===s.button?"rightupoutside":"mouseupoutside"),So.isNode(p)&&(p=p.parentNode);delete l.pressTargetsByButton[r.button],h=p}if(h){var y,b=i.clonePointerEvent(s,"click");b.target=h,b.path=[],l.clicksByButton[r.button]||(l.clicksByButton[r.button]={clickCount:0,target:b.target,timeStamp:o});var w=l.clicksByButton[r.button];w.target===b.target&&o-w.timeStamp<i.context.renderingContext.root.ownerDocument.defaultView.dblClickSpeed?++w.clickCount:w.clickCount=1,w.target=b.target,w.timeStamp=o,b.detail=w.clickCount,null!==(y=s.detail)&&void 0!==y&&y.preventClick||(!i.context.config.useNativeClickEvent&&("mouse"===b.pointerType||"touch"===b.pointerType)&&i.dispatchEvent(b,"click"),i.dispatchEvent(b,"pointertap")),i.freeEvent(b)}i.freeEvent(s)},this.onPointerMove=function(r){var o=i.createPointerEvent(r,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0),s="mouse"===o.pointerType||"pen"===o.pointerType,a=i.trackingData(r.pointerId),l=i.findMountedTarget(a.overTargets);if(a.overTargets&&l!==o.target){var h=i.createPointerEvent(r,"mousemove"===r.type?"mouseout":"pointerout",l||void 0);if(i.dispatchEvent(h,"pointerout"),s&&i.dispatchEvent(h,"mouseout"),!o.composedPath().includes(l)){var p=i.createPointerEvent(r,"pointerleave",l||void 0);for(p.eventPhase=p.AT_TARGET;p.target&&!o.composedPath().includes(p.target);)p.currentTarget=p.target,i.notifyTarget(p),s&&i.notifyTarget(p,"mouseleave"),So.isNode(p.target)&&(p.target=p.target.parentNode);i.freeEvent(p)}i.freeEvent(h)}if(l!==o.target){var y=i.clonePointerEvent(o,"mousemove"===r.type?"mouseover":"pointerover");i.dispatchEvent(y,"pointerover"),s&&i.dispatchEvent(y,"mouseover");for(var b=l&&So.isNode(l)&&l.parentNode;b&&b!==(So.isNode(i.rootTarget)&&i.rootTarget.parentNode)&&b!==o.target;)b=b.parentNode;if(!b||b===(So.isNode(i.rootTarget)&&i.rootTarget.parentNode)){var w=i.clonePointerEvent(o,"pointerenter");for(w.eventPhase=w.AT_TARGET;w.target&&w.target!==l&&w.target!==(So.isNode(i.rootTarget)&&i.rootTarget.parentNode);)w.currentTarget=w.target,i.notifyTarget(w),s&&i.notifyTarget(w,"mouseenter"),So.isNode(w.target)&&(w.target=w.target.parentNode);i.freeEvent(w)}i.freeEvent(y)}i.dispatchEvent(o,"pointermove"),"touch"===o.pointerType&&i.dispatchEvent(o,"touchmove"),s&&(i.dispatchEvent(o,"mousemove"),i.cursor=i.getCursor(o.target)),a.overTargets=o.composedPath(),i.freeEvent(o)},this.onPointerOut=function(r){var o=i.trackingData(r.pointerId);if(o.overTargets){var s="mouse"===r.pointerType||"pen"===r.pointerType,a=i.findMountedTarget(o.overTargets),l=i.createPointerEvent(r,"pointerout",a||void 0);i.dispatchEvent(l),s&&i.dispatchEvent(l,"mouseout");var u=i.createPointerEvent(r,"pointerleave",a||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==(So.isNode(i.rootTarget)&&i.rootTarget.parentNode);)u.currentTarget=u.target,i.notifyTarget(u),s&&i.notifyTarget(u,"mouseleave"),So.isNode(u.target)&&(u.target=u.target.parentNode);o.overTargets=null,i.freeEvent(l),i.freeEvent(u)}i.cursor=null},this.onPointerOver=function(r){var o=i.trackingData(r.pointerId),s=i.createPointerEvent(r),a="mouse"===s.pointerType||"pen"===s.pointerType;i.dispatchEvent(s,"pointerover"),a&&i.dispatchEvent(s,"mouseover"),"mouse"===s.pointerType&&(i.cursor=i.getCursor(s.target));var l=i.clonePointerEvent(s,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(So.isNode(i.rootTarget)&&i.rootTarget.parentNode);)l.currentTarget=l.target,i.notifyTarget(l),a&&i.notifyTarget(l,"mouseenter"),So.isNode(l.target)&&(l.target=l.target.parentNode);o.overTargets=s.composedPath(),i.freeEvent(s),i.freeEvent(l)},this.onPointerUpOutside=function(r){var o=i.trackingData(r.pointerId),s=i.findMountedTarget(o.pressTargetsByButton[r.button]),a=i.createPointerEvent(r);if(s){for(var l=s;l;)a.currentTarget=l,i.notifyTarget(a,"pointerupoutside"),"touch"===a.pointerType||("mouse"===a.pointerType||"pen"===a.pointerType)&&i.notifyTarget(a,2===a.button?"rightupoutside":"mouseupoutside"),So.isNode(l)&&(l=l.parentNode);delete o.pressTargetsByButton[r.button]}i.freeEvent(a)},this.onWheel=function(r){var o=i.createWheelEvent(r);i.dispatchEvent(o),i.freeEvent(o)},this.onClick=function(r){if(i.context.config.useNativeClickEvent){var o=i.createPointerEvent(r);i.dispatchEvent(o),i.freeEvent(o)}},this.onPointerCancel=function(r){var o=i.createPointerEvent(r,void 0,void 0,i.context.config.alwaysTriggerPointerEventOnCanvas?i.rootTarget:void 0);i.dispatchEvent(o),i.freeEvent(o)},this.globalRuntime=e,this.context=t},[{key:"init",value:function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)}},{key:"destroy",value:function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()}},{key:"getScale",value:function(){var e=this.context.contextService.getBoundingClientRect(),t=1,i=1,r=this.context.contextService.getDomElement();if(r&&e){var o=r.offsetWidth,s=r.offsetHeight;o&&s&&(t=e.width/o,i=e.height/s)}return{scaleX:t,scaleY:i,bbox:e}}},{key:"client2Viewport",value:function(e){var t=this.getScale(),i=t.scaleX,r=t.scaleY,o=t.bbox;return new Rs((e.x-(o?.left||0))/i,(e.y-(o?.top||0))/r)}},{key:"viewport2Client",value:function(e){var t=this.getScale(),i=t.scaleX,r=t.scaleY,o=t.bbox;return new Rs((e.x+(o?.left||0))*i,(e.y+(o?.top||0))*r)}},{key:"viewport2Canvas",value:function(e){var t=e.x,i=e.y,o=this.rootTarget.defaultView.getCamera(),s=this.context.config,a=s.width,l=s.height,u=o.getPerspectiveInverse(),h=o.getWorldTransform(),p=ma(this.tmpMatrix,h,u),v=va(this.tmpVec3,t/a*2-1,2*(1-i/l)-1,0);return Ko(v,v,p),new Rs(v[0],v[1])}},{key:"canvas2Viewport",value:function(e){var i=this.rootTarget.defaultView.getCamera(),r=i.getPerspective(),o=i.getViewTransform(),s=ma(this.tmpMatrix,r,o),a=va(this.tmpVec3,e.x,e.y,0);Ko(this.tmpVec3,this.tmpVec3,s);var l=this.context.config;return new Rs((a[0]+1)/2*l.width,(1-(a[1]+1)/2)*l.height)}},{key:"setPickHandler",value:function(e){this.pickHandler=e}},{key:"addEventMapping",value:function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(function(i,r){return i.priority-r.priority})}},{key:"mapEvent",value:function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var i=0,r=t.length;i<r;i++)t[i].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}}},{key:"dispatchEvent",value:function(e,t,i){i?(e.eventPhase=e.AT_TARGET,e.currentTarget=this.rootTarget.defaultView||null,this.notifyListeners(e,t)):(e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t)),this.emitter.emit(t||e.type,e)}},{key:"propagate",value:function(e,t){if(e.target){var i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var r=i.length-1;r>=1;r--)if(e.currentTarget=i[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){var o=i.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var s=o+1;s<i.length;s++)if(e.currentTarget=i[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}}},{key:"propagationPath",value:function(e){var t=[e],i=this.rootTarget.defaultView||null;if(i&&i===e)return t.unshift(i.document),t;for(var r=0;r<2048&&e!==this.rootTarget;r++)So.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return i&&t.push(i),t}},{key:"hitTest",value:function(e){var t=e.viewportX,i=e.viewportY,r=this.context.config;return t<0||i<0||t>r.width||i>r.height?null:!r.disableHitTesting&&this.pickHandler(e)||this.rootTarget||null}},{key:"isNativeEventFromCanvas",value:function(e,t){var i,r=t?.target;if(null!==(i=r)&&void 0!==i&&i.shadowRoot&&(r=t.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return!(null==t||!t.composedPath)&&t.composedPath().indexOf(e)>-1}},{key:"getExistedHTML",value:function(e){if(e.nativeEvent.composedPath)for(var t=0,i=e.nativeEvent.composedPath();t<i.length;t++){var o=this.nativeHTMLMap.get(i[t]);if(o)return o}return null}},{key:"pickTarget",value:function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})}},{key:"createPointerEvent",value:function(e,t,i,r){var o=this.allocateEvent($f);this.copyPointerData(e,o),this.copyMouseData(e,o),this.copyData(e,o),o.nativeEvent=e.nativeEvent,o.originalEvent=e;var s=this.getExistedHTML(o),a=this.context.contextService.getDomElement();return o.target=i??(s||this.isNativeEventFromCanvas(a,o.nativeEvent)&&this.pickTarget(o)||r),"string"==typeof t&&(o.type=t),o}},{key:"createWheelEvent",value:function(e){var t=this.allocateEvent(Nh);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var i=this.getExistedHTML(t),r=this.context.contextService.getDomElement();return t.target=i||this.isNativeEventFromCanvas(r,t.nativeEvent)&&this.pickTarget(t),t}},{key:"trackingData",value:function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}},{key:"cloneWheelEvent",value:function(e){var t=this.allocateEvent(Nh);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t}},{key:"clonePointerEvent",value:function(e,t){var i=this.allocateEvent($f);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=t??i.type,i}},{key:"copyPointerData",value:function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist}},{key:"copyMouseData",value:function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)}},{key:"copyWheelData",value:function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}},{key:"copyData",value:function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=Ax.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)}},{key:"allocateEvent",value:function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t}},{key:"freeEvent",value:function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}},{key:"notifyTarget",value:function(e,t){var i;t=null!==(i=t)&&void 0!==i?i:e.type;var r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}},{key:"notifyListeners",value:function(e,t){var i=e.currentTarget.emitter,r=i._events[t];if(r)if("fn"in r)r.once&&i.removeListener(t,r.fn,void 0,!0),r.fn.call(e.currentTarget||r.context,e);else for(var o=0;o<r.length&&!e.propagationImmediatelyStopped;o++)r[o].once&&i.removeListener(t,r[o].fn,void 0,!0),r[o].fn.call(e.currentTarget||r[o].context,e)}},{key:"findMountedTarget",value:function(e){if(!e)return null;for(var t=e[e.length-1],i=e.length-2;i>=0;i--){var r=e[i];if(!(r===this.rootTarget||So.isNode(r)&&r.parentNode===t))break;t=e[i]}return t}},{key:"getCursor",value:function(e){for(var t=e;t;){var i=tL(t)&&t.getAttribute("cursor");if(i)return i;t=So.isNode(t)&&t.parentNode}}}])}(),s0=function(){return fn(function n(){un(this,n)},[{key:"getOrCreateCanvas",value:function(e,t){if(this.canvas)return this.canvas;if(e||Tn.offscreenCanvas)this.canvas=e||Tn.offscreenCanvas,this.context=this.canvas.getContext("2d",nr({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",nr({willReadFrequently:!0},t)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",nr({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas}},{key:"getOrCreateContext",value:function(e,t){return this.context||this.getOrCreateCanvas(e,t),this.context}}],[{key:"createCanvas",value:function(){try{return new window.OffscreenCanvas(0,0)}catch{}try{return document.createElement("canvas")}catch{}return null}}])}(),Lh=function(n){return n[n.CAMERA_CHANGED=0]="CAMERA_CHANGED",n[n.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",n[n.NONE=2]="NONE",n}({}),Wf=function(){return fn(function n(e,t){un(this,n),this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new ia,initAsync:new cL,dirtycheck:new kx,cull:new kx,beginFrame:new ia,beforeRender:new ia,render:new ia,afterRender:new ia,endFrame:new ia,destroy:new ia,pick:new mT,pickSync:new kx,pointerDown:new ia,pointerUp:new ia,pointerMove:new ia,pointerOut:new ia,pointerOver:new ia,pointerWheel:new ia,pointerCancel:new ia,click:new ia},this.globalRuntime=e,this.context=t},[{key:"init",value:function(e){var t=this,i=nr(nr({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(r){r.apply(i,t.globalRuntime)}),this.hooks.init.call(),0===this.hooks.initAsync.getCallbacksNum()?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){t.inited=!0,e()})}},{key:"getStats",value:function(){return this.stats}},{key:"disableDirtyRectangleRendering",value:function(){return!this.context.config.renderer.getConfig().enableDirtyRectangleRendering||this.context.renderingContext.renderReasons.has(Lh.CAMERA_CHANGED)}},{key:"render",value:function(e,t,i){var r=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var o=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(o.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),o.renderReasons.size&&this.inited){o.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var s=1===o.renderReasons.size&&o.renderReasons.has(Lh.CAMERA_CHANGED),a=!e.disableRenderHooks||!(e.disableRenderHooks&&s);a&&this.renderDisplayObject(o.root,e,o),this.hooks.beginFrame.call(t),a&&o.renderListCurrentFrame.forEach(function(l){r.hooks.beforeRender.call(l),r.hooks.render.call(l),r.hooks.afterRender.call(l)}),this.hooks.endFrame.call(t),o.renderListCurrentFrame=[],o.renderReasons.clear(),i()}}},{key:"renderDisplayObject",value:function(e,t,i){var r=this,o=t.renderer.getConfig(),u=o.enableDirtyCheck?e.renderable.dirty||i.dirtyRectangleRenderingDisabled?e:null:e;if(u){var h=o.enableCulling?this.hooks.cull.call(u,this.context.camera):u;h&&(this.stats.rendered++,i.renderListCurrentFrame.push(h))}e.renderable.dirty=!1,e.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var p=e.sortable;p.dirty&&(this.sort(e,p),p.dirty=!1,p.dirtyChildren=[],p.dirtyReason=void 0),(p.sorted||e.childNodes).forEach(function(v){r.renderDisplayObject(v,t,i)})}},{key:"sort",value:function(e,t){t.sorted&&t.dirtyReason!==Bf.Z_INDEX_CHANGED?t.dirtyChildren.forEach(function(i){if(-1===e.childNodes.indexOf(i)){var o=t.sorted.indexOf(i);o>=0&&t.sorted.splice(o,1)}else if(0===t.sorted.length)t.sorted.push(i);else{var s=function aT(n,e){for(var t=0,i=n.length;t<i;){var r=t+i>>>1;eL(n[r],e)<0?t=r+1:i=r}return t}(t.sorted,i);t.sorted.splice(s,0,i)}}):t.sorted=e.childNodes.slice().sort(eL)}},{key:"destroy",value:function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()}},{key:"dirtify",value:function(){this.context.renderingContext.renderReasons.add(Lh.DISPLAY_OBJECT_CHANGED)}}])}(),bT=/\[\s*(.*)=(.*)\s*\]/,Fm=function(){return fn(function n(){un(this,n)},[{key:"selectOne",value:function(e,t){var i=this;if(e.startsWith("."))return t.find(function(a){return(a?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(a){return a.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,s=r.value;return o?t.find(function(a){return t!==a&&("name"===o?a.name===s:i.attributeToString(a,o)===s)}):null}return t.find(function(a){return t!==a&&a.nodeName===e})}},{key:"selectAll",value:function(e,t){var i=this;if(e.startsWith("."))return t.findAll(function(a){return t!==a&&(a?.classList||[]).indexOf(i.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(a){return t!==a&&a.id===i.getIdOrClassname(e)});if(e.startsWith("[")){var r=this.getAttribute(e),o=r.name,s=r.value;return o?t.findAll(function(a){return t!==a&&("name"===o?a.name===s:i.attributeToString(a,o)===s)}):[]}return t.findAll(function(a){return t!==a&&a.nodeName===e})}},{key:"is",value:function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var i=this.getAttribute(e),r=i.name,o=i.value;return"name"===r?t.name===o:this.attributeToString(t,r)===o}return t.nodeName===e}},{key:"getIdOrClassname",value:function(e){return e.substring(1)}},{key:"getAttribute",value:function(e){var t=e.match(bT),i="",r="";return t&&t.length>2&&(i=t[1].replace(/"/g,""),r=t[2].replace(/"/g,"")),{name:i,value:r}}},{key:"attributeToString",value:function(e,t){if(!e.getAttribute)return"";var i=e.getAttribute(t);return Ri(i)?"":i.toString?i.toString():""}}])}(),Ci=function(n){return n.REPARENT="reparent",n.DESTROY="destroy",n.ATTR_MODIFIED="DOMAttrModified",n.INSERTED="DOMNodeInserted",n.REMOVED="removed",n.MOUNTED="DOMNodeInsertedIntoDocument",n.UNMOUNTED="DOMNodeRemovedFromDocument",n.BOUNDS_CHANGED="bounds-changed",n.CULLED="culled",n}({}),Al=function(n){function e(t,i,r,o,s,a,l,u){var h;return un(this,e),(h=Ei(this,e,[null])).relatedNode=i,h.prevValue=r,h.newValue=o,h.attrName=s,h.attrChange=a,h.prevParsedValue=l,h.newParsedValue=u,h.type=t,h}return zi(e,n),fn(e)}(Md);function a0(n){var e=n.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}Al.ADDITION=2,Al.MODIFICATION=1,Al.REMOVAL=3;var fL=new Al(Ci.REPARENT,null,"","","",0,"",""),_T=yD(),l0=hr(),Hb=Br(1,1,1),Kf=ji(),pL=yD(),ys=hr(),Bm=ji(),Fh=ks(),Fx=hr(),ET=ks(),wT=hr(),c0=hr(),jm=hr(),$b=ji(),u0=ks(),Wb=ks(),Vm=ks(),Bh={affectChildren:!0},Bx=function(){return fn(function n(e){un(this,n),this.pendingEvents=new Map,this.boundsChangedEvent=new Go(Ci.BOUNDS_CHANGED),this.displayObjectDependencyMap=new WeakMap,this.runtime=e},[{key:"matches",value:function(e,t){return this.runtime.sceneGraphSelector.is(e,t)}},{key:"querySelector",value:function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)}},{key:"querySelectorAll",value:function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)}},{key:"attach",value:function(e,t,i){var r,o=!1;e.parentNode&&(o=e.parentNode!==t,this.detach(e));var s=e.nodeName===qe.FRAGMENT,a=Fb(t);e.parentNode=t;var l=s?e.childNodes:[e];Zn(i)?l.forEach(function(v){t.childNodes.splice(i,0,v),v.parentNode=t}):l.forEach(function(v){t.childNodes.push(v),v.parentNode=t});var h=t.sortable;if((null!=h&&null!==(r=h.sorted)&&void 0!==r&&r.length||e.parsedStyle.zIndex)&&(-1===h.dirtyChildren.indexOf(e)&&h.dirtyChildren.push(e),h.dirty=!0,h.dirtyReason=Bf.ADDED),!a){if(s)this.dirtifyFragment(e);else{var p=e.transformable;p&&this.dirtifyWorld(e,p)}o&&e.dispatchEvent(fL)}}},{key:"detach",value:function(e){if(e.parentNode){var t,i,r=e.transformable,s=e.parentNode.sortable;(null!=s&&null!==(t=s.sorted)&&void 0!==t&&t.length||null!==(i=e.style)&&void 0!==i&&i.zIndex)&&(-1===s.dirtyChildren.indexOf(e)&&s.dirtyChildren.push(e),s.dirty=!0,s.dirtyReason=Bf.REMOVED);var a=e.parentNode.childNodes.indexOf(e);a>-1&&e.parentNode.childNodes.splice(a,1),r&&this.dirtifyWorld(e,r),e.parentNode=null}}},{key:"getOrigin",value:function(e){return e.getGeometryBounds(),e.transformable.origin}},{key:"setOrigin",value:function(e,t){"number"==typeof t&&(t=[t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0]);var o=e.transformable;if(t[0]!==o.origin[0]||t[1]!==o.origin[1]||t[2]!==o.origin[2]){var s=o.origin;s[0]=t[0],s[1]=t[1],s[2]=t[2]||0,this.dirtifyLocal(e,o)}}},{key:"rotate",value:function(e,t){"number"==typeof t&&(t=Br(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){var s=Fh;WE(s,t[0],t[1],t[2]);var a=this.getRotation(e),l=this.getRotation(e.parentNode);$y(Vm,l),Gy(Vm,Vm),Ic(s,Vm,s),Ic(o.localRotation,s,a),KE(o.localRotation,o.localRotation),this.dirtifyLocal(e,o)}else this.rotateLocal(e,t)}},{key:"rotateLocal",value:function(e,t){"number"==typeof t&&(t=Br(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;WE(Wb,t[0],t[1],t[2]),vD(o.localRotation,o.localRotation,Wb),this.dirtifyLocal(e,o)}},{key:"setEulerAngles",value:function(e,t){"number"==typeof t&&(t=Br(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;if(null!==e.parentNode&&e.parentNode.transformable){WE(o.localRotation,t[0],t[1],t[2]);var s=this.getRotation(e.parentNode);$y(u0,Gy(Fh,s)),vD(o.localRotation,o.localRotation,u0),this.dirtifyLocal(e,o)}else this.setLocalEulerAngles(e,t)}},{key:"setLocalEulerAngles",value:function(e,t){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"number"==typeof t&&(t=Br(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var s=e.transformable;WE(s.localRotation,t[0],t[1],t[2]),o&&this.dirtifyLocal(e,s)}},{key:"translateLocal",value:function(e,t){"number"==typeof t&&(t=Br(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0));var o=e.transformable;pv(t,l0)||(function dN(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],l=e[1],u=e[2],h=r*u-o*l,p=o*a-i*u,v=i*l-r*a,y=r*v-o*p,b=o*h-i*v,E=i*p-r*h,w=2*t[3];p*=w,v*=w,b*=2,E*=2,n[0]=a+(h*=w)+(y*=2),n[1]=l+p+b,n[2]=u+v+E}(t,t,o.localRotation),bh(o.localPosition,o.localPosition,t),this.dirtifyLocal(e,o))}},{key:"setPosition",value:function(e,t){var i,r=e.transformable;jm[0]=t[0],jm[1]=t[1],jm[2]=null!==(i=t[2])&&void 0!==i?i:0,pv(this.getPosition(e),jm)||(Tc(r.position,jm),null!==e.parentNode&&e.parentNode.transformable?(ph($b,e.parentNode.transformable.worldTransform),xl($b,$b),Ko(r.localPosition,jm,$b)):Tc(r.localPosition,jm),this.dirtifyLocal(e,r))}},{key:"setLocalPosition",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;c0[0]=t[0],c0[1]=t[1],c0[2]=null!==(i=t[2])&&void 0!==i?i:0,!pv(o.localPosition,c0)&&(Tc(o.localPosition,c0),r&&this.dirtifyLocal(e,o))}},{key:"scaleLocal",value:function(e,t){var i,r=e.transformable;(function cN(n,e,t){n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2]})(r.localScale,r.localScale,va(ys,t[0],t[1],null!==(i=t[2])&&void 0!==i?i:1)),this.dirtifyLocal(e,r)}},{key:"setLocalScale",value:function(e,t){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e.transformable;va(ys,t[0],t[1],null!==(i=t[2])&&void 0!==i?i:o.localScale[2]),!pv(ys,o.localScale)&&(Tc(o.localScale,ys),r&&this.dirtifyLocal(e,o))}},{key:"translate",value:function(e,t){"number"==typeof t&&(t=va(ys,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0)),!pv(t,l0)&&(bh(ys,this.getPosition(e),t),this.setPosition(e,ys))}},{key:"setRotation",value:function(e,t,i,r,o){var s=e.transformable;if("number"==typeof t&&(t=pN(t,i,r,o)),null!==e.parentNode&&e.parentNode.transformable){var a=this.getRotation(e.parentNode);$y(Fh,a),Gy(Fh,Fh),Ic(s.localRotation,Fh,t),KE(s.localRotation,s.localRotation),this.dirtifyLocal(e,s)}else this.setLocalRotation(e,t)}},{key:"setLocalRotation",value:function(e,t,i,r,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];"number"==typeof t&&(t=gD(Fh,t,i,r,o));var a=e.transformable;$y(a.localRotation,t),s&&this.dirtifyLocal(e,a)}},{key:"setLocalSkew",value:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];"number"==typeof t&&(t=function mN(n,e,t){return n[0]=e,n[1]=t,n}(pL,t,i));var o=e.transformable;(function Wy(n,e){n[0]=e[0],n[1]=e[1]})(o.localSkew,t),r&&this.dirtifyLocal(e,o)}},{key:"dirtifyLocal",value:function(e,t){Fb(e)||t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))}},{key:"dirtifyWorld",value:function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)}},{key:"dirtifyFragment",value:function(e){var t=e.transformable;t&&(t.frozen=!1,t.dirtyFlag=!0,t.localDirtyFlag=!0);var i=e.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0);for(var r=e.childNodes.length,o=0;o<r;o++)this.dirtifyFragment(e.childNodes[o]);e.nodeName===qe.FRAGMENT&&this.pendingEvents.set(e,!1)}},{key:"triggerPendingEvents",value:function(){var e=this,t=new Set,i=new Set;this.pendingEvents.forEach(function(o,s){s.nodeName===qe.FRAGMENT&&s.forEach(function(a){a!==s&&i.add(a)})});var r=function(o,s){o.isConnected&&!t.has(o)&&!i.has(o)&&(e.boundsChangedEvent.detail=s,e.boundsChangedEvent.target=o,o.isMutationObserved?o.dispatchEvent(e.boundsChangedEvent):o.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(o))};this.pendingEvents.forEach(function(o,s){Bh.affectChildren=o,o?s.forEach(function(a){r(a,Bh)}):r(s,Bh)}),t.clear(),i.clear(),this.clearPendingEvents()}},{key:"clearPendingEvents",value:function(){this.pendingEvents.clear()}},{key:"dirtifyToRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e;for(i.renderable&&(i.renderable.dirty=!0);i;)a0(i),i=i.parentNode;t&&e.forEach(function(r){a0(r)}),this.informDependentDisplayObjects(e),this.pendingEvents.set(e,t)}},{key:"updateDisplayObjectDependency",value:function(e,t,i,r){if(t&&t!==i){var o=this.displayObjectDependencyMap.get(t);if(o&&o[e]){var s=o[e].indexOf(r);o[e].splice(s,1)}}if(i){var a=this.displayObjectDependencyMap.get(i);a||(this.displayObjectDependencyMap.set(i,{}),a=this.displayObjectDependencyMap.get(i)),a[e]||(a[e]=[]),a[e].push(r)}}},{key:"informDependentDisplayObjects",value:function(e){var t=this,i=this.displayObjectDependencyMap.get(e);i&&Object.keys(i).forEach(function(r){i[r].forEach(function(o){t.dirtifyToRoot(o,!0),o.dispatchEvent(new Al(Ci.ATTR_MODIFIED,o,t,t,r,Al.MODIFICATION,t,t)),o.isCustomElement&&o.isConnected&&o.attributeChangedCallback&&o.attributeChangedCallback(r,t,t)})})}},{key:"getPosition",value:function(e){var t=e.transformable;return By(t.position,this.getWorldTransform(e,t))}},{key:"getRotation",value:function(e){var t=e.transformable;return yh(t.rotation,this.getWorldTransform(e,t))}},{key:"getScale",value:function(e){var t=e.transformable;return gd(t.scaling,this.getWorldTransform(e,t))}},{key:"getWorldTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transformable;return!t.localDirtyFlag&&!t.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t)),t.worldTransform}},{key:"getLocalPosition",value:function(e){return e.transformable.localPosition}},{key:"getLocalRotation",value:function(e){return e.transformable.localRotation}},{key:"getLocalScale",value:function(e){return e.transformable.localScale}},{key:"getLocalSkew",value:function(e){return e.transformable.localSkew}},{key:"calcLocalTransform",value:function(e){if(0!==e.localSkew[0]||0!==e.localSkew[1]){xf(e.localTransform,e.localRotation,e.localPosition,Br(1,1,1),e.origin),(0!==e.localSkew[0]||0!==e.localSkew[1])&&(vu(Bm),Bm[4]=Math.tan(e.localSkew[0]),Bm[1]=Math.tan(e.localSkew[1]),ma(e.localTransform,e.localTransform,Bm));var i=xf(Bm,gD(Fh,0,0,0,1),va(ys,1,1,1),e.localScale,e.origin);ma(e.localTransform,e.localTransform,i)}else{var r=e.localTransform,o=e.localPosition,s=e.localRotation,a=e.localScale,l=e.origin,u=0!==o[0]||0!==o[1]||0!==o[2];1!==s[3]||0!==s[0]||0!==s[1]||0!==s[2]||1!==a[0]||1!==a[1]||1!==a[2]||0!==l[0]||0!==l[1]||0!==l[2]?xf(r,s,o,a,l):u?mh(r,o):vu(r)}}},{key:"getLocalTransform",value:function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform}},{key:"setLocalTransform",value:function(e,t){var i=By(Fx,t),r=yh(ET,t),o=gd(wT,t);this.setLocalScale(e,o,!1),this.setLocalPosition(e,i,!1),this.setLocalRotation(e,r,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"resetLocalTransform",value:function(e){this.setLocalScale(e,Hb,!1),this.setLocalPosition(e,l0,!1),this.setLocalEulerAngles(e,l0,void 0,void 0,!1),this.setLocalSkew(e,_T,void 0,!1),this.dirtifyLocal(e,e.transformable)}},{key:"getTransformedGeometryBounds",value:function(e){var i=arguments.length>2?arguments[2]:void 0,r=this.getGeometryBounds(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);if(!No.isEmpty(r)){var o=i||new No;return o.setFromTransformedAABB(r,this.getWorldTransform(e)),o}return null}},{key:"getGeometryBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.geometry;return r.dirty&&Tn.styleValueRegistry.updateGeometry(e),(t?r.renderBounds:r.contentBounds||null)||new No}},{key:"getBounds",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.renderable;if(!o.boundsDirty&&!i&&o.bounds)return o.bounds;if(!o.renderBoundsDirty&&i&&o.renderBounds)return o.renderBounds;var s=i?o.renderBounds:o.bounds,a=this.getTransformedGeometryBounds(e,i,s);if(e.childNodes.forEach(function(p){var v=t.getBounds(p,i);v&&(a?a.add(v):(a=s||new No).update(v.center,v.halfExtents))}),a||(a=new No),i){var u=Nb(e);if(u){var h=u.parsedStyle.clipPath.getBounds(i);a?h&&(a=h.intersection(a)):a.update(h.center,h.halfExtents)}}return i?(o.renderBounds=a,o.renderBoundsDirty=!1):(o.bounds=a,o.boundsDirty=!1),a}},{key:"getLocalBounds",value:function(e){if(e.parentNode){var t=Kf;e.parentNode.transformable&&(t=xl(Bm,this.getWorldTransform(e.parentNode)));var i=this.getBounds(e);if(!No.isEmpty(i)){var r=new No;return r.setFromTransformedAABB(i,t),r}}return this.getBounds(e)}},{key:"getBoundingClientRect",value:function(e){var t,i,r=this.getGeometryBounds(e);No.isEmpty(r)||(i=new No).setFromTransformedAABB(r,this.getWorldTransform(e));var o=null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.getContextService().getBoundingClientRect();if(i){var a=Ui(i.getMin(),2),l=a[0],u=a[1],p=Ui(i.getMax(),2),v=p[0],y=p[1];return new Lf(l+(o?.left||0),u+(o?.top||0),v-l,y-u)}return new Lf(o?.left||0,o?.top||0,0,0)}},{key:"dirtifyWorldInternal",value:function(e,t){var i=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach(function(s){var a=s.transformable;a.dirtyFlag||i.dirtifyWorldInternal(s,a)});var o=e.renderable;o&&(o.renderBoundsDirty=!0,o.boundsDirty=!0,o.dirty=!0)}}},{key:"syncHierarchy",value:function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var i=e.childNodes,r=0;r<i.length;r++)this.syncHierarchy(i[r])}}},{key:"sync",value:function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var i=e.parentNode,r=i&&i.transformable;null!==i&&r?ma(t.worldTransform,r.worldTransform,t.localTransform):ph(t.worldTransform,t.localTransform),t.dirtyFlag=!1}}},{key:"unfreezeParentToRoot",value:function(e){for(var t=e.parentNode;t;){var i=t.transformable;i&&(i.frozen=!1),t=t.parentNode}}}])}(),jh={MetricsString:"|\xc9q\xc5",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Xf=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,ST=new RegExp("".concat(/[!%),.:;?\]}\xa2\xb0\xb7'""\u2020\u2021\u203a\u2103\u2236\u3001\u3002\u3003\u3006\u3015\u3017\u301e\ufe5a\ufe5c\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff3d\uff5d\uff5e]/.source,"|").concat(/[!),.:;?\]}\xa2\xb7\u2013\u2014'"\u2022"\u3001\u3002\u3006\u301e\u3015\u3009\u300b\u300d\ufe30\ufe31\ufe32\ufe33\ufe50\ufe51\ufe52\ufe53\ufe54\ufe55\ufe56\ufe58\ufe5a\ufe5c\uff01\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\ufe36\ufe38\ufe3a\ufe3c\ufe3e\ufe40\ufe42\ufe57\uff3d\uff5c\uff5d\uff64]/.source,"|").concat(/[)\]\uff5d\u3015\u3009\u300b\u300d\u300f\u3011\u3019\u3017\u301f'"\uff60\xbb\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\u2010\u30a0\u2013\u301c?!\u203c\u2047\u2048\u2049\u30fb\u3001:;,\u3002.]/.source,"|").concat(/[!%),.:;?\]}\xa2\xb0'"\u2020\u2021\u2103\u3006\u3008\u300a\u300c\u300e\u3015\uff01\uff05\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff5d]/.source)),vL=new RegExp("".concat(/[$(\xa3\xa5\xb7'"\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]/.source,"|").concat(/[([{\xa3\xa5'"\u2035\u3008\u300a\u300c\u300e\u3014\u301d\ufe34\ufe59\ufe5b\uff08\uff5b\ufe35\ufe37\ufe39\ufe3b\ufe3d\ufe3f\ufe41\ufe43\ufe4f]/.source,"|").concat(/[([\uff5b\u3014\u3008\u300a\u300c\u300e\u3010\u3018\u3016\u301d'"\uff5f\xab\u2014...\u2025\u3033\u3034\u3035]/.source,"|").concat(/[$([{\xa3\xa5'"\u3005\u3007\u3009\u300b\u300d\u3014\uff04\uff08\uff3b\uff5b\uff60\uffe5\uffe6#]/.source)),DT=function(){return fn(function n(e){var t=this;un(this,n),this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(i,r){return!t.isBreakingSpace(r)&&!(!i||!vL.exec(r)&&!ST.exec(i))},this.trimByKinsokuShorui=function(i){var r=pa(i),o=r[r.length-2];if(!o)return i;var s=o[o.length-1];return r[r.length-2]=o.slice(0,-1),r[r.length-1]=s+r[r.length-1],r},this.runtime=e},[{key:"measureFont",value:function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var i={ascent:0,descent:0,fontSize:0},r=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),o=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});o.font=e;var s=jh.MetricsString+jh.BaselineSymbol,a=Math.ceil(o.measureText(s).width),l=Math.ceil(o.measureText(jh.BaselineSymbol).width),u=jh.HeightMultiplier*l;l=l*jh.BaselineMultiplier|0,r.width=a,r.height=u,o.fillStyle="#f00",o.fillRect(0,0,a,u),o.font=e,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(s,0,l);var h=o.getImageData(0,0,a||1,u||1).data,p=h.length,v=4*a,y=0,b=0,E=!1;for(y=0;y<l;++y){for(var w=0;w<v;w+=4)if(255!==h[b+w]){E=!0;break}if(E)break;b+=v}for(i.ascent=l-y,b=p-v,E=!1,y=u;y>l;--y){for(var S=0;S<v;S+=4)if(255!==h[b+S]){E=!0;break}if(E)break;b-=v}return i.descent=y-l,i.fontSize=i.ascent+i.descent,this.fontMetricsCache[e]=i,i}},{key:"measureText",value:function(e,t,i){var r=t.fontSize,o=void 0===r?16:r,s=t.wordWrap,a=void 0!==s&&s,l=t.lineHeight,u=t.lineWidth,h=void 0===u?1:u,p=t.textBaseline,v=void 0===p?"alphabetic":p,y=t.textAlign,b=void 0===y?"start":y,E=t.letterSpacing,w=void 0===E?0:E,S=t.textPath,C=t.leading,D=void 0===C?0:C,k=function uL(n){for(var e=n.fontSize,t=void 0===e?16:e,i=n.fontFamily,r=void 0===i?"sans-serif":i,o=n.fontStyle,s=void 0===o?"normal":o,a=n.fontVariant,l=void 0===a?"normal":a,u=n.fontWeight,h=void 0===u?"normal":u,p=Zn(t)&&"".concat(t,"px")||"16px",v=r.split(","),y=v.length-1;y>=0;y--){var b=v[y].trim();!jb.test(b)&&UU.indexOf(b)<0&&(b='"'.concat(b,'"')),v[y]=b}return"".concat(s," ").concat(l," ").concat(h," ").concat(p," ").concat(v.join(","))}(t),T=this.measureFont(k,i);0===T.fontSize&&(T.fontSize=o,T.ascent=o);var I=this.runtime.offscreenCanvasCreator.getOrCreateContext(i);I.font=k,t.isOverflowing=!1;var z=(a?this.wordWrap(e,t,i):e).split(/(?:\r\n|\r|\n)/),V=new Array(z.length),K=0;if(!S){for(var Q=0;Q<z.length;Q++){var at=I.measureText(z[Q]).width+(z[Q].length-1)*w;V[Q]=at,K=Math.max(K,at)}var It=K+h,Pt=l||T.fontSize+h,ct=Math.max(Pt,T.fontSize+h)+(z.length-1)*(Pt+D),ot=0;return"middle"===v?ot=-ct/2:"bottom"===v||"alphabetic"===v||"ideographic"===v?ot=-ct:("top"===v||"hanging"===v)&&(ot=0),{font:k,width:It,height:ct,lines:z,lineWidths:V,lineHeight:Pt+=D,maxLineWidth:K,fontProperties:T,lineMetrics:V.map(function(rt,Nt){var ie=0;return"center"===b||"middle"===b?ie-=rt/2:("right"===b||"end"===b)&&(ie-=rt),new Lf(ie-h/2,ot+Nt*Pt,rt+h,Pt)})}}S.getTotalLength();for(var Y=0;Y<z.length;Y++)I.measureText(z[Y])}},{key:"setGraphemeOnPath",value:function(){}},{key:"wordWrap",value:function(e,t,i){var r=this,o=t.wordWrapWidth,s=void 0===o?0:o,a=t.letterSpacing,l=void 0===a?0:a,u=t.maxLines,h=void 0===u?1/0:u,p=t.textOverflow,v=this.runtime.offscreenCanvasCreator.getOrCreateContext(i),y=s+l,b="";"ellipsis"===p?b="...":p&&"clip"!==p&&(b=p);for(var E=[],w=0,S=0,C={},D=function(ct){return r.getFromCache(ct,l,C,v)},k=Array.from(b).reduce(function(ct,ot){return ct+D(ot)},0),T=Array.from(e),I=0;I<T.length;I++){var F=T[I],z=e[I-1],V=e[I+1],K=D(F);if(this.isNewline(F)){if(++w>=h){t.isOverflowing=!0;break}S=0,E[w]=""}else{if(S>0&&S+K>y){if(w+1>=h){if(t.isOverflowing=!0,k>0&&k<=y){for(var Y=E[w].length,Q=0,at=Y,It=0;It<Y;It++){var Pt=D(E[w][It]);if(Q+Pt+k>y){at=It;break}Q+=Pt}E[w]=(E[w]||"").slice(0,at)+b}break}if(S=0,E[++w]="",this.isBreakingSpace(F))continue;this.canBreakInLastChar(F)||(E=this.trimToBreakable(E),S=this.sumTextWidthByCache(E[w]||"",C)),this.shouldBreakByKinsokuShorui(F,V)&&(E=this.trimByKinsokuShorui(E),S+=D(z||""))}S+=K,E[w]=(E[w]||"")+F}}return E.join("\n")}},{key:"isBreakingSpace",value:function(e){return"string"==typeof e&&jh.BreakingSpaces.indexOf(e.charCodeAt(0))>=0}},{key:"isNewline",value:function(e){return"string"==typeof e&&jh.Newlines.indexOf(e.charCodeAt(0))>=0}},{key:"trimToBreakable",value:function(e){var t=pa(e),i=t[t.length-2],r=this.findBreakableIndex(i);if(-1===r||!i)return t;var o=i.slice(r,r+1),l=r+(this.isBreakingSpace(o)?0:1);return t[t.length-1]+=i.slice(r+1,i.length),t[t.length-2]=i.slice(0,l),t}},{key:"canBreakInLastChar",value:function(e){return!(e&&Xf.test(e))}},{key:"sumTextWidthByCache",value:function(e,t){return e.split("").reduce(function(i,r){if(!t[r])throw Error("cannot count the word without cache");return i+t[r]},0)}},{key:"findBreakableIndex",value:function(e){for(var t=e.length-1;t>=0;t--)if(!Xf.test(e[t]))return t;return-1}},{key:"getFromCache",value:function(e,t,i,r){var o=i[e];if("number"!=typeof o){var s=e.length*t;o=r.measureText(e).width+s,i[e]=o}return o}}])}(),Tn={},OT=function(n){var e=new vT,t=new gT;return zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(n={},qe.CIRCLE,new Lm),qe.ELLIPSE,new Vb),qe.RECT,e),qe.IMAGE,e),qe.GROUP,new Nx),qe.LINE,new Rx),qe.TEXT,new Jo(Tn)),qe.POLYLINE,t),qe.POLYGON,t),qe.PATH,new Px),zn(zn(n,qe.HTML,new yT),qe.MESH,null)}(),TT=function(n){var e=new NU,t=new oT;return zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(n={},Wn.PERCENTAGE,null),Wn.NUMBER,new Im),Wn.ANGLE,new RU),Wn.DEFINED_PATH,new PU),Wn.PAINT,e),Wn.COLOR,e),Wn.FILTER,new LU),Wn.LENGTH,t),Wn.LENGTH_PERCENTAGE,t),Wn.LENGTH_PERCENTAGE_12,new FU),zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(n,Wn.LENGTH_PERCENTAGE_14,new BU),Wn.COORDINATE,new oT),Wn.OFFSET_DISTANCE,new n0),Wn.OPACITY_VALUE,new Z3),Wn.PATH,new jU),Wn.LIST_OF_POINTS,new sT),Wn.SHADOW_BLUR,new Q3),Wn.TEXT,new VU),Wn.TEXT_TRANSFORM,new q3),Wn.TRANSFORM,new lc),zn(zn(zn(n,Wn.TRANSFORM_ORIGIN,new Nm),Wn.Z_INDEX,new hL),Wn.MARKER,new Y3)}();Tn.CameraContribution=Mb,Tn.AnimationTimeline=null,Tn.EasingFunction=null,Tn.offscreenCanvasCreator=new s0,Tn.sceneGraphSelector=new Fm,Tn.sceneGraphService=new Bx(Tn),Tn.textService=new DT(Tn),Tn.geometryUpdaterFactory=OT,Tn.CSSPropertySyntaxFactory=TT,Tn.styleValueRegistry=new IU(Tn),Tn.layoutRegistry=null,Tn.globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},Tn.enableStyleSyntax=!0,Tn.enableSizeAttenuation=!1;var bL=0,Kb=new Al(Ci.INSERTED,null,"","","",0,"",""),Xb=new Al(Ci.REMOVED,null,"","","",0,"",""),EL=new Go(Ci.DESTROY),AT=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).entity=bL++,t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.cullable={strategy:ex.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.destroyed=!1,t.style={},t.computedStyle={},t.parsedStyle={},t.attributes={},t}return zi(e,n),fn(e,[{key:"className",get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)}},{key:"classList",get:function(){return this.className.split(" ").filter(function(t){return""!==t})}},{key:"tagName",get:function(){return this.nodeName}},{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"parentElement",get:function(){return this.parentNode}},{key:"nextSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null}},{key:"previousSibling",get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null}},{key:"cloneNode",value:function(t){throw new Error(Qr)}},{key:"appendChild",value:function(t,i){var r;if(t.destroyed)throw new Error("Cannot append a destroyed element.");return Tn.sceneGraphService.attach(t,this,i),null!==(r=this.ownerDocument)&&void 0!==r&&r.defaultView&&(Fb(this)||t.nodeName!==qe.FRAGMENT?this.ownerDocument.defaultView.mountChildren(t):this.ownerDocument.defaultView.mountFragment(t)),this.isMutationObserved&&(Kb.relatedNode=this,t.dispatchEvent(Kb)),t}},{key:"insertBefore",value:function(t,i){if(i){t.parentElement&&t.parentElement.removeChild(t);var r=this.childNodes.indexOf(i);-1===r?this.appendChild(t):this.appendChild(t,r)}else this.appendChild(t);return t}},{key:"replaceChild",value:function(t,i){var r=this.childNodes.indexOf(i);return this.removeChild(i),this.appendChild(t,r),i}},{key:"removeChild",value:function(t){var i;return Xb.relatedNode=this,t.dispatchEvent(Xb),null!==(i=t.ownerDocument)&&void 0!==i&&i.defaultView&&t.ownerDocument.defaultView.unmountChildren(t),Tn.sceneGraphService.detach(t),t}},{key:"removeChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)this.removeChild(this.childNodes[t])}},{key:"destroyChildren",value:function(){for(var t=this.childNodes.length-1;t>=0;t--){var i=this.childNodes[t];i.childNodes.length&&i.destroyChildren(),i.destroy()}}},{key:"matches",value:function(t){return Tn.sceneGraphService.matches(t,this)}},{key:"getElementById",value:function(t){return Tn.sceneGraphService.querySelector("#".concat(t),this)}},{key:"getElementsByName",value:function(t){return Tn.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)}},{key:"getElementsByClassName",value:function(t){return Tn.sceneGraphService.querySelectorAll(".".concat(t),this)}},{key:"getElementsByTagName",value:function(t){return Tn.sceneGraphService.querySelectorAll(t,this)}},{key:"querySelector",value:function(t){return Tn.sceneGraphService.querySelector(t,this)}},{key:"querySelectorAll",value:function(t){return Tn.sceneGraphService.querySelectorAll(t,this)}},{key:"closest",value:function(t){var i=this;do{if(Tn.sceneGraphService.matches(t,i))return i;i=i.parentElement}while(null!==i);return null}},{key:"find",value:function(t){var i=this,r=null;return this.forEach(function(o){return o===i||!t(o)||(r=o,!1)}),r}},{key:"findAll",value:function(t){var i=this,r=[];return this.forEach(function(o){o!==i&&t(o)&&r.push(o)}),r}},{key:"after",value:function(){var t=this;if(this.parentNode){for(var i=this.parentNode.childNodes.indexOf(this),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o.forEach(function(a,l){var u;return null===(u=t.parentNode)||void 0===u?void 0:u.appendChild(a,i+l+1)})}}},{key:"before",value:function(){if(this.parentNode){for(var t,i=this.parentNode.childNodes.indexOf(this),r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a=o[0],l=o.slice(1);this.parentNode.appendChild(a,i),(t=a).after.apply(t,pa(l))}}},{key:"replaceWith",value:function(){this.after.apply(this,arguments),this.remove()}},{key:"append",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.forEach(function(s){return t.appendChild(s)})}},{key:"prepend",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];r.forEach(function(s,a){return t.appendChild(s,a)})}},{key:"replaceChildren",value:function(){for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,arguments)}},{key:"remove",value:function(){return this.parentNode?this.parentNode.removeChild(this):this}},{key:"destroy",value:function(){this.dispatchEvent(EL),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0}},{key:"getGeometryBounds",value:function(){return Tn.sceneGraphService.getGeometryBounds(this)}},{key:"getRenderBounds",value:function(){return Tn.sceneGraphService.getBounds(this,!0)}},{key:"getBounds",value:function(){return Tn.sceneGraphService.getBounds(this)}},{key:"getLocalBounds",value:function(){return Tn.sceneGraphService.getLocalBounds(this)}},{key:"getBoundingClientRect",value:function(){return Tn.sceneGraphService.getBoundingClientRect(this)}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"computedStyleMap",value:function(){return new Map(Object.entries(this.computedStyle))}},{key:"getAttributeNames",value:function(){return Object.keys(this.attributes)}},{key:"getAttribute",value:function(t){if("symbol"!=typeof t)return this.attributes[t]}},{key:"hasAttribute",value:function(t){return this.getAttributeNames().includes(t)}},{key:"hasAttributes",value:function(){return!!this.getAttributeNames().length}},{key:"removeAttribute",value:function(t){this.setAttribute(t,null),delete this.attributes[t]}},{key:"setAttribute",value:function(t,i,r,o){this.attributes[t]=i}},{key:"getAttributeNS",value:function(t,i){throw new Error(Qr)}},{key:"getAttributeNode",value:function(t){throw new Error(Qr)}},{key:"getAttributeNodeNS",value:function(t,i){throw new Error(Qr)}},{key:"hasAttributeNS",value:function(t,i){throw new Error(Qr)}},{key:"removeAttributeNS",value:function(t,i){throw new Error(Qr)}},{key:"removeAttributeNode",value:function(t){throw new Error(Qr)}},{key:"setAttributeNS",value:function(t,i,r){throw new Error(Qr)}},{key:"setAttributeNode",value:function(t){throw new Error(Qr)}},{key:"setAttributeNodeNS",value:function(t){throw new Error(Qr)}},{key:"toggleAttribute",value:function(t,i){throw new Error(Qr)}}])}(So);function dr(n){return!(null==n||!n.nodeName)}var wL=Tn.globalThis.Proxy?Tn.globalThis.Proxy:function(){},Sd=new Al(Ci.ATTR_MODIFIED,null,null,null,null,Al.MODIFICATION,null,null),d0=hr(),xL=ks(),ra=function(n){function e(t){var i;return un(this,e),(i=Ei(this,e)).isCustomElement=!1,i.isMutationObserved=!1,i.activeAnimations=[],i.config=t,i.id=t.id||"",i.name=t.name||"",(t.className||t.class)&&(i.className=t.className||t.class),i.nodeName=t.type||qe.GROUP,t.initialParsedStyle&&Object.assign(i.parsedStyle,t.initialParsedStyle),i.initAttributes(t.style),Tn.enableStyleSyntax&&(i.style=new wL({setProperty:function(r,o){i.setAttribute(r,o)},getPropertyValue:function(r){return i.getAttribute(r)},removeProperty:function(r){i.removeAttribute(r)},item:function(){return""}},{get:function(r,o){return void 0!==r[o]?r[o]:i.getAttribute(o)},set:function(r,o,s){return i.setAttribute(o,s),!0}})),i}return zi(e,n),fn(e,[{key:"destroy",value:function(){mO(e,"destroy",this)([]),this.getAnimations().forEach(function(t){t.cancel()})}},{key:"cloneNode",value:function(t,i){var r=nr({},this.attributes);for(var o in r){var s=r[o];dr(s)&&"clipPath"!==o&&"offsetPath"!==o&&"textPath"!==o&&(r[o]=s.cloneNode(t)),i&&(r[o]=i(o,s))}var a=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:r});return a.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach(function(l){if(!l.style.isMarker){var u=l.cloneNode(t);a.appendChild(u)}}),a}},{key:"initAttributes",value:function(){Tn.styleValueRegistry.processProperties(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{forceUpdateGeometry:!0}),this.renderable.dirty=!0}},{key:"setAttribute",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];vi(i)||(r||i!==this.attributes[t])&&(this.internalSetAttribute(t,i,{memoize:o}),mO(e,"setAttribute",this)([t,i]))}},{key:"internalSetAttribute",value:function(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.renderable,s=this.attributes[t],a=this.parsedStyle[t];Tn.styleValueRegistry.processProperties(this,zn({},t,i),r),o.dirty=!0;var l=this.parsedStyle[t];this.isConnected&&(Sd.relatedNode=this,Sd.prevValue=s,Sd.newValue=i,Sd.attrName=t,Sd.prevParsedValue=a,Sd.newParsedValue=l,this.isMutationObserved?this.dispatchEvent(Sd):(Sd.target=this,this.ownerDocument.defaultView.dispatchEvent(Sd,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(t,s,i,a,l)}},{key:"getBBox",value:function(){var t=this.getBounds(),r=Ui(t.getMin(),2),o=r[0],s=r[1],l=Ui(t.getMax(),2);return new Lf(o,s,l[0]-o,l[1]-s)}},{key:"setOrigin",value:function(t){return Tn.sceneGraphService.setOrigin(this,ba(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"getOrigin",value:function(){return Tn.sceneGraphService.getOrigin(this)}},{key:"setPosition",value:function(t){return Tn.sceneGraphService.setPosition(this,ba(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"setLocalPosition",value:function(t){return Tn.sceneGraphService.setLocalPosition(this,ba(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"translate",value:function(t){return Tn.sceneGraphService.translate(this,ba(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"translateLocal",value:function(t){return Tn.sceneGraphService.translateLocal(this,ba(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,!1)),this}},{key:"getPosition",value:function(){return Tn.sceneGraphService.getPosition(this)}},{key:"getLocalPosition",value:function(){return Tn.sceneGraphService.getLocalPosition(this)}},{key:"scale",value:function(t,i,r){return this.scaleLocal(t,i,r)}},{key:"scaleLocal",value:function(t,i,r){return"number"==typeof t&&(t=ba(t,i=i||t,r=r||t,!1)),Tn.sceneGraphService.scaleLocal(this,t),this}},{key:"setLocalScale",value:function(t,i,r){return"number"==typeof t&&(t=ba(t,i=i||t,r=r||t,!1)),Tn.sceneGraphService.setLocalScale(this,t),this}},{key:"getLocalScale",value:function(){return Tn.sceneGraphService.getLocalScale(this)}},{key:"getScale",value:function(){return Tn.sceneGraphService.getScale(this)}},{key:"getEulerAngles",value:function(){return rl(Ui(Eb(d0,Tn.sceneGraphService.getWorldTransform(this)),3)[2])}},{key:"getLocalEulerAngles",value:function(){return rl(Ui(Eb(d0,Tn.sceneGraphService.getLocalRotation(this)),3)[2])}},{key:"setEulerAngles",value:function(t){return Tn.sceneGraphService.setEulerAngles(this,0,0,t),this}},{key:"setLocalEulerAngles",value:function(t){return Tn.sceneGraphService.setLocalEulerAngles(this,0,0,t),this}},{key:"rotateLocal",value:function(t,i,r){return Ri(i)&&Ri(r)?Tn.sceneGraphService.rotateLocal(this,0,0,t):Tn.sceneGraphService.rotateLocal(this,t,i,r),this}},{key:"rotate",value:function(t,i,r){return Ri(i)&&Ri(r)?Tn.sceneGraphService.rotate(this,0,0,t):Tn.sceneGraphService.rotate(this,t,i,r),this}},{key:"setRotation",value:function(t,i,r,o){return Tn.sceneGraphService.setRotation(this,t,i,r,o),this}},{key:"setLocalRotation",value:function(t,i,r,o){return Tn.sceneGraphService.setLocalRotation(this,t,i,r,o),this}},{key:"setLocalSkew",value:function(t,i){return Tn.sceneGraphService.setLocalSkew(this,t,i),this}},{key:"getRotation",value:function(){return Tn.sceneGraphService.getRotation(this)}},{key:"getLocalRotation",value:function(){return Tn.sceneGraphService.getLocalRotation(this)}},{key:"getLocalSkew",value:function(){return Tn.sceneGraphService.getLocalSkew(this)}},{key:"getLocalTransform",value:function(){return Tn.sceneGraphService.getLocalTransform(this)}},{key:"getWorldTransform",value:function(){return Tn.sceneGraphService.getWorldTransform(this)}},{key:"setLocalTransform",value:function(t){return Tn.sceneGraphService.setLocalTransform(this,t),this}},{key:"resetLocalTransform",value:function(){Tn.sceneGraphService.resetLocalTransform(this)}},{key:"getAnimations",value:function(){return this.activeAnimations}},{key:"animate",value:function(t,i){var r,o=null===(r=this.ownerDocument)||void 0===r?void 0:r.timeline;return o?o.play(this,t,i):null}},{key:"isVisible",value:function(){var t;return"hidden"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.visibility)}},{key:"interactive",get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"}},{key:"isInteractive",value:function(){var t;return"none"!==(null===(t=this.parsedStyle)||void 0===t?void 0:t.pointerEvents)}},{key:"isCulled",value:function(){return!(!this.cullable||!this.cullable.enable||this.cullable.visible)}},{key:"toFront",value:function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,pa(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))+1),this}},{key:"toBack",value:function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,pa(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})))-1),this}},{key:"getConfig",value:function(){return this.config}},{key:"attr",value:function(){for(var t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=r[0],a=r[1];return s?Dr(s)?(Object.keys(s).forEach(function(l){t.setAttribute(l,s[l])}),this):2===r.length?(this.setAttribute(s,a),this):this.attributes[s]:this.attributes}},{key:"getMatrix",value:function(t){var i=t||this.getWorldTransform(),o=Ui(By(d0,i),2),s=o[0],a=o[1],u=Ui(gd(d0,i),2),h=u[0],p=u[1],v=yh(xL,i),b=Ui(Eb(d0,v),3);return OO(b[0]||b[2],s,a,h,p)}},{key:"getLocalMatrix",value:function(){return this.getMatrix(this.getLocalTransform())}},{key:"setMatrix",value:function(t){var r=Ui(Wv(t),5),o=r[0],s=r[1],a=r[2],l=r[3];this.setEulerAngles(r[4]).setPosition(o,s).setLocalScale(a,l)}},{key:"setLocalMatrix",value:function(t){var r=Ui(Wv(t),5),o=r[0],s=r[1],a=r[2],l=r[3];this.setLocalEulerAngles(r[4]).setLocalPosition(o,s).setLocalScale(a,l)}},{key:"show",value:function(){this.forEach(function(t){t.style.visibility="visible"})}},{key:"hide",value:function(){this.forEach(function(t){t.style.visibility="hidden"})}},{key:"getCount",value:function(){return this.childElementCount}},{key:"getParent",value:function(){return this.parentElement}},{key:"getChildren",value:function(){return this.children}},{key:"getFirst",value:function(){return this.firstElementChild}},{key:"getLast",value:function(){return this.lastElementChild}},{key:"getChildByIndex",value:function(t){return this.children[t]||null}},{key:"add",value:function(t,i){return this.appendChild(t,i)}},{key:"set",value:function(t,i){this.config[t]=i}},{key:"get",value:function(t){return this.config[t]}},{key:"moveTo",value:function(t){return this.setPosition(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}},{key:"move",value:function(t){return this.setPosition(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}},{key:"setZIndex",value:function(t){return this.style.zIndex=t,this}}])}(AT),h0=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),Ei(this,e,[nr({type:qe.CIRCLE},t)])}return zi(e,n),fn(e)}(ra),CL=["style"],kT=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Su(i,CL);return un(this,e),(t=Ei(this,e,[nr({style:r},o)])).isCustomElement=!0,t}return zi(e,n),fn(e)}(ra),zx=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),Ei(this,e,[nr({type:qe.ELLIPSE},t)])}return zi(e,n),fn(e)}(ra),ML=function(n){function e(){return un(this,e),Ei(this,e,[{type:qe.FRAGMENT}])}return zi(e,n),fn(e)}(ra),js=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),Ei(this,e,[nr({type:qe.GROUP},t)])}return zi(e,n),fn(e)}(ra),SL=["style"],Ux=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Su(i,SL);return un(this,e),(t=Ei(this,e,[nr({type:qe.HTML,style:r},o)])).cullable.enable=!1,t}return zi(e,n),fn(e,[{key:"getDomElement",value:function(){return this.parsedStyle.$el}},{key:"getClientRects",value:function(){return[this.getBoundingClientRect()]}},{key:"getLocalBounds",value:function(){if(this.parentNode){var t=xl(ji(),this.parentNode.getWorldTransform()),i=this.getBounds();if(!No.isEmpty(i)){var r=new No;return r.setFromTransformedAABB(i,t),r}}return this.getBounds()}}])}(ra),al=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),Ei(this,e,[nr({type:qe.IMAGE},t)])}return zi(e,n),fn(e)}(ra),IT=["style"],Nc=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Su(i,IT);un(this,e),(t=Ei(this,e,[nr({type:qe.LINE,style:nr({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},r)},o)])).markerStartAngle=0,t.markerEndAngle=0;var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd;return a&&dr(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),l&&dr(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return zi(e,n),fn(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"x1"===t||"y1"===t||"x2"===t||"y2"===t||"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&dr(o)&&(this.markerStartAngle=0,o.remove()),s&&dr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t&&(o&&dr(o)&&(this.markerEndAngle=0,o.remove()),s&&dr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1)))}},{key:"transformMarker",value:function(t){var y,b,E,w,S,C,D,i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,l=i.x1,u=i.x2,h=i.y1,p=i.y2,v=t?i.markerStart:i.markerEnd;v&&dr(v)&&(t?(w=l,S=h,b=u-l,E=p-h,C=s||0,D=this.markerStartAngle):(w=u,S=p,b=l-u,E=h-p,C=a||0,D=this.markerEndAngle),y=Math.atan2(E,b),v.setLocalEulerAngles(180*y/Math.PI+D),v.setLocalPosition(w+Math.cos(y)*C,S+Math.sin(y)*C))}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parsedStyle,u=zw(r.x1,r.y1,r.x2,r.y2,t),h=u.x,p=u.y,v=Ko(hr(),Br(h,p,0),i?this.getWorldTransform():this.getLocalTransform());return new Rs(v[0],v[1])}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(t/this.getTotalLength(),i)}},{key:"getTotalLength",value:function(){var t=this.parsedStyle;return EO(t.x1,t.y1,t.x2,t.y2)}}])}(ra),Gx=["style"],f0=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Su(i,Gx);un(this,e),(t=Ei(this,e,[nr({type:qe.PATH,style:r,initialParsedStyle:{miterLimit:4,d:nr({},TO)}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd,u=s.markerMid;return a&&dr(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),u&&dr(u)&&t.placeMarkerMid(u),l&&dr(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return zi(e,n),fn(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"d"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&dr(o)&&(this.markerStartAngle=0,o.remove()),s&&dr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t?(o&&dr(o)&&(this.markerEndAngle=0,o.remove()),s&&dr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,l=t?i.markerStart:i.markerEnd;if(l&&dr(l)){var u,h,p,v,y,b,E;if(t){var S=Ui(this.getStartTangent(),2),C=S[0],D=S[1];v=D[0],y=D[1],h=C[0]-D[0],p=C[1]-D[1],b=s||0,E=this.markerStartAngle}else{var T=Ui(this.getEndTangent(),2),I=T[0],F=T[1];v=F[0],y=F[1],h=I[0]-F[0],p=I[1]-F[1],b=a||0,E=this.markerEndAngle}u=Math.atan2(p,h),l.setLocalEulerAngles(180*u/Math.PI+E),l.setLocalPosition(v+Math.cos(u)*b,y+Math.sin(u)*b)}}},{key:"placeMarkerMid",value:function(t){var i=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),t&&dr(t))for(var r=1;r<i.length-1;r++){var o=Ui(i[r].currentPoint,2),s=o[0],a=o[1],l=1===r?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(s,a)}}},{key:"getTotalLength",value:function(){return Jv(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=If(this.parsedStyle.d.absolutePath,t),s=o.x,a=o.y,l=Ko(hr(),Br(s,a,0),i?this.getWorldTransform():this.getLocalTransform());return new Rs(l[0],l[1])}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPointAtLength(t*Jv(this),i)}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.d.segments,i=[];if(t.length>1){var r=t[0].currentPoint,o=t[1].currentPoint,s=t[1].startTangent;i=[],s?(i.push([r[0]-s[0],r[1]-s[1]]),i.push([r[0],r[1]])):(i.push([o[0],o[1]]),i.push([r[0],r[1]]))}return i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.d.segments,i=t.length,r=[];if(i>1){var o=t[i-2].currentPoint,s=t[i-1].currentPoint,a=t[i-1].endTangent;r=[],a?(r.push([s[0]-a[0],s[1]-a[1]]),r.push([s[0],s[1]])):(r.push([o[0],o[1]]),r.push([s[0],s[1]]))}return r}}])}(ra),RT=["style"],Yb=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.style,o=Su(i,RT);un(this,e),(t=Ei(this,e,[nr({type:qe.POLYGON,style:r,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},o)])).markerStartAngle=0,t.markerEndAngle=0,t.markerMidList=[];var s=t.parsedStyle,a=s.markerStart,l=s.markerEnd,u=s.markerMid;return a&&dr(a)&&(t.markerStartAngle=a.getLocalEulerAngles(),t.appendChild(a)),u&&dr(u)&&t.placeMarkerMid(u),l&&dr(l)&&(t.markerEndAngle=l.getLocalEulerAngles(),t.appendChild(l)),t.transformMarker(!0),t.transformMarker(!1),t}return zi(e,n),fn(e,[{key:"attributeChangedCallback",value:function(t,i,r,o,s){"points"===t?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):"markerStartOffset"===t||"markerEndOffset"===t?(this.transformMarker(!0),this.transformMarker(!1)):"markerStart"===t?(o&&dr(o)&&(this.markerStartAngle=0,o.remove()),s&&dr(s)&&(this.markerStartAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!0))):"markerEnd"===t?(o&&dr(o)&&(this.markerEndAngle=0,o.remove()),s&&dr(s)&&(this.markerEndAngle=s.getLocalEulerAngles(),this.appendChild(s),this.transformMarker(!1))):"markerMid"===t&&this.placeMarkerMid(s)}},{key:"transformMarker",value:function(t){var i=this.parsedStyle,s=i.markerStartOffset,a=i.markerEndOffset,h=(i.points||{}).points,p=t?i.markerStart:i.markerEnd;if(p&&dr(p)&&h){var v,y,b,E,w,S,C;if(E=h[0][0],w=h[0][1],t)y=h[1][0]-h[0][0],b=h[1][1]-h[0][1],S=s||0,C=this.markerStartAngle;else{var D=h.length;this.parsedStyle.isClosed?(y=h[D-1][0]-h[0][0],b=h[D-1][1]-h[0][1]):(E=h[D-1][0],w=h[D-1][1],y=h[D-2][0]-h[D-1][0],b=h[D-2][1]-h[D-1][1]),S=a||0,C=this.markerEndAngle}v=Math.atan2(b,y),p.setLocalEulerAngles(180*v/Math.PI+C),p.setLocalPosition(E+Math.cos(v)*S,w+Math.sin(v)*S)}}},{key:"placeMarkerMid",value:function(t){var o=(this.parsedStyle.points||{}).points;if(this.markerMidList.forEach(function(h){h.remove()}),this.markerMidList=[],t&&dr(t)&&o)for(var s=1;s<(this.parsedStyle.isClosed?o.length:o.length-1);s++){var a=o[s][0],l=o[s][1],u=1===s?t:t.cloneNode(!0);this.markerMidList.push(u),this.appendChild(u),u.setLocalPosition(a,l)}}}])}(ra),PT=["style"],Zb=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.style,r=Su(t,PT);return un(this,e),Ei(this,e,[nr({type:qe.POLYLINE,style:i,initialParsedStyle:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},r)])}return zi(e,n),fn(e,[{key:"getTotalLength",value:function(){return function UO(n){return 0===n.parsedStyle.points.totalLength&&(n.parsedStyle.points.totalLength=function Vv(n){return function jv(n){if(n.length<2)return 0;for(var e=0,t=0;t<n.length-1;t++){var i=n[t],r=n[t+1];e+=Ed(i[0],i[1],r[0],r[1])}return e}(n)}(n.parsedStyle.points.points)),n.parsedStyle.points.totalLength}(this)}},{key:"getPointAtLength",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getPoint(t/this.getTotalLength(),i)}},{key:"getPoint",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.parsedStyle.points.points;if(0===this.parsedStyle.points.segments.length){var a,l,o=[],s=0,u=this.getTotalLength();r.forEach(function(w,S){r[S+1]&&((a=[0,0])[0]=s/u,l=EO(w[0],w[1],r[S+1][0],r[S+1][1]),a[1]=(s+=l)/u,o.push(a))}),this.parsedStyle.points.segments=o}var h=0,p=0;this.parsedStyle.points.segments.forEach(function(w,S){t>=w[0]&&t<=w[1]&&(h=(t-w[0])/(w[1]-w[0]),p=S)});var v=zw(r[p][0],r[p][1],r[p+1][0],r[p+1][1],h),y=v.x,b=v.y,E=Ko(hr(),Br(y,b,0),i?this.getWorldTransform():this.getLocalTransform());return new Rs(E[0],E[1])}},{key:"getStartTangent",value:function(){var t=this.parsedStyle.points.points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i}},{key:"getEndTangent",value:function(){var t=this.parsedStyle.points.points,i=t.length-1,r=[];return r.push([t[i-1][0],t[i-1][1]]),r.push([t[i][0],t[i][1]]),r}}])}(Yb),_a=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),Ei(this,e,[nr({type:qe.RECT},t)])}return zi(e,n),fn(e)}(ra),Hx=["style"],Lc=function(n){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.style,r=Su(t,Hx);return un(this,e),Ei(this,e,[nr({type:qe.TEXT,style:nr({fill:"black"},i)},r)])}return zi(e,n),fn(e,[{key:"getComputedTextLength",value:function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.maxLineWidth)||0}},{key:"getLineBoundingRects",value:function(){var t;return this.getGeometryBounds(),(null===(t=this.parsedStyle.metrics)||void 0===t?void 0:t.lineMetrics)||[]}},{key:"isOverflowing",value:function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing}}])}(ra),$x=function(){return fn(function n(){un(this,n),this.registry={},this.define(qe.CIRCLE,h0),this.define(qe.ELLIPSE,zx),this.define(qe.RECT,_a),this.define(qe.IMAGE,al),this.define(qe.LINE,Nc),this.define(qe.GROUP,js),this.define(qe.PATH,f0),this.define(qe.POLYGON,Yb),this.define(qe.POLYLINE,Zb),this.define(qe.TEXT,Lc),this.define(qe.HTML,Ux)},[{key:"define",value:function(e,t){this.registry[e]=t}},{key:"get",value:function(e){return this.registry[e]}}])}(),Um={number:function(n){return new Wr(n)},percent:function(n){return new Wr(n,"%")},px:function(n){return new Wr(n,"px")},em:function(n){return new Wr(n,"em")},rem:function(n){return new Wr(n,"rem")},deg:function(n){return new Wr(n,"deg")},grad:function(n){return new Wr(n,"grad")},rad:function(n){return new Wr(n,"rad")},turn:function(n){return new Wr(n,"turn")},s:function(n){return new Wr(n,"s")},ms:function(n){return new Wr(n,"ms")},registerProperty:function(n){Tn.styleValueRegistry.registerMetadata({n:n.name,inh:n.inherits,int:n.interpolable,d:n.initialValue,syntax:n.syntax})},registerLayout:function(n,e){Tn.layoutRegistry.registerLayout(n,e)}},Qb=function(n){function e(){var t;un(this,e),(t=Ei(this,e)).defaultView=null,t.ownerDocument=null,t.nodeName="document";try{t.timeline=new Tn.AnimationTimeline(t)}catch{}var i={};return Sx.forEach(function(r){var a=r.d;r.inh&&a&&(i[r.n]=$n(a)?a(qe.GROUP):a)}),t.documentElement=new js({id:"g-root",style:i}),t.documentElement.ownerDocument=t,t.documentElement.parentNode=t,t.childNodes=[t.documentElement],t}return zi(e,n),fn(e,[{key:"children",get:function(){return this.childNodes}},{key:"childElementCount",get:function(){return this.childNodes.length}},{key:"firstElementChild",get:function(){return this.firstChild}},{key:"lastElementChild",get:function(){return this.lastChild}},{key:"createElement",value:function(t,i){if("svg"===t)return this.documentElement;var r=this.defaultView.customElements.get(t);r||(console.warn("Unsupported tagName: ",t),r="tspan"===t?Lc:js);var o=new r(i);return o.ownerDocument=this,o}},{key:"createElementNS",value:function(t,i,r){return this.createElement(i,r)}},{key:"cloneNode",value:function(t){throw new Error(Qr)}},{key:"destroy",value:function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}}},{key:"elementsFromBBox",value:function(t,i,r,o){var a=this.defaultView.context.rBushRoot.search({minX:t,minY:i,maxX:r,maxY:o}),l=[];return a.forEach(function(u){var h=u.displayObject,v=h.parsedStyle.pointerEvents,b=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(void 0===v?"auto":v);(!b||b&&h.isVisible())&&!h.isCulled()&&h.isInteractive()&&l.push(h)}),l.sort(function(u,h){return h.sortable.renderOrder-u.sortable.renderOrder}),l}},{key:"elementFromPointSync",value:function(t,i){var r=this.defaultView.canvas2Viewport({x:t,y:i}),o=r.x,s=r.y,a=this.defaultView.getConfig();if(o<0||s<0||o>a.width||s>a.height)return null;var h=this.defaultView.viewport2Client({x:o,y:s}),p=h.x,v=h.y,b=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:i,viewportX:o,viewportY:s,clientX:p,clientY:v},picked:[]}).picked;return b&&b[0]||this.documentElement}},{key:"elementFromPoint",value:(t=wd(cs().mark(function r(o,s){var a,l,u,h,p,v,y,b,E,S;return cs().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(a=this.defaultView.canvas2Viewport({x:o,y:s}),l=a.x,u=a.y,h=this.defaultView.getConfig(),p=h.width,v=h.height,!(l<0||u<0||l>p||u>v)){C.next=4;break}return C.abrupt("return",null);case 4:return y=this.defaultView.viewport2Client({x:l,y:u}),b=y.x,E=y.y,C.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:o,y:s,viewportX:l,viewportY:u,clientX:b,clientY:E},picked:[]});case 7:return C.abrupt("return",(S=C.sent.picked)&&S[0]||this.documentElement);case 10:case"end":return C.stop()}},r,this)})),function i(r,o){return t.apply(this,arguments)})},{key:"elementsFromPointSync",value:function(t,i){var r=this.defaultView.canvas2Viewport({x:t,y:i}),o=r.x,s=r.y,a=this.defaultView.getConfig();if(o<0||s<0||o>a.width||s>a.height)return[];var h=this.defaultView.viewport2Client({x:o,y:s}),p=h.x,v=h.y,b=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:i,viewportX:o,viewportY:s,clientX:p,clientY:v},picked:[]}).picked;return b[b.length-1]!==this.documentElement&&b.push(this.documentElement),b}},{key:"elementsFromPoint",value:function(){var t=wd(cs().mark(function r(o,s){var a,l,u,h,p,v,y,b,E,S;return cs().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(a=this.defaultView.canvas2Viewport({x:o,y:s}),l=a.x,u=a.y,h=this.defaultView.getConfig(),p=h.width,v=h.height,!(l<0||u<0||l>p||u>v)){C.next=4;break}return C.abrupt("return",[]);case 4:return y=this.defaultView.viewport2Client({x:l,y:u}),b=y.x,E=y.y,C.next=7,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:o,y:s,viewportX:l,viewportY:u,clientX:b,clientY:E},picked:[]});case 7:return(S=C.sent.picked)[S.length-1]!==this.documentElement&&S.push(this.documentElement),C.abrupt("return",S);case 11:case"end":return C.stop()}},r,this)}));return function i(r,o){return t.apply(this,arguments)}}()},{key:"appendChild",value:function(t,i){throw new Error(xm)}},{key:"insertBefore",value:function(t,i){throw new Error(xm)}},{key:"removeChild",value:function(t,i){throw new Error(xm)}},{key:"replaceChild",value:function(t,i,r){throw new Error(xm)}},{key:"append",value:function(){throw new Error(xm)}},{key:"prepend",value:function(){throw new Error(xm)}},{key:"getElementById",value:function(t){return this.documentElement.getElementById(t)}},{key:"getElementsByName",value:function(t){return this.documentElement.getElementsByName(t)}},{key:"getElementsByTagName",value:function(t){return this.documentElement.getElementsByTagName(t)}},{key:"getElementsByClassName",value:function(t){return this.documentElement.getElementsByClassName(t)}},{key:"querySelector",value:function(t){return this.documentElement.querySelector(t)}},{key:"querySelectorAll",value:function(t){return this.documentElement.querySelectorAll(t)}},{key:"find",value:function(t){return this.documentElement.find(t)}},{key:"findAll",value:function(t){return this.documentElement.findAll(t)}}]);var t}(So),Yf=function(){function n(e){un(this,n),this.strategies=e}return fn(n,[{key:"apply",value:function(e){var t=e.camera,i=e.renderingService,r=e.renderingContext,o=this.strategies;i.hooks.cull.tap(n.tag,function(s){return s?(s.cullable.visible=0===o.length?r.unculledEntities.indexOf(s.entity)>-1:o.every(function(l){return l.isVisible(t,s)}),!s.isCulled()&&s.isVisible()?s:(s.dispatchEvent(new Go(Ci.CULLED)),null)):s}),i.hooks.afterRender.tap(n.tag,function(s){s.cullable.visibilityPlaneMask=-1})}}])}();Yf.tag="Culling";var Zf=function(){function n(){var e=this;un(this,n),this.autoPreventDefault=!1,this.rootPointerEvent=new $f(null),this.rootWheelEvent=new Nh(null),this.onPointerMove=function(t){var i,r=null===(i=e.context.renderingContext.root)||void 0===i||null===(i=i.ownerDocument)||void 0===i?void 0:i.defaultView;if(!r.supportsTouchEvents||"touch"!==t.pointerType){var a,s=Sh(e.normalizeToPointerEvent(t,r));try{for(s.s();!(a=s.n()).done;){var u=e.bootstrapEvent(e.rootPointerEvent,a.value,r,t);e.context.eventService.mapEvent(u)}}catch(h){s.e(h)}finally{s.f()}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(t){var i,a,r=null===(i=e.context.renderingContext.root)||void 0===i||null===(i=i.ownerDocument)||void 0===i?void 0:i.defaultView,s=Sh(e.normalizeToPointerEvent(t,r));try{for(s.s();!(a=s.n()).done;){var u=e.bootstrapEvent(e.rootPointerEvent,a.value,r,t);e.context.eventService.mapEvent(u)}}catch(h){s.e(h)}finally{s.f()}e.setCursor(e.context.eventService.cursor)}}return fn(n,[{key:"apply",value:function(e){var t=this;this.context=e;var i=e.renderingService,r=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(o){return t.context.renderingService.hooks.pickSync.call({position:o,picked:[],topmost:!0}).picked[0]||null}),i.hooks.pointerWheel.tap(n.tag,function(o){var s=t.normalizeWheelEvent(o);t.context.eventService.mapEvent(s)}),i.hooks.pointerDown.tap(n.tag,function(o){if(!r.supportsTouchEvents||"touch"!==o.pointerType){var s=t.normalizeToPointerEvent(o,r);t.autoPreventDefault&&s[0].isNormalized&&(o.cancelable||!("cancelable"in o))&&o.preventDefault();var u,l=Sh(s);try{for(l.s();!(u=l.n()).done;){var p=t.bootstrapEvent(t.rootPointerEvent,u.value,r,o);t.context.eventService.mapEvent(p)}}catch(v){l.e(v)}finally{l.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerUp.tap(n.tag,function(o){if(!r.supportsTouchEvents||"touch"!==o.pointerType){var p,s=t.context.contextService.getDomElement(),l=t.context.eventService.isNativeEventFromCanvas(s,o)?"":"outside",h=Sh(t.normalizeToPointerEvent(o,r));try{for(h.s();!(p=h.n()).done;){var y=t.bootstrapEvent(t.rootPointerEvent,p.value,r,o);y.type+=l,t.context.eventService.mapEvent(y)}}catch(b){h.e(b)}finally{h.f()}t.setCursor(t.context.eventService.cursor)}}),i.hooks.pointerMove.tap(n.tag,this.onPointerMove),i.hooks.pointerOver.tap(n.tag,this.onPointerMove),i.hooks.pointerOut.tap(n.tag,this.onPointerMove),i.hooks.click.tap(n.tag,this.onClick),i.hooks.pointerCancel.tap(n.tag,function(o){var l,a=Sh(t.normalizeToPointerEvent(o,r));try{for(a.s();!(l=a.n()).done;){var h=t.bootstrapEvent(t.rootPointerEvent,l.value,r,o);t.context.eventService.mapEvent(h)}}catch(p){a.e(p)}finally{a.f()}t.setCursor(t.context.eventService.cursor)})}},{key:"bootstrapEvent",value:function(e,t,i,r){e.view=i,e.originalEvent=null,e.nativeEvent=r,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var o=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),a=o.y;e.viewport.x=o.x,e.viewport.y=a;var l=this.context.eventService.viewport2Canvas(e.viewport),h=l.y;return e.canvas.x=l.x,e.canvas.y=h,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=r.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Lb[e.type]||e.type),e}},{key:"normalizeWheelEvent",value:function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var i=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),o=i.y;t.viewport.x=i.x,t.viewport.y=o;var s=this.context.eventService.viewport2Canvas(t.viewport),l=s.y;return t.canvas.x=s.x,t.canvas.y=l,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t}},{key:"transferMouseData",value:function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Ax.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null}},{key:"setCursor",value:function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")}},{key:"normalizeToPointerEvent",value:function(e,t){var i=[];if(t.isTouchEvent(e))for(var r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r];vi(o.button)&&(o.button=0),vi(o.buttons)&&(o.buttons=1),vi(o.isPrimary)&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),vi(o.width)&&(o.width=o.radiusX||1),vi(o.height)&&(o.height=o.radiusY||1),vi(o.tiltX)&&(o.tiltX=0),vi(o.tiltY)&&(o.tiltY=0),vi(o.pointerType)&&(o.pointerType="touch"),vi(o.pointerId)&&(o.pointerId=o.identifier||0),vi(o.pressure)&&(o.pressure=o.force||.5),vi(o.twist)&&(o.twist=0),vi(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,o.type=e.type,i.push(o)}else if(t.isMouseEvent(e)){var s=e;vi(s.isPrimary)&&(s.isPrimary=!0),vi(s.width)&&(s.width=1),vi(s.height)&&(s.height=1),vi(s.tiltX)&&(s.tiltX=0),vi(s.tiltY)&&(s.tiltY=0),vi(s.pointerType)&&(s.pointerType="mouse"),vi(s.pointerId)&&(s.pointerId=1),vi(s.pressure)&&(s.pressure=.5),vi(s.twist)&&(s.twist=0),vi(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,i.push(s)}else i.push(e);return i}}])}();Zf.tag="Event";var Gm=[qe.CIRCLE,qe.ELLIPSE,qe.IMAGE,qe.RECT,qe.LINE,qe.POLYLINE,qe.POLYGON,qe.TEXT,qe.PATH,qe.HTML],Hm=function(){return fn(function n(){un(this,n)},[{key:"isVisible",value:function(e,t){var i,r=t.cullable;if(!r.enable)return!0;var o=t.getRenderBounds();if(No.isEmpty(o))return!1;var s=e.getFrustum(),a=null===(i=t.parentNode)||void 0===i||null===(i=i.cullable)||void 0===i?void 0:i.visibilityPlaneMask;return r.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,o,a||Dh.INDETERMINATE,s.planes),r.visible=r.visibilityPlaneMask!==Dh.OUTSIDE,r.visible}},{key:"computeVisibilityWithPlaneMask",value:function(e,t,i,r){if(i===Dh.OUTSIDE||i===Dh.INSIDE)return i;for(var o=Dh.INSIDE,s=Gm.indexOf(e.nodeName)>-1,a=0,l=r.length;a<l;++a){var u=1<<a;if(i&u&&(!s||4!==a&&5!==a)){var h=r[a],p=h.normal,v=h.distance;if(Ac(p,t.getPositiveFarPoint(r[a]))+v<0)return Dh.OUTSIDE;Ac(p,t.getNegativeFarPoint(r[a]))+v<0&&(o|=u)}}return o}}])}(),Qf=function(){function n(){un(this,n),this.syncTasks=new Map,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return fn(n,[{key:"apply",value:function(e){var i,t=this,r=e.renderingService,a=e.renderingContext.root.ownerDocument.defaultView;this.rBush=e.rBushRoot;var l=function(y){y.target.renderable.dirty=!0,r.dirtify()},u=function(y){t.syncTasks.set(y.target,y.detail.affectChildren),r.dirtify()},h=function(y){Tn.enableSizeAttenuation&&Tn.styleValueRegistry.updateSizeAttenuation(y.target,a.getCamera().getZoom())},p=function(y){var b=y.target,E=b.rBushNode;E.aabb&&t.rBush.remove(E.aabb),t.syncTasks.delete(b),Tn.sceneGraphService.dirtifyToRoot(b),r.dirtify()};r.hooks.init.tap(n.tag,function(){a.addEventListener(Ci.MOUNTED,h),a.addEventListener(Ci.UNMOUNTED,p),a.addEventListener(Ci.ATTR_MODIFIED,l),a.addEventListener(Ci.BOUNDS_CHANGED,u)}),r.hooks.destroy.tap(n.tag,function(){a.removeEventListener(Ci.MOUNTED,h),a.removeEventListener(Ci.UNMOUNTED,p),a.removeEventListener(Ci.ATTR_MODIFIED,l),a.removeEventListener(Ci.BOUNDS_CHANGED,u),t.syncTasks.clear()});var v=null!==(i=Tn.globalThis.requestIdleCallback)&&void 0!==i?i:r0.bind(Tn.globalThis);r.hooks.endFrame.tap(n.tag,function(){t.isFirstTimeRendering?(t.isFirstTimeRendering=!1,t.syncing=!0,v(function(){t.syncRTree(!0),t.isFirstTimeRenderingFinished=!0})):t.syncRTree()})}},{key:"syncNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.isConnected){var i=e.rBushNode;i.aabb&&this.rBush.remove(i.aabb);var r=e.getRenderBounds();if(r){var o=e.renderable;t&&(o.dirtyRenderBounds||(o.dirtyRenderBounds=new No),o.dirtyRenderBounds.update(r.center,r.halfExtents));var a=Ui(r.getMin(),2),l=a[0],u=a[1],p=Ui(r.getMax(),2),v=p[0],y=p[1];i.aabb||(i.aabb={}),i.aabb.displayObject=e,i.aabb.minX=l,i.aabb.minY=u,i.aabb.maxX=v,i.aabb.maxY=y}if(i.aabb&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.maxX)&&!isNaN(i.aabb.minX)&&!isNaN(i.aabb.minY))return i.aabb}}},{key:"syncRTree",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t||!this.syncing&&0!==this.syncTasks.size){this.syncing=!0;var i=[],r=new Set,o=function(s){if(!r.has(s)&&s.renderable){var a=e.syncNode(s,t);a&&(i.push(a),r.add(s))}};this.syncTasks.forEach(function(s,a){s&&a.forEach(o);for(var l=a;l;)o(l),l=l.parentElement}),this.rBush.load(i),i.length=0,this.syncing=!1}}}])}();Qf.tag="Prepare";var Vs=function(n){return n.READY="ready",n.BEFORE_RENDER="beforerender",n.RERENDER="rerender",n.AFTER_RENDER="afterrender",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.RESIZE="resize",n.DIRTY_RECTANGLE="dirtyrectangle",n.RENDERER_CHANGED="rendererchanged",n}({}),p0=new Go(Ci.MOUNTED),m0=new Go(Ci.UNMOUNTED),qb=new Go(Vs.BEFORE_RENDER),Wx=new Go(Vs.RERENDER),Jb=new Go(Vs.AFTER_RENDER),LT=function(n){function e(t){var i;un(this,e),(i=Ei(this,e)).Element=ra,i.inited=!1,i.context={},i.document=new Qb,i.document.defaultView=i,i.customElements=new $x;var r=t.container,o=t.canvas,s=t.offscreenCanvas,a=t.width,l=t.height,u=t.devicePixelRatio,h=t.renderer,p=t.background,v=t.cursor,y=t.document,b=t.requestAnimationFrame,E=t.cancelAnimationFrame,w=t.createImage,S=t.enableLargeImageOptimization,C=t.supportsPointerEvents,D=t.supportsTouchEvents,k=t.supportsCSSTransform,T=t.cleanUpOnDestroy,I=void 0===T||T,z=t.useNativeClickEvent,V=t.alwaysTriggerPointerEventOnCanvas,K=t.isTouchEvent,Y=t.isMouseEvent,Q=t.dblClickSpeed;t.supportsMutipleCanvasesInOneContainer||function Pb(n,e,t){if(n){var i="string"==typeof n?document.getElementById(n):n;Dx.has(i)&&Dx.get(i).destroy(t),Dx.set(i,e)}}(r,i,I);var at=a,It=l,Pt=u;return o&&(Pt=(Pt=u||Tu&&window.devicePixelRatio||1)>=1?Math.ceil(Pt):1,at=a||function Tx(n){var e=Ox(n,"width");return"auto"===e?n.offsetWidth:parseFloat(e)}(o)||o.width/Pt,It=l||function iL(n){var e=Ox(n,"height");return"auto"===e?n.offsetHeight:parseFloat(e)}(o)||o.height/Pt),s&&(Tn.offscreenCanvas=s),i.devicePixelRatio=Pt,i.requestAnimationFrame=b??r0.bind(Tn.globalThis),i.cancelAnimationFrame=E??Bb.bind(Tn.globalThis),i.supportsTouchEvents=D??"ontouchstart"in Tn.globalThis,i.supportsPointerEvents=C??!!Tn.globalThis.PointerEvent,i.isTouchEvent=K??function(ct){return i.supportsTouchEvents&&ct instanceof Tn.globalThis.TouchEvent},i.isMouseEvent=Y??function(ct){return!Tn.globalThis.MouseEvent||ct instanceof Tn.globalThis.MouseEvent&&(!i.supportsPointerEvents||!(ct instanceof Tn.globalThis.PointerEvent))},i.dblClickSpeed=Q??200,i.initRenderingContext({container:r,canvas:o,width:at,height:It,renderer:h,offscreenCanvas:s,devicePixelRatio:Pt,cursor:v||"default",background:p||"transparent",createImage:w,enableLargeImageOptimization:S,document:y,supportsCSSTransform:k,useNativeClickEvent:z,cleanUpOnDestroy:I,alwaysTriggerPointerEventOnCanvas:V}),i.initDefaultCamera(at,It,h.clipSpaceNearZ),i.initRenderer(h,!0),i}return zi(e,n),fn(e,[{key:"initRenderingContext",value:function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}}},{key:"initDefaultCamera",value:function(t,i,r){var o=this,s=new Tn.CameraContribution;s.clipSpaceNearZ=r,s.setType(Gr.EXPLORING,Cb.DEFAULT).setPosition(t/2,i/2,500).setFocalPoint(t/2,i/2,0).setOrthographic(t/-2,t/2,i/2,i/-2,.1,1e3),s.canvas=this,s.eventEmitter.on(Jw.UPDATED,function(){o.context.renderingContext.renderReasons.add(Lh.CAMERA_CHANGED),Tn.enableSizeAttenuation&&o.getConfig().renderer.getConfig().enableSizeAttenuation&&o.updateSizeAttenuation()}),this.context.camera=s}},{key:"updateSizeAttenuation",value:function(){var t=this.getCamera().getZoom();this.document.documentElement.forEach(function(i){Tn.styleValueRegistry.updateSizeAttenuation(i,t)})}},{key:"getConfig",value:function(){return this.context.config}},{key:"getRoot",value:function(){return this.document.documentElement}},{key:"getCamera",value:function(){return this.context.camera}},{key:"getContextService",value:function(){return this.context.contextService}},{key:"getEventService",value:function(){return this.context.eventService}},{key:"getRenderingService",value:function(){return this.context.renderingService}},{key:"getRenderingContext",value:function(){return this.context.renderingContext}},{key:"getStats",value:function(){return this.getRenderingService().getStats()}},{key:"ready",get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise(function(i){t.resolveReadyPromise=function(){i(t)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=arguments.length>1?arguments[1]:void 0;void 0===i&&(i=this.getConfig().fastCleanExistingCanvas),i||this.dispatchEvent(new Go(Vs.BEFORE_DESTROY)),this.frameId&&(this.getConfig().cancelAnimationFrame||cancelAnimationFrame)(this.frameId);var o=this.getRoot();this.unmountChildren(o),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),i||this.dispatchEvent(new Go(Vs.AFTER_DESTROY));var s=function(a){a.currentTarget=null,a.manager=null,a.target=null};s(p0),s(m0),s(qb),s(Wx),s(Jb),this.cancelAnimationFrame(this.frameId)}},{key:"changeSize",value:function(t,i){this.resize(t,i)}},{key:"resize",value:function(t,i){var r=this.context.config;r.width=t,r.height=i,this.getContextService().resize(t,i);var o=this.context.camera,s=o.getProjectionMode();o.setPosition(t/2,i/2,500).setFocalPoint(t/2,i/2,0),s===sl.ORTHOGRAPHIC?o.setOrthographic(t/-2,t/2,i/2,i/-2,o.getNear(),o.getFar()):o.setAspect(t/i),this.dispatchEvent(new Go(Vs.RESIZE,{width:t,height:i}))}},{key:"appendChild",value:function(t,i){return this.document.documentElement.appendChild(t,i)}},{key:"insertBefore",value:function(t,i){return this.document.documentElement.insertBefore(t,i)}},{key:"removeChild",value:function(t){return this.document.documentElement.removeChild(t)}},{key:"removeChildren",value:function(){this.document.documentElement.removeChildren()}},{key:"destroyChildren",value:function(){this.document.documentElement.destroyChildren()}},{key:"render",value:function(t){var i=this;t&&(qb.detail=t,Jb.detail=t),this.dispatchEvent(qb),this.getRenderingService().render(this.getConfig(),t,function(){i.dispatchEvent(Wx)}),this.dispatchEvent(Jb)}},{key:"run",value:function(){var t=this,i=function(r,o){t.render(o),t.frameId=t.requestAnimationFrame(i)};i()}},{key:"initRenderer",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new CO,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new Zf,new Qf,new Yf([new Hm])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService(nr(nr({},Tn),this.context)),this.context.renderingService=new Wf(Tn,this.context),this.context.eventService=new Gb(Tn,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,r,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(t,r)})}},{key:"initRenderingService",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.context.renderingService.init(function(){i.inited=!0,r?o?i.requestAnimationFrame(function(){i.dispatchEvent(new Go(Vs.READY))}):i.dispatchEvent(new Go(Vs.READY)):i.dispatchEvent(new Go(Vs.RENDERER_CHANGED)),i.readyPromise&&i.resolveReadyPromise(),r||i.getRoot().forEach(function(s){var l=s.renderable;l&&(l.renderBoundsDirty=!0,l.boundsDirty=!0,l.dirty=!0)}),i.mountChildren(i.getRoot()),t.getConfig().enableAutoRendering&&i.run()})}},{key:"loadRendererContainerModule",value:function(t){var i=this;t.getPlugins().forEach(function(o){o.context=i.context,o.init(Tn)})}},{key:"setRenderer",value:function(t){var i=this.getConfig();if(i.renderer!==t){var r=i.renderer;i.renderer=t,this.destroy(!1,!0),pa(r?.getPlugins()||[]).reverse().forEach(function(o){o.destroy(Tn)}),this.initRenderer(t)}}},{key:"setCursor",value:function(t){this.getConfig().cursor=t,this.getContextService().applyCursorStyle(t)}},{key:"unmountChildren",value:function(t){var i=this;t.childNodes.forEach(function(r){i.unmountChildren(r)}),this.inited&&(t.isMutationObserved?t.dispatchEvent(m0):(m0.target=t,this.dispatchEvent(m0,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()}},{key:"mountChildren",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fb(t);this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,r||(t.isMutationObserved?t.dispatchEvent(p0):(p0.target=t,this.dispatchEvent(p0,!0)))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach(function(o){i.mountChildren(o,r)}),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()}},{key:"mountFragment",value:function(t){this.mountChildren(t,!1)}},{key:"client2Viewport",value:function(t){return this.getEventService().client2Viewport(t)}},{key:"viewport2Client",value:function(t){return this.getEventService().viewport2Client(t)}},{key:"viewport2Canvas",value:function(t){return this.getEventService().viewport2Canvas(t)}},{key:"canvas2Viewport",value:function(t){return this.getEventService().canvas2Viewport(t)}},{key:"getPointByClient",value:function(t,i){return this.client2Viewport({x:t,y:i})}},{key:"getClientByPoint",value:function(t,i){return this.viewport2Client({x:t,y:i})}}])}(zb);const FT=Object.freeze(Object.defineProperty({__proto__:null,AABB:No,AbstractRenderer:Nf,AbstractRendererPlugin:il,BUILT_IN_PROPERTIES:Sx,CSS:Um,CSSGradientValue:Xv,CSSKeywordValue:Ol,CSSRGB:Vf,CSSStyleValue:Du,CSSUnitValue:Wr,Camera:Mb,CameraEvent:Jw,CameraProjectionMode:sl,CameraTrackingMode:Cb,CameraType:Gr,Canvas:LT,CanvasEvent:Vs,Circle:h0,CircleUpdater:Lm,ClipSpaceNearZ:zv,CustomElement:kT,CustomElementRegistry:$x,CustomEvent:Go,DefaultSceneGraphSelector:Fm,DefaultSceneGraphService:Bx,DisplayObject:ra,Document:Qb,ERROR_MSG_METHOD_NOT_IMPLEMENTED:Qr,Element:AT,ElementEvent:Ci,Ellipse:zx,EllipseUpdater:Vb,EventService:Gb,EventTarget:zb,FederatedEvent:Md,FederatedMouseEvent:Ph,FederatedPointerEvent:$f,FederatedWheelEvent:Nh,Fragment:ML,Frustum:Zw,GradientType:Dl,Group:js,GroupUpdater:Nx,HTML:Ux,HTMLUpdater:yT,Image:al,Line:Nc,LineUpdater:Rx,Mask:Dh,MutationEvent:Al,Node:So,OffscreenCanvasCreator:s0,Path:f0,PathUpdater:Px,Plane:Yw,Point:Rs,Polygon:Yb,Polyline:Zb,PolylineUpdater:gT,PropertySyntax:Wn,RBush:CO,Rect:_a,RectUpdater:vT,Rectangle:Lf,RenderReason:Lh,RenderingService:Wf,Shape:qe,SortReason:Bf,Strategy:ex,Text:Lc,TextService:DT,TextUpdater:Jo,UnitType:Kn,computeLinearGradient:lx,computeRadialGradient:Db,convertToPath:function bx(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.getLocalTransform(),t=[];switch(n.nodeName){case qe.LINE:var i=n.parsedStyle,r=i.x1,s=i.y1,l=i.x2,h=i.y2;t=function z3(n,e,t,i){return[["M",n,e],["L",t,i]]}(void 0===r?0:r,void 0===s?0:s,void 0===l?0:l,void 0===h?0:h);break;case qe.CIRCLE:var v=n.parsedStyle,y=v.r,b=void 0===y?0:y,E=v.cx,S=v.cy;t=WO(b,b,void 0===E?0:E,void 0===S?0:S);break;case qe.ELLIPSE:var D=n.parsedStyle,k=D.rx,I=D.ry,z=D.cx,K=D.cy;t=WO(void 0===k?0:k,void 0===I?0:I,void 0===z?0:z,void 0===K?0:K);break;case qe.POLYLINE:case qe.POLYGON:t=function U3(n,e){var t=n.map(function(i,r){return[0===r?"M":"L",i[0],i[1]]});return e&&t.push(["Z"]),t}(n.parsedStyle.points.points,n.nodeName===qe.POLYGON);break;case qe.RECT:var at=n.parsedStyle,It=at.width,Pt=void 0===It?0:It,ct=at.height,ot=void 0===ct?0:ct,rt=at.x,Nt=void 0===rt?0:rt,ie=at.y,$e=void 0===ie?0:ie,ye=at.radius,ln=ye&&ye.some(function(oi){return 0!==oi});t=function KO(n,e,t,i,r){if(r){var o=Ui(r,4),s=o[0],a=o[1],l=o[2],u=o[3],h=n>0?1:-1,p=e>0?1:-1,v=h+p!==0?1:0;return[["M",h*s+t,i],["L",n-h*a+t,i],a?["A",a,a,0,0,v,n+t,p*a+i]:null,["L",n+t,e-p*l+i],l?["A",l,l,0,0,v,n+t-h*l,e+i]:null,["L",t+h*u,e+i],u?["A",u,u,0,0,v,t,e+i-p*u]:null,["L",t,p*s+i],s?["A",s,s,0,0,v,h*s+t,i]:null,["Z"]].filter(function(y){return y})}return[["M",t,i],["L",t+n,i],["L",t+n,i+e],["L",t,i+e],["Z"]]}(Pt,ot,Nt,$e,ln&&ye.map(function(oi){return Mo(oi,0,Math.min(Math.abs(Pt)/2,Math.abs(ot)/2))}));break;case qe.PATH:t=pa(n.parsedStyle.d.absolutePath)}if(t.length)return function V3(n,e,t){return n.reduce(function(i,r){var o="";if("M"===r[0]||"L"===r[0]){var s=Br(r[1],r[2],0);t&&Ko(s,s,t),o="".concat(r[0]).concat(s[0],",").concat(s[1])}else if("Z"===r[0])o=r[0];else if("C"===r[0]){var a=Br(r[1],r[2],0),l=Br(r[3],r[4],0),u=Br(r[5],r[6],0);t&&(Ko(a,a,t),Ko(l,l,t),Ko(u,u,t)),o="".concat(r[0]).concat(a[0],",").concat(a[1],",").concat(l[0],",").concat(l[1],",").concat(u[0],",").concat(u[1])}else if("A"===r[0]){var h=Br(r[6],r[7],0);t&&Ko(h,h,t),o="".concat(r[0]).concat(r[1],",").concat(r[2],",").concat(r[3],",").concat(r[4],",").concat(r[5],",").concat(h[0],",").concat(h[1])}else if("Q"===r[0]){var p=Br(r[1],r[2],0),v=Br(r[3],r[4],0);t&&(Ko(p,p,t),Ko(v,v,t)),o="".concat(r[0]).concat(r[1],",").concat(r[2],",").concat(r[3],",").concat(r[4],"}")}return i+o},"")}(t,0,e)},createVec3:ba,decompose:Wv,definedProps:function(n){return Object.fromEntries(Object.entries(n).filter(function(e){return void 0!==Ui(e,2)[1]}))},deg2rad:$r,deg2turn:function qw(n){return n/360},findClosestClipPathTarget:Nb,fromRotationTranslationScale:OO,getAngle:Ff,getEuler:Eb,getOrCalculatePathTotalLength:Jv,grad2deg:function DO(n){return(n%=400)<0&&(n+=400),.9*n},isBrowser:Tu,isCSSGradientValue:Qv,isCSSRGB:ac,isCanvas:function $m(n){return!!n.document},isDisplayObject:dr,isFederatedEvent:function ds(n){return!!n.type},isFillOrStrokeAffected:kh,isPattern:Ou,mergeColors:LO,parseColor:Dm,parseLength:Cd,parsePath:Ib,parseTransform:Ex,parsedTransformToMat4:Pm,propertyMetadataCache:km,rad2deg:rl,resetEntityCounter:function _L(){bL=0},runtime:Tn,setDOMSize:lT,translatePathToString:kb,turn2deg:$v},Symbol.toStringTag,{value:"Module"}));var Kx=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).landmarks=[],t}return zi(e,n),fn(e,[{key:"rotate",value:function(t,i,r){if(this.relElevation=Ff(i),this.relAzimuth=Ff(t),this.relRoll=Ff(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.type===Gr.EXPLORING){var o=Ra(ks(),[1,0,0],$r((this.rotateWorld?1:-1)*this.relElevation)),s=Ra(ks(),[0,1,0],$r((this.rotateWorld?1:-1)*this.relAzimuth)),a=Ra(ks(),[0,0,1],$r(this.relRoll)),l=Ic(ks(),s,o);l=Ic(ks(),l,a);var u=jy(ji(),l);wf(this.matrix,this.matrix,[0,0,-this.distance]),ma(this.matrix,this.matrix,u),wf(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation)>90)return this;this.computeMatrix()}return this._getAxes(),this.type===Gr.ORBITING||this.type===Gr.EXPLORING?this._getPosition():this.type===Gr.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,i){var r=ba(t,i,0),o=vd(this.position);return bh(o,o,hv(hr(),this.right,r[0])),bh(o,o,hv(hr(),this.up,r[1])),this._setPosition(o),this.triggerUpdate(),this}},{key:"dolly",value:function(t){var o,i=this.forward,r=vd(this.position);return o=Math.max(Math.min(this.distance+t*this.dollyingStep,this.maxDistance),this.minDistance)-this.distance,r[0]+=o*i[0],r[1]+=o*i[1],r[2]+=o*i[2],this._setPosition(r),this.type===Gr.ORBITING||this.type===Gr.EXPLORING?this._getDistance():this.type===Gr.TRACKING&&bh(this.focalPoint,r,this.distanceVector),this.triggerUpdate(),this}},{key:"cancelLandmarkAnimation",value:function(){void 0!==this.landmarkAnimationID&&this.canvas.cancelAnimationFrame(this.landmarkAnimationID)}},{key:"createLandmark",value:function(t){var i,r,o,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=a.position,u=void 0===l?this.position:l,h=a.focalPoint,p=void 0===h?this.focalPoint:h,v=a.roll,y=a.zoom,b=new Tn.CameraContribution;b.setType(this.type,void 0),b.setPosition(u[0],null!==(i=u[1])&&void 0!==i?i:this.position[1],null!==(r=u[2])&&void 0!==r?r:this.position[2]),b.setFocalPoint(p[0],null!==(o=p[1])&&void 0!==o?o:this.focalPoint[1],null!==(s=p[2])&&void 0!==s?s:this.focalPoint[2]),b.setRoll(v??this.roll),b.setZoom(y??this.zoom);var E={name:t,matrix:qS(b.getWorldTransform()),right:vd(b.right),up:vd(b.up),forward:vd(b.forward),position:vd(b.getPosition()),focalPoint:vd(b.getFocalPoint()),distanceVector:vd(b.getDistanceVector()),distance:b.getDistance(),dollyingStep:b.getDollyingStep(),azimuth:b.getAzimuth(),elevation:b.getElevation(),roll:b.getRoll(),relAzimuth:b.relAzimuth,relElevation:b.relElevation,relRoll:b.relRoll,zoom:b.getZoom()};return this.landmarks.push(E),E}},{key:"gotoLandmark",value:function(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Li(t)?this.landmarks.find(function(K){return K.name===t}):t;if(o){var s=Zn(r)?{duration:r}:r,a=s.easing,l=void 0===a?"linear":a,u=s.duration,h=void 0===u?100:u,p=s.easingFunction,v=void 0===p?void 0:p,y=s.onfinish,b=void 0===y?void 0:y,E=s.onframe,w=void 0===E?void 0:E;this.cancelLandmarkAnimation();var F,C=o.position,D=o.focalPoint,k=o.zoom,T=o.roll,I=v||Tn.EasingFunction(l),z=function(){i.setFocalPoint(D),i.setPosition(C),i.setRoll(T),i.setZoom(k),i.computeMatrix(),i.triggerUpdate(),b?.()};if(0===h)return z();var V=function(K){void 0===F&&(F=K);var Y=K-F;if(Y>=h)z();else{var Pt,ct,Q=I(Y/h),at=hr(),It=hr();if(Uy(at,i.focalPoint,D,Q),Uy(It,i.position,C,Q),ct=i.roll*(1-Q)+T*Q,Pt=i.zoom*(1-Q)+k*Q,i.setFocalPoint(at),i.setPosition(It),i.setRoll(ct),i.setZoom(Pt),hN(at,D)+hN(It,C)<=.01&&void 0===k&&void 0===T)return z();i.computeMatrix(),i.triggerUpdate(),Y<h&&(w?.(Q),i.landmarkAnimationID=i.canvas.requestAnimationFrame(V))}};this.canvas.requestAnimationFrame(V)}}}])}(Mb);Tn.CameraContribution=Kx;const t_=Object.freeze(Object.defineProperty({__proto__:null,AdvancedCamera:Kx},Symbol.toStringTag,{value:"Module"}));var Xm,Vh,Iu=function(){function n(e,t){un(this,n),this.addedNodes=[],this.attributeName=null,this.attributeNamespace=null,this.nextSibling=null,this.oldValue=null,this.previousSibling=null,this.removedNodes=[],this.type=e,this.target=t}return fn(n,null,[{key:"copy",value:function(e){var t=new n(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}}])}(),DL=0,Km=new WeakMap,e_=function(){return fn(function n(e,t,i){un(this,n),this.transientObservedNodes=[],this.observer=e,this.target=t,this.options=i},[{key:"enqueue",value:function(e){var t=this.observer.records,i=t.length;if(t.length>0){var o=function TL(n,e){return n===e?n:Vh&&function OL(n){return n===Vh||n===Xm}(n)?Vh:null}(t[i-1],e);if(o)return void(t[i-1]=o)}else!function AL(n){i_.push(n),hs||(hs=!0,typeof Tn.globalThis<"u"?Tn.globalThis.setTimeout(Xx):Xx())}(this.observer);t[i]=e}},{key:"addListeners",value:function(){this.addListeners_(this.target)}},{key:"addListeners_",value:function(e){var t=this.options;t.attributes&&e.addEventListener(Ci.ATTR_MODIFIED,this,!0),t.childList&&e.addEventListener(Ci.INSERTED,this,!0),(t.childList||t.subtree)&&e.addEventListener(Ci.REMOVED,this,!0)}},{key:"removeListeners",value:function(){this.removeListeners_(this.target)}},{key:"removeListeners_",value:function(e){var t=this.options;t.attributes&&e.removeEventListener(Ci.ATTR_MODIFIED,this,!0),t.childList&&e.removeEventListener(Ci.INSERTED,this,!0),(t.childList||t.subtree)&&e.removeEventListener(Ci.REMOVED,this,!0)}},{key:"removeTransientObservers",value:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(t){this.removeListeners_(t);for(var i=Km.get(t),r=0;r<i.length;r++)if(i[r]===this){i.splice(r,1);break}},this)}},{key:"handleEvent",value:function(e){var t,i;switch(e.stopImmediatePropagation(),e.type){case Ci.ATTR_MODIFIED:var r=e.attrName,o=e.relatedNode.namespaceURI;(t=n_("attributes",i=e.target)).attributeName=r,t.attributeNamespace=o;var s=e.attrChange===Al.ADDITION?null:e.prevValue;jT(i,function(v){if(v.attributes&&(!v.attributeFilter||!v.attributeFilter.length||-1!==v.attributeFilter.indexOf(r)||-1!==v.attributeFilter.indexOf(o)))return v.attributeOldValue?function GU(n){return Vh||((Vh=Iu.copy(Xm)).oldValue=n,Vh)}(s):t});break;case Ci.REMOVED:case Ci.INSERTED:var l,u,a=e.target;e.type===Ci.INSERTED?(l=[a],u=[]):(l=[],u=[a]);var h=a.previousSibling,p=a.nextSibling;(t=n_("childList",i=e.relatedNode)).addedNodes=l,t.removedNodes=u,t.previousSibling=h,t.nextSibling=p,jT(i,function(v){if(v.childList)return t})}!function HU(){Xm=Vh=void 0}()}}])}(),Jf=function(){return fn(function n(e){un(this,n),this.nodes=[],this.records=[],this.uid=DL++,this.callback=e},[{key:"observe",value:function(e,t){if(!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var i=Km.get(e);i||Km.set(e,i=[]);for(var r,o=0;o<i.length;o++)if(i[o].observer===this){(r=i[o]).removeListeners(),r.options=t;break}r||(r=new e_(this,e,t),i.push(r),this.nodes.push(e)),r.addListeners()}},{key:"disconnect",value:function(){var e=this;this.nodes.forEach(function(t){for(var i=Km.get(t),r=0;r<i.length;r++){var o=i[r];if(o.observer===e){o.removeListeners(),i.splice(r,1);break}}},this),this.records=[]}},{key:"takeRecords",value:function(){var e=this.records;return this.records=[],e}}])}();function n_(n,e){return Xm=new Iu(n,e)}function jT(n,e){for(var t=n;t;t=t.parentNode){var i=Km.get(t);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(t===n||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}var hs=!1,i_=[];function Xx(){hs=!1;var n=i_;i_=[],n.sort(function(t,i){return t.uid-i.uid});var e=!1;n.forEach(function(t){var i=t.takeRecords();(function BT(n){n.nodes.forEach(function(e){var t=Km.get(e);t&&t.forEach(function(i){i.observer===n&&i.removeTransientObservers()})})})(t),i.length&&(t.callback(i,t),e=!0)}),e&&Xx()}const VT=Object.freeze(Object.defineProperty({__proto__:null,MutationObserver:Jf,MutationRecord:Iu,Registration:e_},Symbol.toStringTag,{value:"Module"}));var r_=function(n){function e(t,i,r,o){var s;return un(this,e),(s=Ei(this,e,[t])).currentTime=r,s.timelineTime=o,s.target=i,s.type="finish",s.bubbles=!1,s.currentTarget=i,s.defaultPrevented=!1,s.eventPhase=s.AT_TARGET,s.timeStamp=Date.now(),s.currentTime=r,s.timelineTime=o,s}return zi(e,n),fn(e)}(Md),zT=0,Yx=function(){return fn(function n(e,t){var i;un(this,n),this.currentTimePending=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._playbackRate=1,this._inTimeline=!0,this.effect=e,e.animation=this,this.timeline=t,this.id="".concat(zT++),this._inEffect=!!this.effect.update(0),this._totalDuration=Number(null===(i=this.effect)||void 0===i?void 0:i.getComputedTiming().endTime),this._holdTime=0,this._paused=!1,this.oldPlayState="idle",this.updatePromises()},[{key:"pending",get:function(){return null===this._startTime&&!this._paused&&0!==this.playbackRate||this.currentTimePending}},{key:"playState",get:function(){return this._idle?"idle":this._isFinished?"finished":this._paused?"paused":"running"}},{key:"ready",get:function(){var e=this;return this.readyPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.readyPromise=new Promise(function(t,i){e.resolveReadyPromise=function(){t(e)},e.rejectReadyPromise=function(){i(new Error)}}),this.pending||this.resolveReadyPromise()),this.readyPromise}},{key:"finished",get:function(){var e=this;return this.finishedPromise||(-1===this.timeline.animationsWithPromises.indexOf(this)&&this.timeline.animationsWithPromises.push(this),this.finishedPromise=new Promise(function(t,i){e.resolveFinishedPromise=function(){t(e)},e.rejectFinishedPromise=function(){i(new Error)}}),"finished"===this.playState&&this.resolveFinishedPromise()),this.finishedPromise}},{key:"currentTime",get:function(){return this.updatePromises(),this._idle||this.currentTimePending?null:this._currentTime},set:function(e){var t;(e=Number(e),isNaN(e))||(this.timeline.restart(),this._paused||null===this._startTime||(this._startTime=Number(null===(t=this.timeline)||void 0===t?void 0:t.currentTime)-e/this.playbackRate),this.currentTimePending=!1,this._currentTime!==e&&(this._idle&&(this._idle=!1,this._paused=!0),this.tickCurrentTime(e,!0),this.timeline.applyDirtiedAnimation(this)))}},{key:"startTime",get:function(){return this._startTime},set:function(e){if(null!==e){if(this.updatePromises(),e=Number(e),isNaN(e)||this._paused||this._idle)return;this._startTime=e,this.tickCurrentTime((Number(this.timeline.currentTime)-this._startTime)*this.playbackRate),this.timeline.applyDirtiedAnimation(this),this.updatePromises()}}},{key:"playbackRate",get:function(){return this._playbackRate},set:function(e){if(e!==this._playbackRate){this.updatePromises();var t=this.currentTime;this._playbackRate=e,this.startTime=null,"paused"!==this.playState&&"idle"!==this.playState&&(this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this)),null!==t&&(this.currentTime=t),this.updatePromises()}}},{key:"_isFinished",get:function(){return!this._idle&&(this._playbackRate>0&&Number(this._currentTime)>=this._totalDuration||this._playbackRate<0&&Number(this._currentTime)<=0)}},{key:"totalDuration",get:function(){return this._totalDuration}},{key:"_needsTick",get:function(){return this.pending||"running"===this.playState||!this._finishedFlag}},{key:"updatePromises",value:function(){var e=this.oldPlayState,t=this.pending?"pending":this.playState;return this.readyPromise&&t!==e&&("idle"===t?(this.rejectReadyPromise(),this.readyPromise=void 0):"pending"===e?this.resolveReadyPromise():"pending"===t&&(this.readyPromise=void 0)),this.finishedPromise&&t!==e&&("idle"===t?(this.rejectFinishedPromise(),this.finishedPromise=void 0):"finished"===t?this.resolveFinishedPromise():"finished"===e&&(this.finishedPromise=void 0)),this.oldPlayState=t,this.readyPromise||this.finishedPromise}},{key:"play",value:function(){this.updatePromises(),this._paused=!1,(this._isFinished||this._idle)&&(this.rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this.ensureAlive(),this.timeline.applyDirtiedAnimation(this),-1===this.timeline.animations.indexOf(this)&&this.timeline.animations.push(this),this.updatePromises()}},{key:"pause",value:function(){this.updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._isFinished||this._paused||this._idle?this._idle&&(this.rewind(),this._idle=!1):this.currentTimePending=!0,this._startTime=null,this._paused=!0,this.updatePromises()}},{key:"finish",value:function(){this.updatePromises(),!this._idle&&(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this.currentTimePending=!1,this.timeline.applyDirtiedAnimation(this),this.updatePromises())}},{key:"cancel",value:function(){var e=this;if(this.updatePromises(),this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this.effect.update(null),this.timeline.applyDirtiedAnimation(this),this.updatePromises(),this.oncancel)){var t=new r_(null,this,this.currentTime,null);setTimeout(function(){e.oncancel(t)})}}},{key:"reverse",value:function(){this.updatePromises();var e=this.currentTime;this.playbackRate*=-1,this.play(),null!==e&&(this.currentTime=e),this.updatePromises()}},{key:"updatePlaybackRate",value:function(e){this.playbackRate=e}},{key:"targetAnimations",value:function(){var e;return(null===(e=this.effect)||void 0===e?void 0:e.target).getAnimations()}},{key:"markTarget",value:function(){var e=this.targetAnimations();-1===e.indexOf(this)&&e.push(this)}},{key:"unmarkTarget",value:function(){var e=this.targetAnimations(),t=e.indexOf(this);-1!==t&&e.splice(t,1)}},{key:"tick",value:function(e,t){!this._idle&&!this._paused&&(null===this._startTime?t&&(this.startTime=e-this._currentTime/this.playbackRate):this._isFinished||this.tickCurrentTime((e-this._startTime)*this.playbackRate)),t&&(this.currentTimePending=!1,this.fireEvents(e))}},{key:"rewind",value:function(){if(this.playbackRate>=0)this.currentTime=0;else{if(!(this._totalDuration<1/0))throw new Error("Unable to rewind negative playback rate animation with infinite duration");this.currentTime=this._totalDuration}}},{key:"persist",value:function(){throw new Error(Qr)}},{key:"addEventListener",value:function(e,t,i){throw new Error(Qr)}},{key:"removeEventListener",value:function(e,t,i){throw new Error(Qr)}},{key:"dispatchEvent",value:function(e){throw new Error(Qr)}},{key:"commitStyles",value:function(){throw new Error(Qr)}},{key:"ensureAlive",value:function(){var e,t;this._inEffect=this.playbackRate<0&&0===this.currentTime?!(null===(e=this.effect)||void 0===e||!e.update(-1)):!(null===(t=this.effect)||void 0===t||!t.update(this.currentTime)),!this._inTimeline&&(this._inEffect||!this._finishedFlag)&&(this._inTimeline=!0,this.timeline.animations.push(this))}},{key:"tickCurrentTime",value:function(e,t){e!==this._currentTime&&(this._currentTime=e,this._isFinished&&!t&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this.ensureAlive())}},{key:"fireEvents",value:function(e){var t=this;if(this._isFinished){if(!this._finishedFlag){if(this.onfinish){var i=new r_(null,this,this.currentTime,e);setTimeout(function(){t.onfinish&&t.onfinish(i)})}this._finishedFlag=!0}}else{if(this.onframe&&"running"===this.playState){var r=new r_(null,this,this.currentTime,e);this.onframe(r)}this._finishedFlag=!1}}}])}(),$U="function"==typeof Float32Array,o_=function(n,e){return 1-3*e+3*n},s_=function(n,e){return 3*e-6*n},a_=function(n){return 3*n},Zm=function(n,e,t){return((o_(e,t)*n+s_(e,t))*n+a_(e))*n},Fc=function(n,e,t){return 3*o_(e,t)*n*n+2*s_(e,t)*n+a_(e)},cc=function(n,e,t,i){if(!(n>=0&&n<=1&&t>=0&&t<=1))throw new Error("bezier x values must be in [0, 1] range");if(n===e&&t===i)return function(a){return a};for(var r=$U?new Float32Array(11):new Array(11),o=0;o<11;++o)r[o]=Zm(.1*o,n,t);return function(a){return 0===a||1===a?a:Zm(function(a){for(var l=0,u=1;10!==u&&r[u]<=a;++u)l+=.1;--u;var v=l+(a-r[u])/(r[u+1]-r[u])*.1,y=Fc(v,n,t);return y>=.001?function(n,e,t,i){for(var r=0;r<4;++r){var o=Fc(e,t,i);if(0===o)return e;e-=(Zm(e,t,i)-n)/o}return e}(a,v,n,t):0===y?v:function(n,e,t,i,r){var o,s,a=0;do{(o=Zm(s=e+(t-e)/2,i,r)-n)>0?t=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(a,l,l+.1,n,t)}(a),e,i)}},ll=function(n){return Math.pow(n,2)},y0=function(n){return Math.pow(n,3)},b0=function(n){return Math.pow(n,4)},l_=function(n){return Math.pow(n,5)},c_=function(n){return Math.pow(n,6)},u_=function(n){return 1-Math.cos(n*Math.PI/2)},d_=function(n){return 1-Math.sqrt(1-n*n)},Qm=function(n){return n*n*(3*n-2)},zh=function(n){for(var e,t=4;n<((e=Math.pow(2,--t))-1)/11;);return 1/Math.pow(4,3-t)-7.5625*Math.pow((3*e-2)/22-n,2)},h_=function(n){var t=Ui(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),i=t[0],o=t[1],s=void 0===o?.5:o,a=Mo(Number(void 0===i?1:i),1,10),l=Mo(Number(s),.1,2);return 0===n||1===n?n:-a*Math.pow(2,10*(n-1))*Math.sin((n-1-l/(2*Math.PI)*Math.asin(1/a))*(2*Math.PI)/l)},qm=function(n){var t=arguments.length>2?arguments[2]:void 0,i=Ui(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4),r=i[0],o=void 0===r?1:r,s=i[1],a=void 0===s?100:s,l=i[2],u=void 0===l?10:l,h=i[3],p=void 0===h?0:h;o=Mo(o,.1,1e3),a=Mo(a,.1,1e3),u=Mo(u,.1,1e3),p=Mo(p,.1,1e3);var v=Math.sqrt(a/o),y=u/(2*Math.sqrt(a*o)),b=y<1?v*Math.sqrt(1-y*y):0,w=y<1?(y*v-p)/b:-p+v,S=t?t*n/1e3:n;return S=y<1?Math.exp(-S*y*v)*(1*Math.cos(b*S)+w*Math.sin(b*S)):(1+w*S)*Math.exp(-S*v),0===n||1===n?n:1-S},Zx=function(n){var i=Ui(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],2),r=i[0],o=void 0===r?10:r;return("start"===i[1]?Math.ceil:Math.floor)(Mo(n,0,1)*o)/o},HT=function(n){var t=Ui(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],4);return cc(t[0],t[1],t[2],t[3])(n)},_0=cc(.42,0,1,1),kl=function(n){return function(e){return 1-n(1-e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],arguments.length>2?arguments[2]:void 0)}},Ba=function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return e<.5?n(2*e,t,i)/2:1-n(-2*e+2,t,i)/2}},uc=function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0;return e<.5?(1-n(1-2*e,t,i))/2:(n(2*e-1,t,i)+1)/2}},f_={steps:Zx,"step-start":function(n){return Zx(n,[1,"start"])},"step-end":function(n){return Zx(n,[1,"end"])},linear:function(n){return n},"cubic-bezier":HT,ease:function(n){return HT(n,[.25,.1,.25,1])},in:_0,out:kl(_0),"in-out":Ba(_0),"out-in":uc(_0),"in-quad":ll,"out-quad":kl(ll),"in-out-quad":Ba(ll),"out-in-quad":uc(ll),"in-cubic":y0,"out-cubic":kl(y0),"in-out-cubic":Ba(y0),"out-in-cubic":uc(y0),"in-quart":b0,"out-quart":kl(b0),"in-out-quart":Ba(b0),"out-in-quart":uc(b0),"in-quint":l_,"out-quint":kl(l_),"in-out-quint":Ba(l_),"out-in-quint":uc(l_),"in-expo":c_,"out-expo":kl(c_),"in-out-expo":Ba(c_),"out-in-expo":uc(c_),"in-sine":u_,"out-sine":kl(u_),"in-out-sine":Ba(u_),"out-in-sine":uc(u_),"in-circ":d_,"out-circ":kl(d_),"in-out-circ":Ba(d_),"out-in-circ":uc(d_),"in-back":Qm,"out-back":kl(Qm),"in-out-back":Ba(Qm),"out-in-back":uc(Qm),"in-bounce":zh,"out-bounce":kl(zh),"in-out-bounce":Ba(zh),"out-in-bounce":uc(zh),"in-elastic":h_,"out-elastic":kl(h_),"in-out-elastic":Ba(h_),"out-in-elastic":uc(h_),spring:qm,"spring-in":qm,"spring-out":kl(qm),"spring-in-out":Ba(qm),"spring-out-in":uc(qm)},NL=function(n){return f_[function(n){return function(n){return"-"===(n=n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())})).charAt(0)?n.substring(1):n}(n).replace(/^ease-/,"").replace(/(\(|\s).+/,"").toLowerCase().trim()}(n)]||f_.linear},LL=function(n){return n},FL=1,BL=.5,$T=0;function WT(n,e){return function(t){if(t>=1)return 1;var i=1/n;return(t+=e*i)-t%i}}var p_="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",jL=new RegExp("cubic-bezier\\(".concat(p_,",").concat(p_,",").concat(p_,",").concat(p_,"\\)")),VL=/steps\(\s*(\d+)\s*\)/,zL=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/;function E0(n){var e=jL.exec(n);if(e)return cc.apply(void 0,pa(e.slice(1).map(Number)));var t=VL.exec(n);if(t)return WT(Number(t[1]),$T);var i=zL.exec(n);return i?WT(Number(i[1]),{start:FL,middle:BL,end:$T}[i[2]]):NL(n)}function QT(n){return"offset"!==n&&"easing"!==n&&"composite"!==n&&"computedOffset"!==n}var JT=function(n,e,t){return function(i){var r=y_(n,e,i);return Zn(r)?r:t(r)}};function $L(n,e,t,i){var r=km[n];if(r&&r.syntax&&r.int){var o=Tn.styleValueRegistry.getPropertySyntax(r.syntax);if(o){var s=o.parser,a=s?s(e,i):e,l=s?s(t,i):t,u=o.mixer(a,l,i);if(u){var h=JT.apply(void 0,pa(u));return function(p){return 0===p?e:1===p?t:h(p)}}}}return JT(!1,!0,function(p){return p?t:e})}function y_(n,e,t){if("number"==typeof n&&"number"==typeof e)return n*(1-t)+e*t;if("boolean"==typeof n&&"boolean"==typeof e||"string"==typeof n&&"string"==typeof e)return t<.5?n:e;if(Array.isArray(n)&&Array.isArray(e)){for(var i=n.length,r=e.length,o=Math.max(i,r),s=[],a=0;a<o;a++)s.push(y_(n[a<i?a:i-1],e[a<r?a:r-1],t));return s}throw new Error("Mismatched interpolation arguments ".concat(n,":").concat(e))}var WL=function(){return fn(function n(){un(this,n),this.delay=0,this.direction="normal",this.duration="auto",this._easing="linear",this.easingFunction=LL,this.endDelay=0,this.fill="auto",this.iterationStart=0,this.iterations=1,this.currentIteration=null,this.progress=null},[{key:"easing",get:function(){return this._easing},set:function(e){this.easingFunction=E0(e),this._easing=e}}])}();function Jm(n,e){if(null===n)return[];Array.isArray(n)||(n=function b_(n){var e=[];for(var t in n)if(!(t in["easing","offset","composite"])){var i=n[t];Array.isArray(i)||(i=[i]);for(var r=i.length,o=0;o<r;o++){if(!e[o]){var s={};"offset"in n&&(s.offset=Number(n.offset)),"easing"in n&&(s.easing=n.easing),"composite"in n&&(s.composite=n.composite),e[o]=s}null!=i[o]&&(e[o][t]=i[o])}}return e.sort(function(a,l){return(a.computedOffset||0)-(l.computedOffset||0)}),e}(n));for(var t=n.map(function(l){var u={};for(var h in null!=e&&e.composite&&(u.composite="auto"),l){var p=l[h];if("offset"===h){if(null!==p){if(p=Number(p),!isFinite(p))throw new Error("Keyframe offsets must be numbers.");if(p<0||p>1)throw new Error("Keyframe offsets must be between 0 and 1.");u.computedOffset=p}}else if("composite"===h&&-1===["replace","add","accumulate","auto"].indexOf(p))throw new Error("".concat(p," compositing is not supported"));u[h]=p}return void 0===u.offset&&(u.offset=null),void 0===u.easing&&(u.easing=e?.easing||"linear"),void 0===u.composite&&(u.composite="auto"),u}),i=!0,r=-1/0,o=0;o<t.length;o++){var s=t[o].offset;if(Ri(s))i=!1;else{if(s<r)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");r=s}}return t=t.filter(function(l){return Number(l.offset)>=0&&Number(l.offset)<=1}),i||function a(){var l,p,h=t.length;t[h-1].computedOffset=Number(null!==(l=t[h-1].offset)&&void 0!==l?l:1),h>1&&(t[0].computedOffset=Number(null!==(p=t[0].offset)&&void 0!==p?p:0));for(var v=0,y=Number(t[0].computedOffset),b=1;b<h;b++){var E=t[b].computedOffset;if(!Ri(E)&&!Ri(y)){for(var w=1;w<b-v;w++)t[v+w].computedOffset=y+(Number(E)-y)*w/(b-v);v=b,y=Number(E)}}}(),t}var qx="backwards|forwards|both|none".split("|"),tA="reverse|alternate|alternate-reverse".split("|");function eA(n,e){var t=new WL;return e&&(t.fill="both",t.duration="auto"),"number"!=typeof n||isNaN(n)?void 0!==n&&Object.keys(n).forEach(function(i){if(null!=n[i]&&"auto"!==n[i]){if(("number"==typeof t[i]||"duration"===i)&&("number"!=typeof n[i]||isNaN(n[i]))||"fill"===i&&-1===qx.indexOf(n[i])||"direction"===i&&-1===tA.indexOf(n[i]))return;t[i]=n[i]}}):t.duration=n,t}function nA(n,e){var t;return eA(n=iA(null!==(t=n)&&void 0!==t?t:{duration:"auto"}),e)}function iA(n){return"number"==typeof n&&(n=isNaN(n)?{duration:"auto"}:{duration:n}),n}var x0=function(){return fn(function n(e,t,i){var r=this;un(this,n),this.composite="replace",this.iterationComposite="replace",this.target=e,this.timing=nA(i,!1),this.timing.effect=this,this.timing.activeDuration=function WU(n){return Math.abs(function UL(n){var e;return 0===n.duration||0===n.iterations?0:("auto"===n.duration?0:Number(n.duration))*(null!==(e=n.iterations)&&void 0!==e?e:1)}(n)/(n.playbackRate||1))}(this.timing),this.timing.endTime=Math.max(0,this.timing.delay+this.timing.activeDuration+this.timing.endDelay),this.normalizedKeyframes=Jm(t,this.timing),this.interpolations=function XU(n,e,t){var i=function qT(n,e){for(var t={},i=0;i<n.length;i++)for(var r in n[i])if(QT(r)){var o={offset:n[i].offset,computedOffset:n[i].computedOffset,easing:n[i].easing,easingFunction:E0(n[i].easing)||e.easingFunction,value:n[i][r]};t[r]=t[r]||[],t[r].push(o)}return t}(n,e),r=function v_(n,e){var t=[];for(var i in n)for(var r=n[i],o=0;o<r.length-1;o++){var s=o,a=o+1,l=r[s].computedOffset,u=r[a].computedOffset,h=l,p=u;0===o&&(h=-1/0,0===u&&(a=s)),o===r.length-2&&(p=1/0,1===l&&(s=a)),t.push({applyFrom:h,applyTo:p,startOffset:r[s].computedOffset,endOffset:r[a].computedOffset,easingFunction:r[s].easingFunction,property:i,interpolation:$L(i,r[s].value,r[a].value,e)})}return t.sort(function(v,y){return v.startOffset-y.startOffset}),t}(i,t);return function(o,s){if(null!==s)r.filter(function(l){return s>=l.applyFrom&&s<l.applyTo}).forEach(function(l){var h=l.endOffset-l.startOffset;o.setAttribute(l.property,l.interpolation(0===h?0:(s-l.startOffset)/h),!1,!1)});else for(var a in i)QT(a)&&o.setAttribute(a,null)}}(this.normalizedKeyframes,this.timing,this.target);var o=Tn.globalThis.Proxy;this.computedTiming=o?new o(this.timing,{get:function(s,a){return"duration"===a?"auto"===s.duration?0:s.duration:"fill"===a?"auto"===s.fill?"none":s.fill:"localTime"===a?r.animation&&r.animation.currentTime||null:"currentIteration"===a?r.animation&&"running"===r.animation.playState?s.currentIteration||0:null:"progress"===a?r.animation&&"running"===r.animation.playState?s.progress||0:null:s[a]},set:function(){return!0}}):this.timing},[{key:"applyInterpolations",value:function(){this.interpolations(this.target,Number(this.timeFraction))}},{key:"update",value:function(e){return null!==e&&(this.timeFraction=function KU(n,e,t){var i=function KT(n,e,t){if(null===e)return 0;var i=t.endTime;return e<Math.min(t.delay,i)?1:e>=Math.min(t.delay+n+t.endDelay,i)?2:3}(n,e,t),r=function GL(n,e,t,i,r){switch(i){case 1:return"backwards"===e||"both"===e?0:null;case 3:return t-r;case 2:return"forwards"===e||"both"===e?n:null;case 0:return null}}(n,t.fill,e,i,t.delay);if(null===r)return null;var o="auto"===t.duration?0:t.duration,s=function XT(n,e,t,i,r){var o=r;return 0===n?1!==e&&(o+=t):o+=i/n,o}(o,i,t.iterations,r,t.iterationStart),a=function YT(n,e,t,i,r,o){var s=n===1/0?e%1:n%1;return 0===s&&2===t&&0!==i&&(0!==r||0===o)&&(s=1),s}(s,t.iterationStart,i,t.iterations,r,o),l=function HL(n,e,t,i){return 2===n&&e===1/0?1/0:1===t?Math.floor(i)-1:Math.floor(i)}(i,t.iterations,a,s),u=function ZT(n,e,t){var i=n;if("normal"!==n&&"reverse"!==n){var r=e;"alternate-reverse"===n&&(r+=1),i="normal",r!==1/0&&r%2!=0&&(i="reverse")}return"normal"===i?t:1-t}(t.direction,l,a);return t.currentIteration=l,t.progress=u,t.easingFunction(u)}(this.timing.activeDuration,e,this.timing),null!==this.timeFraction)}},{key:"getKeyframes",value:function(){return this.normalizedKeyframes}},{key:"setKeyframes",value:function(e){this.normalizedKeyframes=Jm(e)}},{key:"getComputedTiming",value:function(){return this.computedTiming}},{key:"getTiming",value:function(){return this.timing}},{key:"updateTiming",value:function(e){var t=this;Object.keys(e||{}).forEach(function(i){t.timing[i]=e[i]})}}])}();function tg(n,e){return Number(n.id)-Number(e.id)}var __=function(){return fn(function n(e){var t=this;un(this,n),this.animations=[],this.ticking=!1,this.timelineTicking=!1,this.hasRestartedThisFrame=!1,this.animationsWithPromises=[],this.inTick=!1,this.pendingEffects=[],this.currentTime=null,this.rafId=0,this.rafCallbacks=[],this.webAnimationsNextTick=function(i){t.currentTime=i,t.discardAnimations(),0===t.animations.length?t.timelineTicking=!1:t.requestAnimationFrame(t.webAnimationsNextTick)},this.processRafCallbacks=function(i){var r=t.rafCallbacks;t.rafCallbacks=[],i<Number(t.currentTime)&&(i=Number(t.currentTime)),t.animations.sort(tg),t.animations=t.tick(i,!0,t.animations)[0],r.forEach(function(o){o[1](i)}),t.applyPendingEffects()},this.document=e},[{key:"getAnimations",value:function(){return this.discardAnimations(),this.animations.slice()}},{key:"isTicking",value:function(){return this.inTick}},{key:"play",value:function(e,t,i){var r=new x0(e,t,i),o=new Yx(r,this);return this.animations.push(o),this.restartWebAnimationsNextTick(),o.updatePromises(),o.play(),o.updatePromises(),o}},{key:"applyDirtiedAnimation",value:function(e){var t=this;if(!this.inTick){e.markTarget();var i=e.targetAnimations();i.sort(tg),this.tick(Number(this.currentTime),!1,i.slice())[1].forEach(function(o){var s=t.animations.indexOf(o);-1!==s&&t.animations.splice(s,1)}),this.applyPendingEffects()}}},{key:"restart",value:function(){return this.ticking||(this.ticking=!0,this.requestAnimationFrame(function(){}),this.hasRestartedThisFrame=!0),this.hasRestartedThisFrame}},{key:"destroy",value:function(){this.document.defaultView.cancelAnimationFrame(this.frameId)}},{key:"applyPendingEffects",value:function(){this.pendingEffects.forEach(function(e){e?.applyInterpolations()}),this.pendingEffects=[]}},{key:"updateAnimationsPromises",value:function(){this.animationsWithPromises=this.animationsWithPromises.filter(function(e){return e.updatePromises()})}},{key:"discardAnimations",value:function(){this.updateAnimationsPromises(),this.animations=this.animations.filter(function(e){return"finished"!==e.playState&&"idle"!==e.playState})}},{key:"restartWebAnimationsNextTick",value:function(){this.timelineTicking||(this.timelineTicking=!0,this.requestAnimationFrame(this.webAnimationsNextTick))}},{key:"rAF",value:function(e){var t=this.rafId++;return 0===this.rafCallbacks.length&&(this.frameId=this.document.defaultView.requestAnimationFrame(this.processRafCallbacks)),this.rafCallbacks.push([t,e]),t}},{key:"requestAnimationFrame",value:function(e){var t=this;return this.rAF(function(i){t.updateAnimationsPromises(),e(i),t.updateAnimationsPromises()})}},{key:"tick",value:function(e,t,i){var o,s,r=this;this.inTick=!0,this.hasRestartedThisFrame=!1,this.currentTime=e,this.ticking=!1;var a=[],l=[],u=[],h=[];return i.forEach(function(p){p.tick(e,t),p._inEffect?(l.push(p.effect),p.markTarget()):(a.push(p.effect),p.unmarkTarget()),p._needsTick&&(r.ticking=!0);var v=p._inEffect||p._needsTick;p._inTimeline=v,v?u.push(p):h.push(p)}),(o=this.pendingEffects).push.apply(o,a),(s=this.pendingEffects).push.apply(s,l),this.ticking&&this.requestAnimationFrame(function(){}),this.inTick=!1,[u,h]}}])}();Tn.EasingFunction=E0,Tn.AnimationTimeline=__;const rA=Object.freeze(Object.defineProperty({__proto__:null,Animation:Yx,AnimationEvent:r_,AnimationTimeline:__,EasingFunctions:f_,KeyframeEffect:x0,compareAnimations:tg,makeTiming:eA,normalizeKeyframes:Jm,normalizeTimingInput:nA,numericTimingToObject:iA},Symbol.toStringTag,{value:"Module"}));var ai={};const KL=fh(t_),oA=fh(VT),Jx=fh(FT),t2=fh(rA);!function(n){var e=KL,t=oA,i=Jx,r=t2;Object.keys(e).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return e[o]}})}),Object.keys(t).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return t[o]}})}),Object.keys(i).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[o]}})}),Object.keys(r).forEach(function(o){"default"!==o&&!Object.prototype.hasOwnProperty.call(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:function(){return r[o]}})})}(ai);const tp={duration:500},XL={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var Fo,Ps,io,ho,pn,ep,bs,An,Il,Kr;!function(n){n.NodeAdded="NodeAdded",n.NodeUpdated="NodeUpdated",n.NodeRemoved="NodeRemoved",n.EdgeAdded="EdgeAdded",n.EdgeUpdated="EdgeUpdated",n.EdgeRemoved="EdgeRemoved",n.ComboAdded="ComboAdded",n.ComboUpdated="ComboUpdated",n.ComboRemoved="ComboRemoved"}(Fo||(Fo={})),function(n){n.DRAW="draw",n.COLLAPSE="collapse",n.EXPAND="expand",n.TRANSFORM="transform"}(Ps||(Ps={})),function(n){n.CLICK="canvas:click",n.DBLCLICK="canvas:dblclick",n.POINTER_OVER="canvas:pointerover",n.POINTER_LEAVE="canvas:pointerleave",n.POINTER_ENTER="canvas:pointerenter",n.POINTER_MOVE="canvas:pointermove",n.POINTER_OUT="canvas:pointerout",n.POINTER_DOWN="canvas:pointerdown",n.POINTER_UP="canvas:pointerup",n.CONTEXT_MENU="canvas:contextmenu",n.DRAG_START="canvas:dragstart",n.DRAG="canvas:drag",n.DRAG_END="canvas:dragend",n.DRAG_ENTER="canvas:dragenter",n.DRAG_OVER="canvas:dragover",n.DRAG_LEAVE="canvas:dragleave",n.DROP="canvas:drop",n.WHEEL="canvas:wheel"}(io||(io={})),function(n){n.CLICK="combo:click",n.DBLCLICK="combo:dblclick",n.POINTER_OVER="combo:pointerover",n.POINTER_LEAVE="combo:pointerleave",n.POINTER_ENTER="combo:pointerenter",n.POINTER_MOVE="combo:pointermove",n.POINTER_OUT="combo:pointerout",n.POINTER_DOWN="combo:pointerdown",n.POINTER_UP="combo:pointerup",n.CONTEXT_MENU="combo:contextmenu",n.DRAG_START="combo:dragstart",n.DRAG="combo:drag",n.DRAG_END="combo:dragend",n.DRAG_ENTER="combo:dragenter",n.DRAG_OVER="combo:dragover",n.DRAG_LEAVE="combo:dragleave",n.DROP="combo:drop"}(ho||(ho={})),function(n){n.CLICK="click",n.DBLCLICK="dblclick",n.POINTER_OVER="pointerover",n.POINTER_LEAVE="pointerleave",n.POINTER_ENTER="pointerenter",n.POINTER_MOVE="pointermove",n.POINTER_OUT="pointerout",n.POINTER_DOWN="pointerdown",n.POINTER_UP="pointerup",n.CONTEXT_MENU="contextmenu",n.DRAG_START="dragstart",n.DRAG="drag",n.DRAG_END="dragend",n.DRAG_ENTER="dragenter",n.DRAG_OVER="dragover",n.DRAG_LEAVE="dragleave",n.DROP="drop",n.KEY_DOWN="keydown",n.KEY_UP="keyup",n.WHEEL="wheel"}(pn||(pn={})),function(n){n.KEY_DOWN="keydown",n.KEY_UP="keyup"}(ep||(ep={})),function(n){n.CLICK="edge:click",n.DBLCLICK="edge:dblclick",n.POINTER_OVER="edge:pointerover",n.POINTER_LEAVE="edge:pointerleave",n.POINTER_ENTER="edge:pointerenter",n.POINTER_MOVE="edge:pointermove",n.POINTER_OUT="edge:pointerout",n.POINTER_DOWN="edge:pointerdown",n.POINTER_UP="edge:pointerup",n.CONTEXT_MENU="edge:contextmenu",n.DRAG_ENTER="edge:dragenter",n.DRAG_OVER="edge:dragover",n.DRAG_LEAVE="edge:dragleave",n.DROP="edge:drop"}(bs||(bs={})),function(n){n.BEFORE_CANVAS_INIT="beforecanvasinit",n.AFTER_CANVAS_INIT="aftercanvasinit",n.BEFORE_SIZE_CHANGE="beforesizechange",n.AFTER_SIZE_CHANGE="aftersizechange",n.BEFORE_ELEMENT_CREATE="beforeelementcreate",n.AFTER_ELEMENT_CREATE="afterelementcreate",n.BEFORE_ELEMENT_UPDATE="beforeelementupdate",n.AFTER_ELEMENT_UPDATE="afterelementupdate",n.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",n.AFTER_ELEMENT_DESTROY="afterelementdestroy",n.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",n.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",n.BEFORE_DRAW="beforedraw",n.AFTER_DRAW="afterdraw",n.BEFORE_RENDER="beforerender",n.AFTER_RENDER="afterrender",n.BEFORE_ANIMATE="beforeanimate",n.AFTER_ANIMATE="afteranimate",n.BEFORE_LAYOUT="beforelayout",n.AFTER_LAYOUT="afterlayout",n.BEFORE_STAGE_LAYOUT="beforestagelayout",n.AFTER_STAGE_LAYOUT="afterstagelayout",n.BEFORE_TRANSFORM="beforetransform",n.AFTER_TRANSFORM="aftertransform",n.BATCH_START="batchstart",n.BATCH_END="batchend",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.BEFORE_RENDERER_CHANGE="beforerendererchange",n.AFTER_RENDERER_CHANGE="afterrendererchange"}(An||(An={})),function(n){n.UNDO="undo",n.REDO="redo",n.CANCEL="cancel",n.ADD="add",n.CLEAR="clear",n.CHANGE="change"}(Il||(Il={})),function(n){n.CLICK="node:click",n.DBLCLICK="node:dblclick",n.POINTER_OVER="node:pointerover",n.POINTER_LEAVE="node:pointerleave",n.POINTER_ENTER="node:pointerenter",n.POINTER_MOVE="node:pointermove",n.POINTER_OUT="node:pointerout",n.POINTER_DOWN="node:pointerdown",n.POINTER_UP="node:pointerup",n.CONTEXT_MENU="node:contextmenu",n.DRAG_START="node:dragstart",n.DRAG="node:drag",n.DRAG_END="node:dragend",n.DRAG_ENTER="node:dragenter",n.DRAG_OVER="node:dragover",n.DRAG_LEAVE="node:dragleave",n.DROP="node:drop"}(Kr||(Kr={}));const yo="combo",jc="tree";var ts;!function(n){n.NODE="node",n.EDGE="edge",n.COMBO="combo",n.THEME="theme",n.PALETTE="palette",n.LAYOUT="layout",n.BEHAVIOR="behavior",n.PLUGIN="plugin",n.ANIMATION="animation",n.TRANSFORM="transform",n.SHAPE="shape"}(ts||(ts={}));const e2={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}};function dc(n,e){var t;const i=null===(t=e2[n])||void 0===t?void 0:t[e];if(i)return i}const E_="5.0.27",cl="G6";function Ru(n){return`[${cl} v${E_}] ${n}`}const Pu={mute:!1,debug:n=>{console.debug(Ru(n))},info:n=>{console.info(Ru(n))},warn:n=>{console.warn(Ru(n))},error:n=>{console.error(Ru(n))}};function sA(n){const{theme:e}=n;return e?dc(ts.THEME,e)||(Pu.warn(`The theme of ${e} is not registered.`),{}):{}}function np(n,e){if(Array.isArray(n)&&0===n.length)return null;const t=Array.isArray(n)?n[0]:n,i=Array.isArray(n)?n.slice(1):e||[];return new Proxy(t,{get:(r,o)=>"function"!=typeof r[o]||["onframe","onfinish"].includes(o)?"finished"===o?Promise.all([t.finished,...i.map(s=>s.finished)]):Reflect.get(r,o):(...s)=>{r[o](...s),i.forEach(a=>{var l;return null===(l=a[o])||void 0===l?void 0:l.call(a,...s)})},set:(r,o,s)=>(["onframe","onfinish"].includes(o)||i.forEach(a=>{a[o]=s}),Reflect.set(r,o,s))})}function ip(n){const e=n.reduce((i,r)=>(Object.entries(r).forEach(([o,s])=>{void 0===i[o]?i[o]=[s]:i[o].push(s)}),i),{});Object.entries(e).forEach(([i,r])=>{(r.length!==n.length||r.some(o=>Ri(o))||r.every(o=>!["sourceNode","targetNode","childrenNode"].includes(i)&&Po(o,r[0])))&&delete e[i]});const t=Object.entries(e).reduce((i,[r,o])=>(o.forEach((s,a)=>{i[a]?i[a][r]=s:i[a]={[r]:s}}),i),[]);return 0!==n.length&&0===t.length&&t.push({_:0},{_:0}),t}function C0(n){switch(n){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}}function aA(n,e){const{animation:t}=n;if(!1===t||!1===e)return!1;const i=Object.assign({},tp);return Dr(t)&&Object.assign(i,t),Dr(e)&&Object.assign(i,e),i}function cA(n,e,t,i){if(Array.isArray(i)){let o=!1;const s=i.map(a=>"translate"===a[0]?(o=!0,["translate",n,e]):"translate3d"===a[0]?(o=!0,["translate3d",n,e,t]):a);return o||s.splice(0,0,0===t?["translate",n,e]:["translate3d",n,e,t]),s}const r=i?i.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===t?`translate(${n}, ${e})${r}`:`translate3d(${n}, ${e}, ${t})${r}`}const n2=[{fields:["x","y"]}],QL=n2,r2=[{fields:["sourceNode","targetNode"]}],qL=r2,JL=[{fields:["childrenNode","x","y"]}],YU=JL;function rp(n){return n instanceof Float32Array||!(!Array.isArray(n)||2!==n.length&&3!==n.length)&&n.every(e=>"number"==typeof e)}function Rl(n,e,t){return n>=e&&n<=t}function Dd(n=0){if(Array.isArray(n)){const[e=0,t=e,i=e,r=t]=n;return[e,t,i,r]}return[n,n,n,n]}function tF(n=0){const e=Dd(n);return e[0]+e[2]}function Vc(n){return n.max[0]-n.min[0]}function ul(n){return n.max[1]-n.min[1]}function Uh(n){return[Vc(n),ul(n)]}function Gh(n,e){const t=rp(n)?o2(n):n.getShape("key").getBounds();return e?Hh(t,e):t}function o2(n){const[e,t,i=0]=n,r=new ai.AABB;return r.setMinMax([e,t,i],[e,t,i]),r}function Hh(n,e){const[t,i,r,o]=Dd(e),[s,a,l]=n.min,[u,h,p]=n.max,v=new ai.AABB;return v.setMinMax([s-o,a-t,l],[u+i,h+r,p]),v}function w_(n){if(0===n.length)return new ai.AABB;if(1===n.length)return n[0];const e=new ai.AABB;e.setMinMax(n[0].min,n[0].max);for(let t=1;t<n.length;t++){const i=n[t];e.setMinMax([Math.min(e.min[0],i.min[0]),Math.min(e.min[1],i.min[1]),Math.min(e.min[2],i.min[2])],[Math.max(e.max[0],i.max[0]),Math.max(e.max[1],i.max[1]),Math.max(e.max[2],i.max[2])])}return e}function hc(n,e){return Rl(n[0],e.min[0],e.max[0])&&Rl(n[1],e.min[1],e.max[1])}function hA(n,e,t=!1){const{min:[i,r],max:[o,s]}=e,a=(n[1]===r||n[1]===s)&&(t||Rl(n[0],i,o)),l=(n[0]===i||n[0]===o)&&(t||Rl(n[1],r,s));return a||l}function $h(n,e){const{center:t}=e;return n[0]===t[0]&&n[1]===t[1]}function S0(n,e){const[t,i]=n,[r,o]=e.min,[s,a]=e.max,l=t-r,u=s-t,h=i-o,p=a-i,v=Math.min(l,u,h,p);return v===l?"left":v===u?"right":v===h?"top":v===p?"bottom":"left"}function Wh(n,e){const t=Pa(n);if(hc(n,e))switch(S0(n,e)){case"left":t[0]=e.min[0];break;case"right":t[0]=e.max[0];break;case"top":t[1]=e.min[1];break;case"bottom":t[1]=e.max[1]}else{const[i,r]=n,[o,s]=e.min,[a,l]=e.max;t[0]=Rl(i,o,a)?i:i<o?o:a,t[1]=Rl(r,s,l)?r:r<s?s:l}return t}var rF=function(n,e){return n===e},x_=function(){function n(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return n.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},n}(),oF=function(){function n(e){void 0===e&&(e=rF),this.head=null,this.tail=null,this.compare=e}return n.prototype.prepend=function(e){var t=new x_(e,this.head);return this.head=t,this.tail||(this.tail=t),this},n.prototype.append=function(e){var t=new x_(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},n.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var i=this.head;if(null!==i)for(;i.next;)this.compare(i.next.value,e)?(t=i.next,i.next=i.next.next):i=i.next;return this.compare(this.tail.value,e)&&(this.tail=i),t},n.prototype.find=function(e){var t=e.value,i=void 0===t?void 0:t,r=e.callback,o=void 0===r?void 0:r;if(!this.head)return null;for(var s=this.head;s;){if(o&&o(s.value)||void 0!==i&&this.compare(s.value,i))return s;s=s.next}return null},n.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},n.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},n.prototype.fromArray=function(e){var t=this;return e.forEach(function(i){return t.append(i)}),this},n.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},n.prototype.reverse=function(){for(var e=this.head,t=null,i=null;e;)i=e.next,e.next=t,t=e,e=i;this.tail=this.head,this.head=t},n.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},n}(),mA=function(n,e,t){void 0===e&&(e=[]);var i=e.filter(function(a){return a.source===n||a.target===n});return"target"===t?i.filter(function(a){return a.source===n}).map(function(a){return a.target}):"source"===t?i.filter(function(a){return a.target===n}).map(function(a){return a.source}):i.map(function(a){return a.source===n?a.target:a.source})},lF={}.toString,D0=function(n,e){return lF.call(n)==="[object "+e+"]"};const vA=function(n){return D0(n,"Function")},s2=function(n){return Array.isArray?Array.isArray(n):D0(n,"Array")};var C_,hF=Object.values?function(n){return Object.values(n)}:function(n){var e=[];return function uF(n,e){if(n)if(s2(n))for(var i=0,r=n.length;i<r&&!1!==e(n[i],i);i++);else if(function(n){var e=typeof n;return null!==n&&"object"===e||"function"===e}(n))for(var o in n)if(n.hasOwnProperty(o)&&!1===e(n[o],o))break}(n,function(t,i){vA(n)&&"prototype"===i||e.push(t)}),e};function a2(n,e,t,i){if(n===e)return[n];if(i[e])return i[e];for(var r=[],o=0,s=t[e];o<s.length;o++){var l=a2(n,s[o],t,i);if(!l)return;for(var u=0,h=l;u<h.length;u++){var p=h[u];s2(p)?r.push(ni(ni([],p,!0),[e],!1)):r.push([p,e])}}return i[e]=r,i[e]}!function(n,e){if(!vA(n))throw new TypeError("Expected a function");var t=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var o=e?e.apply(this,i):i[0],s=t.cache;if(s.has(o))return s.get(o);var a=n.apply(this,i);return s.set(o,a),a};t.cache=new Map}(function(n,e){void 0===e&&(e={});var t=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,s=e.fontVariant;return C_||(C_=document.createElement("canvas").getContext("2d")),C_.font=[o,s,r,t+"px",i].join(" "),C_.measureText(function(n){return D0(n,"String")}(n)?n:"").width},function(n,e){return void 0===e&&(e={}),function cb(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var i=Array(n),r=0;for(e=0;e<t;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}([n],hF(e)).join("")});var yA,l2=function(n,e,t,i,r){var o=function(n,e,t,i){var r=n.nodes,o=void 0===r?[]:r,s=n.edges,a=void 0===s?[]:s,l={},u={},h={};o.forEach(function(S,C){var D=S.id;u[D]=1/0,D===e&&(u[D]=0)});for(var p=o.length,v=function(S){var C=function(n,e,t){for(var r,i=1/0,o=0;o<e.length;o++){var s=e[o].id;!t[s]&&n[s]<=i&&(i=n[s],r=e[o])}return r}(u,o,l),D=C.id;if(l[D]=!0,u[D]===1/0)return"continue";var k=[];k=t?function(n,e){return e.filter(function(t){return t.source===n})}(D,a):function(n,e){return e.filter(function(t){return t.source===n||t.target===n})}(D,a),k.forEach(function(T){var I=T.target,z=I===D?T.source:I,V=i&&T[i]?T[i]:1;u[z]>u[C.id]+V?(u[z]=u[C.id]+V,h[z]=[C.id]):u[z]===u[C.id]+V&&h[z].push(C.id)})},y=0;y<p;y++)v();h[e]=[e];var b={};for(var E in u)u[E]!==1/0&&a2(e,E,h,b);var w={};for(var E in b)w[E]=b[E][0];return{length:u,path:w,allPath:b}}(n,e,i,r);return{length:o.length[t],path:o.path[t],allPath:o.allPath[t]}};function Ge(n){if(void 0!==n.id)return n.id;if(void 0!==n.source&&void 0!==n.target)return`${n.source}-${n.target}`;throw new Error(Ru("The datum does not have available id."))}function M_(n){return n.combo}function bA(n,e){const t={nodes:(n.nodes||[]).map(Ge),edges:(n.edges||[]).map(Ge),combos:(n.combos||[]).map(Ge)};return e?Object.values(t).flat():t}!function(n){n.EuclideanDistance="euclideanDistance"}(yA||(yA={})),function(){function n(e){void 0===e&&(e=10),this.linkedList=new oF,this.maxStep=e}Object.defineProperty(n.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),n.prototype.isEmpty=function(){return!this.linkedList.head},n.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},n.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},n.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},n.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},n.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},n.prototype.clear=function(){for(;!this.isEmpty();)this.pop()}}();const c2=(n,e,t)=>{var i;switch(t.type){case"degree":{const r=new Map;return null===(i=n.nodes)||void 0===i||i.forEach(o=>{const s=e(Ge(o),t.direction).length;r.set(Ge(o),s)}),r}case"betweenness":return d2(n,t.directed,t.weightPropertyName);case"closeness":return h2(n,t.directed,t.weightPropertyName);case"eigenvector":return f2(n,t.directed);case"pagerank":return vF(n,t.epsilon,t.linkProb);default:return u2(n)}},u2=n=>{var e;const t=new Map;return null===(e=n.nodes)||void 0===e||e.forEach(i=>{t.set(Ge(i),0)}),t},d2=(n,e,t)=>{const i=u2(n),{nodes:r=[]}=n;return r.forEach(o=>{r.forEach(s=>{if(o!==s){const{allPath:a}=l2(n,Ge(o),Ge(s),e,t),l=a.length;a.flat().forEach(u=>{u!==Ge(o)&&u!==Ge(s)&&i.set(u,i.get(u)+1/l)})}})}),i},h2=(n,e,t)=>{const i=new Map,{nodes:r=[]}=n;return r.forEach(o=>{const s=r.reduce((a,l)=>{if(o!==l){const{length:u}=l2(n,Ge(o),Ge(l),e,t);a+=u}return a},0);i.set(Ge(o),1/s)}),i},vF=(n,e,t)=>{var i;const r=new Map,o=function(n,e,t){"number"!=typeof e&&(e=1e-6),"number"!=typeof t&&(t=.85);for(var p,i=1,r=0,o=1e3,s=n.nodes,a=void 0===s?[]:s,l=n.edges,u=void 0===l?[]:l,h=a.length,v={},y={},b=0;b<h;++b)v[w=(E=a[b]).id]=1/h,y[w]=1/h;for(var S=function(n){var e={},t=n.nodes,r=n.edges,o=void 0===r?[]:r;return(void 0===t?[]:t).forEach(function(s){e[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){e[s.source].degree++,e[s.source].outDegree++,e[s.target].degree++,e[s.target].inDegree++}),e}(n);o>0&&i>e;){for(r=0,b=0;b<h;++b){var w=(E=a[b]).id;if(p=0,0===S[E.id].inDegree)v[w]=0;else{for(var C=mA(w,u,"source"),D=0;D<C.length;++D){var k=C[D],T=S[k].outDegree;T>0&&(p+=y[k]/T)}v[w]=t*p,r+=v[w]}}for(r=(1-r)/h,i=0,b=0;b<h;++b){var E;p=v[w=(E=a[b]).id]+r,i+=Math.abs(p-y[w]),y[w]=p}o-=1}return y}(n,e,t);return null===(i=n.nodes)||void 0===i||i.forEach(s=>{r.set(Ge(s),o[Ge(s)])}),r},f2=(n,e)=>{const{nodes:t=[]}=n,i=_A(n,e),r=EA(i,t.length),o=new Map;return t.forEach((s,a)=>{o.set(Ge(s),r[a])}),o},_A=(n,e)=>{const{nodes:t=[],edges:i=[]}=n,r=Array(t.length).fill(null).map(()=>Array(t.length).fill(0));return i.forEach(({source:o,target:s})=>{const a=t.findIndex(u=>Ge(u)===o),l=t.findIndex(u=>Ge(u)===s);e?r[a][l]=1:(r[a][l]=1,r[l][a]=1)}),r},EA=(n,e,t=100,i=1e-6)=>{let r=Array(e).fill(1),o=1/0;for(let s=0;s<t&&o>i;s++){const a=Array(e).fill(0);for(let u=0;u<e;u++)for(let h=0;h<e;h++)a[u]+=n[u][h]*r[h];const l=Math.sqrt(a.reduce((u,h)=>u+h*h,0));for(let u=0;u<e;u++)a[u]/=l;o=Math.sqrt(a.reduce((u,h,p)=>u+(h-r[p])*h,0)),r=a}return r};function op(n,e,t,i=Po){const r=new Map(n.map(v=>[t(v),v])),o=new Map(e.map(v=>[t(v),v])),s=new Set(r.keys()),a=new Set(o.keys()),l=[],u=[],h=[],p=[];return a.forEach(v=>{s.has(v)?i(r.get(v),o.get(v))?p.push(o.get(v)):u.push(o.get(v)):l.push(o.get(v))}),s.forEach(v=>{a.has(v)||h.push(r.get(v))}),{enter:l,exit:h,keep:p,update:u}}const eg=new WeakMap;function sp(n,e,t=!1,i){if(void 0===e)return;const r=(o,s=e)=>{const a=(l=s)=>o.childNodes.forEach(u=>r(u,l));if(i&&!i(o))return a();if(t||o!==n){eg.has(o)||eg.set(o,o.style.visibility);const l="hidden"===s||"hidden"===function wA(n){return eg.has(n)?eg.get(n):n.style.visibility}(o)?"hidden":"visible";o.style.visibility=l,a(l)}else n.style.visibility=e,eg.delete(n),a(e)};r(n)}class p2{constructor(e){this.extensions=[],this.extensionMap={},this.context=e}setExtensions(e){const t=function xA(n,e,t){const i={},r=o=>(o in i||(i[o]=0),`${e}-${o}-${i[o]++}`);return t.map(o=>"string"==typeof o?{type:o,key:r(o)}:"function"==typeof o?o.call(n):o.key?o:Object.assign(Object.assign({},o),{key:r(o.type)}))}(this.context.graph,this.category,e),{enter:i,update:r,exit:o,keep:s}=op(this.extensions,t,a=>a.key);this.createExtensions(i),this.updateExtensions([...r,...s]),this.destroyExtensions(o),this.extensions=t}createExtension(e){const{category:t}=this,{key:i,type:r}=e,o=dc(t,r);if(!o)return Pu.warn(`The extension ${r} of ${t} is not registered.`);const s=new o(this.context,e);this.extensionMap[i]=s}createExtensions(e){e.forEach(t=>this.createExtension(t))}updateExtension(e){const{key:t}=e,i=this.extensionMap[t];i&&i.update(e)}updateExtensions(e){e.forEach(t=>this.updateExtension(t))}destroyExtension(e){const t=this.extensionMap[e];t&&(t.destroy(),delete this.extensionMap[e])}destroyExtensions(e){e.forEach(({key:t})=>this.destroyExtension(t))}destroy(){Object.values(this.extensionMap).forEach(e=>e.destroy()),this.context={},this.extensions=[],this.extensionMap={}}}class S_{constructor(e,t){this.events=[],this.destroyed=!1,this.context=e,this.options=t}update(e){this.options=Object.assign(this.options,e)}destroy(){this.context={},this.options={},this.destroyed=!0}}class zs extends S_{}let CA=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isOverlapping=(r,o)=>o.some(s=>r.intersects(s)),this.occupiedBounds=[],this.detectLabelCollision=r=>{const o=this.context.viewport,s={show:[],hide:[]};return this.occupiedBounds=[],r.forEach(a=>{const l=a.getShape("label").getRenderBounds();o.isInViewport(l,!0)&&!this.isOverlapping(l,this.occupiedBounds)?(s.show.push(a),this.occupiedBounds.push(Hh(l,this.options.padding))):s.hide.push(a)}),s},this.hideLabelIfExceedViewport=(r,o)=>{const{exit:s}=op(r,o,a=>a.id);s?.forEach(this.hideLabel)},this.nodeCentralities=new Map,this.sortNodesByCentrality=(r,o)=>{const{model:s}=this.context,a=s.getData(),l=s.getRelatedEdgesData.bind(s);return r.map(u=>(this.nodeCentralities.has(u.id)||(this.nodeCentralities=c2(a,l,o)),{node:u,centrality:this.nodeCentralities.get(u.id)})).sort((u,h)=>h.centrality-u.centrality).map(u=>u.node)},this.sortLabelElementsInView=r=>{const{sort:o,sortNode:s,sortCombo:a,sortEdge:l}=this.options,{model:u}=this.context;if($n(o))return r.sort((w,S)=>o(u.getElementDataById(w.id),u.getElementDataById(S.id)));const{node:h=[],edge:p=[],combo:v=[]}=sm(r,w=>w.type);return[...$n(a)?v.sort((w,S)=>a(...u.getComboData([w.id,S.id]))):v,...$n(s)?h.sort((w,S)=>s(...u.getNodeData([w.id,S.id]))):this.sortNodesByCentrality(h,s),...$n(l)?p.sort((w,S)=>l(...u.getEdgeData([w.id,S.id]))):p]},this.labelElementsInView=[],this.onToggleVisibility=r=>{if(!this.validate(r))return void(this.hiddenElements.size>0&&(this.hiddenElements.forEach(this.showLabel),this.hiddenElements.clear()));const o=this.getLabelElementsInView();this.hideLabelIfExceedViewport(this.labelElementsInView,o),this.labelElementsInView=o;const s=this.sortLabelElementsInView(this.labelElementsInView),{show:a,hide:l}=this.detectLabelCollision(s);for(let u=a.length-1;u>=0;u--)this.showLabel(a[u]);l.forEach(this.hideLabel)},this.hiddenElements=new Map,this.hideLabel=r=>{const o=r.getShape("label");o&&sp(o,"hidden"),this.hiddenElements.set(r.id,r)},this.showLabel=r=>{const o=r.getShape("label");o&&sp(o,"visible"),r.toFront(),this.hiddenElements.delete(r.id)},this.onTransform=xv(this.onToggleVisibility,this.options.throttle,{leading:!0}),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents(),this.onToggleVisibility({})}get labelElements(){const t=Object.values(this.context.element.elementMap).filter(i=>i.isVisible()&&i.getShape("label"));return Object.fromEntries(t.map(i=>[i.id,i]))}getLabelElementsInView(){const t=this.context.viewport;return Object.values(this.labelElements).filter(i=>t.isInViewport(i.getShape("key").getRenderBounds()))}bindEvents(){const{graph:t}=this.context;t.on(An.AFTER_DRAW,this.onToggleVisibility),t.on(An.AFTER_LAYOUT,this.onToggleVisibility),t.on(An.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:t}=this.context;t.off(An.AFTER_DRAW,this.onToggleVisibility),t.off(An.AFTER_LAYOUT,this.onToggleVisibility),t.off(An.AFTER_TRANSFORM,this.onTransform)}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={enable:!0,throttle:100,padding:0,sortNode:{type:"degree"}},n})();const m2=[0,0,0];function Qi(n,e){return n.map((t,i)=>t+e[i])}function ro(n,e){return n.map((t,i)=>t-e[i])}function Nu(n,e){return n.map("number"==typeof e?t=>t*e:(t,i)=>t*e[i])}function fc(n,e){return n.map("number"==typeof e?t=>t/e:(t,i)=>t/e[i])}function Od(n,e){return n.map(t=>t*e)}function bo(n,e){return Math.sqrt(n.reduce((t,i,r)=>t+Math.pow(i-e[r]||0,2),0))}function O0(n,e){return n.reduce((t,i,r)=>t+Math.abs(i-e[r]),0)}function Lu(n){const e=n.reduce((t,i)=>t+Math.pow(i,2),0);return n.map(t=>t/Math.sqrt(e))}function D_(n,e,t=!1){const i=n[0]*e[1]-n[1]*e[0];let r=Math.acos(Nu(n,e).reduce((o,s)=>o+s,0)/(bo(n,m2)*bo(e,m2)));return t&&i<0&&(r=2*Math.PI-r),r}function T0(n,e=!0){return e?[-n[1],n[0]]:[n[1],-n[0]]}function Td(n){return[n[0],n[1]]}function ng(n){return function QU(n){return 2===n.length}(n)?[n[0],n[1],0]:n}function OA(n){const[e,t]=n;return e||t?Math.atan2(t,e):0}function TA(n,e){const[t,i]=n,[r,o]=e;return function SA(n,e){const t=ng(n),i=ng(e);return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}(ro(t,i),ro(r,o)).every(l=>0===l)}function g2(n,e,t=!1){if(TA(n,e))return;const[i,r]=n,[o,s]=e,a=((i[0]-o[0])*(o[1]-s[1])-(i[1]-o[1])*(o[0]-s[0]))/((i[0]-r[0])*(o[1]-s[1])-(i[1]-r[1])*(o[0]-s[0])),l=s[0]-o[0]?(i[0]-o[0]+a*(r[0]-i[0]))/(s[0]-o[0]):(i[1]-o[1]+a*(r[1]-i[1]))/(s[1]-o[1]);return t||Rl(a,0,1)&&Rl(l,0,1)?[i[0]+a*(r[0]-i[0]),i[1]+a*(r[1]-i[1])]:void 0}function AA(n){if(Array.isArray(n))return Rl(n[0],0,1)&&Rl(n[1],0,1)?n:[.5,.5];const e=n.split("-");return[e.includes("left")?0:e.includes("right")?1:.5,e.includes("top")?0:e.includes("bottom")?1:.5]}function oa(n){const{x:e=0,y:t=0,z:i=0}=n.style||{};return[+e,+t,+i]}function yF(n){const{x:e,y:t,z:i}=n.style||{};return void 0!==e||void 0!==t||void 0!==i}function Ad(n,e="center"){return function bF(n,e){const[t,i]=e,{min:r,max:o}=n;return[r[0]+t*(o[0]-r[0]),r[1]+i*(o[1]-r[1])]}(n,AA(e))}function sa(n){var e;return[n.x,n.y,null!==(e=n.z)&&void 0!==e?e:0]}function pc(n){var e;return{x:n[0],y:n[1],z:null!==(e=n[2])&&void 0!==e?e:0}}function ig(n,e=0){return n.map(t=>parseFloat(t.toFixed(e)))}function kd(n,e,t,i=!1){if(Po(n,e))return n;const o=Lu(i?ro(n,e):ro(e,n)),s=[o[0]*t,o[1]*t];return Qi(Td(n),s)}function v2(n,e){return n[1]===e[1]}function IA(n,e){return v2(n,e)||function kA(n,e){return n[0]===e[0]}(n,e)}function y2(n,e){return[2*e[0]-n[0],2*e[1]-n[1]]}function b2(n,e,t,i=!0,r=!1){for(let o=0;o<t.length;o++){let s=t[o],a=t[(o+1)%t.length];i&&(s=Qi(e,s),a=Qi(e,a));const u=g2([e,r?y2(n,e):n],[s,a]);if(u)return{point:u,line:[s,a]}}return{point:e,line:void 0}}function O_(n,e,t=!1){const i=e.center,o=ro(t?y2(n,i):n,e.center),s=Math.atan2(o[1],o[0]);if(isNaN(s))return i;const a=Vc(e)/2,l=ul(e)/2;return[i[0]+a*Math.cos(s),i[1]+l*Math.sin(s)]}function E2(n,e){const[t,i]=e[0],[r,o]=e[1],[s,a]=n,l=r-t,u=o-i;if(0===l&&0===u)return[t,i];let h=((s-t)*l+(a-i)*u)/(l*l+u*u);return h>1?h=1:h<0&&(h=0),[t+h*l,i+h*u]}function w2(n,e=!0){const t=function LA(n){return fc(n.reduce((t,i)=>Qi(t,i),[0,0]),n.length)}(n);return n.sort(([i,r],[o,s])=>{const a=Math.atan2(r-t[1],i-t[0]),l=Math.atan2(s-t[1],o-t[0]);return e?l-a:a-l})}function x2(n,e){return[n,[n[0],e[1]],e,[e[0],n[1]]]}const C2=n=>n.map(e=>Li(e)?e.toLocaleLowerCase():e);class Id{constructor(e){this.map=new Map,this.recordKey=new Set,this.onKeyDown=t=>{null!=t&&t.key&&(this.recordKey.add(t.key),this.trigger(t))},this.onKeyUp=t=>{null!=t&&t.key&&this.recordKey.delete(t.key)},this.onWheel=t=>{this.triggerExtendKey(pn.WHEEL,t)},this.onDrag=t=>{this.triggerExtendKey(pn.DRAG,t)},this.onFocus=()=>{this.recordKey.clear()},this.emitter=e,this.bindEvents()}bind(e,t){0!==e.length&&this.map.set(e,t)}unbind(e,t){this.map.forEach((i,r)=>{Po(r,e)&&(!t||t===i)&&this.map.delete(r)})}unbindAll(){this.map.clear()}match(e){const t=C2(Array.from(this.recordKey)).sort(),i=C2(e).sort();return Po(t,i)}bindEvents(){const{emitter:e}=this;e.on(pn.KEY_DOWN,this.onKeyDown),e.on(pn.KEY_UP,this.onKeyUp),e.on(pn.WHEEL,this.onWheel),e.on(pn.DRAG,this.onDrag),window.addEventListener("focus",this.onFocus)}trigger(e){this.map.forEach((t,i)=>{this.match(i)&&t(e)})}triggerExtendKey(e,t){this.map.forEach((i,r)=>{r.includes(e)&&Po(Array.from(this.recordKey),r.filter(o=>o!==e))&&i(t)})}destroy(){this.unbindAll(),this.emitter.off(pn.KEY_DOWN,this.onKeyDown),this.emitter.off(pn.KEY_UP,this.onKeyUp),this.emitter.off(pn.WHEEL,this.onWheel),this.emitter.off(pn.DRAG,this.onDrag),window.removeEventListener("blur",this.onFocus)}}let M2=(()=>{class n extends zs{constructor(t,i){super(t,ya({},n.defaultOptions,i)),this.shortcut=new Id(t.graph),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.clearStates=this.clearStates.bind(this),this.bindEvents()}onPointerDown(t){if(!this.validate(t)||!this.isKeydown()||this.startPoint)return;const{canvas:i,graph:r}=this.context,o=Object.assign({},this.options.style);this.options.style.lineWidth&&(o.lineWidth=+this.options.style.lineWidth/r.getZoom()),this.rectShape=new ai.Rect({id:"g6-brush-select",style:o}),i.appendChild(this.rectShape),this.startPoint=[t.canvas.x,t.canvas.y]}onPointerMove(t){var i;if(!this.startPoint)return;const{immediately:r,mode:o}=this.options;this.endPoint=A0(t),null===(i=this.rectShape)||void 0===i||i.attr({x:Math.min(this.endPoint[0],this.startPoint[0]),y:Math.min(this.endPoint[1],this.startPoint[1]),width:Math.abs(this.endPoint[0]-this.startPoint[0]),height:Math.abs(this.endPoint[1]-this.startPoint[1])}),r&&"default"===o&&this.updateElementsStates(x2(this.startPoint,this.endPoint))}onPointerUp(t){if(this.startPoint){if(!this.endPoint)return void this.clearBrush();this.endPoint=A0(t),this.updateElementsStates(x2(this.startPoint,this.endPoint)),this.clearBrush()}}clearStates(){this.endPoint||this.clearElementsStates()}clearElementsStates(){const{graph:t}=this.context,i=Object.values(t.getData()).reduce((r,o)=>Object.assign({},r,o.reduce((s,a)=>(s[Ge(a)]=[],s),{})),{});t.setElementState(i,this.options.animation)}updateElementsStates(t){const{graph:i}=this.context,{enableElements:r,state:o,mode:s,onSelect:a}=this.options,l=this.selector(i,t,r);let u={};switch(s){case"union":l.forEach(h=>{u[h]=[...i.getElementState(h),o]});break;case"diff":l.forEach(h=>{const p=i.getElementState(h);u[h]=p.includes(o)?p.filter(v=>v!==o):[...p,o]});break;case"intersect":l.forEach(h=>{const p=i.getElementState(h);u[h]=p.includes(o)?[o]:[]});break;default:l.forEach(h=>{u[h]=[o]})}$n(a)&&(u=a(u)),i.setElementState(u,this.options.animation)}selector(t,i,r){if(!r||0===r.length)return[];const o=[],s=t.getData();if(r.forEach(a=>{s[`${a}s`].forEach(l=>{const u=Ge(l);"hidden"!==t.getElementVisibility(u)&&function PA(n,e,t,i){const r=n[0],o=n[1];let s=!1;void 0===t&&(t=0),void 0===i&&(i=e.length);const a=i-t;for(let l=0,u=a-1;l<a;u=l++){const h=e[l+t][0],p=e[l+t][1],y=e[u+t][1];p>o!=y>o&&r<(e[u+t][0]-h)*(o-p)/(y-p)+h&&(s=!s)}return s}(t.getElementPosition(u),i)&&o.push(u)})}),r.includes("edge")){const a=s.edges;a?.forEach(l=>{const{source:u,target:h}=l;o.includes(u)&&o.includes(h)&&o.push(Ge(l))})}return o}clearBrush(){var t;null===(t=this.rectShape)||void 0===t||t.remove(),this.rectShape=void 0,this.startPoint=void 0,this.endPoint=void 0}isKeydown(){const{trigger:t}=this.options,i=Array.isArray(t)?t:[t];return this.shortcut.match(i.filter(r=>"drag"!==r))}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}bindEvents(){const{graph:t}=this.context;t.on(pn.POINTER_DOWN,this.onPointerDown),t.on(pn.POINTER_MOVE,this.onPointerMove),t.on(pn.POINTER_UP,this.onPointerUp),t.on(io.CLICK,this.clearStates)}unbindEvents(){const{graph:t}=this.context;t.off(pn.POINTER_DOWN,this.onPointerDown),t.off(pn.POINTER_MOVE,this.onPointerMove),t.off(pn.POINTER_UP,this.onPointerUp),t.off(io.CLICK,this.clearStates)}update(t){this.unbindEvents(),this.options=ya(this.options,t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:!1,enable:!0,enableElements:["node","combo","edge"],immediately:!1,mode:"default",state:"selected",trigger:["shift"],style:{width:0,height:0,lineWidth:1,fill:"#1677FF",stroke:"#1677FF",fillOpacity:.1,zIndex:2,pointerEvents:"none"}},n})();const A0=n=>[n.canvas.x,n.canvas.y],zc=.8,Kh=["node","edge","combo"];function Rd(n,e,t,i,r=0){"TB"===i&&e(n,r);const o=t(n);if(o)for(const s of o)Rd(s,e,t,i,r+1);"BT"===i&&e(n,r)}function A_(n,e,t,i,r="both"){if("combo"===e||"node"===e)return k_(n,t,i,r);const o=n.getEdgeData(t);if(!o)return[];const s=k_(n,o.source,i-1,r),a=k_(n,o.target,i-1,r);return Array.from(new Set([...s,...a,t]))}function k_(n,e,t,i="both"){const r=new Set,o=new Set,s=new Set;return function FA(n,e,t){const i=[[n,0]];for(;i.length;){const[r,o]=i.shift();e(r,o);const s=t(r);if(s)for(const a of s)i.push([a,o+1])}}(e,(a,l)=>{l>t||(s.add(a),n.getRelatedEdgesData(a,i).forEach(u=>{const h=Ge(u);!o.has(h)&&l<t&&(s.add(h),o.add(h))}))},a=>n.getRelatedEdgesData(a,i).map(l=>l.source===a?l.target:l.source).filter(l=>!r.has(l)&&(r.add(l),!0))),Array.from(s)}function I_(n){return n.states||[]}var R_=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let S2=(()=>{let n=class xit extends zs{constructor(t,i){super(t,Object.assign({},xit.defaultOptions,i)),this.onClickSelect=r=>R_(this,void 0,void 0,function*(){var o,s;this.validate(r)&&(yield this.updateState(r),null===(s=(o=this.options).onClick)||void 0===s||s.call(o,r))}),this.onClickCanvas=r=>R_(this,void 0,void 0,function*(){var o,s;this.validate(r)&&(yield this.clearState(),null===(s=(o=this.options).onClick)||void 0===s||s.call(o,r))}),this.shortcut=new Id(t.graph),this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),Kh.forEach(i=>{t.on(`${i}:${pn.CLICK}`,this.onClickSelect)}),t.on(io.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:t,trigger:i}=this.options;return t&&this.shortcut.match(i)}getNeighborIds(t){const{target:i,targetType:r}=t,{graph:o}=this.context,{degree:s}=this.options;return A_(o,r,i.id,"function"==typeof s?s(t):s).filter(a=>a!==i.id)}updateState(t){return R_(this,void 0,void 0,function*(){const{state:i,unselectedState:r,neighborState:o,animation:s}=this.options;if(!i&&!o&&!r)return;const{target:a}=t,{graph:l}=this.context,h=I_(l.getElementData(a.id)).includes(i)?"unselect":"select",p={},v=this.isMultipleSelect,y=[a.id],b=this.getNeighborIds(t);if(v)if(Object.assign(p,this.getDataStates()),"select"===h){const E=(w,S)=>{w.forEach(C=>{const D=new Set(l.getElementState(C));D.add(S),D.delete(r),p[C]=Array.from(D)})};E(y,i),E(b,o),r&&Object.keys(p).forEach(w=>{const S=p[w];!S.includes(i)&&!S.includes(o)&&!S.includes(r)&&p[w].push(r)})}else{const E=p[a.id];p[a.id]=E.filter(w=>w!==i&&w!==o),E.includes(r)||p[a.id].push(r),b.forEach(w=>{p[w]=p[w].filter(S=>S!==o),p[w].includes(i)||p[w].push(r)})}else if("select"===h){Object.assign(p,this.getClearStates(!!r));const E=(w,S)=>{w.forEach(C=>{p[C]||(p[C]=l.getElementState(C)),p[C].push(S)})};E(y,i),E(b,o),r&&Object.keys(p).forEach(w=>{!y.includes(w)&&!b.includes(w)&&p[w].push(r)})}else Object.assign(p,this.getClearStates());yield l.setElementState(p,s)})}getDataStates(){const{graph:t}=this.context,{nodes:i,edges:r,combos:o}=t.getData(),s={};return[...i,...r,...o].forEach(a=>{s[Ge(a)]=I_(a)}),s}getClearStates(t=!1){const{graph:i}=this.context,{state:r,unselectedState:o,neighborState:s}=this.options,a=new Set([r,o,s]),{nodes:l,edges:u,combos:h}=i.getData(),p={};return[...l,...u,...h].forEach(v=>{const y=I_(v),b=y.filter(E=>!a.has(E));(t||b.length!==y.length)&&(p[Ge(v)]=b)}),p}clearState(){return R_(this,void 0,void 0,function*(){const{graph:t}=this.context;yield t.setElementState(this.getClearStates(),this.options.animation)})}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;Kh.forEach(i=>{t.off(`${i}:${pn.CLICK}`,this.onClickSelect)}),t.off(io.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}};return n.defaultOptions={animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0},n})();function ja(n){var e;return!(null===(e=n.style)||void 0===e||!e.collapsed)}function k0(n,e){if(!n.startsWith(e))return!1;const t=n[e.length];return t>="A"&&t<="Z"}function EF(n,e,t=!0){if(!e||!k0(n,e))return n;const i=n.slice(e.length);return t?AN(i):i}function Hr(n,e){const t=Object.entries(n).reduce((i,[r,o])=>("className"===r||"class"===r||k0(r,e)&&Object.assign(i,{[EF(r,e)]:o}),i),{});if("opacity"in n){const i=function D2(n,e){return`${e}${Df(n)}`}("opacity",e),r=n.opacity;Object.assign(t,i in n?{opacity:r*n[i]}:{opacity:r})}return t}function I0(n,e){const t=e.length;return Object.keys(n).reduce((i,r)=>(r.startsWith(e)&&(i[r.slice(t)]=n[r]),i),{})}function O2(n,e){const t="string"==typeof e?[e]:e,i={};return Object.keys(n).forEach(r=>{t.find(o=>r.startsWith(o))||(i[r]=n[r])}),i}function Pl(n=0){if("number"==typeof n)return[n,n,n];const[e,t=e,i=e]=n;return[e,t,i]}function T2(n,e){const{datum:t,graph:i}=e;return"function"==typeof n?n.call(i,t):Object.fromEntries(Object.entries(n).map(([r,o])=>"function"==typeof o?[r,o.call(i,t)]:[r,o]))}function Us(n,e){return Object.assign({},n,e,{style:Object.assign({},n?.style||{},e?.style||{})})}const rg=new WeakMap;function mc(n,e,t){rg.has(n)||rg.set(n,{});const i=rg.get(n);return i[e]?!R0(i[e],t)&&(i[e]=t,!0):(i[e]=t,!0)}const R0=(n,e,t=2)=>{if("object"!=typeof n||"object"!=typeof e)return n===e;const i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(const o of i){const s=n[o],a=e[o];if(t>1&&"object"==typeof s&&"object"==typeof a){if(!R0(s,a,t-1))return!1}else if(s!==a)return!1}return!0};function BA(n){if(n)return"string"==typeof n||"function"==typeof n||Array.isArray(n)?{type:"group",field:e=>e.id,color:n,invert:!1}:n}function VA(n){const e="string"==typeof n?dc("palette",n):n;if("function"!=typeof e)return e}function A2(n,e){let t=2*n;return"string"==typeof e?t=n*Number(e.replace("%",""))/100:"number"==typeof e&&(t=e),isNaN(t)&&(t=2*n),t}function zA(n,e,t=1,i=!1){return A2((n.max[0]-n.min[0])*(i?t:1),e)}class og extends ai.CustomElement{constructor(e){super(e),this.shapeMap={},this.animateMap={},this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(e,t,i,r,o){var s,a,l,u,h,p,v,y;const b=this.shapeMap[e];if(!1===i)return void(b&&(null===(s=o?.beforeDestroy)||void 0===s||s.call(o,b),r.removeChild(b),delete this.shapeMap[e],null===(a=o?.afterDestroy)||void 0===a||a.call(o,b)));const E="string"==typeof t?dc(ts.SHAPE,t):t;if(!E)throw new Error(Ru(`Shape ${t} not found`));if(!b||b.destroyed||!(b instanceof E)){b&&(null===(l=o?.beforeDestroy)||void 0===l||l.call(o,b),b?.destroy(),null===(u=o?.afterDestroy)||void 0===u||u.call(o,b)),null===(h=o?.beforeCreate)||void 0===h||h.call(o);const w=new E({className:e,style:i});return r.appendChild(w),this.shapeMap[e]=w,null===(p=o?.afterCreate)||void 0===p||p.call(o,w),w}return null===(v=o?.beforeUpdate)||void 0===v||v.call(o,b),lC(b,i),null===(y=o?.afterUpdate)||void 0===y||y.call(o,b),b}transformPosition(e){if("x"in e||"y"in e||"z"in e){const{x:t=0,y:i=0,z:r=0,transform:o}=e;this.style.transform=cA(+t,+i,+r,o)}}update(e={}){const t=Object.assign({},this.attributes,e);this.attr(t),this.render(t,this),this.transformPosition(t),this.setVisibility()}bindEvents(){}getGraphicStyle(e){return function xF(n){return function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(n,["x","y","z","class","className","transform","transformOrigin","context","zIndex","visibility"])}(e)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(e,t){if(0===e.length)return null;const i=[];if(void 0!==e[0].x||void 0!==e[0].y||void 0!==e[0].z){const{x:o=0,y:s=0,z:a=0}=this.attributes;e.forEach(l=>{const{x:u=o,y:h=s,z:p=a}=l;Object.assign(l,{transform:p?[["translate3d",u,h,p]]:[["translate",u,h]]})})}const r=super.animate(e,t);if(r&&(k2(this,r),i.push(r)),Array.isArray(e)&&e.length>0){const o=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(e[0]).some(s=>!o.includes(s))){Object.entries(this.shapeMap).forEach(([a,l])=>{const h=this[`get${Df(a)}Style`];if($n(h)){const p=e.map(y=>h.call(this,Object.assign(Object.assign({},this.attributes),y))),v=l.animate(ip(p),t);v&&(k2(l,v),i.push(v))}});const s=(a,l)=>{if(!_u(a)){const h=this[`get${Df(l)}Style`];if($n(h)){const p=e.map(v=>h.call(this,Object.assign(Object.assign({},this.attributes),v)));Object.entries(p[0]).map(([v])=>{const y=p.map(E=>E[v]),b=a[v];if(b){const E=b.animate(ip(y),t);E&&(k2(b,E),i.push(E))}})}}};this.compositeShapes.forEach(([a,l])=>{const u=I0(this.shapeMap,l);s(u,a)})}}return np(i)}getShape(e){return this.shapeMap[e]}setVisibility(){const{visibility:e}=this.attributes;sp(this,e,!0)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}}function k2(n,e){e?.finished.then(()=>{const t=n.activeAnimations.findIndex(i=>i===e);t>-1&&n.activeAnimations.splice(t,1)})}let Xh=(()=>{class n extends og{constructor(t){super(Us({style:n.defaultStyleProps},t))}isTextStyle(t){return k0(t,"label")}isBackgroundStyle(t){return k0(t,"background")}getTextStyle(t){const r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(this.getGraphicStyle(t),["padding"]);return O2(r,"background")}getBackgroundStyle(t){if(!1===t.background)return!1;const i=this.getGraphicStyle(t),{wordWrap:r,wordWrapWidth:o,padding:s}=i,a=Hr(i,"background"),{min:[l,u],center:[h,p],halfExtents:[v,y]}=this.shapeMap.text.getGeometryBounds(),[b,E,w,S]=Dd(s),C=2*v+S+E,{width:D,height:k}=a;Object.assign(a,D&&k?{x:h-Number(D)/2,y:p-Number(k)/2}:{x:l-S,y:u-b,width:r?Math.min(C,o+S+E):C,height:2*y+b+w});const{radius:T}=a;if("string"==typeof T&&T.endsWith("%")){const I=Number(T.replace("%",""))/100;a.radius=Math.min(+a.width,+a.height)*I}return a}render(t=this.parsedAttributes,i=this){this.upsert("text",ai.Text,this.getTextStyle(t),i),this.upsert("background",ai.Rect,this.getBackgroundStyle(t),i)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}return n.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0},n})(),I2=(()=>{class n extends og{constructor(t){super(Us({style:n.defaultStyleProps},t))}getBadgeStyle(t){return this.getGraphicStyle(t)}render(t=this.parsedAttributes,i=this){this.upsert("label",Xh,this.getBadgeStyle(t),i)}getGeometryBounds(){const t=this.getShape("label");return(t.getShape("background")||t.getShape("text")).getGeometryBounds()}}return n.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1},n})();const sg={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};const R2=n=>{if(n.length<2)return[["M",0,0],["L",0,0]];const e=n[0],t=n[1],i=n[n.length-1];n.unshift(n[n.length-2],i),n.push(e,t);const o=[["M",i[0],i[1]]];for(let s=1;s<n.length-2;s+=1){const[a,l]=n[s-1],[u,h]=n[s],[p,v]=n[s+1],[y,b]=s!==n.length-2?n[s+2]:[p,v];o.push(["C",u+(p-a)/6,h+(v-l)/6,p-(y-u)/6,v-(b-h)/6,p,v])}return o};let P2=(()=>{class n extends og{constructor(t){super(Us({style:n.defaultStyleProps},t))}getLabelStyle(t){if(!t.label||!t.d||0===t.d.length)return!1;const i=Hr(this.getGraphicStyle(t),"label"),{maxWidth:r,offsetX:o,offsetY:s,autoRotate:a,placement:l,closeToPath:u}=i,h=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),p=this.shapeMap.key,v=p?.getRenderBounds();return Object.assign(function HA(n,e,t,i,r,o,s){const[a,l]=Ad(n,e),u={textAlign:"left"===e?"right":"right"===e?"left":"center",textBaseline:"top"===e?"bottom":"bottom"===e?"top":"middle",transform:[["translate",a+t,l+i]]};if("center"===e||!r)return u;const h=function GA(n){const e=[];return("string"==typeof n?function UA(n){const e=n.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),t=[];let i="",r={};for(;e.length>0;){let o=e.shift();o in sg?i=o:e.unshift(o),r={type:i},sg[i].forEach(l=>{o=e.shift(),r[l]=o}),"M"===i?i="L":"m"===i&&(i="l");const[s,...a]=Object.values(r);t.push([s,...a.map(Number)])}return t}(n):n).forEach(t=>{const i=t[0];if("Z"!==i)if("A"!==i)for(let r=1;r<t.length;r+=2)e.push([t[r],t[r+1],0]);else{const r=t.length;e.push([t[r-2],t[r-1],0])}else e.push(e[0])}),e}(o);if(!h||h.length<=3)return u;const v=function _2(n,e){let t=1/0,i=[[0,0],[0,0]];return e.forEach(r=>{const o=function T_(n,e){return bo(n,E2(n,e))}(n,r);o<t&&(t=o,i=r)}),i}([a,l],h.map((b,E)=>{const w=b,S=h[(E+1)%h.length];return Po(w,S)?null:[w,S]}).filter(Boolean)),y=E2([a,l],v);if(y&&v&&(u.transform=[["translate",y[0]+t,y[1]+i]],s)){const b=Math.atan((v[0][1]-v[1][1])/(v[0][0]-v[1][0]));u.transform.push(["rotate",b/Math.PI*180]),u.textAlign="center",("right"===e||"left"===e)&&(u.textBaseline=b>0?"right"===e?"bottom":"top":"right"===e?"top":"bottom")}return u}(v,l,o,s,u,t.d,a),{wordWrapWidth:zA(v,r)},h)}getKeyStyle(t){return this.getGraphicStyle(t)}render(t,i){this.upsert("key",ai.Path,this.getKeyStyle(t),i),this.upsert("label",Xh,this.getLabelStyle(t),i)}}return n.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0},n})(),WA=class extends ai.Image{constructor(n){super(n),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},ag=this,this.isMutationObserved=!0,this.addEventListener(ai.ElementEvent.MOUNTED,this.onMounted),this.addEventListener(ai.ElementEvent.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:n,clipPath:e,width:t=0,height:i=0}=this.attributes;if(n&&t&&i){const[r,o]=this.getBounds().min,s={x:r,y:o,radius:n,width:t,height:i};if(e)Object.assign(this.parsedStyle.clipPath.style,s);else{const a=new ai.Rect({style:s});this.style.clipPath=a}}else e&&(this.style.clipPath=null)}};const P_=new WeakMap;let ag=null;const N2=n=>{if(ag&&function JU(n){const e=[];let t=n.parentNode;for(;t;)e.push(t),t=t.parentNode;return e}(ag).includes(n)){const e=P_.get(n);e?e.includes(ag)||e.push(ag):P_.set(n,[ag])}},L2=n=>{const e=P_.get(n);e&&e.forEach(t=>t.handleRadius())};class KA extends og{constructor(e){super(e)}isImage(){const{src:e}=this.attributes;return!!e}getIconStyle(e=this.attributes){const{width:t=0,height:i=0}=e,r=this.getGraphicStyle(e);return this.isImage()?Object.assign({x:-t/2,y:-i/2},r):Object.assign({textBaseline:"middle",textAlign:"center"},r)}render(e=this.attributes,t=this){this.upsert("icon",this.isImage()?WA:ai.Text,this.getIconStyle(e),t)}}class lg extends og{get context(){return this.attributes.context}get parsedAttributes(){return this.attributes}onframe(){}animate(e,t){const i=super.animate(e,t);return i&&(i.onframe=()=>this.onframe(),i.finished.then(()=>this.onframe())),i}}var P0=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let Yh=(()=>{class n extends lg{constructor(t){super(Us({style:n.defaultStyleProps},t)),this.type="node"}getSize(t=this.attributes){const{size:i}=t;return Pl(i)}getKeyStyle(t){const i=this.getGraphicStyle(t);return Object.assign(O2(i,["label","halo","icon","badge","port"]))}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;const i=Hr(this.getGraphicStyle(t),"label"),{placement:r,maxWidth:o,offsetX:s,offsetY:a}=i,l=P0(i,["placement","maxWidth","offsetX","offsetY"]),u=this.getShape("key").getLocalBounds();return Object.assign(q_(u,r,s,a),{wordWrapWidth:zA(u,o)},l)}getHaloStyle(t){if(!1===t.halo)return!1;const i=this.getKeyStyle(t),{fill:r}=i,o=P0(i,["fill"]),s=Hr(this.getGraphicStyle(t),"halo");return Object.assign(Object.assign(Object.assign({},o),{stroke:r}),s)}getIconStyle(t){if(!1===t.icon||!t.iconText&&!t.iconSrc)return!1;const i=Hr(this.getGraphicStyle(t),"icon");return Object.assign(function qU(n,e){const t=Pl(n);let i={};return e.text&&!e.fontSize&&(i={fontSize:.5*Math.min(...t)}),e.src&&(!e.width||!e.height)&&(i={width:.5*t[0],height:.5*t[1]}),i}(t.size,i),i)}getBadgesStyle(t){var i;const r=I0(this.shapeMap,"badge-"),o={};if(Object.keys(r).forEach(v=>{o[v]=!1}),!1===t.badge||null===(i=t.badges)||void 0===i||!i.length)return o;const{badges:s=[],badgePalette:a,opacity:l=1}=t,u=P0(t,["badges","badgePalette","opacity"]),h=VA(a),p=Hr(this.getGraphicStyle(u),"badge");return s.forEach((v,y)=>{o[y]=Object.assign(Object.assign({backgroundFill:h?h[y%h?.length]:void 0,opacity:l},p),this.getBadgeStyle(v))}),o}getBadgeStyle(t){const i=this.getShape("key"),{placement:r="top",offsetX:o,offsetY:s}=t,a=P0(t,["placement","offsetX","offsetY"]),l=q_(i.getLocalBounds(),r,o,s,!0);return Object.assign(Object.assign({},l),a)}getPortsStyle(t){var i;const r=this.getPorts(),o={};if(Object.keys(r).forEach(l=>{o[l]=!1}),!1===t.port||null===(i=t.ports)||void 0===i||!i.length)return o;const s=Hr(this.getGraphicStyle(t),"port"),{ports:a=[]}=t;return a.forEach((l,u)=>{const h=l.key||u,p=Object.assign(Object.assign({},s),l);if(Bk(p))o[h]=!1;else{const[v,y]=this.getPortXY(t,l);o[h]=Object.assign({transform:[["translate",v,y]]},p)}}),o}getPortXY(t,i){const{placement:r="left"}=i,o=this.getShape("key");return Z_(function OF(n,e){if(!n)return e.getLocalBounds();const t=n.canvas.getLayer(),i=e.cloneNode();sp(i,"hidden"),t.appendChild(i);const r=i.getLocalBounds();return t.removeChild(i),r}(this.context,o),r)}getPorts(){return I0(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(t,i=!1){return function NA(n,e,t=!1){return b2(n,Ad(e,"center"),[Ad(e,"left-top"),Ad(e,"right-top"),Ad(e,"right-bottom"),Ad(e,"left-bottom")],!1,t).point}(t,this.getShape("key").getBounds(),i)}drawHaloShape(t,i){const r=this.getHaloStyle(t);if(!mc(this,"halo",r))return;const o=this.getShape("key");this.upsert("halo",o.constructor,r,i)}drawIconShape(t,i){const r=this.getIconStyle(t);mc(this,"icon",r)&&(this.upsert("icon",KA,r,i),N2(this))}drawBadgeShapes(t,i){const r=this.getBadgesStyle(t);Object.keys(r).forEach(o=>{const s=r[o];mc(this,`badge-${o}`,s)&&this.upsert(`badge-${o}`,I2,s,i)})}drawPortShapes(t,i){const r=this.getPortsStyle(t);Object.keys(r).forEach(o=>{const s=r[o],a=`port-${o}`;mc(this,a,s)&&this.upsert(a,ai.Circle,s,i)})}drawLabelShape(t,i){const r=this.getLabelStyle(t);mc(this,"label",r)&&this.upsert("label",Xh,r,i)}_drawKeyShape(t,i){return this.drawKeyShape(t,i)}render(t=this.parsedAttributes,i=this){this._drawKeyShape(t,i),this.getShape("key")&&(this.drawHaloShape(t,i),this.drawIconShape(t,i),this.drawBadgeShapes(t,i),this.drawLabelShape(t,i),this.drawPortShapes(t,i))}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&L2(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}return n.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0},n})(),Ns=(()=>{let n=class Cit extends Yh{constructor(t){super(Us({style:Cit.defaultStyleProps},t))}drawKeyShape(t,i){return this.upsert("key",ai.Circle,this.getKeyStyle(t),i)}getKeyStyle(t){const i=super.getKeyStyle(t);return Object.assign(Object.assign({},i),{r:Math.min(...this.getSize(t))/2})}getIconStyle(t){const i=super.getIconStyle(t),{r}=this.getShape("key").attributes,o=2*r*zc;return!!i&&Object.assign({width:o,height:o},i)}getIntersectPoint(t,i=!1){return O_(t,this.getShape("key").getBounds(),i)}};return n.defaultStyleProps={size:32},n})();class Pd extends Yh{constructor(e){super(e)}get parsedAttributes(){return this.attributes}drawKeyShape(e,t){return this.upsert("key",ai.Polygon,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e);return Object.assign(Object.assign({},t),{points:this.getPoints(e)})}getIntersectPoint(e,t=!1){var i,r;const{points:o}=this.getShape("key").attributes;return b2(e,[+((null===(i=this.attributes)||void 0===i?void 0:i.x)||0),+((null===(r=this.attributes)||void 0===r?void 0:r.y)||0)],o,!0,t).point}}let t7=(()=>{class n extends Ns{constructor(t){super(Us({style:n.defaultStyleProps},t))}parseOuterR(){const{size:t}=this.parsedAttributes;return Math.min(...Pl(t))/2}parseInnerR(){const{innerR:t}=this.parsedAttributes;return Li(t)?parseInt(t)/100*this.parseOuterR():t}drawDonutShape(t,i){const{donuts:r}=t;if(null==r||!r.length)return;const o=r.map(v=>Zn(v)?{value:v}:v),s=Hr(this.getGraphicStyle(t),"donut"),a=VA(t.donutPalette);if(!a)return;const l=o.reduce((v,y)=>{var b;return v+(null!==(b=y.value)&&void 0!==b?b:0)},0),u=this.parseOuterR(),h=this.parseInnerR();let p=0;o.forEach((v,y)=>{const{value:b=0,color:E=a[y%a.length]}=v,w=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(v,["value","color"]),S=360*(0===l?1/o.length:b/l);this.upsert(`round${y}`,ai.Path,Object.assign(Object.assign(Object.assign({},s),{d:B2(u,h,p,p+S),fill:E}),w),i),p+=S})}render(t,i=this){super.render(t,i),this.drawDonutShape(t,i)}}return n.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"},n})();const F2=(n,e,t,i)=>[n+Math.sin(i)*t,e-Math.cos(i)*t],B2=(n=0,e=0,t,i)=>{const[r,o]=[0,0];return Math.abs(t-i)%360<1e-6?((n,e,t,i)=>i<=0||t<=i?[["M",n-t,e],["A",t,t,0,1,1,n+t,e],["A",t,t,0,1,1,n-t,e],["Z"]]:[["M",n-t,e],["A",t,t,0,1,1,n+t,e],["A",t,t,0,1,1,n-t,e],["Z"],["M",n+i,e],["A",i,i,0,1,0,n-i,e],["A",i,i,0,1,0,n+i,e],["Z"]])(r,o,n,e):((n,e,t,i,r,o)=>{const[s,a]=[r/360*2*Math.PI,o/360*2*Math.PI],l=[F2(n,e,i,s),F2(n,e,t,s),F2(n,e,t,a),F2(n,e,i,a)],u=a-s>Math.PI?1:0;return[["M",l[0][0],l[0][1]],["L",l[1][0],l[1][1]],["A",t,t,0,u,1,l[2][0],l[2][1]],["L",l[3][0],l[3][1]],["A",i,i,0,u,0,l[0][0],l[0][1]],["Z"]]})(r,o,n,e,t,i)};let IF=(()=>{class n extends Yh{constructor(t){super(Us({style:n.defaultStyleProps},t))}drawKeyShape(t,i){return this.upsert("key",ai.Ellipse,this.getKeyStyle(t),i)}getKeyStyle(t){const i=super.getKeyStyle(t),[r,o]=this.getSize(t);return Object.assign(Object.assign({},i),{rx:r/2,ry:o/2})}getIconStyle(t){const i=super.getIconStyle(t),{rx:r,ry:o}=this.getShape("key").attributes,s=2*Math.min(+r,+o)*zc;return!!i&&Object.assign({width:s,height:s},i)}getIntersectPoint(t,i=!1){return O_(t,this.getShape("key").getBounds(),i)}}return n.defaultStyleProps={size:[45,35]},n})();function RF(n,e){var t=e.cx,r=e.cy;n.arc(void 0===t?0:t,void 0===r?0:r,e.r,0,2*Math.PI,!1)}function PF(n,e){var t=e.cx,i=void 0===t?0:t,r=e.cy,o=void 0===r?0:r,s=e.rx,a=e.ry;if(n.ellipse)n.ellipse(i,o,s,a,0,0,2*Math.PI,!1);else{var l=s>a?s:a,u=s>a?1:s/a,h=s>a?a/s:1;n.save(),n.scale(u,h),n.arc(i,o,l,0,2*Math.PI)}}function NF(n,e){var E,w,t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=e.markerStart,a=e.markerEnd,l=e.markerStartOffset,u=e.markerEndOffset,h=0,p=0,v=0,y=0,b=0;s&&dr(s)&&l&&(E=r-t,w=o-i,b=Math.atan2(w,E),h=Math.cos(b)*(l||0),p=Math.sin(b)*(l||0)),a&&dr(a)&&u&&(E=t-r,w=i-o,b=Math.atan2(w,E),v=Math.cos(b)*(u||0),y=Math.sin(b)*(u||0)),n.moveTo(t+h,i+p),n.lineTo(r+v,o+y)}function j2(n,e){var b,E,t=e.markerStart,i=e.markerEnd,r=e.markerStartOffset,o=e.markerEndOffset,s=e.d,a=s.absolutePath,l=s.segments,u=0,h=0,p=0,v=0,y=0;if(t&&dr(t)&&r){var S=Ui(t.parentNode.getStartTangent(),2),C=S[0],D=S[1];b=C[0]-D[0],E=C[1]-D[1],y=Math.atan2(E,b),u=Math.cos(y)*(r||0),h=Math.sin(y)*(r||0)}if(i&&dr(i)&&o){var T=Ui(i.parentNode.getEndTangent(),2),I=T[0],F=T[1];b=I[0]-F[0],E=I[1]-F[1],y=Math.atan2(E,b),p=Math.cos(y)*(o||0),v=Math.sin(y)*(o||0)}for(var z=0;z<a.length;z++){var V=a[z],Y=a[z+1],Q=0===z&&(0!==u||0!==h),at=(z===a.length-1||Y&&("M"===Y[0]||"Z"===Y[0]))&&0!==p&&0!==v;switch(V[0]){case"M":Q?n.moveTo(V[1]+u,V[2]+h):n.moveTo(V[1],V[2]);break;case"L":at?n.lineTo(V[1]+p,V[2]+v):n.lineTo(V[1],V[2]);break;case"Q":n.quadraticCurveTo(V[1],V[2],V[3],V[4]),at&&n.lineTo(V[3]+p,V[4]+v);break;case"C":n.bezierCurveTo(V[1],V[2],V[3],V[4],V[5],V[6]),at&&n.lineTo(V[5]+p,V[6]+v);break;case"A":var It=l[z].arcParams,Pt=It.cx,ct=It.cy,ot=It.rx,rt=It.ry,Nt=It.startAngle,ie=It.endAngle,$e=It.xRotation,ye=It.sweepFlag;if(n.ellipse)n.ellipse(Pt,ct,ot,rt,$e,Nt,ie,!!(1-ye));else{var ln=ot>rt?ot:rt,kn=ot>rt?1:ot/rt,oi=ot>rt?rt/ot:1;n.translate(Pt,ct),n.rotate($e),n.scale(kn,oi),n.arc(0,0,ln,Nt,ie,!!(1-ye)),n.scale(1/kn,1/oi),n.rotate(-$e),n.translate(-Pt,-ct)}at&&n.lineTo(V[6]+p,V[7]+v);break;case"Z":n.closePath()}}}function YA(n,e){var S,C,t=e.markerStart,i=e.markerEnd,r=e.markerStartOffset,o=e.markerEndOffset,s=e.points.points,a=s.length,l=s[0][0],u=s[0][1],h=s[a-1][0],p=s[a-1][1],v=0,y=0,b=0,E=0,w=0;t&&dr(t)&&r&&(S=s[1][0]-s[0][0],C=s[1][1]-s[0][1],w=Math.atan2(C,S),v=Math.cos(w)*(r||0),y=Math.sin(w)*(r||0)),i&&dr(i)&&o&&(S=s[a-1][0]-s[0][0],C=s[a-1][1]-s[0][1],w=Math.atan2(C,S),b=Math.cos(w)*(o||0),E=Math.sin(w)*(o||0)),n.moveTo(l+(v||b),u+(y||E));for(var D=1;D<a-1;D++){var k=s[D];n.lineTo(k[0],k[1])}n.lineTo(h,p)}function LF(n,e){var S,C,t=e.markerStart,i=e.markerEnd,r=e.markerStartOffset,o=e.markerEndOffset,s=e.points.points,a=s.length,l=s[0][0],u=s[0][1],h=s[a-1][0],p=s[a-1][1],v=0,y=0,b=0,E=0,w=0;t&&dr(t)&&r&&(S=s[1][0]-s[0][0],C=s[1][1]-s[0][1],w=Math.atan2(C,S),v=Math.cos(w)*(r||0),y=Math.sin(w)*(r||0)),i&&dr(i)&&o&&(S=s[a-2][0]-s[a-1][0],C=s[a-2][1]-s[a-1][1],w=Math.atan2(C,S),b=Math.cos(w)*(o||0),E=Math.sin(w)*(o||0)),n.moveTo(l+v,u+y);for(var D=1;D<a-1;D++){var k=s[D];n.lineTo(k[0],k[1])}n.lineTo(h+b,p+E)}function N_(n,e){var t=e.x,i=void 0===t?0:t,r=e.y,o=void 0===r?0:r,s=e.radius,a=e.width,l=e.height,u=a,h=l;if(s&&s.some(function(T){return 0!==T})){var v=a>0?1:-1,y=l>0?1:-1,b=v+y===0,w=Ui(s.map(function(T){return Mo(T,0,Math.min(Math.abs(u)/2,Math.abs(h)/2))}),4),S=w[0],C=w[1],D=w[2],k=w[3];n.moveTo(v*S+i,o),n.lineTo(u-v*C+i,o),0!==C&&n.arc(u-v*C+i,y*C+o,C,-y*Math.PI/2,v>0?0:Math.PI,b),n.lineTo(u+i,h-y*D+o),0!==D&&n.arc(u-v*D+i,h-y*D+o,D,v>0?0:Math.PI,y>0?Math.PI/2:1.5*Math.PI,b),n.lineTo(v*k+i,h+o),0!==k&&n.arc(v*k+i,h-y*k+o,k,y>0?Math.PI/2:-Math.PI/2,v>0?Math.PI:0,b),n.lineTo(i,y*S+o),0!==S&&n.arc(v*S+i,y*S+o,S,v>0?Math.PI:0,y>0?1.5*Math.PI:Math.PI/2,b)}else n.rect(i,o,u,h)}var L_=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="canvas-path-generator",t}return zi(e,n),fn(e,[{key:"init",value:function(){var t,i=(zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(t={},qe.CIRCLE,RF),qe.ELLIPSE,PF),qe.RECT,N_),qe.LINE,NF),qe.POLYLINE,LF),qe.POLYGON,YA),qe.PATH,j2),qe.TEXT,void 0),qe.GROUP,void 0),qe.IMAGE,void 0),zn(zn(t,qe.HTML,void 0),qe.MESH,void 0));this.context.pathGeneratorFactory=i}},{key:"destroy",value:function(){delete this.context.pathGeneratorFactory}}])}(il);const e7=Object.freeze(Object.defineProperty({__proto__:null,Plugin:L_},Symbol.toStringTag,{value:"Module"}));var ZA=hr(),FF=hr(),QA=hr(),cg=ji(),qA=function(){function n(){var e=this;un(this,n),this.isHit=function(t,i,r,o){var s=e.context.pointInPathPickerFactory[t.nodeName];if(s){var a=xl(cg,r),l=Ko(FF,va(QA,i[0],i[1],0),a);if(s(t,new Rs(l[0],l[1]),o,e.isPointInPath,e.context,e.runtime))return!0}return!1},this.isPointInPath=function(t,i){var r=e.runtime.offscreenCanvasCreator.getOrCreateContext(e.context.config.offscreenCanvas),o=e.context.pathGeneratorFactory[t.nodeName];return o&&(r.beginPath(),o(r,t.parsedStyle),r.closePath()),r.isPointInPath(i.x,i.y)}}return fn(n,[{key:"apply",value:function(e,t){var i,r=this,o=e.renderingService,s=e.renderingContext;this.context=e,this.runtime=t;var a=null===(i=s.root)||void 0===i?void 0:i.ownerDocument;o.hooks.pick.tapPromise(n.tag,function(){var l=wd(cs().mark(function u(h){return cs().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",r.pick(a,h));case 1:case"end":return p.stop()}},u)}));return function(u){return l.apply(this,arguments)}}()),o.hooks.pickSync.tap(n.tag,function(l){return r.pick(a,l)})}},{key:"pick",value:function(e,t){var p,i=t.topmost,r=t.position,a=va(ZA,r.x,r.y,0),u=[],h=Sh(e.elementsFromBBox(a[0],a[1],a[0],a[1]));try{for(h.s();!(p=h.n()).done;){var v=p.value,y=v.getWorldTransform();if(this.isHit(v,a,y,!1)){var E=Nb(v);if(E){var S=E.parsedStyle.clipPath;if(this.isHit(S,a,S.getWorldTransform(),!0)){if(i)return t.picked=[v],t;u.push(v)}}else{if(i)return t.picked=[v],t;u.push(v)}}}}catch(D){h.e(D)}finally{h.f()}return t.picked=u,t}}])}();function JA(n,e,t){var i=n.parsedStyle,r=i.cx,s=i.cy,l=i.r,u=i.fill,h=i.stroke,p=i.lineWidth,y=i.increasedLineWidthForHitTesting,E=i.pointerEvents,w=void 0===E?"auto":E,S=((void 0===p?1:p)+(void 0===y?0:y))/2,C=Ed(void 0===r?0:r,void 0===s?0:s,e.x,e.y),k=Ui(kh(w,u,h),2),T=k[0],I=k[1];return T&&I||t?C<=l+S:T?C<=l:!!I&&C>=l-S&&C<=l+S}function ug(n,e,t,i){return n/(t*t)+e/(i*i)}function n7(n,e,t){var i=n.parsedStyle,r=i.cx,o=void 0===r?0:r,s=i.cy,a=void 0===s?0:s,l=i.rx,u=i.ry,v=i.lineWidth,y=void 0===v?1:v,b=i.increasedLineWidthForHitTesting,E=void 0===b?0:b,w=i.pointerEvents,C=e.x,D=e.y,T=Ui(kh(void 0===w?"auto":w,i.fill,i.stroke),2),I=T[0],F=T[1],z=(y+E)/2,V=(C-o)*(C-o),K=(D-a)*(D-a);return I&&F||t?ug(V,K,l+z,u+z)<=1:I?ug(V,K,l,u)<=1:!!F&&ug(V,K,l-z,u-z)>=1&&ug(V,K,l+z,u+z)<=1}function ap(n,e,t,i,r,o){return r>=n&&r<=n+t&&o>=e&&o<=e+i}function F_(n,e,t,i,r,o,s,a){var l=(Math.atan2(a-e,s-n)+2*Math.PI)%(2*Math.PI),u={x:n+t*Math.cos(l),y:e+t*Math.sin(l)};return Ed(u.x,u.y,s,a)<=o/2}function Nd(n,e,t,i,r,o,s){var a=Math.min(n,t),l=Math.max(n,t),u=Math.min(e,i),h=Math.max(e,i),p=r/2;return o>=a-p&&o<=l+p&&s>=u-p&&s<=h+p&&function h3(n,e,t,i,r,o){var s=[t-n,i-e];if(function Ky(n,e){return n[0]===e[0]&&n[1]===e[1]}(s,[0,0]))return Math.sqrt((r-n)*(r-n)+(o-e)*(o-e));var a=[-s[1],s[0]];return function XE(n,e){var t=e[0],i=e[1],r=t*t+i*i;r>0&&(r=1/Math.sqrt(r)),n[0]=e[0]*r,n[1]=e[1]*r}(a,a),Math.abs(function YE(n,e){return n[0]*e[0]+n[1]*e[1]}([r-n,o-e],a))}(n,e,t,i,o,s)<=r/2}function V2(n,e,t,i,r){var o=n.length;if(o<2)return!1;for(var s=0;s<o-1;s++)if(Nd(n[s][0],n[s][1],n[s+1][0],n[s+1][1],e,t,i))return!0;if(r){var p=n[0],v=n[o-1];if(Nd(p[0],p[1],v[0],v[1],e,t,i))return!0}return!1}qA.tag="CanvasPicker";var jF=1e-6;function B_(n){return Math.abs(n)<jF?0:n<0?-1:1}function tk(n,e,t){return(t[0]-n[0])*(e[1]-n[1])==(e[0]-n[0])*(t[1]-n[1])&&Math.min(n[0],e[0])<=t[0]&&t[0]<=Math.max(n[0],e[0])&&Math.min(n[1],e[1])<=t[1]&&t[1]<=Math.max(n[1],e[1])}function ek(n,e,t){var i=!1,r=n.length;if(r<=2)return!1;for(var o=0;o<r;o++){var s=n[o],a=n[(o+1)%r];if(tk(s,a,[e,t]))return!0;B_(s[1]-t)>0!=B_(a[1]-t)>0&&B_(e-(t-s[1])*(s[0]-a[0])/(s[1]-a[1])-s[0])<0&&(i=!i)}return i}function nk(n,e,t){for(var i=!1,r=0;r<n.length&&!(i=ek(n[r],e,t));r++);return i}function ik(n,e,t){var i=n.parsedStyle,r=i.x1,o=i.y1,s=i.x2,a=i.y2,l=i.lineWidth,u=void 0===l?1:l,h=i.increasedLineWidthForHitTesting,p=void 0===h?0:h,v=i.pointerEvents;return!(!Ui(kh(void 0===v?"auto":v,i.fill,i.stroke),2)[1]&&!t||!u)&&Nd(r,o,s,a,u+p,e.x,e.y)}function rk(n,e,t,i,r,o){var s=n.parsedStyle,a=s.lineWidth,l=void 0===a?1:a,u=s.increasedLineWidthForHitTesting,h=void 0===u?0:u,p=s.stroke,v=s.fill,y=s.d,b=s.pointerEvents,w=y.segments,S=y.hasArc,C=y.polylines,D=y.polygons,T=Ui(kh(void 0===b?"auto":b,D?.length&&v,p),2),I=T[0],F=T[1],z=Jv(n),V=!1;return I||t?V=S?i(n,e):nk(D,e.x,e.y)||nk(C,e.x,e.y):((F||t)&&(V=function VF(n,e,t,i,r){for(var o=!1,s=e/2,a=0;a<n.length;a++){var l=n[a],u=l.currentPoint,h=l.params,p=l.prePoint,v=l.box;if(!v||ap(v.x-s,v.y-s,v.width+e,v.height+e,t,i))switch(l.command){case"L":case"Z":if(o=Nd(p[0],p[1],u[0],u[1],e,t,i))return!0;break;case"Q":if(o=Ww(p[0],p[1],h[1],h[2],h[3],h[4],t,i)<=e/2)return!0;break;case"C":if(o=wm(p[0],p[1],h[1],h[2],h[3],h[4],h[5],h[6],t,i,r)<=e/2)return!0;break;case"A":l.cubicParams||(l.cubicParams=wu(p[0],p[1],h[1],h[2],h[3],h[4],h[5],h[6],h[7],void 0));for(var E=l.cubicParams,w=p,S=0;S<E.length;S+=6){var C=wm(w[0],w[1],E[S],E[S+1],E[S+2],E[S+3],E[S+4],E[S+5],t,i,r);if(w=[E[S+4],E[S+5]],o=C<=e/2)return!0}}}return o}(w,l+h,e.x,e.y,z)),V)}function ok(n,e,t){var i=n.parsedStyle,s=i.lineWidth,a=void 0===s?1:s,l=i.increasedLineWidthForHitTesting,u=void 0===l?0:l,h=i.points,p=i.pointerEvents,b=Ui(kh(void 0===p?"auto":p,i.fill,i.stroke),2),E=b[0],S=!1;return(b[1]||t)&&(S=V2(h.points,a+u,e.x,e.y,!0)),!S&&(E||t)&&(S=ek(h.points,e.x,e.y)),S}function sk(n,e,t){var i=n.parsedStyle,r=i.lineWidth,o=void 0===r?1:r,s=i.increasedLineWidthForHitTesting,a=void 0===s?0:s,l=i.points,u=i.pointerEvents;return!(!Ui(kh(void 0===u?"auto":u,i.fill,i.stroke),2)[1]&&!t||!o)&&V2(l.points,o+a,e.x,e.y,!1)}function ak(n,e,t,i,r){var o=n.parsedStyle,s=o.radius,u=o.lineWidth,h=void 0===u?1:u,p=o.increasedLineWidthForHitTesting,v=void 0===p?0:p,y=o.x,b=void 0===y?0:y,E=o.y,w=void 0===E?0:E,S=o.width,C=o.height,D=o.pointerEvents,I=Ui(kh(void 0===D?"auto":D,o.fill,o.stroke),2),F=I[0],z=I[1],K=h+v;if(s&&s.some(function(at){return 0!==at})){var Y=!1;return(z||t)&&(Y=function zF(n,e,t,i,r,o,s,a){var l=Ui(r,4),u=l[0],h=l[1],p=l[2],v=l[3];return Nd(n+u,e,n+t-h,e,o,s,a)||Nd(n+t,e+h,n+t,e+i-p,o,s,a)||Nd(n+t-p,e+i,n+v,e+i,o,s,a)||Nd(n,e+i-v,n,e+u,o,s,a)||F_(n+t-h,e+h,h,Math,Math,o,s,a)||F_(n+t-p,e+i-p,p,0,Math,o,s,a)||F_(n+v,e+i-v,v,Math,Math,o,s,a)||F_(n+u,e+u,u,Math,Math,o,s,a)}(b,w,S,C,s.map(function(at){return Mo(at,0,Math.min(Math.abs(S)/2,Math.abs(C)/2))}),K,e.x,e.y)),!Y&&(F||t)&&(Y=i(n,e)),Y}var Q=K/2;return F&&z||t?ap(b-Q,w-Q,S+Q,C+Q,e.x,e.y):F?ap(b,w,S,C,e.x,e.y):!!z&&function BF(n,e,t,i,r,o,s){var a=r/2;return ap(n-a,e-a,t,r,o,s)||ap(n+t-a,e-a,r,i,o,s)||ap(n+a,e+i-a,t,r,o,s)||ap(n-a,e+a,r,i,o,s)}(b,w,S,C,K,e.x,e.y)}function UF(n,e,t,i,r,o){var s=n.parsedStyle,a=s.pointerEvents,u=s.x,h=void 0===u?0:u,p=s.y,v=void 0===p?0:p,y=s.width,b=s.height;if("non-transparent-pixel"===(void 0===a?"auto":a)){var E=r.config.offscreenCanvas,w=o.offscreenCanvasCreator.getOrCreateCanvas(E),S=o.offscreenCanvasCreator.getOrCreateContext(E,{willReadFrequently:!0});return w.width=y,w.height=b,r.defaultStyleRendererFactory[qe.IMAGE].render(S,nr(nr({},n.parsedStyle),{},{x:0,y:0}),n,void 0,void 0,void 0),S.getImageData(e.x-h,e.y-v,1,1).data.every(function(D){return 0!==D})}return!0}function i7(n,e,t,i){var r=n.getGeometryBounds();return e.x>=r.min[0]&&e.y>=r.min[1]&&e.x<=r.max[0]&&e.y<=r.max[1]}var z2=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="canvas-picker",t}return zi(e,n),fn(e,[{key:"init",value:function(){var t,i=(zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(t={},qe.CIRCLE,JA),qe.ELLIPSE,n7),qe.RECT,ak),qe.LINE,ik),qe.POLYLINE,sk),qe.POLYGON,ok),qe.PATH,rk),qe.TEXT,i7),qe.GROUP,null),qe.IMAGE,UF),zn(zn(t,qe.HTML,null),qe.MESH,null));this.context.pointInPathPickerFactory=i,this.addRenderingPlugin(new qA)}},{key:"destroy",value:function(){delete this.context.pointInPathPickerFactory,this.removeAllRenderingPlugins()}}])}(il);const r7=Object.freeze(Object.defineProperty({__proto__:null,Plugin:z2},Symbol.toStringTag,{value:"Module"}));function Uc(n,e){if(!{}.hasOwnProperty.call(n,e))throw new TypeError("attempted to use private field on non-instance");return n}var o7=0;function lk(n){return"__private_"+o7+++"_"+n}var _s=lk("cacheStore"),s7=function(){return fn(function n(){un(this,n),Object.defineProperty(this,_s,{writable:!0,value:new Map})},[{key:"has",value:function(e){return Uc(this,_s)[_s].has(e)}},{key:"put",value:function(e,t,i){return!Uc(this,_s)[_s].has(e)&&(Uc(this,_s)[_s].set(e,{value:t,counter:new Set([i])}),!0)}},{key:"get",value:function(e,t){var i=Uc(this,_s)[_s].get(e);return i?(i.counter.add(t),i.value):null}},{key:"update",value:function(e,t,i){var r=Uc(this,_s)[_s].get(e);return!!r&&(r.value=nr(nr({},r.value),t),r.counter.add(i),!0)}},{key:"release",value:function(e,t){var i=Uc(this,_s)[_s].get(e);return!!i&&(i.counter.delete(t),i.counter.size<=0&&Uc(this,_s)[_s].delete(e),!0)}},{key:"releaseRef",value:function(e){var t=this;Uc(this,_s)[_s].keys().forEach(function(i){t.release(i,e)})}},{key:"getSize",value:function(){return Uc(this,_s)[_s].size}},{key:"clear",value:function(){Uc(this,_s)[_s].clear()}}])}(),ck=[],uk=[],j_=function(){function n(){un(this,n)}return fn(n,null,[{key:"stop",value:function(){n.rafId&&((arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.api).cancelAnimationFrame(n.rafId),n.rafId=null)}},{key:"executeTask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.api;ck.length<=0&&uk.length<=0||(uk.forEach(function(t){return t()}),uk=ck.splice(0,n.TASK_NUM_PER_FRAME),n.rafId=e.requestAnimationFrame(function(){n.executeTask(e)}))}},{key:"sliceImage",value:function(e,t,i){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.api,s=e.naturalWidth||e.width,a=e.naturalHeight||e.height,l=t-r,u=i-r,h=Math.ceil(s/l),p=Math.ceil(a/u),v={tileSize:[t,i],gridSize:[p,h],tiles:Array(p).fill(null).map(function(){return Array(h).fill(null)})},y=function(E){for(var w=function(C){ck.push(function(){var D=C*l,k=E*u,T=[Math.min(t,s-D),Math.min(i,a-k)],I=T[0],F=T[1],z=o.createCanvas();z.width=t,z.height=i,z.getContext("2d").drawImage(e,D,k,I,F,0,0,I,F),v.tiles[E][C]={x:D,y:k,tileX:C,tileY:E,data:z}})},S=0;S<h;S++)w(S)},b=0;b<p;b++)y(b);return n.stop(),n.executeTask(),v}}])}();j_.TASK_NUM_PER_FRAME=10;var Gc=new s7,U2=function(){return fn(function n(e,t){un(this,n),this.imageCache={},this.gradientCache={},this.patternCache={},this.context=e,this.runtime=t},[{key:"getImageSync",value:function(e,t,i){var r=Li(e)?e:e.src;if(Gc.has(r)){var o=Gc.get(r,t);if(o.img.complete)return i?.(o),o}return this.getOrCreateImage(e,t).then(function(s){i?.(s)}).catch(function(){}),null}},{key:"getOrCreateImage",value:function(e,t){var i=Li(e)?e:e.src;if(!Li(e)&&!Gc.has(i)){var r={img:e,size:[e.naturalWidth||e.width,e.naturalHeight||e.height],tileSize:L0(e)};Gc.put(i,r,t)}if(Gc.has(i)){var o=Gc.get(i,t);return o.img.complete?Promise.resolve(o):new Promise(function(a,l){o.img.addEventListener("load",function(){o.tileSize=L0(o.img),a(o)}),o.img.addEventListener("error",function(u){l(u)})})}var s=this.context.config.createImage;return new Promise(function(a,l){var u;if(s?u=s(i):Tu&&(u=new window.Image),u){var h={img:u,size:[0,0],tileSize:L0(u)};Gc.put(i,h,t),u.onload=function(){h.size=[u.naturalWidth||u.width,u.naturalHeight||u.height],h.tileSize=L0(h.img),a(h)},u.onerror=function(p){l(p)},u.crossOrigin="Anonymous",u.src=i}})}},{key:"createDownSampledImage",value:(e=wd(cs().mark(function i(r,o){var s,a,l,u,h,p,v,y,b,E,w,S,C,D;return cs().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,this.getOrCreateImage(r,o);case 2:if(!(typeof(s=k.sent).downSamplingRate<"u")){k.next=5;break}return k.abrupt("return",s);case 5:if(h=void 0===(u=(l="boolean"==typeof(a=this.context.config.enableLargeImageOptimization)?{}:a).maxDownSampledImageSize)?2048:u,v=void 0===(p=l.downSamplingRateThreshold)?.5:p,y=this.runtime.globalThis.createImageBitmap,b=Ui(s.size,2),E=b[0],w=b[1],S=s.img,C=Math.min((h+h)/(E+w),Math.max(.01,Math.min(v,.5))),D=nr(nr({},s),{},{downSamplingRate:C}),Gc.update(s.img.src,D,o),!y){k.next=25;break}return k.prev=14,k.next=17,y(s.img,{resizeWidth:E*C,resizeHeight:w*C});case 17:S=k.sent,k.next=23;break;case 20:k.prev=20,k.t0=k.catch(14),C=1;case 23:k.next=26;break;case 25:C=1;case 26:return D=nr(nr({},this.getImageSync(r,o)),{},{downSampled:S,downSamplingRate:C}),Gc.update(s.img.src,D,o),k.abrupt("return",D);case 29:case"end":return k.stop()}},i,this,[[14,20]])})),function t(i,r){return e.apply(this,arguments)})},{key:"createImageTiles",value:function(){var e=wd(cs().mark(function i(r,o,s){var a,l,p;return cs().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this.getOrCreateImage(r,s);case 2:return a=v.sent,j_.api={requestAnimationFrame:(l=s.ownerDocument.defaultView).requestAnimationFrame,cancelAnimationFrame:l.cancelAnimationFrame,createCanvas:function(){return s0.createCanvas()}},p=nr(nr({},a),j_.sliceImage(a.img,a.tileSize[0],a.tileSize[0])),Gc.update(a.img.src,p,s),v.abrupt("return",p);case 8:case"end":return v.stop()}},i,this)}));return function t(i,r,o){return e.apply(this,arguments)}}()},{key:"releaseImage",value:function(e,t){Gc.release(Li(e)?e:e.src,t)}},{key:"releaseImageRef",value:function(e){Gc.releaseRef(e)}},{key:"getOrCreatePatternSync",value:function(e,t,i,r,o,s,a){var l=this.generatePatternKey(t);if(l&&this.patternCache[l])return this.patternCache[l];var v,u=t.image,h=t.repetition,p=t.transform,y=!1;if(Li(u)){var b=this.getImageSync(u,e,a);v=b?.img}else r?(v=r,y=!0):v=u;var w,E=v&&i.createPattern(v,h);return E&&(w=p?Pm(Ex(p),new ra({})):vu(ji()),y&&eD(w,w,[1/o,1/o,1]),E.setTransform({a:w[0],b:w[1],c:w[4],d:w[5],e:w[12]+s[0],f:w[13]+s[1]})),l&&E&&(this.patternCache[l]=E),E}},{key:"getOrCreateGradient",value:function(e,t){var i=this.generateGradientKey(e),r=e.type,o=e.steps,s=e.min,a=e.width,l=e.height,h=e.cx,p=e.cy,v=e.size;if(this.gradientCache[i])return this.gradientCache[i];var y=null;if(r===Dl.LinearGradient){var b=lx(s,a,l,e.angle);y=t.createLinearGradient(b.x1,b.y1,b.x2,b.y2)}else if(r===Dl.RadialGradient){var D=Db(s,a,l,h,p,v),k=D.x,T=D.y;y=t.createRadialGradient(k,T,0,k,T,D.r)}return y&&(o.forEach(function(F){var K,z=F.offset;z.unit===Kn.kPercentage&&(null===(K=y)||void 0===K||K.addColorStop(z.value/100,F.color.toString()))}),this.gradientCache[i]=y),this.gradientCache[i]}},{key:"generateGradientKey",value:function(e){var i=e.min,r=e.width,o=e.height,s=e.steps,a=e.angle,l=e.cx,u=e.cy,h=e.size;return"gradient-".concat(e.type,"-").concat(a?.toString()||0,"-").concat(l?.toString()||0,"-").concat(u?.toString()||0,"-").concat(h?.toString()||0,"-").concat(i[0],"-").concat(i[1],"-").concat(r,"-").concat(o,"-").concat(s.map(function(p){var y=p.color;return"".concat(p.offset).concat(y)}).join("-"))}},{key:"generatePatternKey",value:function(e){var t=e.image,i=e.repetition;return Li(t)?"pattern-".concat(t,"-").concat(i):"rect"===t.nodeName?"pattern-".concat(t.entity,"-").concat(i):void 0}}]);var e}();function L0(n){if(!n.complete)return[0,0];var e=n.naturalWidth||n.width,t=n.naturalHeight||n.height,i=256;return[256,512].forEach(function(r){Math.ceil(t/r)*Math.ceil(e/r)<1e3&&(i=r)}),[i,i]}U2.isSupportTile=!!s0.createCanvas();var dk=function(){function n(){un(this,n)}return fn(n,[{key:"apply",value:function(e){var t=e.renderingService,r=e.imagePool,o=e.renderingContext.root.ownerDocument.defaultView,s=function(h,p,v){var y=h.parsedStyle,b=y.width,E=y.height;b&&!E?h.setAttribute("height",v/p*b):!b&&E&&h.setAttribute("width",p/v*E)},a=function(h){var p=h.target,y=p.attributes;if(p.nodeName===qe.IMAGE){var b=y.src,E=y.keepAspectRatio;Li(b)&&r.getImageSync(b,p,function(w){var S=w.img;E&&s(p,S.width,S.height),p.renderable.dirty=!0,t.dirtify()})}},l=function(h){var p=h.target,y=h.prevValue,b=h.newValue;p.nodeName!==qe.IMAGE||"src"!==h.attrName||(y!==b&&r.releaseImage(y,p),Li(b)&&r.getOrCreateImage(b,p).then(function(E){var w=E.img;p.attributes.keepAspectRatio&&s(p,w.width,w.height),p.renderable.dirty=!0,t.dirtify()}).catch(function(){}))};function u(h){var p=h.target;p.nodeName===qe.IMAGE&&r.releaseImageRef(p)}t.hooks.init.tap(n.tag,function(){o.addEventListener(Ci.MOUNTED,a),o.addEventListener(Ci.ATTR_MODIFIED,l),o.addEventListener(Ci.DESTROY,u)}),t.hooks.destroy.tap(n.tag,function(){o.removeEventListener(Ci.MOUNTED,a),o.removeEventListener(Ci.ATTR_MODIFIED,l),o.removeEventListener(Ci.DESTROY,u)})}}])}();dk.tag="LoadImage";var dg=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="image-loader",t}return zi(e,n),fn(e,[{key:"init",value:function(t){this.context.imagePool=new U2(this.context,t),this.addRenderingPlugin(new dk)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(il);const V_=Object.freeze(Object.defineProperty({__proto__:null,ImagePool:U2,Plugin:dg},Symbol.toStringTag,{value:"Module"}));var hk=function(){function n(e){un(this,n),this.removedRBushNodeAABBs=[],this.renderQueue=[],this.restoreStack=[],this.clearFullScreenLastFrame=!1,this.clearFullScreen=!1,this.vpMatrix=ji(),this.dprMatrix=ji(),this.tmpMat4=ji(),this.vec3a=hr(),this.vec3b=hr(),this.vec3c=hr(),this.vec3d=hr(),this.canvasRendererPluginOptions=e}return fn(n,[{key:"apply",value:function(e,t){var i=this;this.context=e;var r=e.config,o=e.camera,s=e.renderingService,a=e.renderingContext,u=e.pathGeneratorFactory;this.rBush=e.rBushRoot,this.pathGeneratorFactory=u;var h=e.contextService,p=a.root.ownerDocument.defaultView,v=function(E){var S=E.target.rBushNode;S.aabb&&i.removedRBushNodeAABBs.push(S.aabb)},y=function(E){var S=E.target.rBushNode;S.aabb&&i.removedRBushNodeAABBs.push(S.aabb)};s.hooks.init.tap(n.tag,function(){p.addEventListener(Ci.UNMOUNTED,v),p.addEventListener(Ci.CULLED,y);var E=h.getDPR(),w=r.width,S=r.height,C=h.getContext();i.clearRect(C,0,0,w*E,S*E,r.background)}),s.hooks.destroy.tap(n.tag,function(){p.removeEventListener(Ci.UNMOUNTED,v),p.removeEventListener(Ci.CULLED,y),i.renderQueue=[],i.removedRBushNodeAABBs=[],i.restoreStack=[]}),s.hooks.beginFrame.tap(n.tag,function(){var E,w=h.getContext(),S=h.getDPR(),C=r.width,D=r.height,k=i.canvasRendererPluginOptions,T=k.dirtyObjectNumThreshold,I=k.dirtyObjectRatioThreshold,F=s.getStats(),V=F.rendered,K=V/F.total;i.clearFullScreen=i.clearFullScreenLastFrame||!(null!==(E=p.context.renderingPlugins[1])&&void 0!==E&&E.isFirstTimeRenderingFinished)||s.disableDirtyRectangleRendering()||V>T&&K>I,w&&(w.resetTransform?w.resetTransform():w.setTransform(1,0,0,1,0,0),i.clearFullScreen&&i.clearRect(w,0,0,C*S,D*S,r.background))});var b=function(E,w){E.isVisible()&&!E.isCulled()&&i.renderDisplayObject(E,w,i.context,i.restoreStack,t),(E.sortable.sorted||E.childNodes).forEach(function(C){b(C,w)})};s.hooks.endFrame.tap(n.tag,function(){if(0!==a.root.childNodes.length){i.clearFullScreenLastFrame=!1;var E=h.getContext(),w=h.getDPR();if(gh(i.dprMatrix,[w,w,1]),ma(i.vpMatrix,i.dprMatrix,o.getOrthoMatrix()),i.clearFullScreen)b(a.root,E);else{var S=i.safeMergeAABB.apply(i,[i.mergeDirtyAABBs(i.renderQueue)].concat(pa(i.removedRBushNodeAABBs.map(function(ye){var ln=ye.minX,kn=ye.minY,oi=ye.maxX,Un=ye.maxY,fi=new No;return fi.setMinMax([ln,kn,0],[oi,Un,0]),fi}))));if(i.removedRBushNodeAABBs=[],No.isEmpty(S))return void(i.renderQueue=[]);var C=i.convertAABB2Rect(S),D=C.x,k=C.y,T=C.width,I=C.height,F=Ko(i.vec3a,[D,k,0],i.vpMatrix),z=Ko(i.vec3b,[D+T,k,0],i.vpMatrix),V=Ko(i.vec3c,[D,k+I,0],i.vpMatrix),K=Ko(i.vec3d,[D+T,k+I,0],i.vpMatrix),Y=Math.min(F[0],z[0],K[0],V[0]),Q=Math.min(F[1],z[1],K[1],V[1]),at=Math.max(F[0],z[0],K[0],V[0]),It=Math.max(F[1],z[1],K[1],V[1]),Pt=Math.floor(Y),ct=Math.floor(Q),ot=Math.ceil(at-Y),rt=Math.ceil(It-Q);E.save(),i.clearRect(E,Pt,ct,ot,rt,r.background),E.beginPath(),E.rect(Pt,ct,ot,rt),E.clip(),E.setTransform(i.vpMatrix[0],i.vpMatrix[1],i.vpMatrix[4],i.vpMatrix[5],i.vpMatrix[12],i.vpMatrix[13]),r.renderer.getConfig().enableDirtyRectangleRenderingDebug&&p.dispatchEvent(new Go(Vs.DIRTY_RECTANGLE,{dirtyRect:{x:Pt,y:ct,width:ot,height:rt}})),i.searchDirtyObjects(S).sort(function(ye,ln){return ye.sortable.renderOrder-ln.sortable.renderOrder}).forEach(function(ye){ye&&ye.isVisible()&&!ye.isCulled()&&i.renderDisplayObject(ye,E,i.context,i.restoreStack,t)}),E.restore(),i.renderQueue.forEach(function(ye){i.saveDirtyAABB(ye)}),i.renderQueue=[]}i.restoreStack.forEach(function(){E.restore()}),i.restoreStack=[]}else i.clearFullScreenLastFrame=!0}),s.hooks.render.tap(n.tag,function(E){i.clearFullScreen||i.renderQueue.push(E)})}},{key:"clearRect",value:function(e,t,i,r,o,s){e.clearRect(t,i,r,o),s&&(e.fillStyle=s,e.fillRect(t,i,r,o))}},{key:"renderDisplayObject",value:function(e,t,i,r,o){var s=e.nodeName,a=r[r.length-1];a&&!(e.compareDocumentPosition(a)&So.DOCUMENT_POSITION_CONTAINS)&&(t.restore(),r.pop());var l=this.context.styleRendererFactory[s],u=this.pathGeneratorFactory[s],p=e.parsedStyle.clipPath;if(p){this.applyWorldTransform(t,p);var v=this.pathGeneratorFactory[p.nodeName];v&&(t.save(),r.push(e),t.beginPath(),v(t,p.parsedStyle),t.closePath(),t.clip())}l&&(this.applyWorldTransform(t,e),t.save(),this.applyAttributesToContext(t,e)),u&&(t.beginPath(),u(t,e.parsedStyle),e.nodeName!==qe.LINE&&e.nodeName!==qe.PATH&&e.nodeName!==qe.POLYLINE&&t.closePath()),l&&(l.render(t,e.parsedStyle,e,i,this,o),t.restore()),e.renderable.dirty=!1}},{key:"convertAABB2Rect",value:function(e){var t=e.getMin(),i=e.getMax(),r=Math.floor(t[0]),o=Math.floor(t[1]);return{x:r,y:o,width:Math.ceil(i[0])-r,height:Math.ceil(i[1])-o}}},{key:"mergeDirtyAABBs",value:function(e){var t=new No;return e.forEach(function(i){var r=i.getRenderBounds();t.add(r);var o=i.renderable.dirtyRenderBounds;o&&t.add(o)}),t}},{key:"searchDirtyObjects",value:function(e){var i=Ui(e.getMin(),2),r=i[0],o=i[1],a=Ui(e.getMax(),2);return this.rBush.search({minX:r,minY:o,maxX:a[0],maxY:a[1]}).map(function(p){return p.displayObject})}},{key:"saveDirtyAABB",value:function(e){var t=e.renderable;t.dirtyRenderBounds||(t.dirtyRenderBounds=new No);var i=e.getRenderBounds();i&&t.dirtyRenderBounds.update(i.center,i.halfExtents)}},{key:"applyAttributesToContext",value:function(e,t){var i=t.parsedStyle,r=i.stroke,o=i.fill,s=i.opacity,a=i.lineDash,l=i.lineDashOffset;a&&e.setLineDash(a),Ri(l)||(e.lineDashOffset=l),Ri(s)||(e.globalAlpha*=s),!Ri(r)&&!Array.isArray(r)&&!r.isNone&&(e.strokeStyle=t.attributes.stroke),!Ri(o)&&!Array.isArray(o)&&!o.isNone&&(e.fillStyle=t.attributes.fill)}},{key:"applyWorldTransform",value:function(e,t,i){i?(ph(this.tmpMat4,t.getLocalTransform()),ma(this.tmpMat4,i,this.tmpMat4),ma(this.tmpMat4,this.vpMatrix,this.tmpMat4)):(ph(this.tmpMat4,t.getWorldTransform()),ma(this.tmpMat4,this.vpMatrix,this.tmpMat4)),e.setTransform(this.tmpMat4[0],this.tmpMat4[1],this.tmpMat4[4],this.tmpMat4[5],this.tmpMat4[12],this.tmpMat4[13])}},{key:"safeMergeAABB",value:function(){for(var e=new No,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach(function(o){e.add(o)}),e}}])}();hk.tag="CanvasRenderer";var Zh=function(){return fn(function n(e){un(this,n),this.imagePool=e},[{key:"render",value:function(e,t,i,r,o,s){var a=t.fill,l=t.fillRule,u=t.opacity,h=void 0===u?1:u,p=t.fillOpacity,v=void 0===p?1:p,y=t.stroke,b=t.strokeOpacity,E=void 0===b?1:b,w=t.lineWidth,S=void 0===w?1:w,C=t.lineCap,D=t.lineJoin,k=t.shadowType,T=t.shadowColor,I=t.shadowBlur,F=t.filter,z=t.miterLimit,V=a&&!a.isNone,K=y&&!y.isNone&&S>0,Y=0===a?.alpha,Q=!(!F||!F.length),at=!Ri(T)&&I>0,It=i.nodeName,Pt="inner"===k,ct=K&&at&&(It===qe.PATH||It===qe.LINE||It===qe.POLYLINE||Y||Pt);V&&(e.globalAlpha=h*v,ct||z_(i,e,at),mk(e,i,a,l,r,o,s,this.imagePool),ct||this.clearShadowAndFilter(e,Q,at)),K&&(e.globalAlpha=h*E,e.lineWidth=S,Ri(z)||(e.miterLimit=z),Ri(C)||(e.lineCap=C),Ri(D)||(e.lineJoin=D),ct&&(Pt&&(e.globalCompositeOperation="source-atop"),z_(i,e,!0),Pt&&(G2(e,i,y,r,o,s,this.imagePool),e.globalCompositeOperation="source-over",this.clearShadowAndFilter(e,Q,!0))),G2(e,i,y,r,o,s,this.imagePool))}},{key:"clearShadowAndFilter",value:function(e,t,i){if(i&&(e.shadowColor="transparent",e.shadowBlur=0),t){var r=e.filter;!Ri(r)&&r.indexOf("drop-shadow")>-1&&(e.filter=r.replace(/drop-shadow\([^)]*\)/,"").trim()||"none")}}}])}();function z_(n,e,t){var i=n.parsedStyle,r=i.filter,o=i.shadowColor,s=i.shadowBlur,a=i.shadowOffsetX,l=i.shadowOffsetY;r&&r.length&&(e.filter=n.style.filter),t&&(e.shadowColor=o.toString(),e.shadowBlur=s||0,e.shadowOffsetX=a||0,e.shadowOffsetY=l||0)}function fk(n,e,t,i,r,o,s){var a,l;if("rect"===n.image.nodeName){var u=n.image.parsedStyle,h=u.width,p=u.height;l=i.contextService.getDPR();var v=i.config.offscreenCanvas;(a=o.offscreenCanvasCreator.getOrCreateCanvas(v)).width=h*l,a.height=p*l;var y=o.offscreenCanvasCreator.getOrCreateContext(v),b=[];n.image.forEach(function(w){r.renderDisplayObject(w,y,i,b,o)}),b.forEach(function(){y.restore()})}return s.getOrCreatePatternSync(e,n,t,a,l,e.getGeometryBounds().min,function(){e.renderable.dirty=!0,i.renderingService.dirtify()})}function pk(n,e,t,i){var r;if(n.type===Dl.LinearGradient||n.type===Dl.RadialGradient){var o=e.getGeometryBounds(),s=o&&2*o.halfExtents[0]||1,a=o&&2*o.halfExtents[1]||1,l=o&&o.min||[0,0];r=i.getOrCreateGradient(nr(nr({type:n.type},n.value),{},{min:l,width:s,height:a}),t)}return r}function mk(n,e,t,i,r,o,s,a){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];Array.isArray(t)?t.forEach(function(u){n.fillStyle=pk(u,e,n,a),l||(i?n.fill(i):n.fill())}):(Ou(t)&&(n.fillStyle=fk(t,e,n,r,o,s,a)),l||(i?n.fill(i):n.fill()))}function G2(n,e,t,i,r,o,s){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Array.isArray(t)?t.forEach(function(l){n.strokeStyle=pk(l,e,n,s),a||n.stroke()}):(Ou(t)&&(n.strokeStyle=fk(t,e,n,i,r,o,s)),a||n.stroke())}var H2=lk("renderDownSampled"),$2=lk("renderTile"),vk=function(){function n(e){un(this,n),Object.defineProperty(this,$2,{value:$F}),Object.defineProperty(this,H2,{value:HF}),this.imagePool=e}return fn(n,[{key:"render",value:function(e,t,i){var r=t.x,o=void 0===r?0:r,s=t.y,a=void 0===s?0:s,l=t.width,u=t.height,h=t.src,p=t.shadowColor,v=t.shadowBlur,y=this.imagePool.getImageSync(h,i),b=y?.img,E=l,w=u;if(b){E||(E=b.width),w||(w=b.height),z_(i,e,!Ri(p)&&v>0);try{var C=i.ownerDocument.defaultView.getContextService().getDomElement(),D=C.width,k=C.height,T=e.getTransform(),at=function GF(n,e){var t=Ko(hr(),[n[0],n[1],0],e),i=Ko(hr(),[n[0]+n[2],n[1],0],e),r=Ko(hr(),[n[0],n[1]+n[3],0],e),o=Ko(hr(),[n[0]+n[2],n[1]+n[3],0],e);return[Math.min(t[0],i[0],r[0],o[0]),Math.min(t[1],i[1],r[1],o[1]),Math.max(t[0],i[0],r[0],o[0])-Math.min(t[0],i[0],r[0],o[0]),Math.max(t[1],i[1],r[1],o[1])-Math.min(t[1],i[1],r[1],o[1])]}([o,a,E,w],JS(T.a,T.c,0,0,T.b,T.d,0,0,0,0,1,0,T.e,T.f,0,1)),It=function gk(n,e){var t=Ui(n,4),i=t[0],r=t[1],o=t[2],s=t[3],a=Ui(e,4),l=a[0],u=a[1],h=a[2],p=a[3],v=Math.max(i,l),y=Math.max(r,u),b=Math.min(i+o,l+h),E=Math.min(r+s,u+p);return b<=v||E<=y?null:[v,y,b-v,E-y]}([0,0,D,k],at);if(!It)return;if(!i.ownerDocument.defaultView.getConfig().enableLargeImageOptimization)return void n.renderFull(e,t,i,{image:b,drawRect:[o,a,E,w]});if(at[2]/y.size[0]<(y.downSamplingRate||.5))return void Uc(this,H2)[H2](e,t,i,{src:h,imageCache:y,drawRect:[o,a,E,w]});if(!U2.isSupportTile)return void n.renderFull(e,t,i,{image:b,drawRect:[o,a,E,w]});Uc(this,$2)[$2](e,t,i,{src:h,imageCache:y,imageRect:at,drawRect:It})}catch{}}}}],[{key:"renderFull",value:function(e,t,i,r){e.drawImage(r.image,Math.floor(r.drawRect[0]),Math.floor(r.drawRect[1]),Math.ceil(r.drawRect[2]),Math.ceil(r.drawRect[3]))}}])}();function HF(n,e,t,i){var r=i.src,o=i.imageCache;o.downSampled?n.drawImage(o.downSampled,Math.floor(i.drawRect[0]),Math.floor(i.drawRect[1]),Math.ceil(i.drawRect[2]),Math.ceil(i.drawRect[3])):this.imagePool.createDownSampledImage(r,t).then(function(s){t.renderable.dirty=!0,t.ownerDocument.defaultView.context.renderingService.dirtify()}).catch(function(){})}function $F(n,e,t,i){var r=i.src,o=i.imageCache,s=i.imageRect,a=i.drawRect,l=o.size,u=n.getTransform(),h=u.a,p=u.b,v=u.c,y=u.d,b=u.e,E=u.f;if(n.resetTransform(),null!=o&&o.gridSize){for(var w=[l[0]/s[2],l[1]/s[3]],S=[o.tileSize[0]/w[0],o.tileSize[1]/w[1]],C=[Math.floor((a[0]-s[0])/S[0]),Math.ceil((a[0]+a[2]-s[0])/S[0])],D=C[0],k=C[1],T=[Math.floor((a[1]-s[1])/S[1]),Math.ceil((a[1]+a[3]-s[1])/S[1])],F=T[1],z=T[0];z<=F;z++)for(var V=D;V<=k;V++){var K=o.tiles[z][V];if(K){var Y=[Math.floor(s[0]+K.tileX*S[0]),Math.floor(s[1]+K.tileY*S[1]),Math.ceil(S[0]),Math.ceil(S[1])];n.drawImage(K.data,Y[0],Y[1],Y[2],Y[3])}}n.setTransform(h,p,v,y,b,E)}else this.imagePool.createImageTiles(r,[],t).then(function(){t.renderable.dirty=!0,t.ownerDocument.defaultView.context.renderingService.dirtify()}).catch(function(){})}var yk=function(){return fn(function n(e){un(this,n),this.imagePool=e},[{key:"render",value:function(e,t,i,r,o,s){i.getBounds();var a=t.lineWidth,l=void 0===a?1:a,u=t.textAlign,h=void 0===u?"start":u,p=t.textBaseline,v=void 0===p?"alphabetic":p,y=t.lineJoin,b=void 0===y?"miter":y,E=t.miterLimit,w=void 0===E?10:E,S=t.letterSpacing,C=void 0===S?0:S,D=t.stroke,k=t.fill,T=t.fillRule,I=t.fillOpacity,F=void 0===I?1:I,z=t.strokeOpacity,V=void 0===z?1:z,K=t.opacity,Y=void 0===K?1:K,Q=t.metrics,at=t.x,It=void 0===at?0:at,Pt=t.y,ct=void 0===Pt?0:Pt,ot=t.dx,rt=t.dy,Nt=t.shadowColor,ie=t.shadowBlur,ye=Q.lines,ln=Q.height,kn=Q.lineHeight,oi=Q.lineMetrics;e.font=Q.font,e.lineWidth=l,e.textAlign="middle"===h?"center":h;var Un=v;"alphabetic"===Un&&(Un="bottom"),e.lineJoin=b,Ri(w)||(e.miterLimit=w);var fi=ct;"middle"===v?fi+=-ln/2-kn/2:"bottom"===v||"alphabetic"===v||"ideographic"===v?fi+=-ln:("top"===v||"hanging"===v)&&(fi+=-kn);var rs=It+(ot||0);fi+=rt||0,1===ye.length&&("bottom"===Un?(Un="middle",fi-=.5*ln):"top"===Un&&(Un="middle",fi+=.5*ln)),e.textBaseline=Un,z_(i,e,!Ri(Nt)&&ie>0);for(var Ho=0;Ho<ye.length;Ho++){var bc=l/2+rs;fi+=kn,!Ri(D)&&!D.isNone&&l&&this.drawLetterSpacing(e,i,ye[Ho],oi[Ho],h,bc,fi,C,k,T,F,D,V,Y,!0,r,o,s),Ri(k)||this.drawLetterSpacing(e,i,ye[Ho],oi[Ho],h,bc,fi,C,k,T,F,D,V,Y,!1,r,o,s)}}},{key:"drawLetterSpacing",value:function(e,t,i,r,o,s,a,l,u,h,p,v,y,b,E,w,S,C){if(0!==l){var D=e.textAlign;e.textAlign="left";var k=s;"center"===o||"middle"===o?k=s-r.width/2:("right"===o||"end"===o)&&(k=s-r.width);for(var T=Array.from(i),I=e.measureText(i).width,F=0,z=0;z<T.length;++z){var V=T[z];E?this.strokeText(e,t,V,k,a,v,y,w,S,C):this.fillText(e,t,V,k,a,u,h,p,b,w,S,C),k+=I-(F=e.measureText(i.substring(z+1)).width)+l,I=F}e.textAlign=D}else E?this.strokeText(e,t,i,s,a,v,y,w,S,C):this.fillText(e,t,i,s,a,u,h,p,b,w,S,C)}},{key:"fillText",value:function(e,t,i,r,o,s,a,l,u,h,p,v){mk(e,t,s,a,h,p,v,this.imagePool,!0);var y,b=!Ri(l)&&1!==l;b&&(y=e.globalAlpha,e.globalAlpha=l*u),e.fillText(i,r,o),b&&(e.globalAlpha=y)}},{key:"strokeText",value:function(e,t,i,r,o,s,a,l,u,h){G2(e,t,s,l,u,h,this.imagePool,!0);var p,v=!Ri(a)&&1!==a;v&&(p=e.globalAlpha,e.globalAlpha=a),e.strokeText(i,r,o),v&&(e.globalAlpha=p)}}])}(),WF=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),KF=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),XF=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),YF=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),ZF=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),QF=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),bk=function(n){function e(){return un(this,e),Ei(this,e,arguments)}return zi(e,n),fn(e)}(Zh),U_=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),(t=Ei(this,e)).name="canvas-renderer",t.options=i,t}return zi(e,n),fn(e,[{key:"init",value:function(){var t,i=nr({dirtyObjectNumThreshold:500,dirtyObjectRatioThreshold:.8},this.options),r=this.context.imagePool,o=new Zh(r),s=(zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(t={},qe.CIRCLE,o),qe.ELLIPSE,o),qe.RECT,o),qe.IMAGE,new vk(r)),qe.TEXT,new yk(r)),qe.LINE,o),qe.POLYLINE,o),qe.POLYGON,o),qe.PATH,o),qe.GROUP,void 0),zn(zn(t,qe.HTML,void 0),qe.MESH,void 0));this.context.defaultStyleRendererFactory=s,this.context.styleRendererFactory=s,this.addRenderingPlugin(new hk(i))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultStyleRendererFactory,delete this.context.styleRendererFactory}}])}(il);const qF=Object.freeze(Object.defineProperty({__proto__:null,CircleRenderer:KF,EllipseRenderer:XF,ImageRenderer:vk,LineRenderer:YF,PathRenderer:bk,Plugin:U_,PolygonRenderer:QF,PolylineRenderer:ZF,RectRenderer:WF,TextRenderer:yk},Symbol.toStringTag,{value:"Module"}));var _k=function(){function n(){un(this,n)}return fn(n,[{key:"apply",value:function(e,t){var i=this,r=e.renderingService,o=e.renderingContext,s=e.config;this.context=e;var a=o.root.ownerDocument.defaultView,l=function(I){r.hooks.pointerMove.call(I)},u=function(I){r.hooks.pointerUp.call(I)},h=function(I){r.hooks.pointerDown.call(I)},p=function(I){r.hooks.pointerOver.call(I)},v=function(I){r.hooks.pointerOut.call(I)},y=function(I){r.hooks.pointerCancel.call(I)},b=function(I){r.hooks.pointerWheel.call(I)},E=function(I){r.hooks.click.call(I)};r.hooks.init.tap(n.tag,function(){var I=i.context.contextService.getDomElement();t.globalThis.navigator.msPointerEnabled?(I.style.msContentZooming="none",I.style.msTouchAction="none"):a.supportsPointerEvents&&(I.style.touchAction="none"),a.supportsPointerEvents?function(I){t.globalThis.document.addEventListener("pointermove",l,!0),I.addEventListener("pointerdown",h,!0),I.addEventListener("pointerleave",v,!0),I.addEventListener("pointerover",p,!0),t.globalThis.addEventListener("pointerup",u,!0),t.globalThis.addEventListener("pointercancel",y,!0)}(I):function(I){t.globalThis.document.addEventListener("mousemove",l,!0),I.addEventListener("mousedown",h,!0),I.addEventListener("mouseout",v,!0),I.addEventListener("mouseover",p,!0),t.globalThis.addEventListener("mouseup",u,!0)}(I),a.supportsTouchEvents&&function(I){I.addEventListener("touchstart",h,!0),I.addEventListener("touchend",u,!0),I.addEventListener("touchmove",l,!0),I.addEventListener("touchcancel",y,!0)}(I),s.useNativeClickEvent&&I.addEventListener("click",E,!0),I.addEventListener("wheel",b,{passive:!0,capture:!0})}),r.hooks.destroy.tap(n.tag,function(){var I=i.context.contextService.getDomElement();t.globalThis.navigator.msPointerEnabled?(I.style.msContentZooming="",I.style.msTouchAction=""):a.supportsPointerEvents&&(I.style.touchAction=""),a.supportsPointerEvents?function(I){t.globalThis.document.removeEventListener("pointermove",l,!0),I.removeEventListener("pointerdown",h,!0),I.removeEventListener("pointerleave",v,!0),I.removeEventListener("pointerover",p,!0),t.globalThis.removeEventListener("pointerup",u,!0),t.globalThis.removeEventListener("pointercancel",y,!0)}(I):function(I){t.globalThis.document.removeEventListener("mousemove",l,!0),I.removeEventListener("mousedown",h,!0),I.removeEventListener("mouseout",v,!0),I.removeEventListener("mouseover",p,!0),t.globalThis.removeEventListener("mouseup",u,!0)}(I),a.supportsTouchEvents&&function(I){I.removeEventListener("touchstart",h,!0),I.removeEventListener("touchend",u,!0),I.removeEventListener("touchmove",l,!0),I.removeEventListener("touchcancel",y,!0)}(I),s.useNativeClickEvent&&I.removeEventListener("click",E,!0),I.removeEventListener("wheel",b,!0)})}}])}();_k.tag="DOMInteraction";var G_=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="dom-interaction",t}return zi(e,n),fn(e,[{key:"init",value:function(){this.addRenderingPlugin(new _k)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(il);const JF=Object.freeze(Object.defineProperty({__proto__:null,Plugin:G_},Symbol.toStringTag,{value:"Module"}));var t4=function(){function n(){un(this,n),this.displayObjectHTMLElementMap=new WeakMap}return fn(n,[{key:"joinTransformMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0];return"matrix(".concat([e[0],e[1],e[4],e[5],e[12]+t[0],e[13]+t[1]].join(","),")")}},{key:"apply",value:function(e,t){var i=this,r=e.camera,o=e.renderingContext,s=e.renderingService;this.context=e;var a=o.root.ownerDocument.defaultView,l=a.context.eventService.nativeHTMLMap,u=function(E,w){w.style.transform=i.joinTransformMatrix(E.getWorldTransform(),E.getOrigin())},h=function(E){var w=E.target;if(w.nodeName===qe.HTML){i.$camera||(i.$camera=i.createCamera(r));var S=i.getOrCreateEl(w);i.$camera.appendChild(S),Object.keys(w.attributes).forEach(function(C){i.updateAttribute(C,w)}),u(w,S),l.set(S,w)}},p=function(E){var w=E.target;if(w.nodeName===qe.HTML&&i.$camera){var S=i.getOrCreateEl(w);S&&(S.remove(),l.delete(S))}},v=function(E){var w=E.target;w.nodeName===qe.HTML&&i.updateAttribute(E.attrName,w)},y=function(E){var w=E.target;(w.nodeName===qe.FRAGMENT?w.childNodes:[w]).forEach(function(C){if(C.nodeName===qe.HTML){var D=i.getOrCreateEl(C);u(C,D)}})},b=function(){if(i.$camera){var E=i.context.config,S=E.height;i.$camera.parentElement.style.width="".concat(E.width||0,"px"),i.$camera.parentElement.style.height="".concat(S||0,"px")}};s.hooks.init.tap(n.tag,function(){a.addEventListener(Vs.RESIZE,b),a.addEventListener(Ci.MOUNTED,h),a.addEventListener(Ci.UNMOUNTED,p),a.addEventListener(Ci.ATTR_MODIFIED,v),a.addEventListener(Ci.BOUNDS_CHANGED,y)}),s.hooks.endFrame.tap(n.tag,function(){i.$camera&&o.renderReasons.has(Lh.CAMERA_CHANGED)&&(i.$camera.style.transform=i.joinTransformMatrix(r.getOrthoMatrix()))}),s.hooks.destroy.tap(n.tag,function(){i.$camera&&i.$camera.remove(),a.removeEventListener(Vs.RESIZE,b),a.removeEventListener(Ci.MOUNTED,h),a.removeEventListener(Ci.UNMOUNTED,p),a.removeEventListener(Ci.ATTR_MODIFIED,v),a.removeEventListener(Ci.BOUNDS_CHANGED,y)})}},{key:"createCamera",value:function(e){var t=this.context.config,i=t.document,r=t.width,o=t.height,s=this.context.contextService.getDomElement(),a=s.parentNode;if(a){var l="g-canvas-camera",u=a.querySelector("#".concat(l));if(!u){var h=(i||document).createElement("div");h.style.overflow="hidden",h.style.pointerEvents="none",h.style.position="absolute",h.style.left="0px",h.style.top="0px",h.style.width="".concat(r||0,"px"),h.style.height="".concat(o||0,"px");var p=(i||document).createElement("div");u=p,p.id=l,p.style.position="absolute",p.style.left="".concat(s.offsetLeft||0,"px"),p.style.top="".concat(s.offsetTop||0,"px"),p.style.transformOrigin="left top",p.style.transform=this.joinTransformMatrix(e.getOrthoMatrix()),p.style.pointerEvents="none",p.style.width="100%",p.style.height="100%",h.appendChild(p),a.appendChild(h)}return u}return null}},{key:"getOrCreateEl",value:function(e){var t=this.context.config.document,i=this.displayObjectHTMLElementMap.get(e);return i||(i=(t||document).createElement("div"),e.parsedStyle.$el=i,this.displayObjectHTMLElementMap.set(e,i),e.id&&(i.id=e.id),e.name&&i.setAttribute("name",e.name),e.className&&(i.className=e.className),i.style.position="absolute",i.style["will-change"]="transform",i.style.transform=this.joinTransformMatrix(e.getWorldTransform(),e.getOrigin())),i}},{key:"updateAttribute",value:function(e,t){var i=this.getOrCreateEl(t);switch(e){case"innerHTML":var r=t.parsedStyle.innerHTML;Li(r)?i.innerHTML=r:(i.innerHTML="",i.appendChild(r));break;case"x":i.style.left="".concat(t.parsedStyle.x,"px");break;case"y":i.style.top="".concat(t.parsedStyle.y,"px");break;case"transformOrigin":var o=t.parsedStyle.transformOrigin;i.style["transform-origin"]="".concat(o[0].buildCSSText(null,null,"")," ").concat(o[1].buildCSSText(null,null,""));break;case"width":var s=t.parsedStyle.width;i.style.width=Zn(s)?"".concat(s,"px"):s.toString();break;case"height":var a=t.parsedStyle.height;i.style.height=Zn(a)?"".concat(a,"px"):a.toString();break;case"zIndex":i.style["z-index"]="".concat(t.parsedStyle.zIndex);break;case"visibility":i.style.visibility=t.parsedStyle.visibility;break;case"pointerEvents":var h=t.parsedStyle.pointerEvents;i.style.pointerEvents=void 0===h?"auto":h;break;case"opacity":i.style.opacity="".concat(t.parsedStyle.opacity);break;case"fill":var y=t.parsedStyle.fill,b="";ac(y)?b=y.isNone?"transparent":t.getAttribute("fill"):Array.isArray(y)?b=t.getAttribute("fill"):Ou(y),i.style.background=b;break;case"stroke":var E=t.parsedStyle.stroke,w="";ac(E)?w=E.isNone?"transparent":t.getAttribute("stroke"):Array.isArray(E)?w=t.getAttribute("stroke"):Ou(E),i.style["border-color"]=w,i.style["border-style"]="solid";break;case"lineWidth":i.style["border-width"]="".concat(t.parsedStyle.lineWidth||0,"px");break;case"lineDash":i.style["border-style"]="dashed";break;case"filter":i.style.filter=t.style.filter;break;default:!Ri(t.style[e])&&""!==t.style[e]&&(i.style[e]=t.style[e])}}}])}();t4.tag="HTMLRendering";var wk=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="html-renderer",t}return zi(e,n),fn(e,[{key:"init",value:function(){this.addRenderingPlugin(new t4)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(il);const xk=Object.freeze(Object.defineProperty({__proto__:null,Plugin:wk},Symbol.toStringTag,{value:"Module"}));var Ck=function(){return fn(function n(e){un(this,n),this.renderingContext=e.renderingContext,this.canvasConfig=e.config},[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,i=e.canvas;if(i)this.$canvas=i,t&&i.parentElement!==t&&t.appendChild(i),this.$container=i.parentElement,this.canvasConfig.container=this.$container;else if(t&&(this.$container=Li(t)?document.getElementById(t):t,this.$container)){var r=document.createElement("canvas");this.$container.appendChild(r),this.$container.style.position||(this.$container.style.position="relative"),this.$canvas=r}this.context=this.$canvas.getContext("2d"),this.resize(this.canvasConfig.width,this.canvasConfig.height)}},{key:"getContext",value:function(){return this.context}},{key:"getDomElement",value:function(){return this.$canvas}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){if(this.$canvas.getBoundingClientRect)return this.$canvas.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$canvas&&this.$canvas.parentNode&&this.$container.removeChild(this.$canvas)}},{key:"resize",value:function(e,t){var r=this.canvasConfig.devicePixelRatio||Tu&&window.devicePixelRatio||1;r=r>=1?Math.ceil(r):1,this.dpr=r,this.$canvas&&(this.$canvas.width=this.dpr*e,this.$canvas.height=this.dpr*t,lT(this.$canvas,e,t)),this.renderingContext.renderReasons.add(Lh.CAMERA_CHANGED)}},{key:"applyCursorStyle",value:function(e){this.$container&&this.$container.style&&(this.$container.style.cursor=e)}},{key:"toDataURL",value:(e=wd(cs().mark(function i(){var r,a=arguments;return cs().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.context.canvas.toDataURL((r=a.length>0&&void 0!==a[0]?a[0]:{}).type,r.encoderOptions));case 3:case"end":return l.stop()}},i,this)})),function t(){return e.apply(this,arguments)})}]);var e}(),e4=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="canvas-context-register",t}return zi(e,n),fn(e,[{key:"init",value:function(){this.context.ContextService=Ck}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(il),Qh=function(n){function e(t){var i;return un(this,e),(i=Ei(this,e,[t])).registerPlugin(new e4),i.registerPlugin(new dg),i.registerPlugin(new L_),i.registerPlugin(new U_),i.registerPlugin(new G_),i.registerPlugin(new z2),i.registerPlugin(new wk),i}return zi(e,n),fn(e)}(Nf);const n4=Object.freeze(Object.defineProperty({__proto__:null,CanvasPathGenerator:e7,CanvasPicker:r7,CanvasRenderer:qF,DomInteraction:JF,HTMLRenderer:xk,ImageLoader:V_,Renderer:Qh},Symbol.toStringTag,{value:"Module"}));let K2=(()=>{class n extends Yh{constructor(t){super(Object.assign(Object.assign({},t),{style:Object.assign({},n.defaultStyleProps,t.style)})),this.rootPointerEvent=new ai.FederatedPointerEvent(null),this.forwardEvents=i=>{const r=this.context.canvas,o=r.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(i,o).forEach(s=>{const a=this.bootstrapEvent(this.rootPointerEvent,s,o,i);Tf(r.context.eventService,"mappingTable.pointerupoutside",[]),r.context.eventService.mapEvent(a)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[pn.CLICK,pn.POINTER_DOWN,pn.POINTER_MOVE,pn.POINTER_UP,pn.POINTER_OVER,pn.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}getKeyStyle(t){const i=xh(t,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:r=0,dy:o=0}=i,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["dx","dy"]),[a,l]=this.getSize(t);return Object.assign(Object.assign({x:r,y:o},s),{width:a,height:l})}drawKeyShape(t,i){const r=this.getKeyStyle(t),{x:o,y:s,width:a=0,height:l=0}=r,u=this.upsert("key-container",ai.Rect,{x:o,y:s,width:a,height:l,opacity:0},i);return this.upsert("key",ai.HTML,r,u)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof Qh))return;const t=this.getDomElement();this.events.forEach(i=>{t.addEventListener(i,this.forwardEvents)})}attributeChangedCallback(t,i,r){"zIndex"===t&&i!==r&&(this.getDomElement().style.zIndex=r)}destroy(){const t=this.getDomElement();this.events.forEach(i=>{t.removeEventListener(i,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(t,i){const r=[];if(i.isTouchEvent(t))for(let o=0;o<t.changedTouches.length;o++){const s=t.changedTouches[o];vi(s.button)&&(s.button=0),vi(s.buttons)&&(s.buttons=1),vi(s.isPrimary)&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),vi(s.width)&&(s.width=s.radiusX||1),vi(s.height)&&(s.height=s.radiusY||1),vi(s.tiltX)&&(s.tiltX=0),vi(s.tiltY)&&(s.tiltY=0),vi(s.pointerType)&&(s.pointerType="touch"),vi(s.pointerId)&&(s.pointerId=s.identifier||0),vi(s.pressure)&&(s.pressure=s.force||.5),vi(s.twist)&&(s.twist=0),vi(s.tangentialPressure)&&(s.tangentialPressure=0),s.isNormalized=!0,s.type=t.type,r.push(s)}else if(i.isMouseEvent(t)){const o=t;vi(o.isPrimary)&&(o.isPrimary=!0),vi(o.width)&&(o.width=1),vi(o.height)&&(o.height=1),vi(o.tiltX)&&(o.tiltX=0),vi(o.tiltY)&&(o.tiltY=0),vi(o.pointerType)&&(o.pointerType="mouse"),vi(o.pointerId)&&(o.pointerId=1),vi(o.pressure)&&(o.pressure=.5),vi(o.twist)&&(o.twist=0),vi(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(t);return r}transferMouseData(t,i){t.isTrusted=i.isTrusted,t.srcElement=i.srcElement,t.timeStamp=performance.now(),t.type=i.type,t.altKey=i.altKey,t.metaKey=i.metaKey,t.shiftKey=i.shiftKey,t.ctrlKey=i.ctrlKey,t.button=i.button,t.buttons=i.buttons,t.client.x=i.clientX,t.client.y=i.clientY,t.movement.x=i.movementX,t.movement.y=i.movementY,t.page.x=i.pageX,t.page.y=i.pageY,t.screen.x=i.screenX,t.screen.y=i.screenY,t.relatedTarget=null}bootstrapEvent(t,i,r,o){t.view=r,t.originalEvent=null,t.nativeEvent=o,t.pointerId=i.pointerId,t.width=i.width,t.height=i.height,t.isPrimary=i.isPrimary,t.pointerType=i.pointerType,t.pressure=i.pressure,t.tangentialPressure=i.tangentialPressure,t.tiltX=i.tiltX,t.tiltY=i.tiltY,t.twist=i.twist,this.transferMouseData(t,i);const{x:s,y:a}=this.getViewportXY(i);t.viewport.x=s,t.viewport.y=a;const[l,u]=this.context.canvas.getCanvasByViewport([s,a]);return t.canvas.x=l,t.canvas.y=u,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.isTrusted=o.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t}getViewportXY(t){let i,r;const{offsetX:o,offsetY:s,clientX:a,clientY:l}=t;if(!this.context.canvas.context.config.supportsCSSTransform||Ri(o)||Ri(s)){const u=this.eventService.client2Viewport({x:a,y:l});i=u.x,r=u.y}else i=o,r=s;return{x:i,y:r}}onframe(){super.onframe();const{opacity:t}=this.attributes;this.getDomElement().style.opacity=`${t}`}}return n.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"},n})();var X2=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let Mk=(()=>{let n=class Mit extends Yh{constructor(t){super(Us({style:Mit.defaultStyleProps},t))}getKeyStyle(t){const[i,r]=this.getSize(t),o=super.getKeyStyle(t),{fillOpacity:s,opacity:a=s}=o,l=X2(o,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:a},l),{width:i,height:r,x:-i/2,y:-r/2})}getHaloStyle(t){if(!1===t.halo)return!1;const i=this.getShape("key").attributes;X2(i,["fill","stroke"]);const r=Hr(this.getGraphicStyle(t),"halo"),o=Number(r.lineWidth),[s,a]=Qi(this.getSize(t),[o,o]);return Object.assign(Object.assign({},r),{width:s,height:a,fill:"transparent",x:-s/2,y:-a/2})}getIconStyle(t){const i=super.getIconStyle(t),[r,o]=this.getSize(t);return!!i&&Object.assign({width:r*zc,height:o*zc},i)}drawKeyShape(t,i){const r=this.upsert("key",WA,this.getKeyStyle(t),i);return N2(this),r}drawHaloShape(t,i){this.upsert("halo",ai.Rect,this.getHaloStyle(t),i)}update(t){super.update(t),t&&("x"in t||"y"in t||"z"in t)&&L2(this)}};return n.defaultStyleProps={size:32},n})(),a7=(()=>{class n extends Pd{constructor(t){super(Us({style:n.defaultStyleProps},t))}getPoints(t){const{direction:i}=t,[r,o]=this.getSize(t);return function b7(n,e,t){const i=e/2,r=n/2,o={up:[[-r,i],[r,i],[0,-i]],left:[[-r,0],[r,i],[r,-i]],right:[[-r,i],[-r,-i],[r,0]],down:[[-r,-i],[r,-i],[0,i]]};return o[t]||o.up}(r,o,i)}getPortXY(t,i){const{direction:r}=t,{placement:o="top"}=i,s=this.getShape("key").getLocalBounds(),[a,l]=this.getSize(t),u=function _7(n,e,t){const i=e/2,r=n/2,o={};return"down"===t?(o.bottom=o.default=[0,i],o.right=[r,-i],o.left=[-r,-i]):"left"===t?(o.top=[r,-i],o.bottom=[r,i],o.left=o.default=[-r,0]):"right"===t?(o.top=[-r,-i],o.bottom=[-r,i],o.right=o.default=[r,0]):(o.left=[-r,i],o.top=o.default=[0,-i],o.right=[r,i]),o}(a,l,r);return Z_(s,o,u,!1)}getIconStyle(t){const{icon:i,iconText:r,iconSrc:o,direction:s}=t;if(!1===i||_u(r||o))return!1;const a=Hr(this.getGraphicStyle(t),"icon"),l=this.getShape("key").getLocalBounds(),[u,h]=function fA(n,e){const{center:t}=n,[i,r]=Uh(n);return["up"===e||"down"===e?t[0]:"right"===e?t[0]-i/6:t[0]+i/6,"left"===e||"right"===e?t[1]:"down"===e?t[1]-r/6:t[1]+r/6]}(l,s),p=2*function iF(n,e){let[t,i]=Uh(n);return[t,i]="up"===e||"down"===e?[t,i]:[i,t],(Math.pow(i,2)-Math.pow(Math.sqrt(Math.pow(t/2,2)+Math.pow(i,2))-t/2,2))/(2*i)}(l,s)*zc;return Object.assign({x:u,y:h,width:p,height:p},a)}}return n.defaultStyleProps={size:40,direction:"up"},n})();var Y2=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let Z2=(()=>{class n extends Yh{constructor(t){super(Us({style:n.defaultStyleProps},t)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(t){const{collapsed:i,childrenNode:r=[]}=t;return 0===r.length?this.getEmptyKeySize(t):i?this.getCollapsedKeySize(t):this.getExpandedKeySize(t)}getEmptyKeySize(t){const{padding:i,collapsedSize:r}=t,[o,s,a,l]=Dd(i);return Qi(Pl(r),[l+s,o+a,0])}getCollapsedKeySize(t){return Pl(t.collapsedSize)}getExpandedKeySize(t){const i=this.getContentBBox(t);return[Vc(i),ul(i),0]}getContentBBox(t){const{context:i,childrenNode:r=[],padding:o}=t,s=r.map(l=>i.element.getElement(l)).filter(Boolean);if(0===s.length){const l=new ai.AABB,{x:u=0,y:h=0,size:p}=t,[v,y]=Pl(p);return l.setMinMax([u-v/2,h-y/2,0],[u+v/2,h+y/2,0]),l}const a=w_(s.map(l=>l.getBounds()));return o?Hh(a,o):a}drawCollapsedMarkerShape(t,i){const r=this.getCollapsedMarkerStyle(t);mc(this,"collapsedMarker",r)&&(this.upsert("collapsed-marker",KA,r,i),N2(this))}getCollapsedMarkerStyle(t){if(!t.collapsed||!t.collapsedMarker)return!1;const i=Hr(this.getGraphicStyle(t),"collapsedMarker"),{type:r}=i,o=Y2(i,["type"]),s=this.getShape("key"),[a,l]=Ad(s.getLocalBounds(),"center"),u=Object.assign(Object.assign({},o),{x:a,y:l});if(r){const h=this.getCollapsedMarkerText(r,t);Object.assign(u,{text:h})}return u}getCollapsedMarkerText(t,i){const{context:r,childrenData:o=[]}=i,{model:s}=r;return"descendant-count"===t?s.getDescendantsData(this.id).length.toString():"child-count"===t?o.length.toString():"node-count"===t?s.getDescendantsData(this.id).filter(a=>"node"===s.getElementType(Ge(a))).length.toString():$n(t)?t(o):""}getComboZIndex(t){return(this.context.model.getAncestorsData(this.id,yo)||[]).length}getComboPosition(t){const{x:i=0,y:r=0,collapsed:o,context:s,childrenData:a=[]}=t;if(0===a.length)return[+i,+r,0];if(o){const{model:l}=s,u=l.getDescendantsData(this.id).filter(h=>!l.isCombo(Ge(h)));return u.length>0&&u.some(yF)?fc(u.reduce((p,v)=>Qi(p,oa(v)),[0,0,0]),u.length):[+i,+r,0]}return this.getContentBBox(t).center}getComboStyle(t){const{zIndex:i=this.getComboZIndex(t)}=t,[r,o]=this.getComboPosition(t);return{x:r,y:o,transform:[["translate",r,o]],zIndex:i}}updateComboPosition(t){const i=this.getComboStyle(t);Object.assign(this.style,i);const{x:r,y:o}=i;this.context.model.syncComboDatum({id:this.id,style:{x:r,y:o}}),L2(this)}render(t,i=this){super.render(t,i),this.drawCollapsedMarkerShape(t,i)}update(t={}){super.update(t),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(t,i){const r=super.animate(this.attributes.collapsed?t:t.map(o=>Y2(o,["x","y","z","transform"])),i);return r&&new Proxy(r,{set:(o,s,a)=>("currentTime"===s&&Promise.resolve().then(()=>this.onframe()),Reflect.set(o,s,a))})}}return n.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"},n})();class r4 extends Z2{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",ai.Circle,this.getKeyStyle(e),t)}getKeyStyle(e){const{collapsed:t}=e,i=super.getKeyStyle(e),[r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},i),t&&Hr(i,"collapsed")),{r:r/2})}getCollapsedKeySize(e){const[t,i]=Pl(e.collapsedSize),r=Math.max(t,i)/2;return[2*r,2*r,0]}getExpandedKeySize(e){const t=this.getContentBBox(e),[i,r]=Uh(t),o=Math.sqrt(Math.pow(i,2)+Math.pow(r,2))/2;return[2*o,2*o,0]}getIntersectPoint(e,t=!1){return O_(e,this.getShape("key").getBounds(),t)}}const s4={padding:10};function Q2(n,e,t,i,r,o){const{padding:s}=Object.assign(s4,o),a=Gh(t,s),l=Gh(i,s),u=[n,...r,e];let h=null;const p=[];for(let v=0,y=u.length;v<y-1;v++){const b=v+1,E=u[v],w=u[b],S=IA(E,w);let C=null;if(0===v)if(b===y-1)if(a.intersects(l))C=Tk(E,w,a,l);else if($h(E,a)||$h(w,l))S||(C=a4(E,w,a,l));else{const D=Wh(E,a),k=Wh(w,l);C=Dk(D,k,aa(D,k)),C.points.unshift(D),C.points.push(k)}else hc(w,a)?C=Tk(E,w,a,Gh(w,s),h):S||(C=W_(E,w,a));else b===y-1?hc(E,l)?C=Tk(E,w,Gh(E,s),l,h):S||(C=Ok(E,w,l,h)):S||(C=Dk(E,w,h));C?(p.push(...C.points),h=C.direction):h=aa(E,w),b<y-1&&p.push(w)}return p.map(Td)}const Fu={N:"S",S:"N",W:"E",E:"W"},F0={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function aa(n,e){const[t,i]=n,[r,o]=e;return t===r?i>o?"N":"S":i===o?t>r?"W":"E":null}function $_(n,e){return"N"===e||"S"===e?ul(n):Vc(n)}function Dk(n,e,t){const i=[n[0],e[1]],r=[e[0],n[1]],o=aa(n,i),s=aa(n,r),l=o===t||o!==(t?Fu[t]:null)&&s!==t?i:r;return{points:[l],direction:aa(l,e)}}function W_(n,e,t){if($h(n,t)){const i=B0(n,e,t);return{points:[i],direction:aa(i,e)}}{const i=Wh(n,t),r=["left","right"].includes(S0(n,t))?[e[0],i[1]]:[i[0],e[1]];return{points:[r],direction:aa(r,e)}}}function Ok(n,e,t,i){const r=$h(e,t)?e:Wh(e,t),o=[[r[0],n[1]],[n[0],r[1]]],s=o.filter(l=>function nF(n,e){return!hc(n,e)}(l,t)&&!hA(l,t,!0)),a=s.filter(l=>aa(l,n)!==i);if(a.length>0){const l=a.find(u=>aa(n,u)===i)||a[0];return{points:[l],direction:aa(l,e)}}{const u=kd(e,nm(o,s)[0],$_(t,i)/2);return{points:[B0(u,n,t),u],direction:aa(u,e)}}}function a4(n,e,t,i){let r=W_(n,e,t);const o=ng(r.points[0]);if(hc(o,i)){r=W_(e,n,i);const s=ng(r.points[0]);if(hc(s,t)){const a=kd(n,o,$_(t,aa(n,o))/2),l=kd(e,s,$_(i,aa(e,s))/2),u=[(a[0]+l[0])/2,(a[1]+l[1])/2],h=W_(n,u,t),p=Ok(u,e,i,h.direction);r.points=[h.points[0],p.points[0]],r.direction=p.direction}}return r}function Tk(n,e,t,i,r){const o=w_([t,i]),s=bo(e,o.center)>bo(n,o.center),[a,l]=s?[e,n]:[n,e],u=ul(o)+Vc(o);let h;if(r){const y=[a[0]+u*Math.cos(F0[r]),a[1]+u*Math.sin(F0[r])];h=kd(Wh(y,o),y,.01)}else h=kd(Wh(a,o),a,-.01);let p=B0(h,l,o),v=[ig(h,2),ig(p,2)];if(Po(ig(h),ig(p))){const y=D_(ro(h,a),[1,0,0])+Math.PI/2;p=[l[0]+u*Math.cos(y),l[1]+u*Math.sin(y),0],p=ig(kd(Wh(p,o),l,-.01),2),v=[h,B0(h,p,o),p]}return{points:s?v.reverse():v,direction:aa(s?h:p,e)}}function B0(n,e,t){let i=[n[0],e[1]];return hc(i,t)&&(i=[e[0],n[1]]),i}function q2(n,e,t,i,r){let o="number"==typeof e?e:.5;"start"===e&&(o=0),"end"===e&&(o=.99);const s=sa(n.getPoint(o)),a=sa(n.getPoint(o+.01));let l="start"===e?"left":"end"===e?"right":"center";if(v2(s,a)||!t){const[y,b]=Ak(n,o,i,r);return{transform:[["translate",y,b]],textAlign:l}}let u=Math.atan2(a[1]-s[1],a[0]-s[0]);a[0]<s[0]&&(l="center"===l?l:"left"===l?"right":"left",i*=-1,u+=Math.PI);const[h,p]=Ak(n,o,i,r,u);return{textAlign:l,transform:[["translate",h,p],["rotate",u/Math.PI*180]]}}function Ak(n,e,t,i,r){const[o,s]=sa(n.getPoint(e));let a=t,l=i;return r&&(a=t*Math.cos(r)-i*Math.sin(r),l=t*Math.sin(r)+i*Math.cos(r)),[o+a,s+l]}function j0(n,e,t,i){if(Po(n,e))return n;const r=ro(e,n),o=[n[0]+t*r[0],n[1]+t*r[1]],s=Lu(T0(r,!1));return o[0]+=i*s[0],o[1]+=i*s[1],o}function tC(n,e,t){return[["M",n[0],n[1]],["C",t[0][0],t[0][1],t[1][0],t[1][1],e[0],e[1]]]}function V0(n,e=0,t=!1){const i=n[0],r=n[n.length-1],o=n.slice(1,n.length-1),s=[["M",i[0],i[1]]];return o.forEach((a,l)=>{const u=o[l-1]||i,h=o[l+1]||r;if(!function RA(n,e,t){return TA([n,e],[e,t])}(u,a,h)&&e){const[p,v]=function kk(n,e,t,i){const r=O0(n,e),o=O0(t,e),s=Math.min(i,Math.min(r,o)/2);return[[e[0]-s/r*(e[0]-n[0]),e[1]-s/r*(e[1]-n[1])],[e[0]-s/o*(e[0]-t[0]),e[1]-s/o*(e[1]-t[1])]]}(u,a,h,e);s.push(["L",p[0],p[1]],["Q",a[0],a[1],v[0],v[1]],["L",v[0],v[1]])}else s.push(["L",a[0],a[1]])}),s.push(["L",r[0],r[1]]),t&&s.push(["Z"]),s}const c7=n=>{const e=Math.PI/2,t=ul(n)/2,i=Vc(n)/2,r=Math.atan2(t,i)/2,o=Math.atan2(i,t)/2;return{top:[-e-o,-e+o],"top-right":[-e+o,-r],"right-top":[-e+o,-r],right:[-r,r],"bottom-right":[r,e-o],"right-bottom":[r,e-o],bottom:[e-o,e+o],"bottom-left":[e+o,Math.PI-r],"left-bottom":[e+o,Math.PI-r],left:[Math.PI-r,Math.PI+r],"top-left":[Math.PI+r,-e-o],"left-top":[Math.PI+r,-e-o]}};function hg(n,e,t,i,r){const o=Gh(n),s=n.getCenter();let a=i&&qh(i),l=r&&qh(r);if(!a||!l){const u=c7(o),h=u[e][0],p=u[e][1],[v,y]=Uh(o),b=Math.max(v,y),E=Qi(s,[b*Math.cos(h),b*Math.sin(h),0]),w=Qi(s,[b*Math.cos(p),b*Math.sin(p),0]);a=sC(n,E),l=sC(n,w),t||([a,l]=[l,a])}return[a,l]}function Ik(n,e){const t=new Set,i=new Set,r=new Set;return n.forEach(o=>{e(o).forEach(s=>{t.add(s),n.includes(s.source)&&n.includes(s.target)?i.add(s):r.add(s)})}),{edges:Array.from(t),internal:Array.from(i),external:Array.from(r)}}function h4(n,e){const t=[];let i=n;for(;i;){t.push(i);const r=e(Ge(i));if(!r)break;i=r}if(t.some(r=>{var o;return null===(o=r.style)||void 0===o?void 0:o.collapsed})){const r=t.reverse().findIndex(ja);return t[r]||t.at(-1)}return n}const nC=(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",n/2,e/2],["Z"]],Rk=Object.freeze(Object.defineProperty({__proto__:null,circle:(n,e)=>{const t=Math.max(n,e)/2;return[["M",-n/2,0],["A",t,t,0,1,0,2*t-n/2,0],["A",t,t,0,1,0,-n/2,0],["Z"]]},diamond:(n,e)=>[["M",-n/2,0],["L",0,-e/2],["L",n/2,0],["L",0,e/2],["Z"]],rect:(n,e)=>[["M",-n/2,-e/2],["L",n/2,-e/2],["L",n/2,e/2],["L",-n/2,e/2],["Z"]],simple:(n,e)=>[["M",n/2,-e/2],["L",-n/2,0],["L",n/2,0],["L",-n/2,0],["L",n/2,e/2]],triangle:nC,triangleRect:(n,e)=>{const t=n/2,i=n/7,r=n-i;return[["M",-t,0],["L",0,-e/2],["L",0,e/2],["Z"],["M",r-t,-e/2],["L",r+i-t,-e/2],["L",r+i-t,e/2],["L",r-t,e/2],["Z"]]},vee:(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",4*n/5-n/2,0],["L",n/2,e/2],["Z"]]},Symbol.toStringTag,{value:"Module"}));var Y_=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};let fg=(()=>{class n extends lg{constructor(t){super(Us({style:n.defaultStyleProps},t)),this.type="edge"}get sourceNode(){const{context:t,sourceNode:i}=this.parsedAttributes;return t.element.getElement(i)}get targetNode(){const{context:t,targetNode:i}=this.parsedAttributes;return t.element.getElement(i)}getKeyStyle(t){const i=this.getGraphicStyle(t),{loop:r}=i,o=Y_(i,["loop"]),{sourceNode:s,targetNode:a}=this,l=r&&function v7(n,e){return!(!n||!e)&&n===e}(s,a)?this.getLoopPath(t):this.getKeyPath(t);return Object.assign({d:l},O2(o,["halo","label","startArrow","endArrow"]))}getLoopPath(t){const{sourcePort:i,targetPort:r}=t,o=this.sourceNode,s=Gh(o),a=Math.max(Vc(s),ul(s)),{placement:l,clockwise:u,dist:h=a}=Hr(this.getGraphicStyle(t),"loop");return function u7(n,e,t,i,r,o){const s=n.getPorts()[r||o],a=n.getPorts()[o||r];let[l,u]=hg(n,e,t,s,a);const h=function u4(n,e,t,i){const r=n.getCenter();if(Po(e,t)){const o=ro(e,r),s=[i*Math.sign(o[0])||i/2,i*Math.sign(o[1])||-i/2,0];return[Qi(e,s),Qi(t,Nu(s,[1,-1,1]))]}return[kd(r,e,bo(r,e)+i),kd(r,t,bo(r,t)+i)]}(n,l,u,i);return s&&(l=lp(s,h[0])),a&&(u=lp(a,h[h.length-1])),tC(l,u,h)}(o,l,u,h,i,r)}getEndpoints(t,i=!0,r=[]){const{sourcePort:o,targetPort:s}=t,{sourceNode:a,targetNode:l}=this,[u,h]=function jk(n,e,t,i){return[Jh(n,e,t,i),Jh(e,n,i,t)]}(a,l,o,s);if(!i)return[u?qh(u):a.getCenter(),h?qh(h):l.getCenter()];const p="function"==typeof r?r():r;return[Q_(u||a,p[0]||h||l),Q_(h||l,p[p.length-1]||u||a)]}getHaloStyle(t){if(!1===t.halo)return!1;const i=this.getKeyStyle(t),r=Hr(this.getGraphicStyle(t),"halo");return Object.assign(Object.assign({},i),r)}getLabelStyle(t){if(!1===t.label||!t.labelText)return!1;const i=Hr(this.getGraphicStyle(t),"label"),{placement:r,offsetX:o,offsetY:s,autoRotate:a,maxWidth:l}=i,u=Y_(i,["placement","offsetX","offsetY","autoRotate","maxWidth"]),h=q2(this.shapeMap.key,r,a,o,s),p=this.shapeMap.key.getLocalBounds(),v=function CF(n,e,t=1){return A2(bo(n[0],n[1])*t,e)}([p.min,p.max],l);return Object.assign({wordWrapWidth:v},h,u)}getBadgeStyle(t){if(!1===t.badge||!t.badgeText)return!1;const i=Hr(t,"badge"),{offsetX:r,offsetY:o,placement:s}=i,a=Y_(i,["offsetX","offsetY","placement"]);return Object.assign(a,function l4(n,e,t,i,r){var o,s;const a=2*(null===(o=n.badge)||void 0===o?void 0:o.getGeometryBounds().halfExtents[0])||0,l=2*(null===(s=n.label)||void 0===s?void 0:s.getGeometryBounds().halfExtents[0])||0;return q2(n.key,t,!0,(l?(l/2+a/2)*("suffix"===e?1:-1):0)+i,r)}(this.shapeMap,s,t.labelPlacement,r,o))}drawArrow(t,i){var r;const o="start"===i,a=this.shapeMap.key;if(t["start"===i?"startArrow":"endArrow"]){const l=this.getArrowStyle(t,o);if(!mc(this,`arrow-${i}`,l))return;const[u,h,p]=o?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],v=a.parsedStyle[u];if(v)v.attr(l);else{const b=new(l.src?ai.Image:ai.Path)({style:l});a.style[u]=b}a.style[h]=t[p]||l.width/2+ +l.lineWidth}else{const l=o?"markerStart":"markerEnd";null===(r=a.style[l])||void 0===r||r.destroy(),a.style[l]=null}}getArrowStyle(t,i){const r=this.getShape("key").attributes,o=i?"startArrow":"endArrow",s=Hr(this.getGraphicStyle(t),o),{size:a,type:l}=s,u=Y_(s,["size","type"]),[h,p]=Pl(function f4(n,e){return e||(n<4?10:4===n?12:2.5*n)}(r.lineWidth,a)),v=($n(l)?l:Rk[l]||nC)(h,p);return Object.assign(xh(r,["stroke","strokeOpacity","fillOpacity"]),{width:h,height:p},Object.assign({},v&&{d:v,fill:"simple"===l?"":r.stroke}),u)}drawLabelShape(t,i){const r=this.getLabelStyle(t);mc(this,"label",r)&&this.upsert("label",Xh,r,i)}drawHaloShape(t,i){const r=this.getHaloStyle(t);mc(this,"halo",r)&&this.upsert("halo",ai.Path,r,i)}drawBadgeShape(t,i){const r=this.getBadgeStyle(t);mc(this,"badge",r)&&this.upsert("badge",I2,r,i)}drawSourceArrow(t){this.drawArrow(t,"start")}drawTargetArrow(t){this.drawArrow(t,"end")}drawKeyShape(t,i){const r=this.getKeyStyle(t);if(mc(this,"key",r))return this.upsert("key",ai.Path,r,i)}render(t=this.parsedAttributes,i=this){this.drawKeyShape(t,i),this.getShape("key")&&(this.drawSourceArrow(t),this.drawTargetArrow(t),this.drawLabelShape(t,i),this.drawHaloShape(t,i),this.drawBadgeShape(t,i))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(t,i){const r=super.animate(t,i);return r&&new Proxy(r,{set:(o,s,a)=>("currentTime"===s&&Promise.resolve().then(()=>this.onframe()),Reflect.set(o,s,a))})}}return n.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0},n})(),Hc=(()=>{class n extends fg{constructor(t){super(Us({style:n.defaultStyleProps},t))}getKeyPath(t){const[i,r]=this.getEndpoints(t),{controlPoints:o,curvePosition:s,curveOffset:a}=t,l=this.getControlPoints(i,r,function J2(n){return Zn(n)?[n,1-n]:n}(s),function l7(n){return Zn(n)?[n,-n]:n}(a),o);return tC(i,r,l)}getControlPoints(t,i,r,o,s){return 2===s?.length?s:[j0(t,i,r[0],o[0]),j0(t,i,r[1],o[1])]}}return n.defaultStyleProps={curvePosition:.5,curveOffset:20},n})(),Pk=(()=>{class n extends Hc{constructor(t){super(Us({style:n.defaultStyleProps},t))}getControlPoints(t,i,r,o){const s=i[0]-t[0];return[[t[0]+s*r[0]+o[0],t[1]],[i[0]-s*r[1]+o[1],i[1]]]}}return n.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},n})(),v4=(()=>{class n extends Hc{constructor(t){super(Us({style:n.defaultStyleProps},t))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(t){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(t);const i=oa(this.ref);return[this.sourceNode.getIntersectPoint(i,!0),this.targetNode.getIntersectPoint(i)]}toRadialCoordinate(t){const i=oa(this.ref);return[bo(t,i),OA(ro(t,i))]}getControlPoints(t,i,r,o){const[s,a]=this.toRadialCoordinate(t),[l]=this.toRadialCoordinate(i),u=l-s;return[[t[0]+(u*r[0]+o[0])*Math.cos(a),t[1]+(u*r[0]+o[0])*Math.sin(a)],[i[0]-(u*r[1]-o[0])*Math.cos(a),i[1]-(u*r[1]-o[0])*Math.sin(a)]]}}return n.defaultStyleProps={curvePosition:.5,curveOffset:20},n})(),h7=(()=>{class n extends Hc{constructor(t){super(Us({style:n.defaultStyleProps},t))}getControlPoints(t,i,r,o){const s=i[1]-t[1];return[[t[0],t[1]+s*r[0]+o[0]],[i[0],i[1]-s*r[1]+o[1]]]}}return n.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},n})(),iC=(()=>{let n=class Sit extends fg{constructor(t){super(Us({style:Sit.defaultStyleProps},t))}getKeyPath(t){const[i,r]=this.getEndpoints(t);return[["M",i[0],i[1]],["L",r[0],r[1]]]}};return n.defaultStyleProps={},n})();const y4={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:O0},$c=n=>`${Math.round(n[0])}|||${Math.round(n[1])}`;function pg(n,e){const t=i=>Math.round(i/e);return Zn(n)?t(n):n.map(t)}function rC(n,e){const t=e[0]-n[0],i=e[1]-n[1];return t||i?Math.atan2(i,t):0}function _4(n,e,t,i){const r=rC(n,e);return function b4(n,e){const t=Math.abs(n-e);return t>Math.PI?2*Math.PI-t:t}(rC(t[$c(n)]||i,n),r)}function E4(n,e,t){return Math.min(...e.map(i=>t(n,i)))}const x4=(n,e,t,i)=>{if(!e)return[n];const{directionMap:r,offset:o}=i,s=Hh(e.getRenderBounds(),o),a=Object.keys(r).reduce((l,u)=>{if(t.includes(u)){const h=r[u],[p,v]=Uh(s),y=[n[0]+h.stepX*p,n[1]+h.stepY*v],b=function pA(n){const{min:[e,t],max:[i,r]}=n,o=[e,r],s=[i,r],a=[i,t],l=[e,t];return[[o,s],[s,a],[a,l],[l,o]]}(s);for(let E=0;E<b.length;E++){const w=g2([n,y],b[E]);w&&hA(w,s)&&l.push(w)}}return l},[]);return hc(n,s)||a.push(n),a.map(l=>pg(l,i.gridSize))},p7=(n,e,t,i,r,o,s)=>{const a=[];let l=[o[0]===i[0]?i[0]:n[0]*s,o[1]===i[1]?i[1]:n[1]*s];a.unshift(l);let u=n,h=e[$c(u)];for(;h;){const y=h,b=u;_4(y,b,e,t)&&(l=[y[0]===b[0]?l[0]:y[0]*s,y[1]===b[1]?l[1]:y[1]*s],a.unshift(l)),h=e[$c(y)],u=y}const v=function w4(n,e,t){let i=n[0],r=t(n[0],e);for(let o=0;o<n.length;o++){const s=n[o],a=t(s,e);a<r&&(i=s,r=a)}return i}(r.map(y=>[y[0]*s,y[1]*s]),l,O0);return a.unshift(v),a};let Nk=class{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(n,e){let t=0,i=e-1;for(;i-t>1;){const r=Math.floor((t+i)/2);if(this.arr[r].value>n.value)i=r;else{if(!(this.arr[r].value<n.value))return this.arr.splice(r,0,n),void(this.map[n.id]=!0);t=r}}this.arr.splice(i,0,n),this.map[n.id]=!0}add(n){delete this.map[n.id];const e=this.arr.length;if(!e||this.arr[e-1].value<n.value)return this.arr.push(n),void(this.map[n.id]=!0);this._innerAdd(n,e)}remove(n){this.map[n]&&delete this.map[n]}_clearAndGetMinId(){let n;for(let e=this.arr.length-1;e>=0;e--)this.map[this.arr[e].id]?n=this.arr[e].id:this.arr.splice(e,1);return n}_findFirstId(){for(;this.arr.length;){const n=this.arr.shift();if(this.map[n.id])return n.id}}minId(n){return n?this._clearAndGetMinId():this._findFirstId()}},oC=(()=>{class n extends fg{constructor(t){super(Us({style:n.defaultStyleProps},t))}getControlPoints(t){const{router:i}=t,{sourceNode:r,targetNode:o}=this,[s,a]=this.getEndpoints(t,!1);let l=[];return i?"shortest-path"===i.type?(l=function m7(n,e,t,i){const r=Td(n.getCenter()),o=Td(e.getCenter()),s=Object.assign(y4,i),{gridSize:a}=s,u=((n,e)=>{const{offset:t,gridSize:i}=e,r={};return n.forEach(o=>{if(!o||o.destroyed||!o.isVisible())return;const s=Hh(o.getRenderBounds(),t);for(let a=pg(s.min[0],i);a<=pg(s.max[0],i);a+=1)for(let l=pg(s.min[1],i);l<=pg(s.max[1],i);l+=1)r[`${a}|||${l}`]=!0}),r})(s.enableObstacleAvoidance?t:[n,e],s),h=pg(r,a),p=pg(o,a),v=x4(r,n,s.startDirections,s),y=x4(o,e,s.endDirections,s);v.forEach(z=>delete u[$c(z)]),y.forEach(z=>delete u[$c(z)]);const b={},E={},w={},S={},C={},D=new Nk;for(let z=0;z<v.length;z++){const V=v[z],K=$c(V);b[K]=V,S[K]=0,C[K]=E4(V,y,s.distFunc),D.add({id:K,value:C[K]})}const k=y.map(z=>$c(z));let I,T=s.maximumLoops,F=1/0;for(const[z,V]of Object.entries(b))C[z]<=F&&(F=C[z],I=V);for(;Object.keys(b).length>0&&T>0;){const z=D.minId(!1);if(!z)break;I=b[z];const V=$c(I);if(k.includes(V))return p7(I,w,h,o,v,p,a);delete b[V],D.remove(V),E[V]=!0;for(const K of Object.values(s.directionMap)){const Y=Qi(I,[K.stepX,K.stepY]),Q=$c(Y);if(E[Q])continue;const at=_4(I,Y,w,h);if(at>s.maxAllowedDirectionChange||u[Q])continue;b[Q]||(b[Q]=Y);const It=s.penalties[at],Pt=s.distFunc(I,Y)+(isNaN(It)?a:It),ct=S[V]+Pt,ot=S[Q];ot&&ct>=ot||(w[Q]=I,S[Q]=ct,C[Q]=ct+E4(Y,y,s.distFunc),D.add({id:Q,value:C[Q]}))}T-=1}return[]}(r,o,this.context.element.getNodes(),i),l.length||(l=Q2(s,a,r,o,t.controlPoints,{padding:i.offset}))):"orth"===i.type&&(l=Q2(s,a,r,o,t.controlPoints,i)):l=t.controlPoints,l}getPoints(t){const i=this.getControlPoints(t),[r,o]=this.getEndpoints(t,!0,i);return[r,...i,o]}getKeyPath(t){return V0(this.getPoints(t),t.radius)}getLoopPath(t){const{sourcePort:i,targetPort:r,radius:o}=t,s=this.sourceNode,a=Gh(s),l=Math.max(Vc(a),ul(a))/4,{placement:u,clockwise:h,dist:p=l}=Hr(this.getGraphicStyle(t),"loop");return function eC(n,e,t,i,r,o,s){const a=mg(n),l=a[o||s],u=a[s||o];let[h,p]=hg(n,t,i,l,u);const v=function d4(n,e,t,i){const r=[],o=Gh(n);if(Po(e,t))switch(S0(e,o)){case"left":r.push([e[0]-i,e[1]]),r.push([e[0]-i,e[1]+i]),r.push([e[0],e[1]+i]);break;case"right":r.push([e[0]+i,e[1]]),r.push([e[0]+i,e[1]+i]),r.push([e[0],e[1]+i]);break;case"top":r.push([e[0],e[1]-i]),r.push([e[0]+i,e[1]-i]),r.push([e[0]+i,e[1]]);break;case"bottom":r.push([e[0],e[1]+i]),r.push([e[0]+i,e[1]+i]),r.push([e[0]+i,e[1]])}else{const s=S0(e,o),a=S0(t,o);if(s===a){let u,h;switch(s){case"left":u=Math.min(e[0],t[0])-i,r.push([u,e[1]]),r.push([u,t[1]]);break;case"right":u=Math.max(e[0],t[0])+i,r.push([u,e[1]]),r.push([u,t[1]]);break;case"top":h=Math.min(e[1],t[1])-i,r.push([e[0],h]),r.push([t[0],h]);break;case"bottom":h=Math.max(e[1],t[1])+i,r.push([e[0],h]),r.push([t[0],h])}}else{const l=(v,y)=>({left:[y[0]-i,y[1]],right:[y[0]+i,y[1]],top:[y[0],y[1]-i],bottom:[y[0],y[1]+i]}[v]),u=l(s,e),h=l(a,t),p=B0(u,h,o);r.push(u,p,h)}}return r}(n,h,p,r);return l&&(h=lp(l,v[0])),u&&(p=lp(u,v[v.length-1])),V0([h,...v,p],e)}(s,o,u,h,p,i,r)}}return n.defaultStyleProps={radius:0,controlPoints:[],router:!1},n})(),Lk=(()=>{class n extends fg{constructor(t){super(Us({style:n.defaultStyleProps},t))}getKeyPath(t){const{curvePosition:i,curveOffset:r}=t,[o,s]=this.getEndpoints(t);return function c4(n,e,t){return[["M",n[0],n[1]],["Q",t[0],t[1],e[0],e[1]]]}(o,s,t.controlPoint||j0(o,s,i,r))}}return n.defaultStyleProps={curvePosition:.5,curveOffset:30},n})();function z0(n){return n instanceof Yh&&"node"===n.type}function C4(n){return n instanceof fg}function Fk(n){return n instanceof Z2}const y7={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function Z_(n,e,t=y7,i=!0){const r=[.5,.5],o=Li(e)?na(t,e.toLocaleLowerCase(),r):e;if(!i&&Li(e))return o;const[s,a]=o||r;return[n.min[0]+Vc(n)*s,n.min[1]+ul(n)*a]}function mg(n){if(!n)return{};const e=n.getPorts();return(n.attributes.ports||[]).forEach((t,i)=>{var r;const{key:o,placement:s}=t;Bk(t)&&(e[r=o||i]||(e[r]=Ad(n.getShape("key").getBounds(),s)))}),e}function Bk(n){const{r:e}=n;return!e||0===Number(e)}function qh(n){return rp(n)?n:n.getPosition()}function Jh(n,e,t,i){const r=mg(n);if(t)return r[t];const o=Object.values(r);if(0===o.length)return;const s=o.map(u=>qh(u)),a=function Vk(n,e){const t=mg(n);if(e)return[qh(t[e])];const i=Object.values(t);return i.length>0?i.map(r=>qh(r)):[n.getCenter()]}(e,i),[l]=function _F(n,e){let t=1/0,i=[n[0],e[0]];return n.forEach(r=>{e.forEach(o=>{const s=bo(r,o);s<t&&(t=s,i=[r,o])})}),i}(s,a);return o.find(u=>qh(u)===l)}function Q_(n,e){return Fk(n)||z0(n)?sC(n,e):lp(n,e)}function lp(n,e){return n&&e?rp(n)?n:n.attributes.linkToCenter?n.getPosition():O_(rp(e)?e:z0(e)?e.getCenter():e.getPosition(),n.getBounds()):[0,0,0]}function sC(n,e){if(!n||!e)return[0,0,0];const t=rp(e)?e:z0(e)?e.getCenter():e.getPosition();return n.getIntersectPoint(t)||n.getCenter()}function q_(n,e="bottom",t=0,i=0,r=!1){const o=e.split("-"),[s,a]=Ad(n,e),l=o.includes("left")?"right":o.includes("right")?"left":"center";let u=o.includes("top")?"bottom":o.includes("bottom")?"top":"middle";return r&&(u="top"===u?"bottom":"bottom"===u?"top":u),{transform:[["translate",s+t,a+i]],textBaseline:u,textAlign:l}}function lC(n,e){"update"in n?n.update(e):n.attr(e)}function t1(n){return na(n,"__to_be_destroyed__",!1)}class U0 extends zs{constructor(e,t){super(e,Object.assign({},U0.defaultOptions,t)),this.onCollapseExpand=i=>function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(!this.validate(i))return;const{target:r}=i;if(!function g7(n){return z0(n)||C4(n)||Fk(n)}(r))return;const o=r.id,{model:s,graph:a}=this.context,l=s.getElementDataById(o);if(!l)return!1;const{onCollapse:u,onExpand:h,animation:p}=this.options;ja(l)?(yield a.expandElement(o,p),h?.(o)):(yield a.collapseElement(o,p),u?.(o))}),this.bindEvents()}update(e){this.unbindEvents(),super.update(e),this.bindEvents()}bindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.on(`node:${t}`,this.onCollapseExpand),e.on(`combo:${t}`,this.onCollapseExpand)}unbindEvents(){const{graph:e}=this.context,{trigger:t}=this.options;e.off(`node:${t}`,this.onCollapseExpand),e.off(`combo:${t}`,this.onCollapseExpand)}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $n(t)?t(e):!!t}destroy(){this.unbindEvents(),super.destroy()}}U0.defaultOptions={enable:!0,animation:!0,trigger:pn.DBLCLICK};var G0=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const e1="g6-create-edge-assist-node-id";let Gk=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.drop=r=>G0(this,void 0,void 0,function*(){const{targetType:o}=r;["combo","node"].includes(o)&&this.source?yield this.handleCreateEdge(r):yield this.cancelEdge()}),this.handleCreateEdge=r=>G0(this,void 0,void 0,function*(){var o,s,a;if(!this.validate(r))return;const{graph:l,canvas:u,batch:h,element:p}=this.context,{style:v}=this.options;if(this.source)return this.createEdge(r),void(yield this.cancelEdge());h.startBatch(),u.setCursor("crosshair"),this.source=this.getSelectedNodeIDs([r.target.id])[0];const y=l.getElementData(this.source);l.addNodeData([{id:e1,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}],x:null===(o=y.style)||void 0===o?void 0:o.x,y:null===(s=y.style)||void 0===s?void 0:s.y}}]),l.addEdgeData([{id:"g6-create-edge-assist-edge-id",source:this.source,target:e1,style:Object.assign({pointerEvents:"none"},v)}]),yield null===(a=p.draw({animation:!1}))||void 0===a?void 0:a.finished}),this.updateAssistEdge=r=>G0(this,void 0,void 0,function*(){var o;if(!this.source)return;const{model:s,element:a}=this.context;s.translateNodeTo(e1,[r.canvas.x,r.canvas.y]),yield null===(o=a.draw({animation:!1,silence:!0}))||void 0===o?void 0:o.finished}),this.createEdge=r=>{var o,s;const{graph:a}=this.context,{style:l,onFinish:u,onCreate:h}=this.options;if(void 0===(null===(o=r.target)||void 0===o?void 0:o.id)||void 0===this.source)return;const p=null===(s=this.getSelectedNodeIDs([r.target.id]))||void 0===s?void 0:s[0],y=h({id:`${this.source}-${p}-${Cv()}`,source:this.source,target:p,style:l});a.addEdgeData([y]),u(y)},this.cancelEdge=()=>G0(this,void 0,void 0,function*(){var r;if(!this.source)return;const{graph:o,element:s,batch:a}=this.context;o.removeNodeData([e1]),this.source=void 0,yield null===(r=s.draw({animation:!1}))||void 0===r?void 0:r.finished,a.endBatch()}),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){const{graph:t}=this.context,{trigger:i}=this.options;this.unbindEvents(),"click"===i?(t.on(Kr.CLICK,this.handleCreateEdge),t.on(ho.CLICK,this.handleCreateEdge),t.on(io.CLICK,this.cancelEdge),t.on(bs.CLICK,this.cancelEdge)):(t.on(Kr.DRAG_START,this.handleCreateEdge),t.on(ho.DRAG_START,this.handleCreateEdge),t.on(pn.POINTER_UP,this.drop)),t.on(pn.POINTER_MOVE,this.updateAssistEdge)}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(i=>i.id).concat(t)))}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;t.off(Kr.CLICK,this.handleCreateEdge),t.off(ho.CLICK,this.handleCreateEdge),t.off(io.CLICK,this.cancelEdge),t.off(bs.CLICK,this.cancelEdge),t.off(Kr.DRAG_START,this.handleCreateEdge),t.off(ho.DRAG_START,this.handleCreateEdge),t.off(pn.POINTER_UP,this.drop),t.off(pn.POINTER_MOVE,this.updateAssistEdge)}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:!0,enable:!0,style:{},trigger:"drag",onCreate:e=>e,onFinish:()=>{}},n})();var n1=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let w7=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isDragging=!1,this.onDragStart=r=>{this.validate(r)&&(this.isDragging=!0,this.context.canvas.setCursor("grabbing"))},this.onDrag=r=>{if(!this.isDragging)return;const{x:o,y:s}=r.movement;o|s&&this.translate([o,s],!1)},this.onDragEnd=()=>{var r,o;this.isDragging=!1,this.context.canvas.setCursor(this.defaultCursor),null===(o=(r=this.options).onFinish)||void 0===o||o.call(r)},this.invokeOnFinish=Of(()=>{var r,o;null===(o=(r=this.options).onFinish)||void 0===o||o.call(r)},300),this.shortcut=new Id(t.graph),this.bindEvents(),this.defaultCursor=this.context.canvas.getConfig().cursor||"default"}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{trigger:t}=this.options;if(Dr(t)){const{up:i=[],down:r=[],left:o=[],right:s=[]}=t;this.shortcut.bind(i,a=>this.onTranslate([0,1],a)),this.shortcut.bind(r,a=>this.onTranslate([0,-1],a)),this.shortcut.bind(o,a=>this.onTranslate([1,0],a)),this.shortcut.bind(s,a=>this.onTranslate([-1,0],a))}else{const{graph:i}=this.context;i.on(pn.DRAG_START,this.onDragStart),i.on(pn.DRAG,this.onDrag),i.on(pn.DRAG_END,this.onDragEnd)}}onTranslate(t,i){return n1(this,void 0,void 0,function*(){if(!this.validate(i))return;const{sensitivity:r}=this.options,o=-1*r;yield this.translate(Nu(t,o),this.options.animation),this.invokeOnFinish()})}translate(t,i){return n1(this,void 0,void 0,function*(){t=this.clampByDirection(t),t=this.clampByRange(t),yield this.context.graph.translateBy(t,i)})}clampByDirection([t,i]){const{direction:r}=this.options;return"x"===r?i=0:"y"===r&&(t=0),[t,i]}clampByRange([t,i]){const{viewport:r,canvas:o}=this.context,[s,a]=o.getSize(),[l,u,h,p]=Dd(this.options.range),v=[a*l,s*u,a*h,s*p],y=Hh(o2(r.getCanvasCenter()),v),b=ro(r.getViewportCenter(),[t,i,0]);if(!hc(b,y)){const{min:[E,w],max:[S,C]}=y;(b[0]<E&&t>0||b[0]>S&&t<0)&&(t=0),(b[1]<w&&i>0||b[1]>C&&i<0)&&(i=0)}return[t,i]}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return"function"==typeof i?i(t):!!i}unbindEvents(){this.shortcut.unbindAll();const{graph:t}=this.context;t.off(pn.DRAG_START,this.onDragStart),t.off(pn.DRAG,this.onDrag),t.off(pn.DRAG_END,this.onDragEnd)}destroy(){this.shortcut.destroy(),this.unbindEvents(),this.context.canvas.setCursor(this.defaultCursor),super.destroy()}}return n.defaultOptions={enable:e=>!("targetType"in e)||"canvas"===e.targetType,sensitivity:10,direction:"both",range:1/0},n})();var cC=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let r1=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.enable=!1,this.enableElements=["node","combo"],this.target=[],this.shadowOrigin=[0,0],this.hiddenEdges=[],this.isDragging=!1,this.onDrop=r=>cC(this,void 0,void 0,function*(){var o;if("link"!==this.options.dropEffect)return;const{model:s,element:a}=this.context,l=r.target.id;this.target.forEach(u=>{const h=s.getParentData(u,yo);h&&Ge(h)===l&&s.refreshComboData(l),s.setParent(u,l,yo)}),yield null===(o=a?.draw({animation:!0}))||void 0===o?void 0:o.finished}),this.setCursor=r=>{if(this.isDragging)return;const{type:o}=r,{canvas:s}=this.context,{cursor:a}=this.options;s.setCursor(o===pn.POINTER_ENTER?a?.grab||"grab":a?.default||"default")},this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onDrop=this.onDrop.bind(this),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}bindEvents(){const{graph:t,canvas:i}=this.context,r=i.getLayer().getContextService().$canvas;r&&(r.addEventListener("blur",this.onDragEnd),r.addEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(o=>{t.on(`${o}:${pn.DRAG_START}`,this.onDragStart),t.on(`${o}:${pn.DRAG}`,this.onDrag),t.on(`${o}:${pn.DRAG_END}`,this.onDragEnd),t.on(`${o}:${pn.POINTER_ENTER}`,this.setCursor),t.on(`${o}:${pn.POINTER_LEAVE}`,this.setCursor)}),["link"].includes(this.options.dropEffect)&&(t.on(ho.DROP,this.onDrop),t.on(io.DROP,this.onDrop))}getSelectedNodeIDs(t){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(i=>i.id).concat(t)))}getDelta(t){const i=this.context.graph.getZoom();return fc([t.dx,t.dy],i)}onDragStart(t){var i;if(this.enable=this.validate(t),!this.enable)return;const{batch:r,canvas:o}=this.context;o.setCursor((null===(i=this.options.cursor)||void 0===i?void 0:i.grabbing)||"grabbing"),this.isDragging=!0,r.startBatch(),this.target=this.getSelectedNodeIDs([t.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target),this.options.shadow&&this.createShadow(this.target)}onDrag(t){if(!this.enable)return;const i=this.getDelta(t);this.options.shadow?this.moveShadow(i):this.moveElement(this.target,i)}onDragEnd(){var t,i,r;if(this.enable=!1,this.options.shadow){if(!this.shadow)return;this.shadow.style.visibility="hidden";const{x:a=0,y:l=0}=this.shadow.attributes,[u,h]=ro([+a,+l],this.shadowOrigin);this.moveElement(this.target,[u,h])}this.showEdges(),null===(i=(t=this.options).onFinish)||void 0===i||i.call(t,this.target);const{batch:o,canvas:s}=this.context;o.endBatch(),s.setCursor((null===(r=this.options.cursor)||void 0===r?void 0:r.grab)||"grab"),this.isDragging=!1,this.target=[]}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}moveElement(t,i){return cC(this,void 0,void 0,function*(){const{graph:r,model:o}=this.context,{dropEffect:s}=this.options;"move"===s&&t.forEach(a=>o.refreshComboData(a)),r.translateElementBy(Object.fromEntries(t.map(a=>[a,i])),!1)})}moveShadow(t){if(!this.shadow)return;const{x:i=0,y:r=0}=this.shadow.attributes,[o,s]=t;this.shadow.attr({x:+i+o,y:+r+s})}createShadow(t){const i=Hr(this.options,"shadow"),r=w_(t.map(h=>this.context.element.getElement(h).getBounds())),[o,s]=r.min;this.shadowOrigin=[o,s];const[a,l]=Uh(r),u={width:a,height:l,x:o,y:s};this.shadow?this.shadow.attr(Object.assign(Object.assign(Object.assign({},i),u),{visibility:"visible"})):(this.shadow=new ai.Rect({style:Object.assign(Object.assign(Object.assign({$layer:"transient"},i),u),{pointerEvents:"none"})}),this.context.canvas.appendChild(this.shadow))}showEdges(){this.options.shadow||0===this.hiddenEdges.length||(this.context.graph.showElement(this.hiddenEdges),this.hiddenEdges=[])}hideEdge(){const{hideEdge:t,shadow:i}=this.options;if("none"===t||i)return;const{graph:r}=this.context;this.hiddenEdges="all"===t?r.getEdgeData().map(Ge):Array.from(new Set(this.target.map(o=>r.getRelatedEdgesData(o,t).map(Ge)).flat())),r.hideElement(this.hiddenEdges)}unbindEvents(){const{graph:t,canvas:i}=this.context,r=i.getLayer().getContextService().$canvas;r&&(r.removeEventListener("blur",this.onDragEnd),r.removeEventListener("contextmenu",this.onDragEnd)),this.enableElements.forEach(o=>{t.off(`${o}:${pn.DRAG_START}`,this.onDragStart),t.off(`${o}:${pn.DRAG}`,this.onDrag),t.off(`${o}:${pn.DRAG_END}`,this.onDragEnd),t.off(`${o}:${pn.POINTER_ENTER}`,this.setCursor),t.off(`${o}:${pn.POINTER_LEAVE}`,this.setCursor)}),t.off(`combo:${pn.DROP}`,this.onDrop),t.off(`canvas:${pn.DROP}`,this.onDrop)}destroy(){var t;this.unbindEvents(),null===(t=this.shadow)||void 0===t||t.destroy(),super.destroy()}}return n.defaultOptions={animation:!0,enable:e=>["node","combo"].includes(e.targetType),dropEffect:"move",state:"selected",hideEdge:"none",shadow:!1,shadowZIndex:100,shadowFill:"#F3F9FF",shadowFillOpacity:.5,shadowStroke:"#1890FF",shadowStrokeOpacity:.9,shadowLineDash:[5,5],cursor:{default:"default",grab:"grab",grabbing:"grabbing"}},n})();var o1=function(){function n(){this._events={}}return n.prototype.on=function(e,t,i){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!i}),this},n.prototype.once=function(e,t){return this.on(e,t,!0)},n.prototype.emit=function(e){for(var t=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var s=this._events["*"]||[],a=function(l){for(var u=l.length,h=0;h<u;h++)if(l[h]){var p=l[h],v=p.callback;p.once&&(l.splice(h,1),0===l.length&&delete t._events[e],u--,h--),v.apply(t,i)}};a(this._events[e]||[]),a(s)},n.prototype.off=function(e,t){if(e)if(t){for(var i=this._events[e]||[],r=i.length,o=0;o<r;o++)i[o].callback===t&&(i.splice(o,1),r--,o--);0===i.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this},n.prototype.getEvents=function(){return this._events},n}();function Hk(n,e,t,i){for(;n.length;){const r=n.shift();if(t(r))return!0;e.add(r.id),i(r.id).forEach(o=>{e.has(o.id)||(e.add(o.id),n.push(o))})}return!1}function uC(n,e,t,i){if(t(n))return!0;e.add(n.id);for(const r of i(n.id))if(!e.has(r.id)&&uC(r,e,t,i))return!0;return!1}const T4=()=>!0;class x7{constructor(e){gi(this,"graph"),gi(this,"nodeFilter"),gi(this,"edgeFilter"),gi(this,"cacheEnabled"),gi(this,"inEdgesMap",new Map),gi(this,"outEdgesMap",new Map),gi(this,"bothEdgesMap",new Map),gi(this,"allNodesMap",new Map),gi(this,"allEdgesMap",new Map),gi(this,"clearCache",()=>{this.inEdgesMap.clear(),this.outEdgesMap.clear(),this.bothEdgesMap.clear(),this.allNodesMap.clear(),this.allEdgesMap.clear()}),gi(this,"refreshCache",()=>{this.clearCache(),this.updateCache(this.graph.getAllNodes().map(r=>r.id))}),gi(this,"updateCache",r=>{const o=new Set;r.forEach(s=>{const a=this.bothEdgesMap.get(s);if(a&&a.forEach(l=>o.add(l.id)),this.hasNode(s)){const l=this.graph.getRelatedEdges(s,"in").filter(this.edgeFilter),u=this.graph.getRelatedEdges(s,"out").filter(this.edgeFilter),h=Array.from(new Set([...l,...u]));h.forEach(p=>o.add(p.id)),this.inEdgesMap.set(s,l),this.outEdgesMap.set(s,u),this.bothEdgesMap.set(s,h),this.allNodesMap.set(s,this.graph.getNode(s))}else this.inEdgesMap.delete(s),this.outEdgesMap.delete(s),this.bothEdgesMap.delete(s),this.allNodesMap.delete(s)}),o.forEach(s=>{this.hasEdge(s)?this.allEdgesMap.set(s,this.graph.getEdge(s)):this.allEdgesMap.delete(s)})}),gi(this,"handleGraphChanged",r=>{const o=new Set;r.changes.forEach(s=>{switch(s.type){case"NodeAdded":case"NodeRemoved":o.add(s.value.id);break;case"NodeDataUpdated":o.add(s.id);break;case"EdgeAdded":case"EdgeRemoved":o.add(s.value.source),o.add(s.value.target);break;case"EdgeUpdated":("source"===s.propertyName||"target"===s.propertyName)&&(o.add(s.oldValue),o.add(s.newValue));break;case"EdgeDataUpdated":if(r.graph.hasEdge(s.id)){const a=r.graph.getEdge(s.id);o.add(a.source),o.add(a.target)}}}),this.updateCache(o)}),this.graph=e.graph;const t=e.nodeFilter||T4,i=e.edgeFilter||T4;this.nodeFilter=t,this.edgeFilter=r=>{const{source:o,target:s}=this.graph.getEdgeDetail(r.id);return!(!t(o)||!t(s))&&i(r,o,s)},"auto"===e.cache?(this.cacheEnabled=!0,this.startAutoCache()):this.cacheEnabled="manual"===e.cache}startAutoCache(){this.refreshCache(),this.graph.on("changed",this.handleGraphChanged)}stopAutoCache(){this.graph.off("changed",this.handleGraphChanged)}checkNodeExistence(e){this.getNode(e)}hasNode(e){if(!this.graph.hasNode(e))return!1;const t=this.graph.getNode(e);return this.nodeFilter(t)}areNeighbors(e,t){return this.checkNodeExistence(e),this.getNeighbors(t).some(i=>i.id===e)}getNode(e){const t=this.graph.getNode(e);if(!this.nodeFilter(t))throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){return this.checkNodeExistence(e),this.cacheEnabled?"in"===t?this.inEdgesMap.get(e):"out"===t?this.outEdgesMap.get(e):this.bothEdgesMap.get(e):this.graph.getRelatedEdges(e,t).filter(this.edgeFilter)}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map(i=>this.getNode(i.target));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map(i=>this.getNode(i.source));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),i=this.getSuccessors(e);return Array.from(new Set([...t,...i]))}hasEdge(e){if(!this.graph.hasEdge(e))return!1;const t=this.graph.getEdge(e);return this.edgeFilter(t)}getEdge(e){const t=this.graph.getEdge(e);if(!this.edgeFilter(t))throw new Error("Edge not found for id: "+e);return t}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}hasTreeStructure(e){return this.graph.hasTreeStructure(e)}getRoots(e){return this.graph.getRoots(e).filter(this.nodeFilter)}getChildren(e,t){return this.checkNodeExistence(e),this.graph.getChildren(e,t).filter(this.nodeFilter)}getParent(e,t){this.checkNodeExistence(e);const i=this.graph.getParent(e,t);return i&&this.nodeFilter(i)?i:null}getAllNodes(){return this.cacheEnabled?Array.from(this.allNodesMap.values()):this.graph.getAllNodes().filter(this.nodeFilter)}getAllEdges(){return this.cacheEnabled?Array.from(this.allEdgesMap.values()):this.graph.getAllEdges().filter(this.edgeFilter)}bfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];Hk([this.getNode(e)],new Set,t,r)}dfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];uC(this.getNode(e),new Set,t,r)}}let Gs=class Dit extends o1{constructor(e){super(),gi(this,"nodeMap",new Map),gi(this,"edgeMap",new Map),gi(this,"inEdgesMap",new Map),gi(this,"outEdgesMap",new Map),gi(this,"bothEdgesMap",new Map),gi(this,"treeIndices",new Map),gi(this,"changes",[]),gi(this,"batchCount",0),gi(this,"onChanged",()=>{}),gi(this,"batch",t=>{this.batchCount+=1,t(),this.batchCount-=1,this.batchCount||this.commit()}),e&&(e.nodes&&this.addNodes(e.nodes),e.edges&&this.addEdges(e.edges),e.tree&&this.addTree(e.tree),e.onChanged&&(this.onChanged=e.onChanged))}commit(){const e=this.changes;this.changes=[];const t={graph:this,changes:e};this.emit("changed",t),this.onChanged(t)}reduceChanges(e){let t=[];return e.forEach(i=>{switch(i.type){case"NodeRemoved":{let r=!1;t=t.filter(o=>{if("NodeAdded"===o.type){const s=o.value.id===i.value.id;return s&&(r=!0),!s}return"NodeDataUpdated"===o.type?o.id!==i.value.id:"TreeStructureChanged"!==o.type||o.nodeId!==i.value.id}),r||t.push(i);break}case"EdgeRemoved":{let r=!1;t=t.filter(o=>{if("EdgeAdded"===o.type){const s=o.value.id===i.value.id;return s&&(r=!0),!s}return"EdgeDataUpdated"!==o.type&&"EdgeUpdated"!==o.type||o.id!==i.value.id}),r||t.push(i);break}case"NodeDataUpdated":case"EdgeDataUpdated":case"EdgeUpdated":{const r=t.findIndex(s=>s.type===i.type&&s.id===i.id&&(void 0===i.propertyName||s.propertyName===i.propertyName)),o=t[r];o?void 0!==i.propertyName?o.newValue=i.newValue:(t.splice(r,1),t.push(i)):t.push(i);break}case"TreeStructureDetached":t=t.filter(r=>"TreeStructureAttached"!==r.type&&"TreeStructureChanged"!==r.type||r.treeKey!==i.treeKey),t.push(i);break;case"TreeStructureChanged":{const r=t.find(o=>"TreeStructureChanged"===o.type&&o.treeKey===i.treeKey&&o.nodeId===i.nodeId);r?r.newParentId=i.newParentId:t.push(i);break}default:t.push(i)}}),t}checkNodeExistence(e){this.getNode(e)}hasNode(e){return this.nodeMap.has(e)}areNeighbors(e,t){return this.getNeighbors(t).some(i=>i.id===e)}getNode(e){const t=this.nodeMap.get(e);if(!t)throw new Error("Node not found for id: "+e);return t}getRelatedEdges(e,t){if(this.checkNodeExistence(e),"in"===t){const i=this.inEdgesMap.get(e);return Array.from(i)}if("out"===t){const i=this.outEdgesMap.get(e);return Array.from(i)}{const i=this.bothEdgesMap.get(e);return Array.from(i)}}getDegree(e,t){return this.getRelatedEdges(e,t).length}getSuccessors(e){const t=this.getRelatedEdges(e,"out").map(i=>this.getNode(i.target));return Array.from(new Set(t))}getPredecessors(e){const t=this.getRelatedEdges(e,"in").map(i=>this.getNode(i.source));return Array.from(new Set(t))}getNeighbors(e){const t=this.getPredecessors(e),i=this.getSuccessors(e);return Array.from(new Set([...t,...i]))}doAddNode(e){if(this.hasNode(e.id))throw new Error("Node already exists: "+e.id);this.nodeMap.set(e.id,e),this.inEdgesMap.set(e.id,new Set),this.outEdgesMap.set(e.id,new Set),this.bothEdgesMap.set(e.id,new Set),this.treeIndices.forEach(t=>{t.childrenMap.set(e.id,new Set)}),this.changes.push({type:"NodeAdded",value:e})}addNodes(e){this.batch(()=>{for(const t of e)this.doAddNode(t)})}addNode(e){this.addNodes([e])}doRemoveNode(e){const t=this.getNode(e),i=this.bothEdgesMap.get(e);i?.forEach(r=>this.doRemoveEdge(r.id)),this.nodeMap.delete(e),this.treeIndices.forEach(r=>{var o,s;null==(o=r.childrenMap.get(e))||o.forEach(l=>{r.parentMap.delete(l.id)});const a=r.parentMap.get(e);a&&(null==(s=r.childrenMap.get(a.id))||s.delete(t)),r.parentMap.delete(e),r.childrenMap.delete(e)}),this.bothEdgesMap.delete(e),this.inEdgesMap.delete(e),this.outEdgesMap.delete(e),this.changes.push({type:"NodeRemoved",value:t})}removeNodes(e){this.batch(()=>{e.forEach(t=>this.doRemoveNode(t))})}removeNode(e){this.removeNodes([e])}updateNodeDataProperty(e,t,i){const r=this.getNode(e);this.batch(()=>{const o=r.data[t],s=i;r.data[t]=s,this.changes.push({type:"NodeDataUpdated",id:e,propertyName:t,oldValue:o,newValue:s})})}mergeNodeData(e,t){this.batch(()=>{Object.entries(t).forEach(([i,r])=>{this.updateNodeDataProperty(e,i,r)})})}updateNodeData(...e){const t=e[0],i=this.getNode(t);if("string"==typeof e[1])return void this.updateNodeDataProperty(t,e[1],e[2]);let r;"function"==typeof e[1]?r=(0,e[1])(i.data):"object"==typeof e[1]&&(r=e[1]),this.batch(()=>{const o=i.data,s=r;i.data=r,this.changes.push({type:"NodeDataUpdated",id:t,oldValue:o,newValue:s})})}checkEdgeExistence(e){if(!this.hasEdge(e))throw new Error("Edge not found for id: "+e)}hasEdge(e){return this.edgeMap.has(e)}getEdge(e){return this.checkEdgeExistence(e),this.edgeMap.get(e)}getEdgeDetail(e){const t=this.getEdge(e);return{edge:t,source:this.getNode(t.source),target:this.getNode(t.target)}}doAddEdge(e){if(this.hasEdge(e.id))throw new Error("Edge already exists: "+e.id);this.checkNodeExistence(e.source),this.checkNodeExistence(e.target),this.edgeMap.set(e.id,e);const t=this.inEdgesMap.get(e.target),i=this.outEdgesMap.get(e.source),r=this.bothEdgesMap.get(e.source),o=this.bothEdgesMap.get(e.target);t.add(e),i.add(e),r.add(e),o.add(e),this.changes.push({type:"EdgeAdded",value:e})}addEdges(e){this.batch(()=>{for(const t of e)this.doAddEdge(t)})}addEdge(e){this.addEdges([e])}doRemoveEdge(e){const t=this.getEdge(e),i=this.outEdgesMap.get(t.source),r=this.inEdgesMap.get(t.target),o=this.bothEdgesMap.get(t.source),s=this.bothEdgesMap.get(t.target);i.delete(t),r.delete(t),o.delete(t),s.delete(t),this.edgeMap.delete(e),this.changes.push({type:"EdgeRemoved",value:t})}removeEdges(e){this.batch(()=>{e.forEach(t=>this.doRemoveEdge(t))})}removeEdge(e){this.removeEdges([e])}updateEdgeSource(e,t){const i=this.getEdge(e);this.checkNodeExistence(t);const r=i.source,o=t;this.outEdgesMap.get(r).delete(i),this.bothEdgesMap.get(r).delete(i),this.outEdgesMap.get(o).add(i),this.bothEdgesMap.get(o).add(i),i.source=t,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"source",oldValue:r,newValue:o})})}updateEdgeTarget(e,t){const i=this.getEdge(e);this.checkNodeExistence(t);const r=i.target,o=t;this.inEdgesMap.get(r).delete(i),this.bothEdgesMap.get(r).delete(i),this.inEdgesMap.get(o).add(i),this.bothEdgesMap.get(o).add(i),i.target=t,this.batch(()=>{this.changes.push({type:"EdgeUpdated",id:e,propertyName:"target",oldValue:r,newValue:o})})}updateEdgeDataProperty(e,t,i){const r=this.getEdge(e);this.batch(()=>{const o=r.data[t],s=i;r.data[t]=s,this.changes.push({type:"EdgeDataUpdated",id:e,propertyName:t,oldValue:o,newValue:s})})}updateEdgeData(...e){const t=e[0],i=this.getEdge(t);if("string"==typeof e[1])return void this.updateEdgeDataProperty(t,e[1],e[2]);let r;"function"==typeof e[1]?r=(0,e[1])(i.data):"object"==typeof e[1]&&(r=e[1]),this.batch(()=>{const o=i.data,s=r;i.data=r,this.changes.push({type:"EdgeDataUpdated",id:t,oldValue:o,newValue:s})})}mergeEdgeData(e,t){this.batch(()=>{Object.entries(t).forEach(([i,r])=>{this.updateEdgeDataProperty(e,i,r)})})}checkTreeExistence(e){if(!this.hasTreeStructure(e))throw new Error("Tree structure not found for treeKey: "+e)}hasTreeStructure(e){return this.treeIndices.has(e)}attachTreeStructure(e){this.treeIndices.has(e)||(this.treeIndices.set(e,{parentMap:new Map,childrenMap:new Map}),this.batch(()=>{this.changes.push({type:"TreeStructureAttached",treeKey:e})}))}detachTreeStructure(e){this.checkTreeExistence(e),this.treeIndices.delete(e),this.batch(()=>{this.changes.push({type:"TreeStructureDetached",treeKey:e})})}addTree(e,t){this.batch(()=>{this.attachTreeStructure(t);const i=[],r=Array.isArray(e)?e:[e];for(;r.length;){const o=r.shift();i.push(o),o.children&&r.push(...o.children)}this.addNodes(i),i.forEach(o=>{var s;null==(s=o.children)||s.forEach(a=>{this.setParent(a.id,o.id,t)})})})}getRoots(e){return this.checkTreeExistence(e),this.getAllNodes().filter(t=>!this.getParent(t.id,e))}getChildren(e,t){this.checkNodeExistence(e),this.checkTreeExistence(t);const i=this.treeIndices.get(t).childrenMap.get(e);return Array.from(i||[])}getParent(e,t){return this.checkNodeExistence(e),this.checkTreeExistence(t),this.treeIndices.get(t).parentMap.get(e)||null}getAncestors(e,t){const i=[];let o,r=this.getNode(e);for(;o=this.getParent(r.id,t);)i.push(o),r=o;return i}setParent(e,t,i){var r,o;this.checkTreeExistence(i);const s=this.treeIndices.get(i),a=this.getNode(e),l=s.parentMap.get(e);if(l?.id===t)return;if(void 0===t)return l&&(null==(r=s.childrenMap.get(l.id))||r.delete(a)),void s.parentMap.delete(e);const u=this.getNode(t);s.parentMap.set(e,u),l&&(null==(o=s.childrenMap.get(l.id))||o.delete(a));let h=s.childrenMap.get(u.id);h||(h=new Set,s.childrenMap.set(u.id,h)),h.add(a),this.batch(()=>{this.changes.push({type:"TreeStructureChanged",treeKey:i,nodeId:e,oldParentId:l?.id,newParentId:u.id})})}dfsTree(e,t,i){return uC(this.getNode(e),new Set,t,o=>this.getChildren(o,i))}bfsTree(e,t,i){return Hk([this.getNode(e)],new Set,t,o=>this.getChildren(o,i))}getAllNodes(){return Array.from(this.nodeMap.values())}getAllEdges(){return Array.from(this.edgeMap.values())}bfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];return Hk([this.getNode(e)],new Set,t,r)}dfs(e,t,i="out"){const r={in:this.getPredecessors.bind(this),out:this.getSuccessors.bind(this),both:this.getNeighbors.bind(this)}[i];return uC(this.getNode(e),new Set,t,r)}clone(){const e=this.getAllNodes().map(r=>({...r,data:{...r.data}})),t=this.getAllEdges().map(r=>({...r,data:{...r.data}})),i=new Dit({nodes:e,edges:t});return this.treeIndices.forEach(({parentMap:r,childrenMap:o},s)=>{const a=new Map;r.forEach((u,h)=>{a.set(h,i.getNode(u.id))});const l=new Map;o.forEach((u,h)=>{l.set(h,new Set(Array.from(u).map(p=>i.getNode(p.id))))}),i.treeIndices.set(s,{parentMap:a,childrenMap:l})}),i}toJSON(){return JSON.stringify({nodes:this.getAllNodes(),edges:this.getAllEdges()})}createView(e){return new x7({graph:this,...e})}};class fs{constructor(e,t){this.context=e,this.options=t||{}}}function $0(n){const{nodes:e,edges:t}=n,i={nodes:[],edges:[],combos:[]};return e.forEach(r=>{const o=r.data._isCombo?i.combos:i.nodes,{x:s,y:a,z:l=0}=r.data;o?.push({id:r.id,style:{x:s,y:a,z:l}})}),t.forEach(r=>{const{id:o,source:s,target:a,data:{points:l=[],controlPoints:u=l.slice(1,l.length-1)}}=r;i.edges.push({id:o,source:s,target:a,style:Object.assign({},null!=u&&u.length?{controlPoints:u.map(sa)}:{})})}),i}function C7(n,e){return class t extends fs{constructor(r,o){if(super(r,o),this.instance=new n({}),this.id=this.instance.id,"stop"in this.instance&&"tick"in this.instance){const s=this.instance;this.stop=s.stop.bind(s),this.tick=a=>$0(s.tick(a))}}execute(r,o){return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return $0(yield this.instance.execute(this.graphData2LayoutModel(r),this.transformOptions(ya({},this.options,o))))})}transformOptions(r){const{onTick:o}=r;return o&&(r.onTick=s=>o($0(s))),r}graphData2LayoutModel(r){const{nodes:o=[],edges:s=[],combos:a=[]}=r,l=o.map(y=>{const b=Ge(y),{data:E,style:w,combo:S}=y,C=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(y,["data","style","combo"]),D={id:b,data:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),{data:E}),S?{parentId:S}:{}),{style:w}),C)};return null!=w&&w.x&&Object.assign(D.data,{x:w.x}),null!=w&&w.y&&Object.assign(D.data,{y:w.y}),null!=w&&w.z&&Object.assign(D.data,{z:w.z}),D}),u=new Map(l.map(y=>[y.id,y])),h=s.filter(y=>{const{source:b,target:E}=y;return u.has(b)&&u.has(E)}).map(y=>{const{source:b,target:E,data:w,style:S}=y;return{id:Ge(y),source:b,target:E,data:Object.assign({},w),style:Object.assign({},S)}}),p=a.map(y=>({id:Ge(y),data:Object.assign({_isCombo:!0},y.data),style:Object.assign({},y.style)})),v=new Gs({nodes:[...l,...p],edges:h});return e.model.model.hasTreeStructure(yo)&&(v.attachTreeStructure(yo),l.forEach(y=>{const b=e.model.model.getParent(y.id,yo);b&&v.hasNode(b.id)&&v.setParent(y.id,b.id,yo)})),v}}}function dC(n,e,...t){if(e in n)return n[e](...t);if("instance"in n){const i=n.instance;if(e in i)return i[e](...t)}return null}function A4(n,e){if(e in n)return n[e];if("instance"in n){const t=n.instance;if(e in t)return t[e]}return null}var $k=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let Wk=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isZoomEvent=r=>!(!r.data||!("scale"in r.data)),this.relatedEdgeToUpdate=new Set,this.zoom=this.context.graph.getZoom(),this.fixElementSize=r=>$k(this,void 0,void 0,function*(){if(!this.validate(r))return;const{graph:o}=this.context,{state:s,nodeFilter:a,edgeFilter:l,comboFilter:u}=this.options,h=(s?o.getElementDataByState("node",s):o.getNodeData()).filter(a),p=(s?o.getElementDataByState("edge",s):o.getEdgeData()).filter(l),v=(s?o.getElementDataByState("combo",s):o.getComboData()).filter(u),y=this.isZoomEvent(r)?this.zoom=Math.max(.01,Math.min(r.data.scale,10)):this.zoom,b=[...h,...v];b.length>0&&b.forEach(E=>this.fixNodeLike(E,y)),this.updateRelatedEdges(),p.length>0&&p.forEach(E=>this.fixEdge(E,y))}),this.cachedStyles=new Map,this.getOriginalFieldValue=(r,o,s)=>{var a;const l=this.cachedStyles.get(r)||[],u=(null===(a=l.find(h=>h.shape===o))||void 0===a?void 0:a.style)||{};return s in u||(u[s]=o.attributes[s],this.cachedStyles.set(r,[...l.filter(h=>h.shape!==o),{shape:o,style:u}])),u[s]},this.scaleEntireElement=(r,o,s)=>{o.setLocalScale(1/s);const a=this.cachedStyles.get(r)||[];a.push({shape:o}),this.cachedStyles.set(r,a)},this.scaleSpecificShapes=(r,o,s)=>{const a=function DF(n){const e=[],t=i=>{null!=i&&i.children.length&&i.children.forEach(r=>{e.push(r),t(r)})};return t(n),e}(r);(Array.isArray(s)?s:[s]).forEach(l=>{const{shape:u,fields:h}=l,p="function"==typeof u?u(a):r.getShape(u);if(p){if(!h)return void this.scaleEntireElement(r.id,p,o);h.forEach(v=>{const y=this.getOriginalFieldValue(r.id,p,v);Zn(y)&&(p.style[v]=y/o)})}})},this.skipIfExceedViewport=r=>{const{viewport:o}=this.context;return!(null!=o&&o.isInViewport(r.getRenderBounds(),!1,30))},this.fixNodeLike=(r,o)=>{const s=Ge(r),{element:a,model:l}=this.context,u=a.getElement(s);if(!u||this.skipIfExceedViewport(u))return;l.getRelatedEdgesData(s).forEach(p=>this.relatedEdgeToUpdate.add(Ge(p)));const h=this.options[u.type];h?this.scaleSpecificShapes(u,o,h):this.scaleEntireElement(s,u,o)},this.fixEdge=(r,o)=>{const s=Ge(r),a=this.context.element.getElement(s);if(!a||this.skipIfExceedViewport(a))return;const l=this.options.edge;if(!l)return a.style.transformOrigin="center",void this.scaleEntireElement(s,a,o);this.scaleSpecificShapes(a,o,l)},this.updateRelatedEdges=()=>{const{element:r}=this.context;this.relatedEdgeToUpdate.size>0&&this.relatedEdgeToUpdate.forEach(o=>{const s=r.getElement(o);s?.update({})}),this.relatedEdgeToUpdate.clear()},this.resetTransform=()=>$k(this,void 0,void 0,function*(){this.options.reset?this.restoreCachedStyles():this.fixElementSize({data:{scale:this.zoom}})}),this.bindEvents()}restoreCachedStyles(){if(this.cachedStyles.size>0){this.cachedStyles.forEach(o=>{o.forEach(({shape:s,style:a})=>{if(_u(a))s.setLocalScale(1);else{if(this.options.state)return;Object.entries(a).forEach(([l,u])=>s.style[l]=u)}})});const{graph:t,element:i}=this.context,r=Object.keys(Object.fromEntries(this.cachedStyles)).filter(o=>o&&"node"===t.getElementType(o));if(r.length>0){const o=new Set;r.forEach(s=>{t.getRelatedEdgesData(s).forEach(a=>o.add(Ge(a)))}),o.forEach(s=>{const a=i?.getElement(s);a?.update({})})}}}bindEvents(){const{graph:t}=this.context;t.on(An.AFTER_DRAW,this.resetTransform),t.on(An.AFTER_TRANSFORM,this.fixElementSize)}unbindEvents(){const{graph:t}=this.context;t.off(An.AFTER_DRAW,this.resetTransform),t.off(An.AFTER_TRANSFORM,this.fixElementSize)}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={enable:e=>e.data.scale<1,nodeFilter:()=>!0,edgeFilter:()=>!0,comboFilter:()=>!0,edge:[{shape:"key",fields:["lineWidth"]},{shape:"halo",fields:["lineWidth"]},{shape:"label"}],reset:!1},n})();let Xk=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.focus=r=>function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(!this.validate(r))return;const{graph:o}=this.context;yield o.focusElement(r.target.id,this.options.animation)}),this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),Kh.forEach(i=>{t.on(`${i}:${pn.CLICK}`,this.focus)})}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;Kh.forEach(i=>{t.off(`${i}:${pn.CLICK}`,this.focus)})}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:{easing:"ease-in",duration:500},enable:!0},n})(),Yk=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.isFrozen=!1,this.toggleFrozen=r=>{this.isFrozen="dragstart"===r.type},this.hoverElement=r=>{if(!this.validate(r))return;const o=r.type===pn.POINTER_ENTER;this.updateElementsState(r,o);const{onHover:s,onHoverEnd:a}=this.options;o?s?.(r):a?.(r)},this.updateElementsState=(r,o)=>{if(!this.options.state&&!this.options.inactiveState)return;const{graph:s}=this.context,{state:a,animation:l,inactiveState:u}=this.options,h=this.getActiveIds(r),p={};if(a&&Object.assign(p,this.getElementsState(h,a,o)),u){const v=bA(s.getData(),!0).filter(y=>!h.includes(y));Object.assign(p,this.getElementsState(v,u,o))}s.setElementState(p,l)},this.getElementsState=(r,o,s)=>{const{graph:a}=this.context,l={};return r.forEach(u=>{const h=a.getElementState(u);l[u]=s?h.includes(o)?h:[...h,o]:h.filter(p=>p!==o)}),l},this.bindEvents()}bindEvents(){const{graph:t}=this.context;this.unbindEvents(),Kh.forEach(r=>{t.on(`${r}:${pn.POINTER_ENTER}`,this.hoverElement),t.on(`${r}:${pn.POINTER_LEAVE}`,this.hoverElement)});const i=this.context.canvas.document;i.addEventListener(`${pn.DRAG_START}`,this.toggleFrozen),i.addEventListener(`${pn.DRAG_END}`,this.toggleFrozen)}getActiveIds(t){const{graph:i}=this.context,{degree:r,direction:o}=this.options,s=t.target.id;return r?A_(i,t.targetType,s,"function"==typeof r?r(t):r,o):[s]}validate(t){if(this.destroyed||this.isFrozen||t1(t.target)||this.context.graph.isCollapsingExpanding)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}unbindEvents(){const{graph:t}=this.context;Kh.forEach(r=>{t.off(`${r}:${pn.POINTER_ENTER}`,this.hoverElement),t.off(`${r}:${pn.POINTER_LEAVE}`,this.hoverElement)});const i=this.context.canvas.document;i.removeEventListener(`${pn.DRAG_START}`,this.toggleFrozen),i.removeEventListener(`${pn.DRAG_END}`,this.toggleFrozen)}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={animation:!1,enable:!0,degree:0,direction:"both",state:"active",inactiveState:void 0},n})(),I4=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.hiddenShapes=[],this.isVisible=!0,this.setElementsVisibility=(r,o,s)=>{r.filter(Boolean).forEach(a=>{"hidden"!==o||a.isVisible()?"visible"===o&&this.hiddenShapes.includes(a)?this.hiddenShapes.splice(this.hiddenShapes.indexOf(a),1):sp(a,o,!1,s):this.hiddenShapes.push(a)})},this.filterShapes=(r,o)=>{if($n(o))return a=>!o(r,a);const s=o?.[r];return a=>!a.className||!(null!=s&&s.includes(a.className))},this.hideShapes=r=>{if(!this.validate(r)||!this.isVisible)return;const{element:o}=this.context,{shapes:s={}}=this.options;this.setElementsVisibility(o.getNodes(),"hidden",this.filterShapes("node",s)),this.setElementsVisibility(o.getEdges(),"hidden",this.filterShapes("edge",s)),this.setElementsVisibility(o.getCombos(),"hidden",this.filterShapes("combo",s)),this.isVisible=!1},this.showShapes=Of(r=>{if(!this.validate(r)||this.isVisible)return;const{element:o}=this.context;this.setElementsVisibility(o.getNodes(),"visible"),this.setElementsVisibility(o.getEdges(),"visible"),this.setElementsVisibility(o.getCombos(),"visible"),this.isVisible=!0},this.options.debounce),this.bindEvents()}bindEvents(){const{graph:t}=this.context;t.on(An.BEFORE_TRANSFORM,this.hideShapes),t.on(An.AFTER_TRANSFORM,this.showShapes)}unbindEvents(){const{graph:t}=this.context;t.off(An.BEFORE_TRANSFORM,this.hideShapes),t.off(An.AFTER_TRANSFORM,this.showShapes)}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={enable:!0,debounce:200,shapes:e=>"node"===e},n})();var fC=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let R4=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.onWheel=r=>fC(this,void 0,void 0,function*(){this.options.preventDefault&&r.preventDefault();const o=r.deltaX,s=r.deltaY;yield this.scroll([-o,-s],r)}),this.shortcut=new Id(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){var t,i;const{trigger:r}=this.options;if(this.shortcut.unbindAll(),Dr(r)){null===(t=this.graphDom)||void 0===t||t.removeEventListener(pn.WHEEL,this.onWheel);const{up:o=[],down:s=[],left:a=[],right:l=[]}=r;this.shortcut.bind(o,u=>this.scroll([0,-10],u)),this.shortcut.bind(s,u=>this.scroll([0,10],u)),this.shortcut.bind(a,u=>this.scroll([-10,0],u)),this.shortcut.bind(l,u=>this.scroll([10,0],u))}else null===(i=this.graphDom)||void 0===i||i.addEventListener(pn.WHEEL,this.onWheel,{passive:!1})}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}formatDisplacement(t){const{sensitivity:i}=this.options;return t=Nu(t,i),t=this.clampByDirection(t),this.clampByRange(t)}clampByDirection([t,i]){const{direction:r}=this.options;return"x"===r?i=0:"y"===r&&(t=0),[t,i]}clampByRange([t,i]){const{viewport:r,canvas:o}=this.context,[s,a]=o.getSize(),[l,u,h,p]=Dd(this.options.range),v=[a*l,s*u,a*h,s*p],y=Hh(o2(r.getCanvasCenter()),v),b=ro(r.getViewportCenter(),[t,i,0]);if(!hc(b,y)){const{min:[E,w],max:[S,C]}=y;(b[0]<E&&t>0||b[0]>S&&t<0)&&(t=0),(b[1]<w&&i>0||b[1]>C&&i<0)&&(i=0)}return[t,i]}scroll(t,i){return fC(this,void 0,void 0,function*(){if(!this.validate(i))return;const{onFinish:r}=this.options,o=this.context.graph,s=this.formatDisplacement(t);yield o.translateBy(s,!1),r?.()})}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}destroy(){var t;this.shortcut.destroy(),null===(t=this.graphDom)||void 0===t||t.removeEventListener(pn.WHEEL,this.onWheel),super.destroy()}}return n.defaultOptions={enable:!0,sensitivity:1,preventDefault:!0,range:1/0},n})();var pC=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let l1=(()=>{class n extends zs{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.zoom=(r,o,s)=>pC(this,void 0,void 0,function*(){if(!this.validate(o))return;const{graph:a}=this.context;let l;"viewport"in o&&(l=sa(o.viewport));const{sensitivity:u,onFinish:h}=this.options,p=1+Mo(r,-50,50)*u/100,v=a.getZoom();yield a.zoomTo(v*p,s,l),h?.()}),this.onReset=()=>pC(this,void 0,void 0,function*(){yield this.context.graph.zoomTo(1,this.options.animation)}),this.preventDefault=r=>{this.options.preventDefault&&r.preventDefault()},this.shortcut=new Id(t.graph),this.bindEvents()}update(t){super.update(t),this.bindEvents()}bindEvents(){var t;const{trigger:i}=this.options;if(this.shortcut.unbindAll(),Array.isArray(i)&&(null===(t=this.context.canvas.getContainer())||void 0===t||t.addEventListener(pn.WHEEL,this.preventDefault),this.shortcut.bind([...i,pn.WHEEL],r=>{const{deltaX:o,deltaY:s}=r;this.zoom(-(s??o),r,!1)})),"object"==typeof i){const{zoomIn:r=[],zoomOut:o=[],reset:s=[]}=i;this.shortcut.bind(r,a=>this.zoom(10,a,this.options.animation)),this.shortcut.bind(o,a=>this.zoom(-10,a,this.options.animation)),this.shortcut.bind(s,this.onReset)}}validate(t){if(this.destroyed)return!1;const{enable:i}=this.options;return $n(i)?i(t):!!i}destroy(){var t;this.shortcut.destroy(),null===(t=this.context.canvas.getContainer())||void 0===t||t.removeEventListener(pn.WHEEL,this.preventDefault),super.destroy()}}return n.defaultOptions={animation:{duration:200},enable:!0,sensitivity:1,trigger:[],preventDefault:!0},n})();var Wc={assign:Object.assign,getHeight:function W0(n,e,t,i){return void 0===i&&(i="height"),"center"===t?(n[i]+e[i])/2:n.height}},mC=Wc,D7={getId:function(n){return n.id||n.name},getPreH:function(n){return n.preH||0},getPreV:function(n){return n.preV||0},getHGap:function(n){return n.hgap||18},getVGap:function(n){return n.vgap||18},getChildren:function(n){return n.children},getHeight:function(n){return n.height||36},getWidth:function(n){return n.width||18*(n.label||" ").split("").length}};function u1(n,e){var t=this;if(t.vgap=t.hgap=0,n instanceof u1)return n;t.data=n;var i=e.getHGap(n),r=e.getVGap(n);return t.preH=e.getPreH(n),t.preV=e.getPreV(n),t.width=e.getWidth(n),t.height=e.getHeight(n),t.width+=t.preH,t.height+=t.preV,t.id=e.getId(n),t.x=t.y=0,t.depth=0,t.children||(t.children=[]),t.addGap(i,r),t}mC.assign(u1.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(n,e){var t=this;t.hgap+=n,t.vgap+=e,t.width+=2*n,t.height+=2*e},eachNode:function(n){for(var i,t=[this];i=t.shift();)n(i),t=i.children.concat(t)},DFTraverse:function(n){this.eachNode(n)},BFTraverse:function(n){for(var i,t=[this];i=t.shift();)n(i),t=t.concat(i.children)},getBoundingBox:function(){var n={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){n.left=Math.min(n.left,e.x),n.top=Math.min(n.top,e.y),n.width=Math.max(n.width,e.x+e.width),n.height=Math.max(n.height,e.y+e.height)}),n},translate:function(n,e){void 0===n&&(n=0),void 0===e&&(e=0),this.eachNode(function(t){t.x+=n,t.y+=e,t.x+=t.preH,t.y+=t.preV})},right2left:function(){var n=this,e=n.getBoundingBox();n.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),n.translate(e.width,0)},bottom2top:function(){var n=this,e=n.getBoundingBox();n.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),n.translate(0,e.height)}});var L4=function N4(n,e,t){void 0===e&&(e={});var o,i=new u1(n,e=mC.assign({},D7,e)),r=[i];if(!t&&!n.collapsed)for(;o=r.shift();)if(!o.data.collapsed){var s=e.getChildren(o.data),a=s?s.length:0;if(o.children=new Array(a),s&&a)for(var l=0;l<a;l++){var u=new u1(s[l],e);o.children[l]=u,r.push(u),u.parent=o,u.depth=o.depth+1}}return i},Zk=L4,Qk=function(){function n(t,i){void 0===i&&(i={}),this.options=i,this.rootNode=Zk(t,i)}return n.prototype.execute=function(){throw new Error("please override this method")},n}(),gC=Qk;function tf(n,e,t,i){void 0===i&&(i=[]);var r=this;r.w=n||0,r.h=e||0,r.y=t||0,r.x=0,r.c=i||[],r.cs=i.length,r.prelim=0,r.mod=0,r.shift=0,r.change=0,r.tl=null,r.tr=null,r.el=null,r.er=null,r.msel=0,r.mser=0}function F4(n,e,t){t?n.y+=e:n.x+=e,n.children.forEach(function(i){F4(i,e,t)})}function B4(n,e){var t=e?n.y:n.x;return n.children.forEach(function(i){t=Math.min(B4(i,e),t)}),t}function O7(n,e){F4(n,-B4(n,e),e)}function qk(n,e,t){t?e.y=n.x:e.x=n.x,n.c.forEach(function(i,r){qk(i,e.children[r],t)})}function j4(n,e,t){void 0===t&&(t=0),e?(n.x=t,t+=n.width):(n.y=t,t+=n.height),n.children.forEach(function(i){j4(i,e,t)})}tf.fromNode=function(n,e){if(!n)return null;var t=[];return n.children.forEach(function(i){t.push(tf.fromNode(i,e))}),e?new tf(n.height,n.width,n.x,t):new tf(n.width,n.height,n.y,t)};var Jk=L4,tI=function(n,e){for(var t=Jk(n.data,e,!0),i=Jk(n.data,e,!0),r=n.children.length,o=Math.round(r/2),s=e.getSide||function(h,p){return p<o?"right":"left"},a=0;a<r;a++){var l=n.children[a];"right"===s(l,a)?i.children.push(l):t.children.push(l)}return t.eachNode(function(h){h.isRoot()||(h.side="left")}),i.eachNode(function(h){h.isRoot()||(h.side="right")}),{left:t,right:i}},A7=tI,Ld=["LR","RL","TB","BT","H","V"],V4=["LR","RL","H"],z4=Ld[0],d1=function(n,e,t){var i=e.direction||z4;if(e.isHorizontal=function(n){return V4.indexOf(n)>-1}(i),i&&-1===Ld.indexOf(i))throw new TypeError("Invalid direction: "+i);if(i===Ld[0])t(n,e);else if(i===Ld[1])t(n,e),n.right2left();else if(i===Ld[2])t(n,e);else if(i===Ld[3])t(n,e),n.bottom2top();else if(i===Ld[4]||i===Ld[5]){var r=A7(n,e),o=r.left,s=r.right;t(o,e),t(s,e),e.isHorizontal?o.right2left():o.bottom2top(),s.translate(o.x-s.x,o.y-s.y),n.x=o.x,n.y=s.y;var a=n.getBoundingBox();e.isHorizontal?a.top<0&&n.translate(0,-a.top):a.left<0&&n.translate(-a.left,0)}var l=e.fixedRoot;return void 0===l&&(l=!0),l&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),function U4(n,e){if(e.radial){var t=e.isHorizontal?["x","y"]:["y","x"],i=t[0],r=t[1],o={x:1/0,y:1/0},s={x:-1/0,y:-1/0},a=0;n.DFTraverse(function(h){a++;var p=h.x,v=h.y;o.x=Math.min(o.x,p),o.y=Math.min(o.y,v),s.x=Math.max(s.x,p),s.y=Math.max(s.y,v)});var l=s[r]-o[r];if(0===l)return;var u=2*Math.PI/a;n.DFTraverse(function(h){var p=(h[r]-o[r])/l*(2*Math.PI-u)+u,v=h[i]-n[i];h.x=Math.cos(p)*v,h.y=Math.sin(p)*v})}}(n,e),n};function vC(n,e){return(vC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var $4=function(n,e){void 0===e&&(e={});var t=e.isHorizontal;function r(C){0===C.cs?(C.el=C,C.er=C,C.msel=C.mser=0):(C.el=C.c[0].el,C.msel=C.c[0].msel,C.er=C.c[C.cs-1].er,C.mser=C.c[C.cs-1].mser)}function o(C,D,k){for(var T=C.c[D-1],I=T.mod,F=C.c[D],z=F.mod;null!==T&&null!==F;){u(T)>k.low&&(k=k.nxt);var V=I+T.prelim+T.w-(z+F.prelim);V>0&&(z+=V,s(C,D,k.index,V));var K=u(T),Y=u(F);K<=Y&&null!==(T=l(T))&&(I+=T.mod),K>=Y&&null!==(F=a(F))&&(z+=F.mod)}!T&&F?function h(C,D,k,T){var I=C.c[0].el;I.tl=k;var F=T-k.mod-C.c[0].msel;I.mod+=F,I.prelim-=F,C.c[0].el=C.c[D].el,C.c[0].msel=C.c[D].msel}(C,D,F,z):T&&!F&&function p(C,D,k,T){var I=C.c[D].er;I.tr=k;var F=T-k.mod-C.c[D].mser;I.mod+=F,I.prelim-=F,C.c[D].er=C.c[D-1].er,C.c[D].mser=C.c[D-1].mser}(C,D,T,I)}function s(C,D,k,T){C.c[D].mod+=T,C.c[D].msel+=T,C.c[D].mser+=T,function b(C,D,k,T){if(k!==D-1){var I=D-k;C.c[k+1].shift+=T/I,C.c[D].shift-=T/I,C.c[D].change-=T-T/I}}(C,D,k,T)}function a(C){return 0===C.cs?C.tl:C.c[0]}function l(C){return 0===C.cs?C.tr:C.c[C.cs-1]}function u(C){return C.y+C.h}function w(C,D,k){for(;null!==k&&C>=k.low;)k=k.nxt;return{low:C,index:D,nxt:k}}j4(n,t);var S=tf.fromNode(n,t);return function i(C){if(0!==C.cs){i(C.c[0]);for(var D=w(u(C.c[0].el),0,null),k=1;k<C.cs;++k){i(C.c[k]);var T=u(C.c[k].er);o(C,k,D),D=w(T,k,D)}(function v(C){C.prelim=(C.c[0].prelim+C.c[0].mod+C.c[C.cs-1].mod+C.c[C.cs-1].prelim+C.c[C.cs-1].w)/2-C.w/2})(C),r(C)}else r(C)}(S),function y(C,D){C.x=C.prelim+(D+=C.mod),function E(C){for(var D=0,k=0,T=0;T<C.cs;T++)C.c[T].mod+=k+=(D+=C.c[T].shift)+C.c[T].change}(C);for(var k=0;k<C.cs;k++)y(C.c[k],D)}(S,0),qk(S,n,t),O7(n,t),n},eI=d1,nI=Wc,I7=function(n){function e(){return n.apply(this,arguments)||this}return function G4(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,vC(n,e)}(e,n),e.prototype.execute=function(){return eI(this.rootNode,this.options,$4)},e}(gC),W4={},Y4=Wc;function iI(n,e){void 0===e&&(e=[]);var t=this;t.x=t.y=0,t.leftChild=t.rightChild=null,t.height=0,t.children=e}var rI={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function oI(n,e,t){t?(e.x=n.x,e.y=n.y):(e.x=n.y,e.y=n.x),n.children.forEach(function(i,r){oI(i,e.children[r],t)})}function lI(n,e){return(lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var K0=function(n,e){void 0===e&&(e={}),e=Y4.assign({},rI,e);var o,t=0,a=function i(l){if(!l)return null;l.width=0,l.depth&&l.depth>t&&(t=l.depth);var u=l.children,h=u.length,p=new iI(l.height,[]);return u.forEach(function(v,y){var b=i(v);p.children.push(b),0===y&&(p.leftChild=b),y===h-1&&(p.rightChild=b)}),p.originNode=l,p.isLeaf=l.isLeaf(),p}(n);return function r(l){if(l.isLeaf||0===l.children.length)l.drawingDepth=t;else{var u=l.children.map(function(p){return r(p)}),h=Math.min.apply(null,u);l.drawingDepth=h-1}return l.drawingDepth}(a),function s(l){l.x=l.drawingDepth*e.rankSep,l.isLeaf?(l.y=0,o&&(l.y=o.y+o.height+e.nodeSep,l.originNode.parent!==o.originNode.parent&&(l.y+=e.subTreeSep)),o=l):(l.children.forEach(function(u){s(u)}),l.y=(l.leftChild.y+l.rightChild.y)/2)}(a),oI(a,n,e.isHorizontal),n},yC=d1,cI=Wc,Q4=function(n){function e(){return n.apply(this,arguments)||this}return function aI(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,lI(n,e)}(e,n),e.prototype.execute=function(){var i=this;return i.rootNode.width=0,yC(i.rootNode,i.options,K0)},e}(gC),q4={},uI=Wc;function bC(n,e){return(bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var _C=function(n,e,t,i){var r=null;n.eachNode(function(o){(function dI(n,e,t,i,r){var o=("function"==typeof t?t(n):t)*n.depth;if(!i)try{if(n.id===n.parent.children[0].id)return n.x+=o,void(n.y=e?e.y:0)}catch{}if(n.x+=o,e){if(n.y=e.y+uI.getHeight(e,n,r),e.parent&&n.parent.id!==e.parent.id){var s=e.parent,a=s.y+uI.getHeight(s,n,r);n.y=a>n.y?a:n.y}}else n.y=0})(o,r,e,t,i),r=o})},e6=tI,P7=Wc,f1=["LR","RL","H"],N7=f1[0],n6=function(n){function e(){return n.apply(this,arguments)||this}return function R7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,bC(n,e)}(e,n),e.prototype.execute=function(){var r=this.options,o=this.rootNode;r.isHorizontal=!0;var s=r.indent,a=void 0===s?20:s,l=r.dropCap,u=void 0===l||l,h=r.direction,p=void 0===h?N7:h,v=r.align;if(p&&-1===f1.indexOf(p))throw new TypeError("Invalid direction: "+p);if(p===f1[0])_C(o,a,u,v);else if(p===f1[1])_C(o,a,u,v),o.right2left();else if(p===f1[2]){var y=e6(o,r),b=y.left,E=y.right;_C(b,a,u,v),b.right2left(),_C(E,a,u,v);var w=b.getBoundingBox();E.translate(w.width,0),o.x=E.x-o.width/2}return o},e}(gC),i6={},F7=Wc;function o6(n,e){var t=0;return n.children.length?n.children.forEach(function(i){t+=o6(i,e)}):t=n.height,n._subTreeSep=e.getSubTreeSep(n.data),n.totalHeight=Math.max(n.height,t)+2*n._subTreeSep,n.totalHeight}function s6(n){var e=n.children,t=e.length;if(t){e.forEach(function(l){s6(l)});var i=e[0],r=e[t-1],o=r.y-i.y+r.height,s=0;if(e.forEach(function(l){s+=l.totalHeight}),o>n.height)n.y=i.y+o/2-n.height/2;else if(1!==e.length||n.height>s){var a=n.y+(n.height-o)/2-i.y;e.forEach(function(l){l.translate(0,a)})}else n.y=(i.y+i.height/2+r.y+r.height/2)/2-n.height/2}}var B7={getSubTreeSep:function(){return 0}};function fI(n,e){return(fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t})(n,e)}var z7=function(n,e){void 0===e&&(e={}),e=F7.assign({},B7,e),n.parent={x:0,width:0,height:0,y:0},n.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),n.parent=null,o6(n,e),n.startY=0,n.y=n.totalHeight/2-n.height/2,n.eachNode(function(t){var i=t.children,r=i.length;if(r){var o=i[0];if(o.startY=t.startY+t._subTreeSep,1===r)o.y=t.y+t.height/2-o.height/2;else{o.y=o.startY+o.totalHeight/2-o.height/2;for(var s=1;s<r;s++){var a=i[s];a.startY=i[s-1].startY+i[s-1].totalHeight,a.y=a.startY+a.totalHeight/2-a.height/2}}}}),s6(n)},l6=d1,c6=Wc,u6=function(n){function e(){return n.apply(this,arguments)||this}return function j7(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,fI(n,e)}(e,n),e.prototype.execute=function(){return l6(this.rootNode,this.options,z7)},e}(gC),d6={},p1={compactBox:function K4(n,e){return e=nI.assign({},W4,e),new I7(n,e).execute()},dendrogram:function h1(n,e){return e=cI.assign({},q4,e),new Q4(n,e).execute()},indented:function r6(n,e){return e=P7.assign({},i6,e),new n6(n,e).execute()},mindmap:function h6(n,e){return e=c6.assign({},d6,e),new u6(n,e).execute()}};const U7=(n,e)=>{if("next"!==n&&"prev"!==n)return e},p6=n=>{n.prev.next=n.next,n.next.prev=n.prev,delete n.next,delete n.prev};let c=class{constructor(){const n={};n.prev=n,n.next=n.prev,this.shortcut=n}dequeue(){const n=this.shortcut,e=n.prev;if(e&&e!==n)return p6(e),e}enqueue(n){const e=this.shortcut;n.prev&&n.next&&p6(n),n.next=e.next,e.next.prev=n,e.next=n,n.prev=e}toString(){const n=[],e=this.shortcut;let t=e.prev;for(;t!==e;)n.push(JSON.stringify(t,U7)),t=t?.prev;return`[${n.join(", ")}]`}},d=class extends c{};const f=()=>1,M=(n,e,t,i,r)=>{var o,s;const a=[];return n.hasNode(i.v)&&(null===(o=n.getRelatedEdges(i.v,"in"))||void 0===o||o.forEach(l=>{const u=l.data.weight,h=n.getNode(l.source);r&&a.push({v:l.source,w:l.target,in:0,out:0}),void 0===h.data.out&&(h.data.out=0),h.data.out-=u,R(e,t,Object.assign({v:h.id},h.data))}),null===(s=n.getRelatedEdges(i.v,"out"))||void 0===s||s.forEach(l=>{const u=l.data.weight,p=n.getNode(l.target);void 0===p.data.in&&(p.data.in=0),p.data.in-=u,R(e,t,Object.assign({v:p.id},p.data))}),n.removeNode(i.v)),r?a:void 0},R=(n,e,t)=>{t.out?t.in?n[t.out-t.in+e].enqueue(t):n[n.length-1].enqueue(t):n[0].enqueue(t)},B=(n,e)=>{const t="greedy"===e?((n,e)=>{var t;if(n.getAllNodes().length<=1)return[];const i=((n,e)=>{const t=new Gs;let i=0,r=0;n.getAllNodes().forEach(l=>{t.addNode({id:l.id,data:{v:l.id,in:0,out:0}})}),n.getAllEdges().forEach(l=>{const u=t.getRelatedEdges(l.source,"out").find(p=>p.target===l.target),h=e?.(l)||1;u?t.updateEdgeData(u?.id,Object.assign(Object.assign({},u.data),{weight:u.data.weight+h})):t.addEdge({id:l.id,source:l.source,target:l.target,data:{weight:h}}),r=Math.max(r,t.getNode(l.source).data.out+=h),i=Math.max(i,t.getNode(l.target).data.in+=h)});const o=[],s=r+i+3;for(let l=0;l<s;l++)o.push(new d);const a=i+1;return t.getAllNodes().forEach(l=>{R(o,a,Object.assign({v:l.id},t.getNode(l.id).data))}),{buckets:o,zeroIdx:a,graph:t}})(n,e||f);return null===(t=((n,e,t)=>{let i=[];const r=e[e.length-1],o=e[0];let s;for(;n.getAllNodes().length;){for(;s=o.dequeue();)M(n,e,t,s);for(;s=r.dequeue();)M(n,e,t,s);if(n.getAllNodes().length)for(let a=e.length-2;a>0;--a)if(s=e[a].dequeue(),s){i=i.concat(M(n,e,t,s,!0));break}}return i})(i.graph,i.buckets,i.zeroIdx).map(r=>n.getRelatedEdges(r.v,"out").filter(({target:o})=>o===r.w)))||void 0===t?void 0:t.flat()})(n,(()=>r=>r.data.weight||1)()):X(n);t?.forEach(i=>{const r=i.data;n.removeEdge(i.id),r.forwardName=i.data.name,r.reversed=!0,n.addEdge({id:i.id,source:i.target,target:i.source,data:Object.assign({},r)})})},X=n=>{const e=[],t={},i={},r=o=>{i[o]||(i[o]=!0,t[o]=!0,n.getRelatedEdges(o,"out").forEach(s=>{t[s.target]?e.push(s):r(s.target)}),delete t[o])};return n.getAllNodes().forEach(o=>r(o.id)),e},St=(n,e)=>Number(n)-Number(e),oe=(n,e,t,i)=>{let r;do{r=`${i}${Math.random()}`}while(n.hasNode(r));return t.dummy=e,n.addNode({id:r,data:t}),r},Fe=n=>{const e=new Gs;return n.getAllNodes().forEach(t=>{n.getChildren(t.id).length||e.addNode(Object.assign({},t))}),n.getAllEdges().forEach(t=>{e.addEdge(t)}),e},jn=(n,e)=>{const t=Number(n.x),i=Number(n.y),r=Number(e.x)-t,o=Number(e.y)-i;let l,u,s=Number(n.width)/2,a=Number(n.height)/2;return r||o?(Math.abs(o)*s>Math.abs(r)*a?(o<0&&(a=-a),l=a*r/o,u=a):(r<0&&(s=-s),l=s,u=s*o/r),{x:t+l,y:i+u}):{x:0,y:0}},Gn=n=>{const e=[],t=oo(n)+1;for(let i=0;i<t;i++)e.push([]);n.getAllNodes().forEach(i=>{const r=i.data.rank;void 0!==r&&e[r]&&e[r].push(i.id)});for(let i=0;i<t;i++)e[i]=e[i].sort((r,o)=>St(n.getNode(r).data.order,n.getNode(o).data.order));return e},_r=(n,e,t,i)=>{const r={width:0,height:0};return Zn(t)&&Zn(i)&&(r.rank=t,r.order=i),oe(n,"border",r,e)},oo=n=>{let e;return n.getAllNodes().forEach(t=>{const i=t.data.rank;void 0!==i&&(void 0===e||i>e)&&(e=i)}),e||(e=0),e},Ea=(n,e)=>n.reduce((t,i)=>e(t)>e(i)?i:t),cp=(n,e,t,i,r,o)=>{i.includes(e.id)||(i.push(e.id),t||o.push(e.id),r(e.id).forEach(s=>cp(n,s,t,i,r,o)),t&&o.push(e.id))},EC=(n,e,t,i)=>{const r=Array.isArray(e)?e:[e],o=l=>n.getNeighbors(l),s=[],a=[];return r.forEach(l=>{if(!n.hasNode(l.id))throw new Error(`Graph does not have node: ${l}`);cp(n,l,"post"===t,a,o,s)}),s},G7=(n,e,t,i,r,o)=>{const a=r.data[e][o-1],l=oe(n,"border",{rank:o,borderType:e,width:0,height:0},t);r.data[e][o]=l,n.setParent(l,i),a&&n.addEdge({id:`e${Math.random()}`,source:a,target:l,data:{weight:1}})},H7=n=>{n.getAllNodes().forEach(e=>{$7(e)}),n.getAllEdges().forEach(e=>{$7(e)})},$7=n=>{const e=n.data.width;n.data.width=n.data.height,n.data.height=e},m6=n=>{null!=n&&n.y&&(n.y=-n.y)},g6=n=>{const e=n.x;n.x=n.y,n.y=e},W7=(n,e,t,i,r,o,s)=>{const a=n.getChildren(s);if(null==a||!a.length)return void(s!==e&&n.addEdge({id:`e${Math.random()}`,source:e,target:s,data:{weight:0,minlen:t}}));const l=_r(n,"_bt"),u=_r(n,"_bb"),h=n.getNode(s);n.setParent(l,s),h.data.borderTop=l,n.setParent(u,s),h.data.borderBottom=u,a?.forEach(p=>{W7(n,e,t,i,r,o,p.id);const v=p.data.borderTop?p.data.borderTop:p.id,y=p.data.borderBottom?p.data.borderBottom:p.id,b=p.data.borderTop?i:2*i,E=v!==y?1:r-o[s]+1;n.addEdge({id:`e${Math.random()}`,source:l,target:v,data:{minlen:E,weight:b,nestingEdge:!0}}),n.addEdge({id:`e${Math.random()}`,source:y,target:u,data:{minlen:E,weight:b,nestingEdge:!0}})}),n.getParent(s)||n.addEdge({id:`e${Math.random()}`,source:e,target:l,data:{weight:0,minlen:r+o[s]}})},K7="edge-label",Zit=(n,e,t)=>{const i=((n,e)=>n?.reduce((t,i,r)=>(t[i]=e[r],t),{}))(t,t.map((u,h)=>h)),r=e.map(u=>{const h=n.getRelatedEdges(u,"out").map(p=>({pos:i[p.target]||0,weight:p.data.weight}));return h?.sort((p,v)=>p.pos-v.pos)}).flat().filter(u=>void 0!==u);let o=1;for(;o<t.length;)o<<=1;const s=2*o-1;o-=1;const a=Array(s).fill(0,0,s);let l=0;return r?.forEach(u=>{if(u){let h=u.pos+o;a[h]+=u.weight;let p=0;for(;h>0;)h%2&&(p+=a[h+1]),h=h-1>>1,a[h]+=u.weight;l+=u.weight*p}}),l},X7=(n,e)=>{let t=0;for(let i=1;i<e?.length;i+=1)t+=Zit(n,e[i-1],e[i]);return t},Y7=n=>{const e={},t=n.getAllNodes(),i=t.map(l=>{var u;return null!==(u=l.data.rank)&&void 0!==u?u:-1/0}),r=Math.max(...i),o=[];for(let l=0;l<r+1;l++)o.push([]);const s=t.sort((l,u)=>n.getNode(l.id).data.rank-n.getNode(u.id).data.rank),a=s.filter(l=>void 0!==n.getNode(l.id).data.fixorder).sort((l,u)=>n.getNode(l.id).data.fixorder-n.getNode(u.id).data.fixorder);return a?.forEach(l=>{isNaN(n.getNode(l.id).data.rank)||o[n.getNode(l.id).data.rank].push(l.id),e[l.id]=!0}),s?.forEach(l=>n.dfsTree(l.id,u=>{if(e.hasOwnProperty(u.id))return!0;e[u.id]=!0,isNaN(u.data.rank)||o[u.data.rank].push(u.id)})),o},trt=(n,e)=>{var t;let i=0,r=0;n.weight&&(i+=n.barycenter*n.weight,r+=n.weight),e.weight&&(i+=e.barycenter*e.weight,r+=e.weight),n.vs=null===(t=e.vs)||void 0===t?void 0:t.concat(n.vs),n.barycenter=i/r,n.weight=r,n.i=Math.min(e.i,n.i),e.merged=!0},Z7=(n,e,t)=>{let r,i=t;for(;e.length&&(r=e[e.length-1]).i<=i;)e.pop(),n?.push(r.vs),i++;return i},Q7=(n,e,t,i,r,o)=>{var s,a,l,u;let h=n.getChildren(e).map(C=>C.id);const p=n.getNode(e),v=p?p.data.borderLeft:void 0,y=p?p.data.borderRight:void 0,b={};v&&(h=h?.filter(C=>C!==v&&C!==y));const E=((n,e)=>e.map(t=>{const i=n.getRelatedEdges(t,"in");if(null==i||!i.length)return{v:t};const r={sum:0,weight:0};return i?.forEach(o=>{const s=n.getNode(o.source);r.sum+=o.data.weight*s.data.order,r.weight+=o.data.weight}),{v:t,barycenter:r.sum/r.weight,weight:r.weight}}))(n,h||[]);E?.forEach(C=>{var D;if(null!==(D=n.getChildren(C.v))&&void 0!==D&&D.length){const k=Q7(n,C.v,t,i,o);b[C.v]=k,k.hasOwnProperty("barycenter")&&rrt(C,k)}});const w=((n,e)=>{var t,i,r;const o={};n?.forEach((a,l)=>{o[a.v]={i:l,indegree:0,in:[],out:[],vs:[a.v]};const u=o[a.v];void 0!==a.barycenter&&(u.barycenter=a.barycenter,u.weight=a.weight)}),null===(t=e.getAllEdges())||void 0===t||t.forEach(a=>{const l=o[a.source],u=o[a.target];void 0!==l&&void 0!==u&&(u.indegree++,l.out.push(o[a.target]))});const s=null===(r=(i=Object.values(o)).filter)||void 0===r?void 0:r.call(i,a=>!a.indegree);return(n=>{var e,t;const i=[],r=l=>u=>{u.merged||(void 0===u.barycenter||void 0===l.barycenter||u.barycenter>=l.barycenter)&&trt(l,u)},o=l=>u=>{u.in.push(l),0==--u.indegree&&n.push(u)};for(;null!=n&&n.length;){const l=n.pop();i.push(l),null===(e=l.in.reverse())||void 0===e||e.forEach(u=>r(l)(u)),null===(t=l.out)||void 0===t||t.forEach(u=>o(l)(u))}const s=i.filter(l=>!l.merged),a=["vs","i","barycenter","weight"];return s.map(l=>{const u={};return a?.forEach(h=>{void 0!==l[h]&&(u[h]=l[h])}),u})})(s)})(E,t);irt(w,b),null===(s=w.filter(C=>C.vs.length>0))||void 0===s||s.forEach(C=>{const D=n.getNode(C.vs[0]);D&&(C.fixorder=D.data.fixorder,C.order=D.data.order)});const S=((n,e,t,i)=>{const r=((n,e)=>{const t={lhs:[],rhs:[]};return n?.forEach(i=>{e(i)?t.lhs.push(i):t.rhs.push(i)}),t})(n,v=>{const y=v.hasOwnProperty("fixorder")&&!isNaN(v.fixorder);return i?!y&&v.hasOwnProperty("barycenter"):y||v.hasOwnProperty("barycenter")}),o=r.lhs,s=r.rhs.sort((v,y)=>-v.i- -y.i),a=[];let l=0,u=0,h=0;o?.sort(((n,e)=>(t,i)=>{if(void 0!==t.fixorder&&void 0!==i.fixorder)return t.fixorder-i.fixorder;if(t.barycenter<i.barycenter)return-1;if(t.barycenter>i.barycenter)return 1;if(e&&void 0!==t.order&&void 0!==i.order){if(t.order<i.order)return-1;if(t.order>i.order)return 1}return n?i.i-t.i:t.i-i.i})(!!e,!!t)),h=Z7(a,s,h),o?.forEach(v=>{var y;h+=null===(y=v.vs)||void 0===y?void 0:y.length,a.push(v.vs),l+=v.barycenter*v.weight,u+=v.weight,h=Z7(a,s,h)});const p={vs:a.flat()};return u&&(p.barycenter=l/u,p.weight=u),p})(w,i,r,o);if(v&&(S.vs=[v,S.vs,y].flat(),null!==(a=n.getPredecessors(v))&&void 0!==a&&a.length)){const C=n.getNode((null===(l=n.getPredecessors(v))||void 0===l?void 0:l[0].id)||""),D=n.getNode((null===(u=n.getPredecessors(y))||void 0===u?void 0:u[0].id)||"");S.hasOwnProperty("barycenter")||(S.barycenter=0,S.weight=0),S.barycenter=(S.barycenter*S.weight+C.data.order+D.data.order)/(S.weight+2),S.weight+=2}return S},irt=(n,e)=>{n?.forEach(t=>{var i;const r=null===(i=t.vs)||void 0===i?void 0:i.map(o=>e[o]?e[o].vs:o);t.vs=r.flat()})},rrt=(n,e)=>{void 0!==n.barycenter?(n.barycenter=(n.barycenter*n.weight+e.barycenter*e.weight)/(n.weight+e.weight),n.weight+=e.weight):(n.barycenter=e.barycenter,n.weight=e.weight)},q7=(n,e,t)=>e.map(i=>((n,e,t)=>{const i=(n=>{let e;for(;n.hasNode(e=`_root${Math.random()}`););return e})(n),r=new Gs({tree:[{id:i,children:[],data:{}}]});return n.getAllNodes().forEach(o=>{const s=n.getParent(o.id);(o.data.rank===e||o.data.minRank<=e&&e<=o.data.maxRank)&&(r.hasNode(o.id)||r.addNode(Object.assign({},o)),null!=s&&s.id&&!r.hasNode(s?.id)&&r.addNode(Object.assign({},s)),r.setParent(o.id,s?.id||i),n.getRelatedEdges(o.id,t).forEach(a=>{const l=a.source===o.id?a.target:a.source;r.hasNode(l)||r.addNode(Object.assign({},n.getNode(l)));const u=r.getRelatedEdges(l,"out").find(({target:p})=>p===o.id),h=void 0!==u?u.data.weight:0;u?r.updateEdgeData(u.id,Object.assign(Object.assign({},u.data),{weight:a.data.weight+h})):r.addEdge({id:a.id,source:l,target:o.id,data:{weight:a.data.weight+h}})}),o.data.hasOwnProperty("minRank")&&r.updateNodeData(o.id,Object.assign(Object.assign({},o.data),{borderLeft:o.data.borderLeft[e],borderRight:o.data.borderRight[e]})))}),r})(n,i,t)),J7=(n,e,t,i)=>{const r=new Gs;n?.forEach(o=>{var s;const a=o.getRoots()[0].id,l=Q7(o,a,r,e,t,i);for(let u=0;u<(null===(s=l.vs)||void 0===s?void 0:s.length);u++){const h=o.getNode(l.vs[u]);h&&(h.data.order=u)}((n,e,t)=>{const i={};let r;t?.forEach(o=>{let a,l,s=n.getParent(o);for(;s;){if(a=n.getParent(s.id),a?(l=i[a.id],i[a.id]=s.id):(l=r,r=s.id),l&&l!==s.id)return e.hasNode(l)||e.addNode({id:l,data:{}}),e.hasNode(s.id)||e.addNode({id:s.id,data:{}}),void(e.hasEdge(`e${l}-${s.id}`)||e.addEdge({id:`e${l}-${s.id}`,source:l,target:s.id,data:{}}));s=a}})})(o,r,l.vs)})},v6=(n,e)=>{e?.forEach(t=>{t?.forEach((i,r)=>{n.getNode(i).data.order=r})})},tG=(n,e,t)=>{let i=e,r=t;if(i>r){const s=i;i=r,r=s}let o=n[i];o||(n[i]=o={}),o[r]=!0},frt=(n,e,t)=>{let i=e,r=t;return i>t&&(i=t,r=e),!!n[i]},_rt=(n,e,t)=>(i,r,o)=>{const s=i.getNode(r),a=i.getNode(o);let l=0,u=0;if(l+=s.data.width/2,s.data.hasOwnProperty("labelpos"))switch((s.data.labelpos||"").toLowerCase()){case"l":u=-s.data.width/2;break;case"r":u=s.data.width/2}if(u&&(l+=t?u:-u),u=0,l+=(s.data.dummy?e:n)/2,l+=(a.data.dummy?e:n)/2,l+=a.data.width/2,a.data.labelpos)switch((a.data.labelpos||"").toLowerCase()){case"l":u=a.data.width/2;break;case"r":u=-a.data.width/2}return u&&(l+=t?u:-u),u=0,l},xrt=(n,e)=>{const{align:t,nodesep:i=0,edgesep:r=0}=e||{},o=Gn(n),s=Object.assign(((n,e)=>{const t={};return null!=e&&e.length&&e.reduce((r,o)=>{let s=0,a=0;const l=r.length,u=o?.[o?.length-1];return o?.forEach((h,p)=>{var v;const y=((n,e)=>{var t,i;if(null!==(t=n.getNode(e))&&void 0!==t&&t.data.dummy)return null===(i=n.getPredecessors(e))||void 0===i?void 0:i.find(r=>n.getNode(r.id).data.dummy)})(n,h),b=y?n.getNode(y.id).data.order:l;(y||h===u)&&(null===(v=o.slice(a,p+1))||void 0===v||v.forEach(E=>{var w;null===(w=n.getPredecessors(E))||void 0===w||w.forEach(S=>{var C;const D=n.getNode(S.id),k=D.data.order;(k<s||b<k)&&(!D.data.dummy||null===(C=n.getNode(E))||void 0===C||!C.data.dummy)&&tG(t,S.id,E)})}),a=p+1,s=b)}),o}),t})(n,o),((n,e)=>{const t={};function o(a,l){const u=function r(a){return JSON.stringify(a.slice(1))}(a);l.get(u)||(function i(a,l,u,h,p){var v,y;let b;for(let E=l;E<u;E++)b=a[E],null!==(v=n.getNode(b))&&void 0!==v&&v.data.dummy&&(null===(y=n.getPredecessors(b))||void 0===y||y.forEach(w=>{const S=n.getNode(w.id);S.data.dummy&&(S.data.order<h||S.data.order>p)&&tG(t,w.id,b)}))}(...a),l.set(u,!0))}return null!=e&&e.length&&e.reduce((a,l)=>{let h,u=-1,p=0;const v=new Map;return l?.forEach((y,b)=>{var E;if("border"===(null===(E=n.getNode(y))||void 0===E?void 0:E.data.dummy)){const w=n.getPredecessors(y)||[];w.length&&(h=n.getNode(w[0].id).data.order,o([l,p,b,u,h],v),p=b,u=h)}o([l,p,l.length,h,a.length],v)}),l}),t})(n,o)),a={};let l=[];["u","d"].forEach(h=>{l="u"===h?o:Object.values(o).reverse(),["l","r"].forEach(p=>{"r"===p&&(l=l.map(E=>Object.values(E).reverse()));const v=("u"===h?n.getPredecessors:n.getSuccessors).bind(n),y=((n,e,t,i)=>{const r={},o={},s={};return e?.forEach(a=>{a?.forEach((l,u)=>{r[l]=l,o[l]=l,s[l]=u})}),e?.forEach(a=>{let l=-1;a?.forEach(u=>{let h=i(u).map(p=>p.id);if(h.length){h=h.sort((v,y)=>s[v]-s[y]);const p=(h.length-1)/2;for(let v=Math.floor(p),y=Math.ceil(p);v<=y;++v){const b=h[v];o[u]===u&&l<s[b]&&!frt(t,u,b)&&(o[b]=u,o[u]=r[u]=r[b],l=s[b])}}})}),{root:r,align:o}})(0,l,s,v),b=((n,e,t,i,r,o,s)=>{var a;const l={},u=((n,e,t,i,r,o)=>{const s=new Gs,a=_rt(i,r,o);return e?.forEach(l=>{let u;l?.forEach(h=>{const p=t[h];if(s.hasNode(p)||s.addNode({id:p,data:{}}),u){const v=t[u],y=s.getRelatedEdges(v,"out").find(b=>b.target===p);y?s.updateEdgeData(y.id,Object.assign(Object.assign({},y.data),{weight:Math.max(a(n,h,u),y.data.weight||0)})):s.addEdge({id:`e${Math.random()}`,source:v,target:p,data:{weight:Math.max(a(n,h,u),0)}})}u=h})}),s})(n,e,t,r,o,s),h=s?"borderLeft":"borderRight",p=(b,E)=>{let w=u.getAllNodes(),S=w.pop();const C={};for(;S;)C[S.id]?b(S.id):(C[S.id]=!0,w.push(S),w=w.concat(E(S.id))),S=w.pop()};return p(b=>{l[b]=(u.getRelatedEdges(b,"in")||[]).reduce((E,w)=>Math.max(E,(l[w.source]||0)+w.data.weight),0)},u.getPredecessors.bind(u)),p(b=>{const E=(u.getRelatedEdges(b,"out")||[]).reduce((S,C)=>Math.min(S,(l[C.target]||0)-C.data.weight),Number.POSITIVE_INFINITY),w=n.getNode(b);E!==Number.POSITIVE_INFINITY&&w.data.borderType!==h&&(l[b]=Math.max(l[b],E))},u.getSuccessors.bind(u)),null===(a=Object.values(i))||void 0===a||a.forEach(b=>{l[b]=l[t[b]]}),l})(n,l,y.root,y.align,i,r,"r"===p);"r"===p&&Object.keys(b).forEach(E=>b[E]=-b[E]),a[h+p]=b})});const u=((n,e)=>Ea(Object.values(e),t=>{var i;let r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return null===(i=Object.keys(t))||void 0===i||i.forEach(s=>{const a=t[s],l=((n,e)=>n.getNode(e).data.width||0)(n,s)/2;r=Math.max(a+l,r),o=Math.min(a-l,o)}),r-o}))(n,a);return u&&function yrt(n,e){const t=Object.values(e),i=Math.min(...t),r=Math.max(...t);["u","d"].forEach(o=>{["l","r"].forEach(s=>{const a=o+s,l=n[a];let u;if(l===e)return;const h=Object.values(l);u="l"===s?i-Math.min(...h):r-Math.max(...h),u&&(n[a]={},Object.keys(l).forEach(p=>{n[a][p]=l[p]+u}))})})}(a,u),((n,e)=>{const t={};return Object.keys(n.ul).forEach(i=>{if(e)t[i]=n[e.toLowerCase()][i];else{const r=Object.values(n).map(o=>o[i]);t[i]=(r[0]+r[1])/2}}),t})(a,t)},eG=n=>{const e={},t=i=>{var r;const o=n.getNode(i);if(!o)return 0;if(e[i])return o.data.rank;let s;return e[i]=!0,null===(r=n.getRelatedEdges(i,"out"))||void 0===r||r.forEach(a=>{const h=t(a.target)-a.data.minlen;h&&(void 0===s||h<s)&&(s=h)}),s||(s=0),o.data.rank=s,s};n.getAllNodes().filter(i=>0===n.getRelatedEdges(i.id,"in").length).forEach(i=>t(i.id))},gg=(n,e)=>n.getNode(e.target).data.rank-n.getNode(e.source).data.rank-e.data.minlen,Drt=(n,e)=>{const t=i=>{e.getRelatedEdges(i,"both").forEach(r=>{const o=r.source,s=i===o?r.target:o;!n.hasNode(s)&&!gg(e,r)&&(n.addNode({id:s,data:{}}),n.addEdge({id:r.id,source:i,target:s,data:{}}),t(s))})};return n.getAllNodes().forEach(i=>t(i.id)),n.getAllNodes().length},Trt=(n,e)=>{const t=i=>{var r;null===(r=e.getRelatedEdges(i,"both"))||void 0===r||r.forEach(o=>{const s=o.source,a=i===s?o.target:s;!n.hasNode(a)&&(void 0!==e.getNode(a).data.layer||!gg(e,o))&&(n.addNode({id:a,data:{}}),n.addEdge({id:o.id,source:i,target:a,data:{}}),t(a))})};return n.getAllNodes().forEach(i=>t(i.id)),n.getAllNodes().length},nG=(n,e)=>Ea(e.getAllEdges(),t=>n.hasNode(t.source)!==n.hasNode(t.target)?gg(e,t):1/0),iG=(n,e,t)=>{n.getAllNodes().forEach(i=>{const r=e.getNode(i.id);r.data.rank||(r.data.rank=0),r.data.rank+=t})},rG=(n,e)=>{let t=EC(n,n.getAllNodes(),"post");t=t.slice(0,t?.length-1),t.forEach(i=>{krt(n,e,i)})},krt=(n,e,t)=>{const i=n.getNode(t).data.parent;n.getRelatedEdges(t,"both").find(o=>o.target===i||o.source===i).data.cutvalue=Irt(n,e,t)},Irt=(n,e,t)=>{const i=n.getNode(t).data.parent;let r=!0,o=e.getRelatedEdges(t,"out").find(a=>a.target===i),s=0;return o||(r=!1,o=e.getRelatedEdges(i,"out").find(a=>a.target===t)),s=o.data.weight,e.getRelatedEdges(t,"both").forEach(a=>{const l=a.source===t,u=l?a.target:a.source;if(u!==i){const h=l===r,p=a.data.weight;if(s+=h?p:-p,Frt(n,t,u)){const v=n.getRelatedEdges(t,"both").find(y=>y.source===u||y.target===u).data.cutvalue;s+=h?-v:v}}}),s},oG=(n,e=n.getAllNodes()[0].id)=>{sG(n,{},1,e)},sG=(n,e,t,i,r)=>{var o;const s=t;let a=t;const l=n.getNode(i);return e[i]=!0,null===(o=n.getNeighbors(i))||void 0===o||o.forEach(u=>{e[u.id]||(a=sG(n,e,a,u.id,i))}),l.data.low=s,l.data.lim=a++,r?l.data.parent=r:delete l.data.parent,a},Rrt=n=>n.getAllEdges().find(e=>e.data.cutvalue<0),Prt=(n,e,t)=>{let i=t.source,r=t.target;e.getRelatedEdges(i,"out").find(h=>h.target===r)||(i=t.target,r=t.source);const o=n.getNode(i),s=n.getNode(r);let a=o,l=!1;o.data.lim>s.data.lim&&(a=s,l=!0);const u=e.getAllEdges().filter(h=>l===aG(n.getNode(h.source),a)&&l!==aG(n.getNode(h.target),a));return Ea(u,h=>gg(e,h))},Nrt=(n,e,t,i)=>{const r=n.getRelatedEdges(t.source,"both").find(o=>o.source===t.target||o.target===t.target);r&&n.removeEdge(r.id),n.addEdge({id:`e${Math.random()}`,source:i.source,target:i.target,data:{}}),oG(n),rG(n,e),Lrt(n,e)},Lrt=(n,e)=>{const t=n.getAllNodes().find(r=>!r.data.parent);let i=EC(n,t,"pre");i=i.slice(1),i.forEach(r=>{const o=n.getNode(r).data.parent;let s=e.getRelatedEdges(r,"out").find(l=>l.target===o),a=!1;!s&&e.hasNode(o)&&(s=e.getRelatedEdges(o,"out").find(l=>l.target===r),a=!0),e.getNode(r).data.rank=(e.hasNode(o)&&e.getNode(o).data.rank||0)+(a?s?.data.minlen:-s?.data.minlen)})},Frt=(n,e,t)=>n.getRelatedEdges(e,"both").find(i=>i.source===t||i.target===t),aG=(n,e)=>e.data.low<=n.data.lim&&n.data.lim<=e.data.lim,jrt=eG,Vrt=n=>{(n=>{const e=(n=>{const e=new Gs;return n.getAllNodes().forEach(t=>{e.addNode(Object.assign({},t))}),n.getAllEdges().forEach(t=>{const i=e.getRelatedEdges(t.source,"out").find(r=>r.target===t.target);i?e.updateEdgeData(i?.id,Object.assign(Object.assign({},i.data),{weight:i.data.weight+t.data.weight||0,minlen:Math.max(i.data.minlen,t.data.minlen||1)})):e.addEdge({id:t.id,source:t.source,target:t.target,data:{weight:t.data.weight||0,minlen:t.data.minlen||1}})}),e})(n);eG(e);const t=(n=>{const e=new Gs({tree:[]}),t=n.getAllNodes()[0],i=n.getAllNodes().length;let r,o;for(e.addNode(t);Drt(e,n)<i;)r=nG(e,n),o=e.hasNode(r.source)?gg(n,r):-gg(n,r),iG(e,n,o);return e})(e);let i,r;for(oG(t),rG(t,e);i=Rrt(t);)r=Prt(t,e,i),Nrt(t,e,i,r)})(n)},Urt=(n,e)=>{const{acyclicer:t,ranker:i,rankdir:r="tb",nodeOrder:o,keepNodeOrder:s,align:a,nodesep:l=50,edgesep:u=20,ranksep:h=50}=e;oot(n),B(n,t);const{nestingRoot:p,nodeRankFactor:v}=(n=>{const e=oe(n,"root",{},"_root"),t=(n=>{const e={},t=(i,r)=>{const o=n.getChildren(i);o?.forEach(s=>t(s.id,r+1)),e[i]=r};return n.getRoots().forEach(i=>t(i.id,1)),e})(n);let i=Math.max(...Object.values(t));Math.abs(i)===1/0&&(i=1);const r=i-1,o=2*r+1;n.getAllEdges().forEach(a=>{a.data.minlen*=o});const s=(n=>{let e=0;return n.getAllEdges().forEach(t=>{e+=t.data.weight}),e})(n)+1;return n.getRoots().forEach(a=>{W7(n,e,o,s,r,t,a.id)}),{nestingRoot:e,nodeRankFactor:o}})(n);((n,e)=>{switch(e){case"network-simplex":Vrt(n);break;case"tight-tree":default:(n=>{(n=>{const e={};let t;const i=s=>{var a;const l=n.getNode(s);if(!l)return 0;if(e[s])return l.data.rank;let u;return e[s]=!0,null===(a=n.getRelatedEdges(s,"out"))||void 0===a||a.forEach(h=>{const y=i(h.target)-h.data.minlen;y&&(void 0===u||y<u)&&(u=y)}),u||(u=0),(void 0===t||u<t)&&(t=u),l.data.rank=u,u};n.getAllNodes().filter(s=>0===n.getRelatedEdges(s.id,"in").length).forEach(s=>{s&&i(s.id)}),void 0===t&&(t=0);const r={},o=(s,a)=>{var l;const u=n.getNode(s),h=isNaN(u.data.layer)?a:u.data.layer;(void 0===u.data.rank||u.data.rank<h)&&(u.data.rank=h),!r[s]&&(r[s]=!0,null===(l=n.getRelatedEdges(s,"out"))||void 0===l||l.forEach(p=>{o(p.target,h+p.data.minlen)}))};n.getAllNodes().forEach(s=>{const a=s.data;a&&(isNaN(a.layer)?a.rank-=t:o(s.id,a.layer))})})(n),(n=>{const e=new Gs({tree:[]}),t=n.getAllNodes()[0],i=n.getAllNodes().length;let r,o;for(e.addNode(t);Trt(e,n)<i;)r=nG(e,n),o=e.hasNode(r.source)?gg(n,r):-gg(n,r),iG(e,n,o)})(n)})(n);break;case"longest-path":jrt(n)}})(Fe(n),i),Qrt(n),((n,e=0)=>{const t=n.getAllNodes(),i=t.filter(a=>void 0!==a.data.rank).map(a=>a.data.rank),r=Math.min(...i),o=[];t.forEach(a=>{const l=(a.data.rank||0)-r;o[l]||(o[l]=[]),o[l].push(a.id)});let s=0;for(let a=0;a<o.length;a++){const l=o[a];void 0===l?a%e!=0&&(s-=1):s&&l?.forEach(u=>{const h=n.getNode(u);h&&(h.data.rank=h.data.rank||0,h.data.rank+=s)})}})(n,v),((n,e)=>{e&&n.removeNode(e),n.getAllEdges().forEach(t=>{t.data.nestingEdge&&n.removeEdge(t.id)})})(n,p),(n=>{const e=n.getAllNodes().filter(i=>void 0!==i.data.rank).map(i=>i.data.rank),t=Math.min(...e);n.getAllNodes().forEach(i=>{i.data.hasOwnProperty("rank")&&t!==1/0&&(i.data.rank-=t)})})(n),qrt(n),Jrt(n);const y=[];((n,e)=>{n.getAllEdges().forEach(t=>((n,e,t)=>{let i=e.source,r=n.getNode(i).data.rank;const o=e.target,s=n.getNode(o).data.rank,a=e.data.labelRank;if(s===r+1)return;let l,u,h;for(n.removeEdge(e.id),h=0,++r;r<s;++h,++r)e.data.points=[],u={originalEdge:e,width:0,height:0,rank:r},l=oe(n,"edge",u,"_d"),r===a&&(u.width=e.data.width,u.height=e.data.height,u.dummy=K7,u.labelpos=e.data.labelpos),n.addEdge({id:`e${Math.random()}`,source:i,target:l,data:{weight:e.data.weight}}),0===h&&t.push(l),i=l;n.addEdge({id:`e${Math.random()}`,source:i,target:o,data:{weight:e.data.weight}})})(n,t,e))})(n,y),((n,e)=>{const t=(n=>{const e={};let t=0;const i=r=>{const o=t;n.getChildren(r).forEach(s=>i(s.id)),e[r]={low:o,lim:t++}};return n.getRoots().forEach(r=>i(r.id)),e})(n);e.forEach(i=>{var r,o;let s=i,a=n.getNode(s);const l=a.data.originalEdge;if(!l)return;const u=((n,e,t,i)=>{var r,o;const s=[],a=[],l=Math.min(e[t].low,e[i].low),u=Math.max(e[t].lim,e[i].lim);let h,p;h=t;do{h=null===(r=n.getParent(h))||void 0===r?void 0:r.id,s.push(h)}while(h&&(e[h].low>l||u>e[h].lim));for(p=h,h=i;h&&h!==p;)a.push(h),h=null===(o=n.getParent(h))||void 0===o?void 0:o.id;return{lca:p,path:s.concat(a.reverse())}})(n,t,l.source,l.target),h=u.path,p=u.lca;let v=0,y=h[v],b=!0;for(;s!==l.target;){if(a=n.getNode(s),b){for(;y!==p&&(null===(r=n.getNode(y))||void 0===r?void 0:r.data.maxRank)<a.data.rank;)v++,y=h[v];y===p&&(b=!1)}if(!b){for(;v<h.length-1&&(null===(o=n.getNode(h[v+1]))||void 0===o?void 0:o.data.minRank)<=a.data.rank;)v++;y=h[v]}n.hasNode(y)&&n.setParent(s,y),s=n.getSuccessors(s)[0].id}})})(n,y),(n=>{const e=t=>{const i=n.getChildren(t),r=n.getNode(t);if(null!=i&&i.length&&i.forEach(o=>e(o.id)),r.data.hasOwnProperty("minRank")){r.data.borderLeft=[],r.data.borderRight=[];for(let o=r.data.minRank,s=r.data.maxRank+1;o<s;o+=1)G7(n,"borderLeft","_bl",t,r,o),G7(n,"borderRight","_br",t,r,o)}};n.getRoots().forEach(t=>e(t.id))})(n),s&&((n,e)=>{const t=n.getAllNodes().filter(o=>{var s;return!(null!==(s=n.getChildren(o.id))&&void 0!==s&&s.length)}).map(o=>o.data.rank),i=Math.max(...t),r=[];for(let o=0;o<i+1;o++)r[o]=[];e?.forEach(o=>{const s=n.getNode(o);!s||s.data.dummy||isNaN(s.data.rank)||(s.data.fixorder=r[s.data.rank].length,r[s.data.rank].push(o))})})(n,o),((n,e)=>{const t=oo(n),i=[],r=[];for(let h=1;h<t+1;h++)i.push(h);for(let h=t-1;h>-1;h--)r.push(h);const o=q7(n,i,"in"),s=q7(n,r,"out");let a=Y7(n);v6(n,a);let u,l=Number.POSITIVE_INFINITY;for(let h=0,p=0;p<4;++h,++p){J7(h%2?o:s,h%4>=2,!1,e),a=Gn(n);const v=X7(n,a);v<l&&(p=0,u=Pa(a),l=v)}a=Y7(n),v6(n,a);for(let h=0,p=0;p<4;++h,++p){J7(h%2?o:s,h%4>=2,!0,e),a=Gn(n);const v=X7(n,a);v<l&&(p=0,u=Pa(a),l=v)}v6(n,u)})(n,s),sot(n),((n,e)=>{const t=e.toLowerCase();("lr"===t||"rl"===t)&&H7(n)})(n,r),((n,e)=>{var t;const i=Fe(n);((n,e)=>{const{ranksep:t=0}=e||{},i=Gn(n);let r=0;i?.forEach(o=>{const s=o.map(l=>n.getNode(l).data.height),a=Math.max(...s,0);o?.forEach(l=>{n.getNode(l).data.y=r+a/2}),r+=a+t})})(i,e);const r=xrt(i,e);null===(t=Object.keys(r))||void 0===t||t.forEach(o=>{i.getNode(o).data.x=r[o]})})(n,{align:a,nodesep:l,edgesep:u,ranksep:h}),aot(n),rot(n),((n,e)=>{e.forEach(t=>{let i=n.getNode(t);const{data:r}=i,o=r.originalEdge;let s;o&&n.addEdge(o);let a=t;for(;i.data.dummy;)s=n.getSuccessors(a)[0],n.removeNode(a),o.data.points.push({x:i.data.x,y:i.data.y}),i.data.dummy===K7&&(o.data.x=i.data.x,o.data.y=i.data.y,o.data.width=i.data.width,o.data.height=i.data.height),a=s.id,i=n.getNode(a)})})(n,y),not(n),((n,e)=>{const t=e.toLowerCase();("bt"===t||"rl"===t)&&(n=>{n.getAllNodes().forEach(e=>{m6(e.data)}),n.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(i=>m6(i)),e.data.hasOwnProperty("y")&&m6(e.data)})})(n),("lr"===t||"rl"===t)&&((n=>{n.getAllNodes().forEach(e=>{g6(e.data)}),n.getAllEdges().forEach(e=>{var t;null===(t=e.data.points)||void 0===t||t.forEach(i=>g6(i)),e.data.hasOwnProperty("x")&&g6(e.data)})})(n),H7(n))})(n,r);const{width:b,height:E}=tot(n);return eot(n),iot(n),(n=>{n.getAllEdges().forEach(e=>{const t=e.data;if(t.reversed){n.removeEdge(e.id);const i=t.forwardName;delete t.reversed,delete t.forwardName,n.addEdge({id:e.id,source:e.target,target:e.source,data:Object.assign(Object.assign({},t),{forwardName:i})})}})})(n),{width:b,height:E}},$rt=["width","height","layer","fixorder"],Wrt={width:0,height:0},Krt=["minlen","weight","width","height","labeloffset"],Xrt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},cG=["labelpos"],Qrt=n=>{n.getAllEdges().forEach(e=>{if(e.data.width&&e.data.height){const t=n.getNode(e.source),i=n.getNode(e.target);oe(n,"edge-proxy",{e,rank:(i.data.rank-t.data.rank)/2+t.data.rank},"_ep")}})},qrt=n=>{let e=0;return n.getAllNodes().forEach(t=>{var i,r;t.data.borderTop&&(t.data.minRank=null===(i=n.getNode(t.data.borderTop))||void 0===i?void 0:i.data.rank,t.data.maxRank=null===(r=n.getNode(t.data.borderBottom))||void 0===r?void 0:r.data.rank,e=Math.max(e,t.data.maxRank||-1/0))}),e},Jrt=n=>{n.getAllNodes().forEach(e=>{"edge-proxy"===e.data.dummy&&(n.getEdge(e.data.e.id).data.labelRank=e.data.rank,n.removeNode(e.id))})},tot=(n,e)=>{let t,r,i=0,o=0;const{marginx:s=0,marginy:a=0}={},l=u=>{if(!u.data)return;const h=u.data.x,p=u.data.y,v=u.data.width,y=u.data.height;!isNaN(h)&&!isNaN(v)&&(void 0===t&&(t=h-v/2),t=Math.min(t,h-v/2),i=Math.max(i,h+v/2)),!isNaN(p)&&!isNaN(y)&&(void 0===r&&(r=p-y/2),r=Math.min(r,p-y/2),o=Math.max(o,p+y/2))};return n.getAllNodes().forEach(u=>{l(u)}),n.getAllEdges().forEach(u=>{null!=u&&u.data.hasOwnProperty("x")&&l(u)}),t-=s,r-=a,n.getAllNodes().forEach(u=>{u.data.x-=t,u.data.y-=r}),n.getAllEdges().forEach(u=>{var h;null===(h=u.data.points)||void 0===h||h.forEach(p=>{p.x-=t,p.y-=r}),u.data.hasOwnProperty("x")&&(u.data.x-=t),u.data.hasOwnProperty("y")&&(u.data.y-=r)}),{width:i-t+s,height:o-r+a}},eot=n=>{n.getAllEdges().forEach(e=>{const t=n.getNode(e.source),i=n.getNode(e.target);let r,o;e.data.points?(r=e.data.points[0],o=e.data.points[e.data.points.length-1]):(e.data.points=[],r={x:i.data.x,y:i.data.y},o={x:t.data.x,y:t.data.y}),e.data.points.unshift(jn(t.data,r)),e.data.points.push(jn(i.data,o))})},not=n=>{n.getAllEdges().forEach(e=>{if(e.data.hasOwnProperty("x"))switch(("l"===e.data.labelpos||"r"===e.data.labelpos)&&(e.data.width-=e.data.labeloffset),e.data.labelpos){case"l":e.data.x-=e.data.width/2+e.data.labeloffset;break;case"r":e.data.x+=e.data.width/2+e.data.labeloffset}})},iot=n=>{n.getAllEdges().forEach(e=>{var t;e.data.reversed&&(null===(t=e.data.points)||void 0===t||t.reverse())})},rot=n=>{n.getAllNodes().forEach(e=>{var t,i,r;if(null!==(t=n.getChildren(e.id))&&void 0!==t&&t.length){const o=n.getNode(e.id),s=n.getNode(o.data.borderTop),a=n.getNode(o.data.borderBottom),l=n.getNode(o.data.borderLeft[(null===(i=o.data.borderLeft)||void 0===i?void 0:i.length)-1]),u=n.getNode(o.data.borderRight[(null===(r=o.data.borderRight)||void 0===r?void 0:r.length)-1]);o.data.width=Math.abs(u?.data.x-l?.data.x)||10,o.data.height=Math.abs(a?.data.y-s?.data.y)||10,o.data.x=(l?.data.x||0)+o.data.width/2,o.data.y=(s?.data.y||0)+o.data.height/2}}),n.getAllNodes().forEach(e=>{"border"===e.data.dummy&&n.removeNode(e.id)})},oot=n=>{n.getAllEdges().forEach(e=>{if(e.source===e.target){const t=n.getNode(e.source);t.data.selfEdges||(t.data.selfEdges=[]),t.data.selfEdges.push(e),n.removeEdge(e.id)}})},sot=n=>{const e=Gn(n);e?.forEach(t=>{let i=0;t?.forEach((r,o)=>{var s;const a=n.getNode(r);a.data.order=o+i,null===(s=a.data.selfEdges)||void 0===s||s.forEach(l=>{oe(n,"selfedge",{width:l.data.width,height:l.data.height,rank:a.data.rank,order:o+ ++i,e:l},"_se")}),delete a.data.selfEdges})})},aot=n=>{n.getAllNodes().forEach(e=>{const t=n.getNode(e.id);if("selfedge"===t.data.dummy){const i=n.getNode(t.data.e.source),r=i.data.x+i.data.width/2,o=i.data.y,s=t.data.x-r,a=i.data.height/2;n.hasEdge(t.data.e.id)?n.updateEdgeData(t.data.e.id,t.data.e.data):n.addEdge({id:t.data.e.id,source:t.data.e.source,target:t.data.e.target,data:t.data.e.data}),n.removeNode(e.id),t.data.e.data.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{y:o,x:r+s},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],t.data.e.data.x=t.data.x,t.data.e.data.y=t.data.y}})},uG=(n,e)=>{const t={};return e?.forEach(i=>{void 0!==n[i]&&(t[i]=+n[i])}),t},dG=(n={})=>{const e={};return Object.keys(n).forEach(t=>{e[t.toLowerCase()]=n[t]}),e},Nl=Array.isArray,hG=n=>{const e=[],t=n.length;for(let i=0;i<t;i+=1){e[i]=[];for(let r=0;r<t;r+=1)e[i][r]=i===r?0:0!==n[i][r]&&n[i][r]?n[i][r]:1/0}for(let i=0;i<t;i+=1)for(let r=0;r<t;r+=1)for(let o=0;o<t;o+=1)e[r][o]>e[r][i]+e[i][o]&&(e[r][o]=e[r][i]+e[i][o]);return e},fG=(n,e)=>{const{nodes:t,edges:i}=n,r=[],o={};if(!t)throw new Error("invalid nodes data!");return t&&t.forEach((s,a)=>{o[s.id]=a,r.push([])}),i?.forEach(s=>{const{source:a,target:l}=s,u=o[a],h=o[l];void 0===u||void 0===h||(r[u][h]=1,r[h][u]=1)}),r},pG=(n,e)=>Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)),y6=(n,e,t,i="TB",r,o={})=>{if(null==e||!e.length)return;const{stopBranchFn:s,stopAllFn:a}=o;for(let l=0;l<e.length;l++){const u=e[l];if(n.hasNode(u.id)&&(null==s||!s(u))){if(null!=a&&a(u))return;"TB"===i&&t(u),y6(n,n.getChildren(u.id,r),t,i,r,o),"TB"!==i&&t(u)}}},b6=n=>{if(null===n)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){const e=[];return n.forEach(t=>{e.push(t)}),e.map(t=>b6(t))}if("object"==typeof n){const e={};return Object.keys(n).forEach(t=>{e[t]=b6(n[t])}),e}return n},Kc=(n,e)=>{const t=b6(n);return t.data=t.data||{},e&&(Zn(t.data.x)||(t.data.x=Math.random()*e[0]),Zn(t.data.y)||(t.data.y=Math.random()*e[1])),t};function vg(n,e){let t;return t=$n(e)?e:Zn(e)?()=>e:()=>n,t}function mG(n,e,t=!0){return e||0===e?$n(e)?e:Zn(e)?()=>e:Array.isArray(e)?()=>{if(t){const i=Math.max(...e);return isNaN(i)?n:i}return e}:Dr(e)?()=>{if(t){const i=Math.max(e.width,e.height);return isNaN(i)?n:i}return[e.width,e.height]}:()=>n:i=>{const{size:r}=i.data||{};return r?Array.isArray(r)?r[0]>r[1]?r[0]:r[1]:Dr(r)?r.width>r.height?r.width:r.height:r:n}}const gG=(n,e)=>{let t,i;return i=Zn(e)?()=>e:$n(e)?e:()=>0,t=n?Array.isArray(n)?r=>(n[0]>n[1]?n[0]:n[1])+i(r):$n(n)?n:r=>n+i(r):r=>{var o,s;if(null!==(o=r.data)&&void 0!==o&&o.bboxSize)return Math.max(r.data.bboxSize[0],r.data.bboxSize[1])+i(r);if(null!==(s=r.data)&&void 0!==s&&s.size){if(Array.isArray(r.data.size))return Math.max(r.data.size[0],r.data.size[1])+i(r);const a=r.data.size;return Dr(a)?(a.width>a.height?a.width:a.height)+i(r):a+i(r)}return 10+i(r)},t},uot={rankdir:"TB",nodesep:50,ranksep:50,edgeLabelSpace:!0,ranker:"tight-tree",controlPoints:!1,radial:!1,focusNode:null},X0=(n,e,t)=>{const i=n.getAllNodes(),r=n.getAllEdges();return null!=i&&i.length?1===i.length?(e&&n.mergeNodeData(i[0].id,{x:t[0],y:t[1]}),{nodes:[Object.assign(Object.assign({},i[0]),{data:Object.assign(Object.assign({},i[0].data),{x:t[0],y:t[1]})})],edges:r}):void 0:{nodes:[],edges:r}},fot={radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1},vG=(n,e,t=!1)=>{const i=[Kc(e[0])],r={},o=e.length;r[e[0].id]=!0;let s=0;return e.forEach((a,l)=>{if(0!==l)if(l!==o-1&&n.getDegree(a.id,"both")===n.getDegree(e[l+1].id,"both")&&!n.areNeighbors(i[s].id,a.id)||r[a.id]){const u=t?n.getSuccessors(i[s].id):n.getNeighbors(i[s].id);let h=!1;for(let v=0;v<u.length;v++){const y=u[v];if(n.getDegree(y.id)===n.getDegree(a.id)&&!r[y.id]){i.push(Kc(y)),r[y.id]=!0,h=!0;break}}let p=0;for(;!h&&(r[e[p].id]||(i.push(Kc(e[p])),r[e[p].id]=!0,h=!0),p++,p!==o););}else i.push(Kc(a)),r[a.id]=!0,s++}),i},vot={nodeSize:30,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"};class _6{constructor(e={}){this.options=e,this.id="concentric",this.options=Object.assign(Object.assign({},vot),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericConcentricLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericConcentricLayout(!0,e,t)})}genericConcentricLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{center:o,width:s,height:a,sortBy:l,maxLevelDiff:u,sweep:h,clockwise:p,equidistant:v,preventOverlap:y,startAngle:b=1.5*Math.PI,nodeSize:E,nodeSpacing:w}=r,S=t.getAllNodes(),C=t.getAllEdges(),D=!s&&typeof window<"u"?window.innerWidth:s,k=!a&&typeof window<"u"?window.innerHeight:a,T=o||[D/2,k/2];if(null==S||!S.length||1===S.length)return X0(t,e,T);const I=[];let F,z=0;Nl(E)?F=Math.max(E[0],E[1]):$n(E)?(F=-1/0,S.forEach(ot=>{const rt=E(ot);rt>F&&(F=rt)})):F=E,Nl(w)?z=Math.max(w[0],w[1]):Zn(w)&&(z=w),S.forEach(ot=>{const rt=Kc(ot);I.push(rt);let Nt=F;const{data:ie}=rt;Nl(ie.size)?Nt=Math.max(ie.size[0],ie.size[1]):Zn(ie.size)?Nt=ie.size:Dr(ie.size)&&(Nt=Math.max(ie.size.width,ie.size.height)),F=Math.max(F,Nt),$n(w)&&(z=Math.max(w(ot),z))});const V={};I.forEach((ot,rt)=>{V[ot.id]=rt});let K=l;(!Li(K)||void 0===I[0].data[K])&&(K="degree"),I.sort("degree"===K?(ot,rt)=>t.getDegree(rt.id,"both")-t.getDegree(ot.id,"both"):(ot,rt)=>rt.data[K]-ot.data[K]);const Y=I[0],Q=(u||("degree"===K?t.getDegree(Y.id,"both"):Y.data[K]))/4,at=[{nodes:[]}];let It=at[0];I.forEach(ot=>{if(It.nodes.length>0){const rt=Math.abs("degree"===K?t.getDegree(It.nodes[0].id,"both")-t.getDegree(ot.id,"both"):It.nodes[0].data[K]-ot.data[K]);Q&&rt>=Q&&(It={nodes:[]},at.push(It))}It.nodes.push(ot)});let Pt=F+z;if(!y){const ot=at.length>0&&at[0].nodes.length>1,rt=(Math.min(D,k)/2-Pt)/(at.length+(ot?1:0));Pt=Math.min(Pt,rt)}let ct=0;if(at.forEach(ot=>{const rt=void 0===h?2*Math.PI-2*Math.PI/ot.nodes.length:h;if(ot.dTheta=rt/Math.max(1,ot.nodes.length-1),ot.nodes.length>1&&y){const Nt=Math.cos(ot.dTheta)-Math.cos(0),ie=Math.sin(ot.dTheta)-Math.sin(0),$e=Math.sqrt(Pt*Pt/(Nt*Nt+ie*ie));ct=Math.max($e,ct)}ot.r=ct,ct+=Pt}),v){let ot=0,rt=0;for(let Nt=0;Nt<at.length;Nt++)ot=Math.max(ot,(at[Nt].r||0)-rt);rt=0,at.forEach((Nt,ie)=>{0===ie&&(rt=Nt.r||0),Nt.r=rt,rt+=ot})}return at.forEach(ot=>{const rt=ot.dTheta||0,Nt=ot.r||0;ot.nodes.forEach((ie,$e)=>{const ye=b+(p?1:-1)*rt*$e;ie.data.x=T[0]+Nt*Math.cos(ye),ie.data.y=T[1]+Nt*Math.sin(ye)})}),e&&I.forEach(ot=>t.mergeNodeData(ot.id,{x:ot.data.x,y:ot.data.y})),{nodes:I,edges:C}})}}function yG(n,e,t,i){if(isNaN(e)||isNaN(t))return n;var r,p,v,y,b,E,w,S,C,o=n._root,s={data:i},a=n._x0,l=n._y0,u=n._x1,h=n._y1;if(!o)return n._root=s,n;for(;o.length;)if((E=e>=(p=(a+u)/2))?a=p:u=p,(w=t>=(v=(l+h)/2))?l=v:h=v,r=o,!(o=o[S=w<<1|E]))return r[S]=s,n;if(y=+n._x.call(null,o.data),b=+n._y.call(null,o.data),e===y&&t===b)return s.next=o,r?r[S]=s:n._root=s,n;do{r=r?r[S]=new Array(4):n._root=new Array(4),(E=e>=(p=(a+u)/2))?a=p:u=p,(w=t>=(v=(l+h)/2))?l=v:h=v}while((S=w<<1|E)==(C=(b>=v)<<1|y>=p));return r[C]=o,r[S]=s,n}function Ll(n,e,t,i,r){this.node=n,this.x0=e,this.y0=t,this.x1=i,this.y1=r}function Aot(n){return n[0]}function Iot(n){return n[1]}function mI(n,e,t){var i=new E6(e??Aot,t??Iot,NaN,NaN,NaN,NaN);return null==n?i:i.addAll(n)}function E6(n,e,t,i,r,o){this._x=n,this._y=e,this._x0=t,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function bG(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var Fl=mI.prototype=E6.prototype;function _G(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var o,b,E,w,S,C,D,k,T,I,F,z,s=n._root,a={data:r},l=n._x0,u=n._y0,h=n._z0,p=n._x1,v=n._y1,y=n._z1;if(!s)return n._root=a,n;for(;s.length;)if((k=e>=(b=(l+p)/2))?l=b:p=b,(T=t>=(E=(u+v)/2))?u=E:v=E,(I=i>=(w=(h+y)/2))?h=w:y=w,o=s,!(s=s[F=I<<2|T<<1|k]))return o[F]=a,n;if(S=+n._x.call(null,s.data),C=+n._y.call(null,s.data),D=+n._z.call(null,s.data),e===S&&t===C&&i===D)return a.next=s,o?o[F]=a:n._root=a,n;do{o=o?o[F]=new Array(8):n._root=new Array(8),(k=e>=(b=(l+p)/2))?l=b:p=b,(T=t>=(E=(u+v)/2))?u=E:v=E,(I=i>=(w=(h+y)/2))?h=w:y=w}while((F=I<<2|T<<1|k)==(z=(D>=w)<<2|(C>=E)<<1|S>=b));return o[z]=s,o[F]=a,n}function Bo(n,e,t,i,r,o,s){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=o,this.z1=s}function Wot(n){return n[0]}function Xot(n){return n[1]}function Zot(n){return n[2]}function EG(n,e,t,i){var r=new w6(e??Wot,t??Xot,i??Zot,NaN,NaN,NaN,NaN,NaN,NaN);return null==n?r:r.addAll(n)}function w6(n,e,t,i,r,o,s,a,l){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this._root=void 0}function wG(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}Fl.copy=function(){var t,i,n=new E6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root;if(!e)return n;if(!e.length)return n._root=bG(e),n;for(t=[{source:e,target:n._root=new Array(4)}];e=t.pop();)for(var r=0;r<4;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(4)}):e.target[r]=bG(i));return n},Fl.add=function yot(n){const e=+this._x.call(null,n),t=+this._y.call(null,n);return yG(this.cover(e,t),e,t,n)},Fl.addAll=function bot(n){var e,t,r,o,i=n.length,s=new Array(i),a=new Array(i),l=1/0,u=1/0,h=-1/0,p=-1/0;for(t=0;t<i;++t)isNaN(r=+this._x.call(null,e=n[t]))||isNaN(o=+this._y.call(null,e))||(s[t]=r,a[t]=o,r<l&&(l=r),r>h&&(h=r),o<u&&(u=o),o>p&&(p=o));if(l>h||u>p)return this;for(this.cover(l,u).cover(h,p),t=0;t<i;++t)yG(this,s[t],a[t],n[t]);return this},Fl.cover=function _ot(n,e){if(isNaN(n=+n)||isNaN(e=+e))return this;var t=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(t))r=(t=Math.floor(n))+1,o=(i=Math.floor(e))+1;else{for(var l,u,s=r-t||1,a=this._root;t>n||n>=r||i>e||e>=o;)switch(u=(e<i)<<1|n<t,l=new Array(4),l[u]=a,a=l,s*=2,u){case 0:r=t+s,o=i+s;break;case 1:t=r-s,o=i+s;break;case 2:r=t+s,i=o-s;break;case 3:t=r-s,i=o-s}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._y0=i,this._x1=r,this._y1=o,this},Fl.data=function Eot(){var n=[];return this.visit(function(e){if(!e.length)do{n.push(e.data)}while(e=e.next)}),n},Fl.extent=function wot(n){return arguments.length?this.cover(+n[0][0],+n[0][1]).cover(+n[1][0],+n[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Fl.find=function xot(n,e,t){var i,s,a,l,u,b,E,r=this._x0,o=this._y0,h=this._x1,p=this._y1,v=[],y=this._root;for(y&&v.push(new Ll(y,r,o,h,p)),null==t?t=1/0:(r=n-t,o=e-t,h=n+t,p=e+t,t*=t);b=v.pop();)if(!(!(y=b.node)||(s=b.x0)>h||(a=b.y0)>p||(l=b.x1)<r||(u=b.y1)<o))if(y.length){var w=(s+l)/2,S=(a+u)/2;v.push(new Ll(y[3],w,S,l,u),new Ll(y[2],s,S,w,u),new Ll(y[1],w,a,l,S),new Ll(y[0],s,a,w,S)),(E=(e>=S)<<1|n>=w)&&(b=v[v.length-1],v[v.length-1]=v[v.length-1-E],v[v.length-1-E]=b)}else{var C=n-+this._x.call(null,y.data),D=e-+this._y.call(null,y.data),k=C*C+D*D;if(k<t){var T=Math.sqrt(t=k);r=n-T,o=e-T,h=n+T,p=e+T,i=y.data}}return i},Fl.remove=function Cot(n){if(isNaN(h=+this._x.call(null,n))||isNaN(p=+this._y.call(null,n)))return this;var e,i,r,o,h,p,v,y,b,E,w,S,t=this._root,s=this._x0,a=this._y0,l=this._x1,u=this._y1;if(!t)return this;if(t.length)for(;;){if((b=h>=(v=(s+l)/2))?s=v:l=v,(E=p>=(y=(a+u)/2))?a=y:u=y,e=t,!(t=t[w=E<<1|b]))return this;if(!t.length)break;(e[w+1&3]||e[w+2&3]||e[w+3&3])&&(i=e,S=w)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):e?(o?e[w]=o:delete e[w],(t=e[0]||e[1]||e[2]||e[3])&&t===(e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[S]=t:this._root=t),this):(this._root=o,this)},Fl.removeAll=function Mot(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this},Fl.root=function Sot(){return this._root},Fl.size=function Dot(){var n=0;return this.visit(function(e){if(!e.length)do{++n}while(e=e.next)}),n},Fl.visit=function Oot(n){var t,r,o,s,a,l,e=[],i=this._root;for(i&&e.push(new Ll(i,this._x0,this._y0,this._x1,this._y1));t=e.pop();)if(!n(i=t.node,o=t.x0,s=t.y0,a=t.x1,l=t.y1)&&i.length){var u=(o+a)/2,h=(s+l)/2;(r=i[3])&&e.push(new Ll(r,u,h,a,l)),(r=i[2])&&e.push(new Ll(r,o,h,u,l)),(r=i[1])&&e.push(new Ll(r,u,s,a,h)),(r=i[0])&&e.push(new Ll(r,o,s,u,h))}return this},Fl.visitAfter=function Tot(n){var i,e=[],t=[];for(this._root&&e.push(new Ll(this._root,this._x0,this._y0,this._x1,this._y1));i=e.pop();){var r=i.node;if(r.length){var o,s=i.x0,a=i.y0,l=i.x1,u=i.y1,h=(s+l)/2,p=(a+u)/2;(o=r[0])&&e.push(new Ll(o,s,a,h,p)),(o=r[1])&&e.push(new Ll(o,h,a,l,p)),(o=r[2])&&e.push(new Ll(o,s,p,h,u)),(o=r[3])&&e.push(new Ll(o,h,p,l,u))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.x1,i.y1);return this},Fl.x=function kot(n){return arguments.length?(this._x=n,this):this._x},Fl.y=function Rot(n){return arguments.length?(this._y=n,this):this._y};var dl=EG.prototype=w6.prototype;function tst(n){let e=0,t=0,i=0,r=0,o=0;const s=n.length;if(s){for(let a=0;a<s;a++){const l=n[a];l&&l.weight&&(e+=l.weight,t+=l.x*l.weight,i+=l.y*l.weight,r+=l.z*l.weight,o+=l.size*l.weight)}n.x=t/e,n.y=i/e,n.z=r/e,n.size=o/e,n.weight=e}else{const a=n;n.x=a.data.x,n.y=a.data.y,n.z=a.data.z,n.size=a.data.size,n.weight=a.data.weight}}dl.copy=function(){var t,i,n=new w6(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root;if(!e)return n;if(!e.length)return n._root=wG(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=wG(i));return n},dl.add=function Pot(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return _G(this.cover(e,t,i),e,t,i,n)},dl.addAll=function Not(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let o=1/0,s=1/0,a=1/0,l=-1/0,u=-1/0,h=-1/0;for(let v,y,b,E,p=0;p<e;++p)isNaN(y=+this._x.call(null,v=n[p]))||isNaN(b=+this._y.call(null,v))||isNaN(E=+this._z.call(null,v))||(t[p]=y,i[p]=b,r[p]=E,y<o&&(o=y),y>l&&(l=y),b<s&&(s=b),b>u&&(u=b),E<a&&(a=E),E>h&&(h=E));if(o>l||s>u||a>h)return this;this.cover(o,s,a).cover(l,u,h);for(let p=0;p<e;++p)_G(this,t[p],i[p],r[p],n[p]);return this},dl.cover=function Lot(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,o=this._z0,s=this._x1,a=this._y1,l=this._z1;if(isNaN(i))s=(i=Math.floor(n))+1,a=(r=Math.floor(e))+1,l=(o=Math.floor(t))+1;else{for(var p,v,u=s-i||1,h=this._root;i>n||n>=s||r>e||e>=a||o>t||t>=l;)switch(v=(t<o)<<2|(e<r)<<1|n<i,p=new Array(8),p[v]=h,h=p,u*=2,v){case 0:s=i+u,a=r+u,l=o+u;break;case 1:i=s-u,a=r+u,l=o+u;break;case 2:s=i+u,r=a-u,l=o+u;break;case 3:i=s-u,r=a-u,l=o+u;break;case 4:s=i+u,a=r+u,o=l-u;break;case 5:i=s-u,a=r+u,o=l-u;break;case 6:s=i+u,r=a-u,o=l-u;break;case 7:i=s-u,r=a-u,o=l-u}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=r,this._z0=o,this._x1=s,this._y1=a,this._z1=l,this},dl.data=function Fot(){var n=[];return this.visit(function(e){if(!e.length)do{n.push(e.data)}while(e=e.next)}),n},dl.extent=function Bot(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},dl.find=function jot(n,e,t,i){var r,l,u,h,p,v,y,D,k,o=this._x0,s=this._y0,a=this._z0,b=this._x1,E=this._y1,w=this._z1,S=[],C=this._root;for(C&&S.push(new Bo(C,o,s,a,b,E,w)),null==i?i=1/0:(o=n-i,s=e-i,a=t-i,b=n+i,E=e+i,w=t+i,i*=i);D=S.pop();)if(!(!(C=D.node)||(l=D.x0)>b||(u=D.y0)>E||(h=D.z0)>w||(p=D.x1)<o||(v=D.y1)<s||(y=D.z1)<a))if(C.length){var T=(l+p)/2,I=(u+v)/2,F=(h+y)/2;S.push(new Bo(C[7],T,I,F,p,v,y),new Bo(C[6],l,I,F,T,v,y),new Bo(C[5],T,u,F,p,I,y),new Bo(C[4],l,u,F,T,I,y),new Bo(C[3],T,I,h,p,v,F),new Bo(C[2],l,I,h,T,v,F),new Bo(C[1],T,u,h,p,I,F),new Bo(C[0],l,u,h,T,I,F)),(k=(t>=F)<<2|(e>=I)<<1|n>=T)&&(D=S[S.length-1],S[S.length-1]=S[S.length-1-k],S[S.length-1-k]=D)}else{var z=n-+this._x.call(null,C.data),V=e-+this._y.call(null,C.data),K=t-+this._z.call(null,C.data),Y=z*z+V*V+K*K;if(Y<i){var Q=Math.sqrt(i=Y);o=n-Q,s=e-Q,a=t-Q,b=n+Q,E=e+Q,w=t+Q,r=C.data}}return r},dl.remove=function Vot(n){if(isNaN(v=+this._x.call(null,n))||isNaN(y=+this._y.call(null,n))||isNaN(b=+this._z.call(null,n)))return this;var e,i,r,o,v,y,b,E,w,S,C,D,k,T,I,t=this._root,s=this._x0,a=this._y0,l=this._z0,u=this._x1,h=this._y1,p=this._z1;if(!t)return this;if(t.length)for(;;){if((C=v>=(E=(s+u)/2))?s=E:u=E,(D=y>=(w=(a+h)/2))?a=w:h=w,(k=b>=(S=(l+p)/2))?l=S:p=S,e=t,!(t=t[T=k<<2|D<<1|C]))return this;if(!t.length)break;(e[T+1&7]||e[T+2&7]||e[T+3&7]||e[T+4&7]||e[T+5&7]||e[T+6&7]||e[T+7&7])&&(i=e,I=T)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):e?(o?e[T]=o:delete e[T],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[I]=t:this._root=t),this):(this._root=o,this)},dl.removeAll=function zot(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this},dl.root=function Uot(){return this._root},dl.size=function Got(){var n=0;return this.visit(function(e){if(!e.length)do{++n}while(e=e.next)}),n},dl.visit=function Hot(n){var t,r,o,s,a,l,u,h,e=[],i=this._root;for(i&&e.push(new Bo(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,o=t.x0,s=t.y0,a=t.z0,l=t.x1,u=t.y1,h=t.z1)&&i.length){var p=(o+l)/2,v=(s+u)/2,y=(a+h)/2;(r=i[7])&&e.push(new Bo(r,p,v,y,l,u,h)),(r=i[6])&&e.push(new Bo(r,o,v,y,p,u,h)),(r=i[5])&&e.push(new Bo(r,p,s,y,l,v,h)),(r=i[4])&&e.push(new Bo(r,o,s,y,p,v,h)),(r=i[3])&&e.push(new Bo(r,p,v,a,l,u,y)),(r=i[2])&&e.push(new Bo(r,o,v,a,p,u,y)),(r=i[1])&&e.push(new Bo(r,p,s,a,l,v,y)),(r=i[0])&&e.push(new Bo(r,o,s,a,p,v,y))}return this},dl.visitAfter=function $ot(n){var i,e=[],t=[];for(this._root&&e.push(new Bo(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var o,s=i.x0,a=i.y0,l=i.z0,u=i.x1,h=i.y1,p=i.z1,v=(s+u)/2,y=(a+h)/2,b=(l+p)/2;(o=r[0])&&e.push(new Bo(o,s,a,l,v,y,b)),(o=r[1])&&e.push(new Bo(o,v,a,l,u,y,b)),(o=r[2])&&e.push(new Bo(o,s,y,l,v,h,b)),(o=r[3])&&e.push(new Bo(o,v,y,l,u,h,b)),(o=r[4])&&e.push(new Bo(o,s,a,b,v,y,p)),(o=r[5])&&e.push(new Bo(o,v,a,b,u,y,p)),(o=r[6])&&e.push(new Bo(o,s,y,b,v,h,p)),(o=r[7])&&e.push(new Bo(o,v,y,b,u,h,p))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this},dl.x=function Kot(n){return arguments.length?(this._x=n,this):this._x},dl.y=function Yot(n){return arguments.length?(this._y=n,this):this._y},dl.z=function Qot(n){return arguments.length?(this._z=n,this):this._z};const est=(n,e,t,i,r,o,s)=>{var a;if((null===(a=n.data)||void 0===a?void 0:a.id)===o.id)return;const u=o.x-n.x||.1,h=o.y-n.y||.1,p=o.z-n.z||.1,v=[u,h,p],y=[t,i,r][s-1]-e;let b=0;for(let w=0;w<s;w++)b+=v[w]*v[w];const E=Math.sqrt(b)*b;if(y*y*.81<b){const w=n.weight/E;return o.vx+=u*w,o.vy+=h*w,o.vz+=p*w,!0}if(n.length)return!1;if(n.data!==o){const w=n.data.weight/E;o.vx+=u*w,o.vy+=h*w,o.vz+=p*w}},ist={dimensions:2,maxIteration:500,gravity:10,factor:1,edgeStrength:50,nodeStrength:1e3,coulombDisScale:.005,damping:.9,maxSpeed:200,minMovement:.4,interval:.02,linkDistance:200,clusterNodeStrength:20,preventOverlap:!0,distanceThresholdMode:"mean"};class xG{constructor(e={}){this.options=e,this.id="force",this.timeInterval=0,this.judgingDistance=0,this.running=!1,this.options=Object.assign(Object.assign({},ist),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericForceLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericForceLayout(!0,e,t)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let i=0;(this.judgingDistance>this.lastOptions.minMovement||i<1)&&i<e;i++)this.runOneStep(this.lastCalcGraph,this.lastGraph,i,this.lastVelMap,this.lastOptions),this.updatePosition(this.lastGraph,this.lastCalcGraph,this.lastVelMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(i=>this.lastGraph.mergeNodeData(i.id,{x:i.data.x,y:i.data.y,z:3===this.options.dimensions?i.data.z:void 0})),t}genericForceLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),o=t.getAllNodes(),s=t.getAllEdges(),a=this.formatOptions(r,t),{dimensions:l,width:u,height:h,nodeSize:p,getMass:v,nodeStrength:y,edgeStrength:b,linkDistance:E}=a,w=o.map((z,V)=>Object.assign(Object.assign({},z),{data:Object.assign(Object.assign({},z.data),{x:Zn(z.data.x)?z.data.x:Math.random()*u,y:Zn(z.data.y)?z.data.y:Math.random()*h,z:Zn(z.data.z)?z.data.z:Math.random()*Math.sqrt(u*h),size:p(z)||30,mass:v(z),nodeStrength:y(z)})})),S=s.map(z=>Object.assign(Object.assign({},z),{data:Object.assign(Object.assign({},z.data),{edgeStrength:b(z),linkDistance:E(z,t.getNode(z.source),t.getNode(z.target))})}));if(null==o||!o.length)return this.lastResult={nodes:[],edges:s},{nodes:[],edges:s};const C={};o.forEach((z,V)=>{C[z.id]={x:0,y:0,z:0}});const D=new Gs({nodes:w,edges:S});this.formatCentripetal(a,D);const{maxIteration:k,minMovement:T,onTick:I}=a;if(this.lastLayoutNodes=w,this.lastLayoutEdges=S,this.lastAssign=e,this.lastGraph=t,this.lastCalcGraph=D,this.lastOptions=a,this.lastVelMap=C,typeof window>"u")return;let F=0;return new Promise(z=>{this.timeInterval=window.setInterval(()=>{(!o||!this.running)&&z({nodes:C6(t,w),edges:s}),this.runOneStep(D,t,F,C,a),this.updatePosition(t,D,C,a),e&&w.forEach(V=>t.mergeNodeData(V.id,{x:V.data.x,y:V.data.y,z:3===l?V.data.z:void 0})),I?.({nodes:C6(t,w),edges:s}),F++,(F>=k||this.judgingDistance<T)&&(window.clearInterval(this.timeInterval),z({nodes:C6(t,w),edges:s}))},0),this.running=!0})})}formatOptions(e,t){const i=Object.assign({},e),{width:r,height:o,getMass:s,nodeSize:a}=e;i.width=!r&&typeof window<"u"?window.innerWidth:r,i.height=!o&&typeof window<"u"?window.innerHeight:o,e.center||(i.center=[i.width/2,i.height/2]),s||(i.getMass=p=>{let v=1;Zn(p?.data.mass)&&(v=p?.data.mass);const y=t.getDegree(p.id,"both");return!y||y<5?v:5*y*v});const l=vg(0,e.nodeSpacing);let u;u=a?$n(a)?p=>a(p)+l(p):Nl(a)?p=>Math.max(a[0],a[1])+l(p):p=>a+l(p):p=>{const{size:v}=p?.data||{};return v?Nl(v)?Math.max(v[0],v[1])+l(p):Dr(v)?Math.max(v.width,v.height)+l(p):v+l(p):10+l(p)},i.nodeSize=u;const h=e.linkDistance?vg(1,e.linkDistance):p=>1+i.nodeSize(t.getNode(p.source))+i.nodeSize(t.getNode(p.target));return i.linkDistance=h,i.nodeStrength=vg(1,e.nodeStrength),i.edgeStrength=vg(1,e.edgeStrength),i}formatCentripetal(e,t){const{dimensions:i,centripetalOptions:r,center:o,clusterNodeStrength:s,leafCluster:a,clustering:l,nodeClusterBy:u}=e,h=t.getAllNodes(),p=r||{leaf:2,single:2,others:1,center:S=>({x:o[0],y:o[1],z:3===i?o[2]:void 0})};let v,y;if("function"!=typeof s&&(e.clusterNodeStrength=S=>s),a&&u&&(v=CG(t,u),y=Array.from(new Set(h?.map(S=>S.data[u])))||[],e.centripetalOptions=Object.assign(p,{single:100,leaf:S=>{const{siblingLeaves:C,sameTypeLeaves:D}=v[S.id]||{};return D?.length===C?.length||1===y?.length?1:e.clusterNodeStrength(S)},others:1,center:S=>{const C=t.getDegree(S.id,"both");if(!C)return{x:100,y:100,z:0};let D;if(1===C){const{sameTypeLeaves:k=[]}=v[S.id]||{};1===k.length?D=void 0:k.length>1&&(D=MG(k))}else D=void 0;return{x:D?.x,y:D?.y,z:D?.z}}})),l&&u){v||(v=CG(t,u)),y||(y=Array.from(new Set(h.map(C=>C.data[u])))),y=y.filter(C=>void 0!==C);const S={};y.forEach(C=>{const D=h.filter(k=>k.data[u]===C).map(k=>t.getNode(k.id));S[C]=MG(D)}),e.centripetalOptions=Object.assign(p,{single:C=>e.clusterNodeStrength(C),leaf:C=>e.clusterNodeStrength(C),others:C=>e.clusterNodeStrength(C),center:C=>{const D=S[C.data[u]];return{x:D?.x,y:D?.y,z:D?.z}}})}const{leaf:b,single:E,others:w}=e.centripetalOptions||{};b&&"function"!=typeof b&&(e.centripetalOptions.leaf=()=>b),E&&"function"!=typeof E&&(e.centripetalOptions.single=()=>E),w&&"function"!=typeof w&&(e.centripetalOptions.others=()=>w)}runOneStep(e,t,i,r,o){const s={},a=e.getAllNodes(),l=e.getAllEdges();if(null==a||!a.length)return;const{monitor:u}=o;this.calRepulsive(e,s,o),l&&this.calAttractive(e,s,o),this.calGravity(e,t,s,o),this.updateVelocity(e,s,r,o),u&&u({energy:this.calTotalEnergy(s,a),nodes:t.getAllNodes(),edges:t.getAllEdges(),iterations:i})}calTotalEnergy(e,t){if(null==t||!t.length)return 0;let i=0;return t.forEach((r,o)=>{const s=e[r.id].x,a=e[r.id].y,l=3===this.options.dimensions?e[r.id].z:0,u=s*s+a*a+l*l,{mass:h=1}=r.data;i+=h*u*.5}),i}calRepulsive(e,t,i){const{dimensions:r,factor:o,coulombDisScale:s}=i;!function Jot(n,e,t,i,r=2){const o=e/t,s=n.getAllNodes(),a=s.map((h,p)=>{const{nodeStrength:v,x:y,y:b,z:E,size:w}=h.data;return{x:y,y:b,z:E,size:w,index:p,id:h.id,vx:0,vy:0,vz:0,weight:o*v}}),l=(2===r?mI(a,h=>h.x,h=>h.y):EG(a,h=>h.x,h=>h.y,h=>h.z)).visitAfter(tst),u=new Map;return a.forEach(h=>{u.set(h.id,h),function nst(n,e,t){e.visit((i,r,o,s,a)=>est(i,r,o,s,a,n,t))}(h,l,r)}),a.map((h,p)=>{const{id:v,data:y}=s[p],{mass:b=1}=y;i[v]={x:h.vx/b,y:h.vy/b,z:h.vz/b}}),i}(e,o,s*s,t,r)}calAttractive(e,t,i){const{dimensions:r,nodeSize:o}=i;e.getAllEdges().forEach((s,a)=>{const{source:l,target:u}=s,h=e.getNode(l),p=e.getNode(u);if(!h||!p)return;let v=p.data.x-h.data.x,y=p.data.y-h.data.y,b=3===r?p.data.z-h.data.z:0;!v&&!y&&(v=.01*Math.random(),y=.01*Math.random(),3===r&&!b&&(b=.01*Math.random()));const E=Math.sqrt(v*v+y*y+b*b);if(E<o(h)+o(p))return;const w=v/E,S=y/E,C=b/E,{linkDistance:D=200,edgeStrength:k=200}=s.data||{},T=(D-E)*k,z=1/(h.data.mass||1),V=1/(p.data.mass||1),K=w*T,Y=S*T,Q=C*T;t[l].x-=K*z,t[l].y-=Y*z,t[l].z-=Q*z,t[u].x+=K*V,t[u].y+=Y*V,t[u].z+=Q*V})}calGravity(e,t,i,r){const{getCenter:o}=r,s=e.getAllNodes(),a=t.getAllNodes(),l=t.getAllEdges(),{width:u,height:h,center:p,gravity:v,centripetalOptions:y}=r;s&&s.forEach(b=>{const{id:E,data:w}=b,{mass:S,x:C,y:D,z:k}=w,T=t.getNode(E);let I=0,F=0,z=0,V=v;const K=e.getDegree(E,"in"),Y=e.getDegree(E,"out"),Q=e.getDegree(E,"both"),at=o?.(T,Q);if(at){const[It,Pt,ct]=at;I=C-It,F=D-Pt,V=ct}else I=C-p[0],F=D-p[1],z=k-p[2];if(V&&(i[E].x-=V*I/S,i[E].y-=V*F/S,i[E].z-=V*z/S),y){const{leaf:It,single:Pt,others:ct,center:ot}=y,{x:rt,y:Nt,z:ie,centerStrength:$e}=ot?.(T,a,l,u,h)||{x:0,y:0,z:0,centerStrength:0};if(!Zn(rt)||!Zn(Nt))return;const ye=(C-rt)/S,ln=(D-Nt)/S,kn=(k-ie)/S;if($e&&(i[E].x-=$e*ye,i[E].y-=$e*ln,i[E].z-=$e*kn),0===Q){const Un=Pt(T);if(!Un)return;return i[E].x-=Un*ye,i[E].y-=Un*ln,void(i[E].z-=Un*kn)}if(0===K||0===Y){const Un=It(T,a,l);if(!Un)return;return i[E].x-=Un*ye,i[E].y-=Un*ln,void(i[E].z-=Un*kn)}const oi=ct(T);if(!oi)return;i[E].x-=oi*ye,i[E].y-=oi*ln,i[E].z-=oi*kn}})}updateVelocity(e,t,i,r){const{damping:o,maxSpeed:s,interval:a,dimensions:l}=r,u=e.getAllNodes();null!=u&&u.length&&u.forEach(h=>{const{id:p}=h;let v=(i[p].x+t[p].x*a)*o||.01,y=(i[p].y+t[p].y*a)*o||.01,b=3===l?(i[p].z+t[p].z*a)*o||.01:0;const E=Math.sqrt(v*v+y*y+b*b);if(E>s){const w=s/E;v*=w,y*=w,b*=w}i[p]={x:v,y,z:b}})}updatePosition(e,t,i,r){const{distanceThresholdMode:o,interval:s,dimensions:a}=r,l=t.getAllNodes();if(null==l||!l.length)return void(this.judgingDistance=0);let u=0;"max"===o?this.judgingDistance=-1/0:"min"===o&&(this.judgingDistance=1/0),l.forEach(h=>{const{id:p}=h,v=e.getNode(p);if(Zn(v.data.fx)&&Zn(v.data.fy))return void t.mergeNodeData(p,{x:v.data.fx,y:v.data.fy,z:3===a?v.data.fz:void 0});const y=i[p].x*s,b=i[p].y*s,E=3===a?i[p].z*s:0;t.mergeNodeData(p,{x:h.data.x+y,y:h.data.y+b,z:h.data.z+E});const w=Math.sqrt(y*y+b*b+E*E);switch(o){case"max":this.judgingDistance<w&&(this.judgingDistance=w);break;case"min":this.judgingDistance>w&&(this.judgingDistance=w);break;default:u+=w}}),(!o||"mean"===o)&&(this.judgingDistance=u/l.length)}}const CG=(n,e)=>{const t=n.getAllNodes();if(null==t||!t.length)return{};const i={};return t.forEach((r,o)=>{1===n.getDegree(r.id,"both")&&(i[r.id]=rst(n,"leaf",r,e))}),i},rst=(n,e,t,i)=>{const r=n.getDegree(t.id,"in"),o=n.getDegree(t.id,"out");let s=t,a=[];return 0===r?(s=n.getSuccessors(t.id)[0],a=n.getNeighbors(s.id)):0===o&&(s=n.getPredecessors(t.id)[0],a=n.getNeighbors(s.id)),a=a.filter(u=>0===n.getDegree(u.id,"in")||0===n.getDegree(u.id,"out")),{coreNode:s,siblingLeaves:a,sameTypeLeaves:ost(n,e,i,t,a)}},ost=(n,e,t,i,r)=>{const o=i.data[t]||"";let s=r?.filter(a=>a.data[t]===o)||[];return s=s.filter(a=>0===n.getDegree(a.id,"in")||0===n.getDegree(a.id,"out")),s},MG=n=>{const e={x:0,y:0};n.forEach(i=>{const{x:r,y:o}=i.data;e.x+=r||0,e.y+=o||0});const t=n.length||1;return{x:e.x/t,y:e.y/t}},C6=(n,e)=>e.map(t=>{const{id:i,data:r}=t,o=n.getNode(i);return Object.assign(Object.assign({},o),{data:Object.assign(Object.assign({},o.data),{x:r.x,y:r.y,z:r.z})})});var Or={};const sst=Object.prototype.toString;function wC(n){const e=sst.call(n);return e.endsWith("Array]")&&!e.includes("Big")}const lst=fh(Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:wC},Symbol.toStringTag,{value:"Module"}))),hst=Object.freeze(Object.defineProperty({__proto__:null,default:function dst(n){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!wC(n))throw new TypeError("input must be an array");if(0===n.length)throw new TypeError("input must not be empty");if(void 0!==e.output){if(!wC(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array(n.length);var i=function ust(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!wC(n))throw new TypeError("input must be an array");if(0===n.length)throw new TypeError("input must not be empty");var t=e.fromIndex,i=void 0===t?0:t,r=e.toIndex,o=void 0===r?n.length:r;if(i<0||i>=n.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>n.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=n[i],a=i+1;a<o;a++)n[a]<s&&(s=n[a]);return s}(n),r=function cst(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!wC(n))throw new TypeError("input must be an array");if(0===n.length)throw new TypeError("input must not be empty");var t=e.fromIndex,i=void 0===t?0:t,r=e.toIndex,o=void 0===r?n.length:r;if(i<0||i>=n.length||!Number.isInteger(i))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=i||o>n.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var s=n[i],a=i+1;a<o;a++)n[a]>s&&(s=n[a]);return s}(n);if(i===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=e.min,s=void 0===o?e.autoMinMax?i:0:o,a=e.max,l=void 0===a?e.autoMinMax?r:1:a;if(s>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-s)/(r-i),h=0;h<n.length;h++)t[h]=(n[h]-i)*u+s;return t}},Symbol.toStringTag,{value:"Module"})),fst=fh(hst);Object.defineProperty(Or,"__esModule",{value:!0});var gc=lst,SG=fst;const gI=" ".repeat(2),DG=" ".repeat(4);function OG(n,e={}){const{maxRows:t=15,maxColumns:i=10,maxNumSize:r=8,padMinus:o="auto"}=e;return`${n.constructor.name} {\n${gI}[\n${DG}${function mst(n,e,t,i,r){const{rows:o,columns:s}=n,a=Math.min(o,e),l=Math.min(s,t),u=[];if("auto"===r){r=!1;t:for(let h=0;h<a;h++)for(let p=0;p<l;p++)if(n.get(h,p)<0){r=!0;break t}}for(let h=0;h<a;h++){let p=[];for(let v=0;v<l;v++)p.push(gst(n.get(h,v),i,r));u.push(`${p.join(" ")}`)}return l!==s&&(u[u.length-1]+=` ... ${s-t} more columns`),a!==o&&u.push(`... ${o-e} more rows`),u.join(`\n${DG}`)}(n,t,i,r,o)}\n${gI}]\n${gI}rows: ${n.rows}\n${gI}columns: ${n.columns}\n}`}function gst(n,e,t){return(n>=0&&t?` ${TG(n,e-1)}`:TG(n,e)).padEnd(e)}function TG(n,e){let t=n.toString();if(t.length<=e)return t;let i=n.toFixed(e);if(i.length>e&&(i=n.toFixed(Math.max(0,e-(i.length-e)))),i.length<=e&&!i.startsWith("0.000")&&!i.startsWith("-0.000"))return i;let r=n.toExponential(e);return r.length>e&&(r=n.toExponential(Math.max(0,e-(r.length-e)))),r.slice(0)}function Bu(n,e,t){if(e<0||e>(t?n.rows:n.rows-1))throw new RangeError("Row index out of range")}function ju(n,e,t){if(e<0||e>(t?n.columns:n.columns-1))throw new RangeError("Column index out of range")}function m1(n,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==n.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function g1(n,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==n.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function M6(n,e){if(!gc.isAnyArray(e))throw new TypeError("row indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=n.rows)throw new RangeError("row indices are out of range")}function S6(n,e){if(!gc.isAnyArray(e))throw new TypeError("column indices must be an array");for(let t=0;t<e.length;t++)if(e[t]<0||e[t]>=n.columns)throw new RangeError("column indices are out of range")}function D6(n,e,t,i,r){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(yI("startRow",e),yI("endRow",t),yI("startColumn",i),yI("endColumn",r),e>t||i>r||e<0||e>=n.rows||t<0||t>=n.rows||i<0||i>=n.columns||r<0||r>=n.columns)throw new RangeError("Submatrix indices are out of range")}function vI(n,e=0){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function yI(n,e){if("number"!=typeof e)throw new TypeError(`${n} must be a number`)}function v1(n){if(n.isEmpty())throw new Error("Empty matrix has no elements to index")}class fr{static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError("data length does not match given dimensions");let r=new li(e,t);for(let o=0;o<e;o++)for(let s=0;s<t;s++)r.set(o,s,i[o*t+s]);return r}static rowVector(e){let t=new li(1,e.length);for(let i=0;i<e.length;i++)t.set(0,i,e[i]);return t}static columnVector(e){let t=new li(e.length,1);for(let i=0;i<e.length;i++)t.set(i,0,e[i]);return t}static zeros(e,t){return new li(e,t)}static ones(e,t){return new li(e,t).fill(1)}static rand(e,t,i={}){if("object"!=typeof i)throw new TypeError("options must be an object");const{random:r=Math.random}=i;let o=new li(e,t);for(let s=0;s<e;s++)for(let a=0;a<t;a++)o.set(s,a,r());return o}static randInt(e,t,i={}){if("object"!=typeof i)throw new TypeError("options must be an object");const{min:r=0,max:o=1e3,random:s=Math.random}=i;if(!Number.isInteger(r))throw new TypeError("min must be an integer");if(!Number.isInteger(o))throw new TypeError("max must be an integer");if(r>=o)throw new RangeError("min must be smaller than max");let a=o-r,l=new li(e,t);for(let u=0;u<e;u++)for(let h=0;h<t;h++){let p=r+Math.round(s()*a);l.set(u,h,p)}return l}static eye(e,t,i){void 0===t&&(t=e),void 0===i&&(i=1);let r=Math.min(e,t),o=this.zeros(e,t);for(let s=0;s<r;s++)o.set(s,s,i);return o}static diag(e,t,i){let r=e.length;void 0===t&&(t=r),void 0===i&&(i=t);let o=Math.min(r,t,i),s=this.zeros(t,i);for(let a=0;a<o;a++)s.set(a,a,e[a]);return s}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,r=e.columns,o=new li(i,r);for(let s=0;s<i;s++)for(let a=0;a<r;a++)o.set(s,a,Math.min(e.get(s,a),t.get(s,a)));return o}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,r=e.columns,o=new this(i,r);for(let s=0;s<i;s++)for(let a=0;a<r;a++)o.set(s,a,Math.max(e.get(s,a),t.get(s,a)));return o}static checkMatrix(e){return fr.isMatrix(e)?e:new li(e)}static isMatrix(e){return null!=e&&"Matrix"===e.klass}get size(){return this.rows*this.columns}apply(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.call(this,t,i);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.push(this.get(t,i));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let i=0;i<this.columns;i++)e[t].push(this.get(t,i))}return e}toJSON(){return this.to2DArray()}isRowVector(){return 1===this.rows}isColumnVector(){return 1===this.columns}isVector(){return 1===this.rows||1===this.columns}isSquare(){return this.rows===this.columns}isEmpty(){return 0===this.rows||0===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let e=0;e<this.rows;e++)if(0!==this.get(e,e))return!1;return!0}isEchelonForm(){let e=0,t=0,i=-1,r=!0,o=!1;for(;e<this.rows&&r;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>i?(o=!0,i=t):(r=!1,o=!0);e++}return r}isReducedEchelonForm(){let e=0,t=0,i=-1,r=!0,o=!1;for(;e<this.rows&&r;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>i?(o=!0,i=t):(r=!1,o=!0);for(let s=t+1;s<this.rows;s++)0!==this.get(e,s)&&(r=!1);e++}return r}echelonForm(){let e=this.clone(),t=0,i=0;for(;t<e.rows&&i<e.columns;){let r=t;for(let o=t;o<e.rows;o++)e.get(o,i)>e.get(r,i)&&(r=o);if(0===e.get(r,i))i++;else{e.swapRows(t,r);let o=e.get(t,i);for(let s=i;s<e.columns;s++)e.set(t,s,e.get(t,s)/o);for(let s=t+1;s<e.rows;s++){let a=e.get(s,i)/e.get(t,i);e.set(s,i,0);for(let l=i+1;l<e.columns;l++)e.set(s,l,e.get(s,l)-e.get(t,l)*a)}t++,i++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,i=e.rows,r=i-1;for(;r>=0;)if(0===e.maxRow(r))r--;else{let o=0,s=!1;for(;o<i&&!1===s;)1===e.get(r,o)?s=!0:o++;for(let a=0;a<r;a++){let l=e.get(a,o);for(let u=o;u<t;u++){let h=e.get(a,u)-l*e.get(r,u);e.set(a,u,h)}}r--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{rows:t=1,columns:i=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");let r=new li(this.rows*t,this.columns*i);for(let o=0;o<t;o++)for(let s=0;s<i;s++)r.setSubMatrix(this,this.rows*o,this.columns*s);return r}fill(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){Bu(this,e);let t=[];for(let i=0;i<this.columns;i++)t.push(this.get(e,i));return t}getRowVector(e){return li.rowVector(this.getRow(e))}setRow(e,t){Bu(this,e),t=m1(this,t);for(let i=0;i<this.columns;i++)this.set(e,i,t[i]);return this}swapRows(e,t){Bu(this,e),Bu(this,t);for(let i=0;i<this.columns;i++){let r=this.get(e,i);this.set(e,i,this.get(t,i)),this.set(t,i,r)}return this}getColumn(e){ju(this,e);let t=[];for(let i=0;i<this.rows;i++)t.push(this.get(i,e));return t}getColumnVector(e){return li.columnVector(this.getColumn(e))}setColumn(e,t){ju(this,e),t=g1(this,t);for(let i=0;i<this.rows;i++)this.set(i,e,t[i]);return this}swapColumns(e,t){ju(this,e),ju(this,t);for(let i=0;i<this.rows;i++){let r=this.get(i,e);this.set(i,e,this.get(i,t)),this.set(i,t,r)}return this}addRowVector(e){e=m1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=m1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=m1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=m1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=g1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=g1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=g1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=g1(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){Bu(this,e);for(let i=0;i<this.columns;i++)this.set(e,i,this.get(e,i)*t);return this}mulColumn(e,t){ju(this,e);for(let i=0;i<this.rows;i++)this.set(i,e,this.get(i,e)*t);return this}max(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>t[i]&&(t[i]=this.get(i,r));return t}case"column":{const t=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>t[r]&&(t[r]=this.get(i,r));return t}case void 0:{let t=this.get(0,0);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>t&&(t=this.get(i,r));return t}default:throw new Error(`invalid option: ${e}`)}}maxIndex(){v1(this);let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)>e&&(e=this.get(i,r),t[0]=i,t[1]=r);return t}min(e){if(this.isEmpty())return NaN;switch(e){case"row":{const t=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<t[i]&&(t[i]=this.get(i,r));return t}case"column":{const t=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<t[r]&&(t[r]=this.get(i,r));return t}case void 0:{let t=this.get(0,0);for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<t&&(t=this.get(i,r));return t}default:throw new Error(`invalid option: ${e}`)}}minIndex(){v1(this);let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.get(i,r)<e&&(e=this.get(i,r),t[0]=i,t[1]=r);return t}maxRow(e){if(Bu(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)>t&&(t=this.get(e,i));return t}maxRowIndex(e){Bu(this,e),v1(this);let t=this.get(e,0),i=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r),i[1]=r);return i}minRow(e){if(Bu(this,e),this.isEmpty())return NaN;let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)<t&&(t=this.get(e,i));return t}minRowIndex(e){Bu(this,e),v1(this);let t=this.get(e,0),i=[e,0];for(let r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r),i[1]=r);return i}maxColumn(e){if(ju(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)>t&&(t=this.get(i,e));return t}maxColumnIndex(e){ju(this,e),v1(this);let t=this.get(0,e),i=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e),i[0]=r);return i}minColumn(e){if(ju(this,e),this.isEmpty())return NaN;let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)<t&&(t=this.get(i,e));return t}minColumnIndex(e){ju(this,e),v1(this);let t=this.get(0,e),i=[0,e];for(let r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e),i[0]=r);return i}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let i=0;i<e;i++)t.push(this.get(i,i));return t}norm(e="frobenius"){switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${e}`)}}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){fr.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let i=0;for(let r=0;r<t.length;r++)i+=t[r]*e[r];return i}mmul(e){e=li.checkMatrix(e);let t=this.rows,i=this.columns,r=e.columns,o=new li(t,r),s=new Float64Array(i);for(let a=0;a<r;a++){for(let l=0;l<i;l++)s[l]=e.get(l,a);for(let l=0;l<t;l++){let u=0;for(let h=0;h<i;h++)u+=this.get(l,h)*s[h];o.set(l,a,u)}}return o}mpow(e){if(!this.isSquare())throw new RangeError("Matrix must be square");if(!Number.isInteger(e)||e<0)throw new RangeError("Exponent must be a non-negative integer");let t=li.eye(this.rows),i=this;for(let r=e;r>1;r/=2)1&r&&(t=t.mmul(i)),i=i.mmul(i);return t}strassen2x2(e){e=li.checkMatrix(e);let t=new li(2,2);const i=this.get(0,0),r=e.get(0,0),o=this.get(0,1),s=e.get(0,1),a=this.get(1,0),l=e.get(1,0),u=this.get(1,1),h=e.get(1,1),p=(i+u)*(r+h),v=(a+u)*r,y=i*(s-h),b=u*(l-r),E=(i+o)*h,D=y+E,k=v+b,T=p-v+y+(a-i)*(r+s);return t.set(0,0,p+b-E+(o-u)*(l+h)),t.set(0,1,D),t.set(1,0,k),t.set(1,1,T),t}strassen3x3(e){e=li.checkMatrix(e);let t=new li(3,3);const i=this.get(0,0),r=this.get(0,1),o=this.get(0,2),s=this.get(1,0),a=this.get(1,1),l=this.get(1,2),u=this.get(2,0),h=this.get(2,1),p=this.get(2,2),v=e.get(0,0),y=e.get(0,1),b=e.get(0,2),E=e.get(1,0),w=e.get(1,1),S=e.get(1,2),C=e.get(2,0),D=e.get(2,1),k=e.get(2,2),I=(i-s)*(-y+w),z=(-i+s+a)*(v-y+w),V=(s+a)*(-v+y),K=i*v,Y=(-i+u+h)*(v-b+S),Q=(-i+u)*(b-S),at=(u+h)*(-v+b),ct=(-o+h+p)*(w+C-D),ot=(o-p)*(w-D),rt=o*C,Nt=(h+p)*(-C+D),ie=(-o+a+l)*(S+C-k),$e=(o-l)*(S-k),ye=(a+l)*(-C+k),gs=(i+r+o-s-a-h-p)*w+z+V+K+ct+rt+Nt,Ho=K+Y+at+(i+r+o-a-l-u-h)*S+rt+ie+ye,bc=I+a*(-v+y+E-w-S-C+k)+z+K+rt+ie+$e,aS=I+z+V+K+l*D,lS=rt+ie+$e+ye+s*b,sE=K+Y+Q+h*(-v+b+E-w-S-C+D)+ct+ot+rt,ao=ct+ot+rt+Nt+u*y,Sp=K+Y+Q+at+p*k;return t.set(0,0,K+rt+r*E),t.set(0,1,gs),t.set(0,2,Ho),t.set(1,0,bc),t.set(1,1,aS),t.set(1,2,lS),t.set(2,0,sE),t.set(2,1,ao),t.set(2,2,Sp),t}mmulStrassen(e){e=li.checkMatrix(e);let t=this.clone(),i=t.rows,r=t.columns,o=e.rows,s=e.columns;function a(p,v,y){if(p.rows===v&&p.columns===y)return p;{let w=fr.zeros(v,y);return w=w.setSubMatrix(p,0,0),w}}r!==o&&console.warn(`Multiplying ${i} x ${r} and ${o} x ${s} matrix: dimensions do not match.`);let l=Math.max(i,o),u=Math.max(r,s);return t=a(t,l,u),function h(p,v,y,b){if(y<=512||b<=512)return p.mmul(v);y%2==1&&b%2==1?(p=a(p,y+1,b+1),v=a(v,y+1,b+1)):y%2==1?(p=a(p,y+1,b),v=a(v,y+1,b)):b%2==1&&(p=a(p,y,b+1),v=a(v,y,b+1));let E=parseInt(p.rows/2,10),w=parseInt(p.columns/2,10),S=p.subMatrix(0,E-1,0,w-1),C=v.subMatrix(0,E-1,0,w-1),D=p.subMatrix(0,E-1,w,p.columns-1),k=v.subMatrix(0,E-1,w,v.columns-1),T=p.subMatrix(E,p.rows-1,0,w-1),I=v.subMatrix(E,v.rows-1,0,w-1),F=p.subMatrix(E,p.rows-1,w,p.columns-1),z=v.subMatrix(E,v.rows-1,w,v.columns-1),V=h(fr.add(S,F),fr.add(C,z),E,w),K=h(fr.add(T,F),C,E,w),Y=h(S,fr.sub(k,z),E,w),Q=h(F,fr.sub(I,C),E,w),at=h(fr.add(S,D),z,E,w),It=h(fr.sub(T,S),fr.add(C,k),E,w),Pt=h(fr.sub(D,F),fr.add(I,z),E,w),ct=fr.add(V,Q);ct.sub(at),ct.add(Pt);let ot=fr.add(Y,at),rt=fr.add(K,Q),Nt=fr.sub(V,K);Nt.add(Y),Nt.add(It);let ie=fr.zeros(2*ct.rows,2*ct.columns);return ie=ie.setSubMatrix(ct,0,0),ie=ie.setSubMatrix(ot,ct.rows,0),ie=ie.setSubMatrix(rt,0,ct.columns),ie=ie.setSubMatrix(Nt,ct.rows,ct.columns),ie.subMatrix(0,y-1,0,b-1)}(t,e=a(e,l,u),l,u)}scaleRows(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let r=new li(this.rows,this.columns);for(let o=0;o<this.rows;o++){const s=this.getRow(o);s.length>0&&SG(s,{min:t,max:i,output:s}),r.setRow(o,s)}return r}scaleColumns(e={}){if("object"!=typeof e)throw new TypeError("options must be an object");const{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let r=new li(this.rows,this.columns);for(let o=0;o<this.columns;o++){const s=this.getColumn(o);s.length&&SG(s,{min:t,max:i,output:s}),r.setColumn(o,s)}return r}flipRows(){const e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let i=0;i<e;i++){let r=this.get(t,i),o=this.get(t,this.columns-1-i);this.set(t,i,o),this.set(t,this.columns-1-i,r)}return this}flipColumns(){const e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let i=0;i<e;i++){let r=this.get(i,t),o=this.get(this.rows-1-i,t);this.set(i,t,o),this.set(this.rows-1-i,t,r)}return this}kroneckerProduct(e){e=li.checkMatrix(e);let t=this.rows,i=this.columns,r=e.rows,o=e.columns,s=new li(t*r,i*o);for(let a=0;a<t;a++)for(let l=0;l<i;l++)for(let u=0;u<r;u++)for(let h=0;h<o;h++)s.set(r*a+u,o*l+h,this.get(a,l)*e.get(u,h));return s}kroneckerSum(e){if(e=li.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let t=this.rows,i=e.rows,r=this.kroneckerProduct(li.eye(i,i)),o=li.eye(t,t).kroneckerProduct(e);return r.add(o)}transpose(){let e=new li(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e=AG){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=AG){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,i,r){D6(this,e,t,i,r);let o=new li(t-e+1,r-i+1);for(let s=e;s<=t;s++)for(let a=i;a<=r;a++)o.set(s-e,a-i,this.get(s,a));return o}subMatrixRow(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=this.columns-1),t>i||t<0||t>=this.columns||i<0||i>=this.columns)throw new RangeError("Argument out of range");let r=new li(e.length,i-t+1);for(let o=0;o<e.length;o++)for(let s=t;s<=i;s++){if(e[o]<0||e[o]>=this.rows)throw new RangeError(`Row index out of range: ${e[o]}`);r.set(o,s-t,this.get(e[o],s))}return r}subMatrixColumn(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=this.rows-1),t>i||t<0||t>=this.rows||i<0||i>=this.rows)throw new RangeError("Argument out of range");let r=new li(i-t+1,e.length);for(let o=0;o<e.length;o++)for(let s=t;s<=i;s++){if(e[o]<0||e[o]>=this.columns)throw new RangeError(`Column index out of range: ${e[o]}`);r.set(s-t,o,this.get(s,e[o]))}return r}setSubMatrix(e,t,i){if((e=li.checkMatrix(e)).isEmpty())return this;D6(this,t,t+e.rows-1,i,i+e.columns-1);for(let s=0;s<e.rows;s++)for(let a=0;a<e.columns;a++)this.set(t+s,i+a,e.get(s,a));return this}selection(e,t){M6(this,e),S6(this,t);let i=new li(e.length,t.length);for(let r=0;r<e.length;r++){let o=e[r];for(let s=0;s<t.length;s++)i.set(r,s,this.get(o,t[s]))}return i}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let i=0;i<e;i++)t+=this.get(i,i);return t}clone(){return this.constructor.copy(this,new li(this.rows,this.columns))}static copy(e,t){for(const[i,r,o]of e.entries())t.set(i,r,o);return t}sum(e){switch(e){case"row":return function yst(n){let e=vI(n.rows);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[t]+=n.get(t,i);return e}(this);case"column":return function bst(n){let e=vI(n.columns);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[i]+=n.get(t,i);return e}(this);case void 0:return function _st(n){let e=0;for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)e+=n.get(t,i);return e}(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return function Est(n){let e=vI(n.rows,1);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[t]*=n.get(t,i);return e}(this);case"column":return function wst(n){let e=vI(n.columns,1);for(let t=0;t<n.rows;++t)for(let i=0;i<n.columns;++i)e[i]*=n.get(t,i);return e}(this);case void 0:return function xst(n){let e=1;for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)e*=n.get(t,i);return e}(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){const t=this.sum(e);switch(e){case"row":for(let i=0;i<this.rows;i++)t[i]/=this.columns;return t;case"column":for(let i=0;i<this.columns;i++)t[i]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{unbiased:i=!0,mean:r=this.mean(e)}=t;if("boolean"!=typeof i)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!gc.isAnyArray(r))throw new TypeError("mean must be an array");return function Cst(n,e,t){const i=n.rows,r=n.columns,o=[];for(let s=0;s<i;s++){let a=0,l=0,u=0;for(let h=0;h<r;h++)u=n.get(s,h)-t[s],a+=u,l+=u*u;o.push(e?(l-a*a/r)/(r-1):(l-a*a/r)/r)}return o}(this,i,r);case"column":if(!gc.isAnyArray(r))throw new TypeError("mean must be an array");return function Mst(n,e,t){const i=n.rows,r=n.columns,o=[];for(let s=0;s<r;s++){let a=0,l=0,u=0;for(let h=0;h<i;h++)u=n.get(h,s)-t[s],a+=u,l+=u*u;o.push(e?(l-a*a/i)/(i-1):(l-a*a/i)/i)}return o}(this,i,r);case void 0:if("number"!=typeof r)throw new TypeError("mean must be a number");return function Sst(n,e,t){const i=n.rows,r=n.columns,o=i*r;let s=0,a=0,l=0;for(let u=0;u<i;u++)for(let h=0;h<r;h++)l=n.get(u,h)-t,s+=l,a+=l*l;return e?(a-s*s/o)/(o-1):(a-s*s/o)/o}(this,i,r);default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){"object"==typeof e&&(t=e,e=void 0);const i=this.variance(e,t);if(void 0===e)return Math.sqrt(i);for(let r=0;r<i.length;r++)i[r]=Math.sqrt(i[r]);return i}center(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");const{center:i=this.mean(e)}=t;switch(e){case"row":if(!gc.isAnyArray(i))throw new TypeError("center must be an array");return function Dst(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)-e[t])}(this,i),this;case"column":if(!gc.isAnyArray(i))throw new TypeError("center must be an array");return function Ost(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)-e[i])}(this,i),this;case void 0:if("number"!=typeof i)throw new TypeError("center must be a number");return function Tst(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)-e)}(this,i),this;default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");let i=t.scale;switch(e){case"row":if(void 0===i)i=function Ast(n){const e=[];for(let t=0;t<n.rows;t++){let i=0;for(let r=0;r<n.columns;r++)i+=n.get(t,r)**2/(n.columns-1);e.push(Math.sqrt(i))}return e}(this);else if(!gc.isAnyArray(i))throw new TypeError("scale must be an array");return function kst(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)/e[t])}(this,i),this;case"column":if(void 0===i)i=function Ist(n){const e=[];for(let t=0;t<n.columns;t++){let i=0;for(let r=0;r<n.rows;r++)i+=n.get(r,t)**2/(n.rows-1);e.push(Math.sqrt(i))}return e}(this);else if(!gc.isAnyArray(i))throw new TypeError("scale must be an array");return function Rst(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)/e[i])}(this,i),this;case void 0:if(void 0===i)i=function Pst(n){const e=n.size-1;let t=0;for(let i=0;i<n.columns;i++)for(let r=0;r<n.rows;r++)t+=n.get(r,i)**2/e;return Math.sqrt(t)}(this);else if("number"!=typeof i)throw new TypeError("scale must be a number");return function Nst(n,e){for(let t=0;t<n.rows;t++)for(let i=0;i<n.columns;i++)n.set(t,i,n.get(t,i)/e)}(this,i),this;default:throw new Error(`invalid option: ${e}`)}}toString(e){return OG(this,e)}[Symbol.iterator](){return this.entries()}*entries(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield[e,t,this.get(e,t)]}*values(){for(let e=0;e<this.rows;e++)for(let t=0;t<this.columns;t++)yield this.get(e,t)}}function AG(n,e){return n-e}function Lst(n){return n.every(e=>"number"==typeof e)}var bI,O6,_I;fr.prototype.klass="Matrix",typeof Symbol<"u"&&(fr.prototype[Symbol.for("nodejs.util.inspect.custom")]=function pst(){return OG(this)}),fr.random=fr.rand,fr.randomInt=fr.randInt,fr.diagonal=fr.diag,fr.prototype.diagonal=fr.prototype.diag,fr.identity=fr.eye,fr.prototype.negate=fr.prototype.neg,fr.prototype.tensorProduct=fr.prototype.kroneckerProduct;let li=(_I=class extends fr{constructor(n,e){if(super(),VS(this,bI),gi(this,"data"),_I.isMatrix(n))Ly(this,bI,O6).call(this,n.rows,n.columns),_I.copy(n,this);else if(Number.isInteger(n)&&n>=0)Ly(this,bI,O6).call(this,n,e);else{if(!gc.isAnyArray(n))throw new TypeError("First argument must be a positive number or an array");{const t=n;if("number"!=typeof(e=(n=t.length)?t[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let i=0;i<n;i++){if(t[i].length!==e)throw new RangeError("Inconsistent array dimensions");if(!Lst(t[i]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(t[i]))}this.rows=n,this.columns=e}}}set(n,e,t){return this.data[n][e]=t,this}get(n,e){return this.data[n][e]}removeRow(n){return Bu(this,n),this.data.splice(n,1),this.rows-=1,this}addRow(n,e){return void 0===e&&(e=n,n=this.rows),Bu(this,n,!0),e=Float64Array.from(m1(this,e)),this.data.splice(n,0,e),this.rows+=1,this}removeColumn(n){ju(this,n);for(let e=0;e<this.rows;e++){const t=new Float64Array(this.columns-1);for(let i=0;i<n;i++)t[i]=this.data[e][i];for(let i=n+1;i<this.columns;i++)t[i-1]=this.data[e][i];this.data[e]=t}return this.columns-=1,this}addColumn(n,e){typeof e>"u"&&(e=n,n=this.columns),ju(this,n,!0),e=g1(this,e);for(let t=0;t<this.rows;t++){const i=new Float64Array(this.columns+1);let r=0;for(;r<n;r++)i[r]=this.data[t][r];for(i[r++]=e[t];r<this.columns+1;r++)i[r]=this.data[t][r-1];this.data[t]=i}return this.columns+=1,this}},bI=new WeakSet,O6=function(n,e){if(this.data=[],!(Number.isInteger(e)&&e>=0))throw new TypeError("nColumns must be a positive integer");for(let t=0;t<n;t++)this.data.push(new Float64Array(e));this.rows=n,this.columns=e},_I);var Bl;!function vst(n,e){n.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},n.prototype.addS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)+t);return this},n.prototype.addM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)+t.get(i,r));return this},n.add=function(t,i){return new e(t).add(i)},n.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},n.prototype.subS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)-t);return this},n.prototype.subM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)-t.get(i,r));return this},n.sub=function(t,i){return new e(t).sub(i)},n.prototype.subtract=n.prototype.sub,n.prototype.subtractS=n.prototype.subS,n.prototype.subtractM=n.prototype.subM,n.subtract=n.sub,n.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},n.prototype.mulS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)*t);return this},n.prototype.mulM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)*t.get(i,r));return this},n.mul=function(t,i){return new e(t).mul(i)},n.prototype.multiply=n.prototype.mul,n.prototype.multiplyS=n.prototype.mulS,n.prototype.multiplyM=n.prototype.mulM,n.multiply=n.mul,n.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},n.prototype.divS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)/t);return this},n.prototype.divM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)/t.get(i,r));return this},n.div=function(t,i){return new e(t).div(i)},n.prototype.divide=n.prototype.div,n.prototype.divideS=n.prototype.divS,n.prototype.divideM=n.prototype.divM,n.divide=n.div,n.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},n.prototype.modS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)%t);return this},n.prototype.modM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)%t.get(i,r));return this},n.mod=function(t,i){return new e(t).mod(i)},n.prototype.modulus=n.prototype.mod,n.prototype.modulusS=n.prototype.modS,n.prototype.modulusM=n.prototype.modM,n.modulus=n.mod,n.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},n.prototype.andS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)&t);return this},n.prototype.andM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)&t.get(i,r));return this},n.and=function(t,i){return new e(t).and(i)},n.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},n.prototype.orS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)|t);return this},n.prototype.orM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)|t.get(i,r));return this},n.or=function(t,i){return new e(t).or(i)},n.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},n.prototype.xorS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)^t);return this},n.prototype.xorM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)^t.get(i,r));return this},n.xor=function(t,i){return new e(t).xor(i)},n.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},n.prototype.leftShiftS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)<<t);return this},n.prototype.leftShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)<<t.get(i,r));return this},n.leftShift=function(t,i){return new e(t).leftShift(i)},n.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},n.prototype.signPropagatingRightShiftS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>t);return this},n.prototype.signPropagatingRightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>t.get(i,r));return this},n.signPropagatingRightShift=function(t,i){return new e(t).signPropagatingRightShift(i)},n.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},n.prototype.rightShiftS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>>t);return this},n.prototype.rightShiftM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)>>>t.get(i,r));return this},n.rightShift=function(t,i){return new e(t).rightShift(i)},n.prototype.zeroFillRightShift=n.prototype.rightShift,n.prototype.zeroFillRightShiftS=n.prototype.rightShiftS,n.prototype.zeroFillRightShiftM=n.prototype.rightShiftM,n.zeroFillRightShift=n.rightShift,n.prototype.not=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,~this.get(t,i));return this},n.not=function(t){return new e(t).not()},n.prototype.abs=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.abs(this.get(t,i)));return this},n.abs=function(t){return new e(t).abs()},n.prototype.acos=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.acos(this.get(t,i)));return this},n.acos=function(t){return new e(t).acos()},n.prototype.acosh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.acosh(this.get(t,i)));return this},n.acosh=function(t){return new e(t).acosh()},n.prototype.asin=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.asin(this.get(t,i)));return this},n.asin=function(t){return new e(t).asin()},n.prototype.asinh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.asinh(this.get(t,i)));return this},n.asinh=function(t){return new e(t).asinh()},n.prototype.atan=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.atan(this.get(t,i)));return this},n.atan=function(t){return new e(t).atan()},n.prototype.atanh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.atanh(this.get(t,i)));return this},n.atanh=function(t){return new e(t).atanh()},n.prototype.cbrt=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.cbrt(this.get(t,i)));return this},n.cbrt=function(t){return new e(t).cbrt()},n.prototype.ceil=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.ceil(this.get(t,i)));return this},n.ceil=function(t){return new e(t).ceil()},n.prototype.clz32=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.clz32(this.get(t,i)));return this},n.clz32=function(t){return new e(t).clz32()},n.prototype.cos=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.cos(this.get(t,i)));return this},n.cos=function(t){return new e(t).cos()},n.prototype.cosh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.cosh(this.get(t,i)));return this},n.cosh=function(t){return new e(t).cosh()},n.prototype.exp=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.exp(this.get(t,i)));return this},n.exp=function(t){return new e(t).exp()},n.prototype.expm1=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.expm1(this.get(t,i)));return this},n.expm1=function(t){return new e(t).expm1()},n.prototype.floor=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.floor(this.get(t,i)));return this},n.floor=function(t){return new e(t).floor()},n.prototype.fround=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.fround(this.get(t,i)));return this},n.fround=function(t){return new e(t).fround()},n.prototype.log=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log(this.get(t,i)));return this},n.log=function(t){return new e(t).log()},n.prototype.log1p=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log1p(this.get(t,i)));return this},n.log1p=function(t){return new e(t).log1p()},n.prototype.log10=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log10(this.get(t,i)));return this},n.log10=function(t){return new e(t).log10()},n.prototype.log2=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.log2(this.get(t,i)));return this},n.log2=function(t){return new e(t).log2()},n.prototype.round=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.round(this.get(t,i)));return this},n.round=function(t){return new e(t).round()},n.prototype.sign=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sign(this.get(t,i)));return this},n.sign=function(t){return new e(t).sign()},n.prototype.sin=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sin(this.get(t,i)));return this},n.sin=function(t){return new e(t).sin()},n.prototype.sinh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sinh(this.get(t,i)));return this},n.sinh=function(t){return new e(t).sinh()},n.prototype.sqrt=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.sqrt(this.get(t,i)));return this},n.sqrt=function(t){return new e(t).sqrt()},n.prototype.tan=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.tan(this.get(t,i)));return this},n.tan=function(t){return new e(t).tan()},n.prototype.tanh=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.tanh(this.get(t,i)));return this},n.tanh=function(t){return new e(t).tanh()},n.prototype.trunc=function(){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,Math.trunc(this.get(t,i)));return this},n.trunc=function(t){return new e(t).trunc()},n.pow=function(t,i){return new e(t).pow(i)},n.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},n.prototype.powS=function(t){for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)**t);return this},n.prototype.powM=function(t){if(t=e.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(let i=0;i<this.rows;i++)for(let r=0;r<this.columns;r++)this.set(i,r,this.get(i,r)**t.get(i,r));return this}}(fr,li),Bl=new WeakMap;let xC=class nU extends fr{constructor(e){if(super(),VS(this,Bl,void 0),li.isMatrix(e)){if(!e.isSymmetric())throw new TypeError("not symmetric data");Ny(this,Bl,li.copy(e,new li(e.rows,e.rows)))}else if(Number.isInteger(e)&&e>=0)Ny(this,Bl,new li(e,e));else if(Ny(this,Bl,new li(e)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return uo(this,Bl).size}get rows(){return uo(this,Bl).rows}get columns(){return uo(this,Bl).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(e){return li.isMatrix(e)&&"SymmetricMatrix"===e.klassType}static zeros(e){return new this(e)}static ones(e){return new this(e).fill(1)}clone(){const e=new nU(this.diagonalSize);for(const[t,i,r]of this.upperRightEntries())e.set(t,i,r);return e}toMatrix(){return new li(this)}get(e,t){return uo(this,Bl).get(e,t)}set(e,t,i){return uo(this,Bl).set(e,t,i),uo(this,Bl).set(t,e,i),this}removeCross(e){return uo(this,Bl).removeRow(e),uo(this,Bl).removeColumn(e),this}addCross(e,t){void 0===t&&(t=e,e=this.diagonalSize);const i=t.slice();return i.splice(e,1),uo(this,Bl).addRow(e,i),uo(this,Bl).addColumn(e,t),this}applyMask(e){if(e.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const t=[];for(const[i,r]of e.entries())r||t.push(i);t.reverse();for(const i of t)this.removeCross(i);return this}toCompact(){const{diagonalSize:e}=this,t=new Array(e*(e+1)/2);for(let i=0,r=0,o=0;o<t.length;o++)t[o]=this.get(r,i),++i>=e&&(i=++r);return t}static fromCompact(e){const t=e.length,i=(Math.sqrt(8*t+1)-1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(e)}`);const r=new nU(i);for(let o=0,s=0,a=0;a<t;a++)r.set(o,s,e[a]),++o>=i&&(o=++s);return r}*upperRightEntries(){for(let e=0,t=0;e<this.diagonalSize;void 0){const i=this.get(e,t);yield[e,t,i],++t>=this.diagonalSize&&(t=++e)}}*upperRightValues(){for(let e=0,t=0;e<this.diagonalSize;void 0)yield this.get(e,t),++t>=this.diagonalSize&&(t=++e)}};xC.prototype.klassType="SymmetricMatrix";class EI extends xC{static isDistanceMatrix(e){return xC.isSymmetricMatrix(e)&&"DistanceMatrix"===e.klassSubType}constructor(e){if(super(e),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(e,t,i){return e===t&&(i=0),super.set(e,t,i)}addCross(e,t){return void 0===t&&(t=e,e=this.diagonalSize),(t=t.slice())[e]=0,super.addCross(e,t)}toSymmetricMatrix(){return new xC(this)}clone(){const e=new EI(this.diagonalSize);for(const[t,i,r]of this.upperRightEntries())t!==i&&e.set(t,i,r);return e}toCompact(){const{diagonalSize:e}=this,i=new Array((e-1)*e/2);for(let r=1,o=0,s=0;s<i.length;s++)i[s]=this.get(o,r),++r>=e&&(r=1+ ++o);return i}static fromCompact(e){const t=e.length;if(0===t)return new this(0);const i=(Math.sqrt(8*t+1)+1)/2;if(!Number.isInteger(i))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(e)}`);const r=new this(i);for(let o=1,s=0,a=0;a<t;a++)r.set(o,s,e[a]),++o>=i&&(o=1+ ++s);return r}}EI.prototype.klassSubType="DistanceMatrix";class up extends fr{constructor(e,t,i){super(),this.matrix=e,this.rows=t,this.columns=i}}class wI extends up{constructor(e,t,i){M6(e,t),S6(e,i),super(e,t.length,i.length),this.rowIndices=t,this.columnIndices=i}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}}class kG extends fr{constructor(e,t={}){const{rows:i=1}=t;if(e.length%i!=0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=i,this.columns=e.length/i,this.data=e}set(e,t,i){let r=this._calculateIndex(e,t);return this.data[r]=i,this}get(e,t){let i=this._calculateIndex(e,t);return this.data[i]}_calculateIndex(e,t){return e*this.columns+t}}class Xc extends fr{constructor(e){super(),this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,i){return this.data[e][t]=i,this}get(e,t){return this.data[e][t]}}class xI{constructor(e){let a,l,u,h,p,v,y,b,E,t=(e=Xc.checkMatrix(e)).clone(),i=t.rows,r=t.columns,o=new Float64Array(i),s=1;for(a=0;a<i;a++)o[a]=a;for(b=new Float64Array(i),l=0;l<r;l++){for(a=0;a<i;a++)b[a]=t.get(a,l);for(a=0;a<i;a++){for(E=Math.min(a,l),p=0,u=0;u<E;u++)p+=t.get(a,u)*b[u];b[a]-=p,t.set(a,l,b[a])}for(h=l,a=l+1;a<i;a++)Math.abs(b[a])>Math.abs(b[h])&&(h=a);if(h!==l){for(u=0;u<r;u++)v=t.get(h,u),t.set(h,u,t.get(l,u)),t.set(l,u,v);y=o[h],o[h]=o[l],o[l]=y,s=-s}if(l<i&&0!==t.get(l,l))for(a=l+1;a<i;a++)t.set(a,l,t.get(a,l)/t.get(l,l))}this.LU=t,this.pivotVector=o,this.pivotSign=s}isSingular(){let e=this.LU,t=e.columns;for(let i=0;i<t;i++)if(0===e.get(i,i))return!0;return!1}solve(e){e=li.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let s,a,l,i=e.columns,r=e.subMatrixRow(this.pivotVector,0,i-1),o=t.columns;for(l=0;l<o;l++)for(s=l+1;s<o;s++)for(a=0;a<i;a++)r.set(s,a,r.get(s,a)-r.get(l,a)*t.get(s,l));for(l=o-1;l>=0;l--){for(a=0;a<i;a++)r.set(l,a,r.get(l,a)/t.get(l,l));for(s=0;s<l;s++)for(a=0;a<i;a++)r.set(s,a,r.get(s,a)-r.get(l,a)*t.get(s,l))}return r}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,i=e.columns;for(let r=0;r<i;r++)t*=e.get(r,r);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,r=new li(t,i);for(let o=0;o<t;o++)for(let s=0;s<i;s++)r.set(o,s,o>s?e.get(o,s):o===s?1:0);return r}get upperTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,r=new li(t,i);for(let o=0;o<t;o++)for(let s=0;s<i;s++)r.set(o,s,o<=s?e.get(o,s):0);return r}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function dp(n,e){let t=0;return Math.abs(n)>Math.abs(e)?(t=e/n,Math.abs(n)*Math.sqrt(1+t*t)):0!==e?(t=n/e,Math.abs(e)*Math.sqrt(1+t*t)):0}class T6{constructor(e){let s,a,l,u,t=(e=Xc.checkMatrix(e)).clone(),i=e.rows,r=e.columns,o=new Float64Array(r);for(l=0;l<r;l++){let h=0;for(s=l;s<i;s++)h=dp(h,t.get(s,l));if(0!==h){for(t.get(l,l)<0&&(h=-h),s=l;s<i;s++)t.set(s,l,t.get(s,l)/h);for(t.set(l,l,t.get(l,l)+1),a=l+1;a<r;a++){for(u=0,s=l;s<i;s++)u+=t.get(s,l)*t.get(s,a);for(u=-u/t.get(l,l),s=l;s<i;s++)t.set(s,a,t.get(s,a)+u*t.get(s,l))}}o[l]=-h}this.QR=t,this.Rdiag=o}solve(e){e=li.checkMatrix(e);let t=this.QR,i=t.rows;if(e.rows!==i)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let a,l,u,h,r=e.columns,o=e.clone(),s=t.columns;for(u=0;u<s;u++)for(l=0;l<r;l++){for(h=0,a=u;a<i;a++)h+=t.get(a,u)*o.get(a,l);for(h=-h/t.get(u,u),a=u;a<i;a++)o.set(a,l,o.get(a,l)+h*t.get(a,u))}for(u=s-1;u>=0;u--){for(l=0;l<r;l++)o.set(u,l,o.get(u,l)/this.Rdiag[u]);for(a=0;a<u;a++)for(l=0;l<r;l++)o.set(a,l,o.get(a,l)-o.get(u,l)*t.get(a,u))}return o.subMatrix(0,s-1,0,r-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(0===this.Rdiag[t])return!1;return!0}get upperTriangularMatrix(){let r,o,e=this.QR,t=e.columns,i=new li(t,t);for(r=0;r<t;r++)for(o=0;o<t;o++)i.set(r,o,r<o?e.get(r,o):r===o?this.Rdiag[r]:0);return i}get orthogonalMatrix(){let o,s,a,l,e=this.QR,t=e.rows,i=e.columns,r=new li(t,i);for(a=i-1;a>=0;a--){for(o=0;o<t;o++)r.set(o,a,0);for(r.set(a,a,1),s=a;s<i;s++)if(0!==e.get(a,a)){for(l=0,o=a;o<t;o++)l+=e.get(o,a)*r.get(o,s);for(l=-l/e.get(a,a),o=a;o<t;o++)r.set(o,s,r.get(o,s)+l*e.get(o,a))}}return r}}let y1=class{constructor(n,e={}){if((n=Xc.checkMatrix(n)).isEmpty())throw new Error("Matrix must be non-empty");let t=n.rows,i=n.columns;const{computeLeftSingularVectors:r=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=e;let h,a=!!r,l=!!o,u=!1;if(t<i)if(s){h=n.transpose(),t=h.rows,i=h.columns,u=!0;let V=a;a=l,l=V}else h=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else h=n.clone();let p=Math.min(t,i),v=Math.min(t+1,i),y=new Float64Array(v),b=new li(t,p),E=new li(i,i),w=new Float64Array(i),S=new Float64Array(t),C=new Float64Array(v);for(let V=0;V<v;V++)C[V]=V;let D=Math.min(t-1,i),k=Math.max(0,Math.min(i-2,t)),T=Math.max(D,k);for(let V=0;V<T;V++){if(V<D){y[V]=0;for(let K=V;K<t;K++)y[V]=dp(y[V],h.get(K,V));if(0!==y[V]){h.get(V,V)<0&&(y[V]=-y[V]);for(let K=V;K<t;K++)h.set(K,V,h.get(K,V)/y[V]);h.set(V,V,h.get(V,V)+1)}y[V]=-y[V]}for(let K=V+1;K<i;K++){if(V<D&&0!==y[V]){let Y=0;for(let Q=V;Q<t;Q++)Y+=h.get(Q,V)*h.get(Q,K);Y=-Y/h.get(V,V);for(let Q=V;Q<t;Q++)h.set(Q,K,h.get(Q,K)+Y*h.get(Q,V))}w[K]=h.get(V,K)}if(a&&V<D)for(let K=V;K<t;K++)b.set(K,V,h.get(K,V));if(V<k){w[V]=0;for(let K=V+1;K<i;K++)w[V]=dp(w[V],w[K]);if(0!==w[V]){w[V+1]<0&&(w[V]=0-w[V]);for(let K=V+1;K<i;K++)w[K]/=w[V];w[V+1]+=1}if(w[V]=-w[V],V+1<t&&0!==w[V]){for(let K=V+1;K<t;K++)S[K]=0;for(let K=V+1;K<t;K++)for(let Y=V+1;Y<i;Y++)S[K]+=w[Y]*h.get(K,Y);for(let K=V+1;K<i;K++){let Y=-w[K]/w[V+1];for(let Q=V+1;Q<t;Q++)h.set(Q,K,h.get(Q,K)+Y*S[Q])}}if(l)for(let K=V+1;K<i;K++)E.set(K,V,w[K])}}let I=Math.min(i,t+1);if(D<i&&(y[D]=h.get(D,D)),t<I&&(y[I-1]=0),k+1<I&&(w[k]=h.get(k,I-1)),w[I-1]=0,a){for(let V=D;V<p;V++){for(let K=0;K<t;K++)b.set(K,V,0);b.set(V,V,1)}for(let V=D-1;V>=0;V--)if(0!==y[V]){for(let K=V+1;K<p;K++){let Y=0;for(let Q=V;Q<t;Q++)Y+=b.get(Q,V)*b.get(Q,K);Y=-Y/b.get(V,V);for(let Q=V;Q<t;Q++)b.set(Q,K,b.get(Q,K)+Y*b.get(Q,V))}for(let K=V;K<t;K++)b.set(K,V,-b.get(K,V));b.set(V,V,1+b.get(V,V));for(let K=0;K<V-1;K++)b.set(K,V,0)}else{for(let K=0;K<t;K++)b.set(K,V,0);b.set(V,V,1)}}if(l)for(let V=i-1;V>=0;V--){if(V<k&&0!==w[V])for(let K=V+1;K<i;K++){let Y=0;for(let Q=V+1;Q<i;Q++)Y+=E.get(Q,V)*E.get(Q,K);Y=-Y/E.get(V+1,V);for(let Q=V+1;Q<i;Q++)E.set(Q,K,E.get(Q,K)+Y*E.get(Q,V))}for(let K=0;K<i;K++)E.set(K,V,0);E.set(V,V,1)}let F=I-1,z=Number.EPSILON;for(;I>0;){let V,K;for(V=I-2;V>=-1&&-1!==V;V--){const Y=Number.MIN_VALUE+z*Math.abs(y[V]+Math.abs(y[V+1]));if(Math.abs(w[V])<=Y||Number.isNaN(w[V])){w[V]=0;break}}if(V===I-2)K=4;else{let Y;for(Y=I-1;Y>=V&&Y!==V;Y--){let Q=(Y!==I?Math.abs(w[Y]):0)+(Y!==V+1?Math.abs(w[Y-1]):0);if(Math.abs(y[Y])<=z*Q){y[Y]=0;break}}Y===V?K=3:Y===I-1?K=1:(K=2,V=Y)}switch(V++,K){case 1:{let Y=w[I-2];w[I-2]=0;for(let Q=I-2;Q>=V;Q--){let at=dp(y[Q],Y),It=y[Q]/at,Pt=Y/at;if(y[Q]=at,Q!==V&&(Y=-Pt*w[Q-1],w[Q-1]=It*w[Q-1]),l)for(let ct=0;ct<i;ct++)at=It*E.get(ct,Q)+Pt*E.get(ct,I-1),E.set(ct,I-1,-Pt*E.get(ct,Q)+It*E.get(ct,I-1)),E.set(ct,Q,at)}break}case 2:{let Y=w[V-1];w[V-1]=0;for(let Q=V;Q<I;Q++){let at=dp(y[Q],Y),It=y[Q]/at,Pt=Y/at;if(y[Q]=at,Y=-Pt*w[Q],w[Q]=It*w[Q],a)for(let ct=0;ct<t;ct++)at=It*b.get(ct,Q)+Pt*b.get(ct,V-1),b.set(ct,V-1,-Pt*b.get(ct,Q)+It*b.get(ct,V-1)),b.set(ct,Q,at)}break}case 3:{const Y=Math.max(Math.abs(y[I-1]),Math.abs(y[I-2]),Math.abs(w[I-2]),Math.abs(y[V]),Math.abs(w[V])),Q=y[I-1]/Y,at=y[I-2]/Y,It=w[I-2]/Y,Pt=y[V]/Y,ct=w[V]/Y,ot=((at+Q)*(at-Q)+It*It)/2,rt=Q*It*(Q*It);let Nt=0;(0!==ot||0!==rt)&&(Nt=ot<0?0-Math.sqrt(ot*ot+rt):Math.sqrt(ot*ot+rt),Nt=rt/(ot+Nt));let ie=(Pt+Q)*(Pt-Q)+Nt,$e=Pt*ct;for(let ye=V;ye<I-1;ye++){let ln=dp(ie,$e);0===ln&&(ln=Number.MIN_VALUE);let kn=ie/ln,oi=$e/ln;if(ye!==V&&(w[ye-1]=ln),ie=kn*y[ye]+oi*w[ye],w[ye]=kn*w[ye]-oi*y[ye],$e=oi*y[ye+1],y[ye+1]=kn*y[ye+1],l)for(let Un=0;Un<i;Un++)ln=kn*E.get(Un,ye)+oi*E.get(Un,ye+1),E.set(Un,ye+1,-oi*E.get(Un,ye)+kn*E.get(Un,ye+1)),E.set(Un,ye,ln);if(ln=dp(ie,$e),0===ln&&(ln=Number.MIN_VALUE),kn=ie/ln,oi=$e/ln,y[ye]=ln,ie=kn*w[ye]+oi*y[ye+1],y[ye+1]=-oi*w[ye]+kn*y[ye+1],$e=oi*w[ye+1],w[ye+1]=kn*w[ye+1],a&&ye<t-1)for(let Un=0;Un<t;Un++)ln=kn*b.get(Un,ye)+oi*b.get(Un,ye+1),b.set(Un,ye+1,-oi*b.get(Un,ye)+kn*b.get(Un,ye+1)),b.set(Un,ye,ln)}w[I-2]=ie;break}case 4:if(y[V]<=0&&(y[V]=y[V]<0?-y[V]:0,l))for(let Y=0;Y<=F;Y++)E.set(Y,V,-E.get(Y,V));for(;V<F&&!(y[V]>=y[V+1]);){let Y=y[V];if(y[V]=y[V+1],y[V+1]=Y,l&&V<i-1)for(let Q=0;Q<i;Q++)Y=E.get(Q,V+1),E.set(Q,V+1,E.get(Q,V)),E.set(Q,V,Y);if(a&&V<t-1)for(let Q=0;Q<t;Q++)Y=b.get(Q,V+1),b.set(Q,V+1,b.get(Q,V)),b.set(Q,V,Y);V++}I--}}if(u){let V=E;E=b,b=V}this.m=t,this.n=i,this.s=y,this.U=b,this.V=E}solve(n){let e=n,t=this.threshold,i=this.s.length,r=li.zeros(i,i);for(let p=0;p<i;p++)Math.abs(this.s[p])<=t?r.set(p,p,0):r.set(p,p,1/this.s[p]);let o=this.U,s=this.rightSingularVectors,a=s.mmul(r),l=s.rows,u=o.rows,h=li.zeros(l,u);for(let p=0;p<l;p++)for(let v=0;v<u;v++){let y=0;for(let b=0;b<i;b++)y+=a.get(p,b)*o.get(v,b);h.set(p,v,y)}return h.mmul(e)}solveForDiagonal(n){return this.solve(li.diag(n))}inverse(){let n=this.V,e=this.threshold,t=n.rows,i=n.columns,r=new li(t,this.s.length);for(let u=0;u<t;u++)for(let h=0;h<i;h++)Math.abs(this.s[h])>e&&r.set(u,h,n.get(u,h)/this.s[h]);let o=this.U,s=o.rows,a=o.columns,l=new li(t,s);for(let u=0;u<t;u++)for(let h=0;h<s;h++){let p=0;for(let v=0;v<a;v++)p+=r.get(u,v)*o.get(h,v);l.set(u,h,p)}return l}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let n=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,t=this.s;for(let i=0,r=t.length;i<r;i++)t[i]>n&&e++;return e}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return li.diag(this.s)}};function IG(n,e,t=!1){return n=Xc.checkMatrix(n),e=Xc.checkMatrix(e),t?new y1(n).solve(e):n.isSquare()?new xI(n).solve(e):new T6(n).solve(e)}function Xst(n,e){let t=[];for(let i=0;i<n;i++)i!==e&&t.push(i);return t}function Yst(n,e,t,i=1e-9,r=1e-9){if(n>r)return new Array(e.rows+1).fill(0);{let o=e.addRow(t,[0]);for(let s=0;s<o.rows;s++)Math.abs(o.get(s,0))<i&&o.set(s,0,0);return o.to1DArray()}}class RG{constructor(e,t={}){const{assumeSymmetric:i=!1}=t;if(!(e=Xc.checkMatrix(e)).isSquare())throw new Error("Matrix is not a square matrix");if(e.isEmpty())throw new Error("Matrix must be non-empty");let u,h,r=e.columns,o=new li(r,r),s=new Float64Array(r),a=new Float64Array(r),l=e,p=!1;if(p=!!i||e.isSymmetric(),p){for(u=0;u<r;u++)for(h=0;h<r;h++)o.set(u,h,l.get(u,h));(function tat(n,e,t,i){let r,o,s,a,l,u,h,p;for(l=0;l<n;l++)t[l]=i.get(n-1,l);for(a=n-1;a>0;a--){for(p=0,s=0,u=0;u<a;u++)p+=Math.abs(t[u]);if(0===p)for(e[a]=t[a-1],l=0;l<a;l++)t[l]=i.get(a-1,l),i.set(a,l,0),i.set(l,a,0);else{for(u=0;u<a;u++)t[u]/=p,s+=t[u]*t[u];for(r=t[a-1],o=Math.sqrt(s),r>0&&(o=-o),e[a]=p*o,s-=r*o,t[a-1]=r-o,l=0;l<a;l++)e[l]=0;for(l=0;l<a;l++){for(r=t[l],i.set(l,a,r),o=e[l]+i.get(l,l)*r,u=l+1;u<=a-1;u++)o+=i.get(u,l)*t[u],e[u]+=i.get(u,l)*r;e[l]=o}for(r=0,l=0;l<a;l++)e[l]/=s,r+=e[l]*t[l];for(h=r/(s+s),l=0;l<a;l++)e[l]-=h*t[l];for(l=0;l<a;l++){for(r=t[l],o=e[l],u=l;u<=a-1;u++)i.set(u,l,i.get(u,l)-(r*e[u]+o*t[u]));t[l]=i.get(a-1,l),i.set(a,l,0)}}t[a]=s}for(a=0;a<n-1;a++){if(i.set(n-1,a,i.get(a,a)),i.set(a,a,1),s=t[a+1],0!==s){for(u=0;u<=a;u++)t[u]=i.get(u,a+1)/s;for(l=0;l<=a;l++){for(o=0,u=0;u<=a;u++)o+=i.get(u,a+1)*i.get(u,l);for(u=0;u<=a;u++)i.set(u,l,i.get(u,l)-o*t[u])}}for(u=0;u<=a;u++)i.set(u,a+1,0)}for(l=0;l<n;l++)t[l]=i.get(n-1,l),i.set(n-1,l,0);i.set(n-1,n-1,1),e[0]=0})(r,a,s,o),function eat(n,e,t,i){let r,o,s,a,l,u,h,p,v,y,b,E,w,S,C,D;for(s=1;s<n;s++)e[s-1]=e[s];e[n-1]=0;let k=0,T=0,I=Number.EPSILON;for(u=0;u<n;u++){for(T=Math.max(T,Math.abs(t[u])+Math.abs(e[u])),h=u;h<n&&!(Math.abs(e[h])<=I*T);)h++;if(h>u)do{for(r=t[u],p=(t[u+1]-r)/(2*e[u]),v=dp(p,1),p<0&&(v=-v),t[u]=e[u]/(p+v),t[u+1]=e[u]*(p+v),y=t[u+1],o=r-t[u],s=u+2;s<n;s++)t[s]-=o;for(k+=o,p=t[h],b=1,E=b,w=b,S=e[u+1],C=0,D=0,s=h-1;s>=u;s--)for(w=E,E=b,D=C,r=b*e[s],o=b*p,v=dp(p,e[s]),e[s+1]=C*v,C=e[s]/v,b=p/v,p=b*t[s]-C*r,t[s+1]=o+C*(b*r+C*t[s]),l=0;l<n;l++)o=i.get(l,s+1),i.set(l,s+1,C*i.get(l,s)+b*o),i.set(l,s,b*i.get(l,s)-C*o);p=-C*D*w*S*e[u]/y,e[u]=C*p,t[u]=b*p}while(Math.abs(e[u])>I*T);t[u]=t[u]+k,e[u]=0}for(s=0;s<n-1;s++){for(l=s,p=t[s],a=s+1;a<n;a++)t[a]<p&&(l=a,p=t[a]);if(l!==s)for(t[l]=t[s],t[s]=p,a=0;a<n;a++)p=i.get(a,s),i.set(a,s,i.get(a,l)),i.set(a,l,p)}}(r,a,s,o)}else{let v=new li(r,r),y=new Float64Array(r);for(h=0;h<r;h++)for(u=0;u<r;u++)v.set(u,h,l.get(u,h));(function nat(n,e,t,i){let s,a,l,u,h,p,v,o=n-1;for(p=1;p<=o-1;p++){for(v=0,u=p;u<=o;u++)v+=Math.abs(e.get(u,p-1));if(0!==v){for(l=0,u=o;u>=p;u--)t[u]=e.get(u,p-1)/v,l+=t[u]*t[u];for(a=Math.sqrt(l),t[p]>0&&(a=-a),l-=t[p]*a,t[p]=t[p]-a,h=p;h<n;h++){for(s=0,u=o;u>=p;u--)s+=t[u]*e.get(u,h);for(s/=l,u=p;u<=o;u++)e.set(u,h,e.get(u,h)-s*t[u])}for(u=0;u<=o;u++){for(s=0,h=o;h>=p;h--)s+=t[h]*e.get(u,h);for(s/=l,h=p;h<=o;h++)e.set(u,h,e.get(u,h)-s*t[h])}t[p]=v*t[p],e.set(p,p-1,v*a)}}for(u=0;u<n;u++)for(h=0;h<n;h++)i.set(u,h,u===h?1:0);for(p=o-1;p>=1;p--)if(0!==e.get(p,p-1)){for(u=p+1;u<=o;u++)t[u]=e.get(u,p-1);for(h=p;h<=o;h++){for(a=0,u=p;u<=o;u++)a+=t[u]*i.get(u,h);for(a=a/t[p]/e.get(p,p-1),u=p;u<=o;u++)i.set(u,h,i.get(u,h)+a*t[u])}}})(r,v,y,o),function iat(n,e,t,i,r){let S,C,D,k,T,I,F,z,V,K,Y,Q,at,It,Pt,o=n-1,a=n-1,l=Number.EPSILON,u=0,h=0,p=0,v=0,y=0,b=0,E=0,w=0;for(S=0;S<n;S++)for((S<0||S>a)&&(t[S]=r.get(S,S),e[S]=0),C=Math.max(S-1,0);C<n;C++)h+=Math.abs(r.get(S,C));for(;o>=0;){for(k=o;k>0&&(b=Math.abs(r.get(k-1,k-1))+Math.abs(r.get(k,k)),0===b&&(b=h),!(Math.abs(r.get(k,k-1))<l*b));)k--;if(k===o)r.set(o,o,r.get(o,o)+u),t[o]=r.get(o,o),e[o]=0,o--,w=0;else if(k===o-1){if(F=r.get(o,o-1)*r.get(o-1,o),p=(r.get(o-1,o-1)-r.get(o,o))/2,v=p*p+F,E=Math.sqrt(Math.abs(v)),r.set(o,o,r.get(o,o)+u),r.set(o-1,o-1,r.get(o-1,o-1)+u),z=r.get(o,o),v>=0){for(E=p>=0?p+E:p-E,t[o-1]=z+E,t[o]=t[o-1],0!==E&&(t[o]=z-F/E),e[o-1]=0,e[o]=0,z=r.get(o,o-1),b=Math.abs(z)+Math.abs(E),p=z/b,v=E/b,y=Math.sqrt(p*p+v*v),p/=y,v/=y,C=o-1;C<n;C++)E=r.get(o-1,C),r.set(o-1,C,v*E+p*r.get(o,C)),r.set(o,C,v*r.get(o,C)-p*E);for(S=0;S<=o;S++)E=r.get(S,o-1),r.set(S,o-1,v*E+p*r.get(S,o)),r.set(S,o,v*r.get(S,o)-p*E);for(S=0;S<=a;S++)E=i.get(S,o-1),i.set(S,o-1,v*E+p*i.get(S,o)),i.set(S,o,v*i.get(S,o)-p*E)}else t[o-1]=z+p,t[o]=z+p,e[o-1]=E,e[o]=-E;o-=2,w=0}else{if(z=r.get(o,o),V=0,F=0,k<o&&(V=r.get(o-1,o-1),F=r.get(o,o-1)*r.get(o-1,o)),10===w){for(u+=z,S=0;S<=o;S++)r.set(S,S,r.get(S,S)-z);b=Math.abs(r.get(o,o-1))+Math.abs(r.get(o-1,o-2)),z=V=.75*b,F=-.4375*b*b}if(30===w&&(b=(V-z)/2,b=b*b+F,b>0)){for(b=Math.sqrt(b),V<z&&(b=-b),b=z-F/((V-z)/2+b),S=0;S<=o;S++)r.set(S,S,r.get(S,S)-b);u+=b,z=V=F=.964}for(w+=1,T=o-2;T>=k&&(E=r.get(T,T),y=z-E,b=V-E,p=(y*b-F)/r.get(T+1,T)+r.get(T,T+1),v=r.get(T+1,T+1)-E-y-b,y=r.get(T+2,T+1),b=Math.abs(p)+Math.abs(v)+Math.abs(y),p/=b,v/=b,y/=b,!(T===k||Math.abs(r.get(T,T-1))*(Math.abs(v)+Math.abs(y))<l*(Math.abs(p)*(Math.abs(r.get(T-1,T-1))+Math.abs(E)+Math.abs(r.get(T+1,T+1))))));)T--;for(S=T+2;S<=o;S++)r.set(S,S-2,0),S>T+2&&r.set(S,S-3,0);for(D=T;D<=o-1&&(It=D!==o-1,D!==T&&(p=r.get(D,D-1),v=r.get(D+1,D-1),y=It?r.get(D+2,D-1):0,z=Math.abs(p)+Math.abs(v)+Math.abs(y),0!==z&&(p/=z,v/=z,y/=z)),0!==z);D++)if(b=Math.sqrt(p*p+v*v+y*y),p<0&&(b=-b),0!==b){for(D!==T?r.set(D,D-1,-b*z):k!==T&&r.set(D,D-1,-r.get(D,D-1)),p+=b,z=p/b,V=v/b,E=y/b,v/=p,y/=p,C=D;C<n;C++)p=r.get(D,C)+v*r.get(D+1,C),It&&(p+=y*r.get(D+2,C),r.set(D+2,C,r.get(D+2,C)-p*E)),r.set(D,C,r.get(D,C)-p*z),r.set(D+1,C,r.get(D+1,C)-p*V);for(S=0;S<=Math.min(o,D+3);S++)p=z*r.get(S,D)+V*r.get(S,D+1),It&&(p+=E*r.get(S,D+2),r.set(S,D+2,r.get(S,D+2)-p*y)),r.set(S,D,r.get(S,D)-p),r.set(S,D+1,r.get(S,D+1)-p*v);for(S=0;S<=a;S++)p=z*i.get(S,D)+V*i.get(S,D+1),It&&(p+=E*i.get(S,D+2),i.set(S,D+2,i.get(S,D+2)-p*y)),i.set(S,D,i.get(S,D)-p),i.set(S,D+1,i.get(S,D+1)-p*v)}}}if(0!==h){for(o=n-1;o>=0;o--)if(p=t[o],v=e[o],0===v)for(k=o,r.set(o,o,1),S=o-1;S>=0;S--){for(F=r.get(S,S)-p,y=0,C=k;C<=o;C++)y+=r.get(S,C)*r.get(C,o);if(e[S]<0)E=F,b=y;else if(k=S,0===e[S]?r.set(S,o,0!==F?-y/F:-y/(l*h)):(z=r.get(S,S+1),V=r.get(S+1,S),v=(t[S]-p)*(t[S]-p)+e[S]*e[S],I=(z*b-E*y)/v,r.set(S,o,I),r.set(S+1,o,Math.abs(z)>Math.abs(E)?(-y-F*I)/z:(-b-V*I)/E)),I=Math.abs(r.get(S,o)),l*I*I>1)for(C=S;C<=o;C++)r.set(C,o,r.get(C,o)/I)}else if(v<0)for(k=o-1,Math.abs(r.get(o,o-1))>Math.abs(r.get(o-1,o))?(r.set(o-1,o-1,v/r.get(o,o-1)),r.set(o-1,o,-(r.get(o,o)-p)/r.get(o,o-1))):(Pt=MI(0,-r.get(o-1,o),r.get(o-1,o-1)-p,v),r.set(o-1,o-1,Pt[0]),r.set(o-1,o,Pt[1])),r.set(o,o-1,0),r.set(o,o,1),S=o-2;S>=0;S--){for(K=0,Y=0,C=k;C<=o;C++)K+=r.get(S,C)*r.get(C,o-1),Y+=r.get(S,C)*r.get(C,o);if(F=r.get(S,S)-p,e[S]<0)E=F,y=K,b=Y;else if(k=S,0===e[S]?(Pt=MI(-K,-Y,F,v),r.set(S,o-1,Pt[0]),r.set(S,o,Pt[1])):(z=r.get(S,S+1),V=r.get(S+1,S),Q=(t[S]-p)*(t[S]-p)+e[S]*e[S]-v*v,at=2*(t[S]-p)*v,0===Q&&0===at&&(Q=l*h*(Math.abs(F)+Math.abs(v)+Math.abs(z)+Math.abs(V)+Math.abs(E))),Pt=MI(z*y-E*K+v*Y,z*b-E*Y-v*K,Q,at),r.set(S,o-1,Pt[0]),r.set(S,o,Pt[1]),Math.abs(z)>Math.abs(E)+Math.abs(v)?(r.set(S+1,o-1,(-K-F*r.get(S,o-1)+v*r.get(S,o))/z),r.set(S+1,o,(-Y-F*r.get(S,o)-v*r.get(S,o-1))/z)):(Pt=MI(-y-V*r.get(S,o-1),-b-V*r.get(S,o),E,v),r.set(S+1,o-1,Pt[0]),r.set(S+1,o,Pt[1]))),I=Math.max(Math.abs(r.get(S,o-1)),Math.abs(r.get(S,o))),l*I*I>1)for(C=S;C<=o;C++)r.set(C,o-1,r.get(C,o-1)/I),r.set(C,o,r.get(C,o)/I)}for(S=0;S<n;S++)if(S<0||S>a)for(C=S;C<n;C++)i.set(S,C,r.get(S,C));for(C=n-1;C>=0;C--)for(S=0;S<=a;S++){for(E=0,D=0;D<=Math.min(C,a);D++)E+=i.get(S,D)*r.get(D,C);i.set(S,C,E)}}}(r,a,s,o,v)}this.n=r,this.e=a,this.d=s,this.V=o}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let o,s,e=this.n,t=this.e,i=this.d,r=new li(e,e);for(o=0;o<e;o++){for(s=0;s<e;s++)r.set(o,s,0);r.set(o,o,i[o]),t[o]>0?r.set(o,o+1,t[o]):t[o]<0&&r.set(o,o-1,t[o])}return r}}function MI(n,e,t,i){let r,o;return Math.abs(t)>Math.abs(i)?(r=i/t,o=t+r*i,[(n+r*e)/o,(e-r*n)/o]):(r=t/i,o=i+r*t,[(r*n+e)/o,(r*e-n)/o])}class PG{constructor(e){if(!(e=Xc.checkMatrix(e)).isSymmetric())throw new Error("Matrix is not symmetric");let s,a,l,t=e,i=t.rows,r=new li(i,i),o=!0;for(a=0;a<i;a++){let u=0;for(l=0;l<a;l++){let h=0;for(s=0;s<l;s++)h+=r.get(l,s)*r.get(a,s);h=(t.get(a,l)-h)/r.get(l,l),r.set(a,l,h),u+=h*h}for(u=t.get(a,a)-u,o&&(o=u>0),r.set(a,a,Math.sqrt(Math.max(u,0))),l=a+1;l<i;l++)r.set(a,l,0)}this.L=r,this.positiveDefinite=o}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=Xc.checkMatrix(e);let t=this.L,i=t.rows;if(e.rows!==i)throw new Error("Matrix dimensions do not match");if(!1===this.isPositiveDefinite())throw new Error("Matrix is not positive definite");let s,a,l,r=e.columns,o=e.clone();for(l=0;l<i;l++)for(a=0;a<r;a++){for(s=0;s<l;s++)o.set(l,a,o.get(l,a)-o.get(s,a)*t.get(l,s));o.set(l,a,o.get(l,a)/t.get(l,l))}for(l=i-1;l>=0;l--)for(a=0;a<r;a++){for(s=l+1;s<i;s++)o.set(l,a,o.get(l,a)-o.get(s,a)*t.get(s,l));o.set(l,a,o.get(l,a)/t.get(l,l))}return o}get lowerTriangularMatrix(){return this.L}}class NG{constructor(e,t={}){e=Xc.checkMatrix(e);let{Y:i}=t;const{scaleScores:r=!1,maxIterations:o=1e3,terminationCriteria:s=1e-10}=t;let a;if(i){if(i=gc.isAnyArray(i)&&"number"==typeof i[0]?li.columnVector(i):Xc.checkMatrix(i),i.rows!==e.rows)throw new Error("Y should have the same number of rows as X");a=i.getColumnVector(0)}else a=e.getColumnVector(0);let u,h,p,v,l=1;for(let y=0;y<o&&l>s;y++)p=e.transpose().mmul(a).div(a.transpose().mmul(a).get(0,0)),p=p.div(p.norm()),u=e.mmul(p).div(p.transpose().mmul(p).get(0,0)),y>0&&(l=u.clone().sub(v).pow(2).sum()),v=u.clone(),i?(h=i.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),h=h.div(h.norm()),a=i.mmul(h).div(h.transpose().mmul(h).get(0,0))):a=u;if(i){let y=e.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));y=y.div(y.norm());let b=e.clone().sub(u.clone().mmul(y.transpose())),E=a.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),w=i.clone().sub(u.clone().mulS(E.get(0,0)).mmul(h.transpose()));this.t=u,this.p=y.transpose(),this.w=p.transpose(),this.q=h,this.u=a,this.s=u.transpose().mmul(u),this.xResidual=b,this.yResidual=w,this.betas=E}else this.w=p.transpose(),this.s=u.transpose().mmul(u).sqrt(),this.t=r?u.clone().div(this.s.get(0,0)):u,this.xResidual=e.sub(u.mmul(p.transpose()))}}Or.AbstractMatrix=fr,Or.CHO=PG,Or.CholeskyDecomposition=PG,Or.DistanceMatrix=EI,Or.EVD=RG,Or.EigenvalueDecomposition=RG,Or.LU=xI,Or.LuDecomposition=xI;var rat=Or.Matrix=li;Or.MatrixColumnSelectionView=class jst extends up{constructor(e,t){S6(e,t),super(e,e.rows,t.length),this.columnIndices=t}set(e,t,i){return this.matrix.set(e,this.columnIndices[t],i),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},Or.MatrixColumnView=class Bst extends up{constructor(e,t){ju(e,t),super(e,e.rows,1),this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}},Or.MatrixFlipColumnView=class Vst extends up{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},Or.MatrixFlipRowView=class zst extends up{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},Or.MatrixRowSelectionView=class Gst extends up{constructor(e,t){M6(e,t),super(e,t.length,e.columns),this.rowIndices=t}set(e,t,i){return this.matrix.set(this.rowIndices[e],t,i),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},Or.MatrixRowView=class Ust extends up{constructor(e,t){Bu(e,t),super(e,1,e.columns),this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}},Or.MatrixSelectionView=wI,Or.MatrixSubView=class Hst extends up{constructor(e,t,i,r,o){D6(e,t,i,r,o),super(e,i-t+1,o-r+1),this.startRow=t,this.startColumn=r}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},Or.MatrixTransposeView=class $st extends up{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}},Or.NIPALS=NG,Or.Nipals=NG,Or.QR=T6,Or.QrDecomposition=T6,Or.SVD=y1;var oat=Or.SingularValueDecomposition=y1;Or.SymmetricMatrix=xC,Or.WrapperMatrix1D=kG,Or.WrapperMatrix2D=Xc,Or.correlation=function Jst(n,e=n,t={}){n=new li(n);let i=!1;if("object"!=typeof e||li.isMatrix(e)||gc.isAnyArray(e)?e=new li(e):(t=e,e=n,i=!0),n.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:r=!0,scale:o=!0}=t;r&&(n.center("column"),i||e.center("column")),o&&(n.scale("column"),i||e.scale("column"));const s=n.standardDeviation("column",{unbiased:!0}),a=i?s:e.standardDeviation("column",{unbiased:!0}),l=n.transpose().mmul(e);for(let u=0;u<l.rows;u++)for(let h=0;h<l.columns;h++)l.set(u,h,l.get(u,h)*(1/(s[u]*a[h]))*(1/(n.rows-1)));return l},Or.covariance=function qst(n,e=n,t={}){n=new li(n);let i=!1;if("object"!=typeof e||li.isMatrix(e)||gc.isAnyArray(e)?e=new li(e):(t=e,e=n,i=!0),n.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:r=!0}=t;r&&(n=n.center("column"),i||(e=e.center("column")));const o=n.transpose().mmul(e);for(let s=0;s<o.rows;s++)for(let a=0;a<o.columns;a++)o.set(s,a,o.get(s,a)*(1/(n.rows-1)));return o},Or.default=li,Or.determinant=function CI(n){if((n=li.checkMatrix(n)).isSquare()){if(0===n.columns)return 1;let e,t,i,r;if(2===n.columns)return e=n.get(0,0),t=n.get(0,1),i=n.get(1,0),r=n.get(1,1),e*r-t*i;if(3===n.columns){let o,s,a;return o=new wI(n,[1,2],[1,2]),s=new wI(n,[1,2],[0,2]),a=new wI(n,[1,2],[0,1]),e=n.get(0,0),t=n.get(0,1),i=n.get(0,2),e*CI(o)-t*CI(s)+i*CI(a)}return new xI(n).determinant}throw Error("determinant can only be calculated for a square matrix")},Or.inverse=function Kst(n,e=!1){return n=Xc.checkMatrix(n),e?new y1(n).inverse():IG(n,li.eye(n.rows))},Or.linearDependencies=function Zst(n,e={}){const{thresholdValue:t=1e-9,thresholdError:i=1e-9}=e;let r=(n=li.checkMatrix(n)).rows,o=new li(r,r);for(let s=0;s<r;s++){let a=li.columnVector(n.getRow(s)),l=n.subMatrixRow(Xst(r,s)).transpose(),u=new y1(l).solve(a),h=li.sub(a,l.mmul(u)).abs().max();o.setRow(s,Yst(h,u,s,t,i))}return o},Or.pseudoInverse=function Qst(n,e=Number.EPSILON){if((n=li.checkMatrix(n)).isEmpty())return n.transpose();let t=new y1(n,{autoTranspose:!0}),i=t.leftSingularVectors,r=t.rightSingularVectors,o=t.diagonal;for(let s=0;s<o.length;s++)o[s]=Math.abs(o[s])>e?1/o[s]:0;return r.mmul(li.diag(o).mmul(i.transpose()))},Or.solve=IG,Or.wrap=function Wst(n,e){if(gc.isAnyArray(n))return n[0]&&gc.isAnyArray(n[0])?new Xc(n):new kG(n,e);throw new Error("the argument is not an array")};const yg=rat,FG=oat,sat={center:[0,0],linkDistance:50};class BG{constructor(e={}){this.options=e,this.id="mds",this.options=Object.assign(Object.assign({},sat),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericMDSLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericMDSLayout(!0,e,t)})}genericMDSLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{center:o=[0,0],linkDistance:s=50}=r,a=t.getAllNodes(),l=t.getAllEdges();if(null==a||!a.length||1===a.length)return X0(t,e,o);const u=fG({nodes:a,edges:l}),h=hG(u);aat(h);const p=((n,e)=>{const t=[];return n.forEach(i=>{const r=[];i.forEach(o=>{r.push(o*e)}),t.push(r)}),t})(h,s),v=lat(p),y=[];return v.forEach((b,E)=>{const w=Kc(a[E]);w.data.x=b[0]+o[0],w.data.y=b[1]+o[1],y.push(w)}),e&&y.forEach(b=>t.mergeNodeData(b.id,{x:b.data.x,y:b.data.y})),{nodes:y,edges:l}})}}const aat=n=>{let e=-999999;n.forEach(t=>{t.forEach(i=>{i!==1/0&&e<i&&(e=i)})}),n.forEach((t,i)=>{t.forEach((r,o)=>{r===1/0&&(n[i][o]=e)})})},lat=n=>{const e=yg.mul(yg.pow(n,2),-.5),t=e.mean("row"),i=e.mean("column"),r=e.mean();e.add(r).subRowVector(t).subColumnVector(i);const o=new FG(e),s=yg.sqrt(o.diagonalMatrix).diagonal();return o.leftSingularVectors.toJSON().map(a=>yg.mul([a],[s]).toJSON()[0].splice(0,2))};function A6(n){return!!n.tick&&!!n.stop}const cat={gForce:!0,force2:!0,d3force:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0},uat={center:[0,0],comboPadding:10,treeKey:"combo"};function jG(n,e,t,i){var r;return ir(this,void 0,void 0,function*(){return A6(n)?(n.execute(e,t),n.stop(),n.tick(null!==(r=t.iterations)&&void 0!==r?r:300)):i?yield n.assign(e,t):yield n.execute(e,t)})}function hat(n,e){var t,i=1;function r(){var o,a,s=t.length,l=0,u=0;for(o=0;o<s;++o)l+=(a=t[o]).x,u+=a.y;for(l=(l/s-n)*i,u=(u/s-e)*i,o=0;o<s;++o)(a=t[o]).x-=l,a.y-=u}return null==n&&(n=0),null==e&&(e=0),r.initialize=function(o){t=o},r.x=function(o){return arguments.length?(n=+o,r):n},r.y=function(o){return arguments.length?(e=+o,r):e},r.strength=function(o){return arguments.length?(i=+o,r):i},r}function la(n){return function(){return n}}function bg(n){return 1e-6*(n()-.5)}function fat(n){return n.x+n.vx}function pat(n){return n.y+n.vy}function mat(n){var e,t,i,r=1,o=1;function s(){for(var u,p,v,y,b,E,w,h=e.length,S=0;S<o;++S)for(p=mI(e,fat,pat).visitAfter(a),u=0;u<h;++u)w=(E=t[(v=e[u]).index])*E,y=v.x+v.vx,b=v.y+v.vy,p.visit(C);function C(D,k,T,I,F){var z=D.data,V=D.r,K=E+V;if(!z)return k>y+K||I<y-K||T>b+K||F<b-K;if(z.index>v.index){var Y=y-z.x-z.vx,Q=b-z.y-z.vy,at=Y*Y+Q*Q;at<K*K&&(0===Y&&(at+=(Y=bg(i))*Y),0===Q&&(at+=(Q=bg(i))*Q),at=(K-(at=Math.sqrt(at)))/at*r,v.vx+=(Y*=at)*(K=(V*=V)/(w+V)),v.vy+=(Q*=at)*K,z.vx-=Y*(K=1-K),z.vy-=Q*K)}}}function a(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(e){var u,p,h=e.length;for(t=new Array(h),u=0;u<h;++u)t[(p=e[u]).index]=+n(p,u,e)}}return"function"!=typeof n&&(n=la(null==n?1:+n)),s.initialize=function(u,h){e=u,i=h,l()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(r=+u,s):r},s.radius=function(u){return arguments.length?(n="function"==typeof u?u:la(+u),l(),s):n},s}function gat(n){return n.index}function VG(n,e){var t=n.get(e);if(!t)throw new Error("node not found: "+e);return t}function vat(n){var i,o,s,a,l,u,e=gat,t=function p(w){return 1/Math.min(a[w.source.index],a[w.target.index])},r=la(30),h=1;function v(w){for(var S=0,C=n.length;S<h;++S)for(var k,T,I,F,z,V,K,D=0;D<C;++D)F=(I=(k=n[D]).target).x+I.vx-(T=k.source).x-T.vx||bg(u),z=I.y+I.vy-T.y-T.vy||bg(u),z*=V=((V=Math.sqrt(F*F+z*z))-o[D])/V*w*i[D],I.vx-=(F*=V)*(K=l[D]),I.vy-=z*K,T.vx+=F*(K=1-K),T.vy+=z*K}function y(){if(s){var w,k,S=s.length,C=n.length,D=new Map(s.map((T,I)=>[e(T,I,s),T]));for(w=0,a=new Array(S);w<C;++w)(k=n[w]).index=w,"object"!=typeof k.source&&(k.source=VG(D,k.source)),"object"!=typeof k.target&&(k.target=VG(D,k.target)),a[k.source.index]=(a[k.source.index]||0)+1,a[k.target.index]=(a[k.target.index]||0)+1;for(w=0,l=new Array(C);w<C;++w)l[w]=a[(k=n[w]).source.index]/(a[k.source.index]+a[k.target.index]);i=new Array(C),b(),o=new Array(C),E()}}function b(){if(s)for(var w=0,S=n.length;w<S;++w)i[w]=+t(n[w],w,n)}function E(){if(s)for(var w=0,S=n.length;w<S;++w)o[w]=+r(n[w],w,n)}return null==n&&(n=[]),v.initialize=function(w,S){s=w,u=S,y()},v.links=function(w){return arguments.length?(n=w,y(),v):n},v.id=function(w){return arguments.length?(e=w,v):e},v.iterations=function(w){return arguments.length?(h=+w,v):h},v.strength=function(w){return arguments.length?(t="function"==typeof w?w:la(+w),b(),v):t},v.distance=function(w){return arguments.length?(r="function"==typeof w?w:la(+w),E(),v):r},v}var yat={value:()=>{}};function zG(){for(var i,n=0,e=arguments.length,t={};n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new SI(t)}function SI(n){this._=n}function _at(n,e){for(var r,t=0,i=n.length;t<i;++t)if((r=n[t]).name===e)return r.value}function UG(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=yat,n=n.slice(0,i).concat(n.slice(i+1));break}return null!=t&&n.push({name:e,value:t}),n}SI.prototype=zG.prototype={constructor:SI,on:function(n,e){var r,t=this._,i=function bat(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(n+"",t),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(r=(n=i[o]).type)t[r]=UG(t[r],n.name,e);else if(null==e)for(r in t)t[r]=UG(t[r],n.name,null);return this}for(;++o<s;)if((r=(n=i[o]).type)&&(r=_at(t[r],n.name)))return r},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new SI(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var r,o,t=new Array(r),i=0;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,r=(o=this._[n]).length;i<r;++i)o[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,o=i.length;r<o;++r)i[r].value.apply(e,t)}};var DI,SC,b1=0,CC=0,MC=0,GG=1e3,OI=0,Y0=0,TI=0,DC="object"==typeof performance&&performance.now?performance:Date,HG="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function $G(){return Y0||(HG(Eat),Y0=DC.now()+TI)}function Eat(){Y0=0}function k6(){this._call=this._time=this._next=null}function WG(n,e,t){var i=new k6;return i.restart(n,e,t),i}function KG(){Y0=(OI=DC.now())+TI,b1=CC=0;try{!function wat(){$G(),++b1;for(var e,n=DI;n;)(e=Y0-n._time)>=0&&n._call.call(void 0,e),n=n._next;--b1}()}finally{b1=0,function Cat(){for(var n,t,e=DI,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:DI=t);SC=n,I6(i)}(),Y0=0}}function xat(){var n=DC.now(),e=n-OI;e>GG&&(TI-=e,OI=n)}function I6(n){b1||(CC&&(CC=clearTimeout(CC)),n-Y0>24?(n<1/0&&(CC=setTimeout(KG,n-DC.now()-TI)),MC&&(MC=clearInterval(MC))):(MC||(OI=DC.now(),MC=setInterval(xat,GG)),b1=1,HG(KG)))}k6.prototype=WG.prototype={constructor:k6,restart:function(n,e,t){if("function"!=typeof n)throw new TypeError("callback is not a function");t=(null==t?$G():+t)+(null==e?0:+e),!this._next&&SC!==this&&(SC?SC._next=this:DI=this,SC=this),this._call=n,this._time=t,I6()},stop:function(){this._call&&(this._call=null,this._time=1/0,I6())}};const XG=4294967296;function Oat(n){return n.x}function Tat(n){return n.y}var kat=Math.PI*(3-Math.sqrt(5));function Rat(){var n,e,t,i,o,r=la(-30),s=1,a=1/0,l=.81;function u(y){var b,E=n.length,w=mI(n,Oat,Tat).visitAfter(p);for(i=y,b=0;b<E;++b)e=n[b],w.visit(v)}function h(){if(n){var y,E,b=n.length;for(o=new Array(b),y=0;y<b;++y)o[(E=n[y]).index]=+r(E,y,n)}}function p(y){var E,w,C,D,k,b=0,S=0;if(y.length){for(C=D=k=0;k<4;++k)(E=y[k])&&(w=Math.abs(E.value))&&(b+=E.value,S+=w,C+=w*E.x,D+=w*E.y);y.x=C/S,y.y=D/S}else{(E=y).x=E.data.x,E.y=E.data.y;do{b+=o[E.data.index]}while(E=E.next)}y.value=b}function v(y,b,E,w){if(!y.value)return!0;var S=y.x-e.x,C=y.y-e.y,D=w-b,k=S*S+C*C;if(D*D/l<k)return k<a&&(0===S&&(k+=(S=bg(t))*S),0===C&&(k+=(C=bg(t))*C),k<s&&(k=Math.sqrt(s*k)),e.vx+=S*y.value*i/k,e.vy+=C*y.value*i/k),!0;if(!(y.length||k>=a)){(y.data!==e||y.next)&&(0===S&&(k+=(S=bg(t))*S),0===C&&(k+=(C=bg(t))*C),k<s&&(k=Math.sqrt(s*k)));do{y.data!==e&&(e.vx+=S*(D=o[y.data.index]*i/k),e.vy+=C*D)}while(y=y.next)}}return u.initialize=function(y,b){n=y,t=b,h()},u.strength=function(y){return arguments.length?(r="function"==typeof y?y:la(+y),h(),u):r},u.distanceMin=function(y){return arguments.length?(s=y*y,u):Math.sqrt(s)},u.distanceMax=function(y){return arguments.length?(a=y*y,u):Math.sqrt(a)},u.theta=function(y){return arguments.length?(l=y*y,u):Math.sqrt(l)},u}function Pat(n,e,t){var i,o,s,r=la(.1);function a(u){for(var h=0,p=i.length;h<p;++h){var v=i[h],y=v.x-e||1e-6,b=v.y-t||1e-6,E=Math.sqrt(y*y+b*b),w=(s[h]-E)*o[h]*u/E;v.vx+=y*w,v.vy+=b*w}}function l(){if(i){var u,h=i.length;for(o=new Array(h),s=new Array(h),u=0;u<h;++u)s[u]=+n(i[u],u,i),o[u]=isNaN(s[u])?0:+r(i[u],u,i)}}return"function"!=typeof n&&(n=la(+n)),null==e&&(e=0),null==t&&(t=0),a.initialize=function(u){i=u,l()},a.strength=function(u){return arguments.length?(r="function"==typeof u?u:la(+u),l(),a):r},a.radius=function(u){return arguments.length?(n="function"==typeof u?u:la(+u),l(),a):n},a.x=function(u){return arguments.length?(e=+u,a):e},a.y=function(u){return arguments.length?(t=+u,a):t},a}function Nat(n){var t,i,r,e=la(.1);function o(a){for(var h,l=0,u=t.length;l<u;++l)(h=t[l]).vx+=(r[l]-h.x)*i[l]*a}function s(){if(t){var a,l=t.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+n(t[a],a,t))?0:+e(t[a],a,t)}}return"function"!=typeof n&&(n=la(null==n?0:+n)),o.initialize=function(a){t=a,s()},o.strength=function(a){return arguments.length?(e="function"==typeof a?a:la(+a),s(),o):e},o.x=function(a){return arguments.length?(n="function"==typeof a?a:la(+a),s(),o):n},o}function Lat(n){var t,i,r,e=la(.1);function o(a){for(var h,l=0,u=t.length;l<u;++l)(h=t[l]).vy+=(r[l]-h.y)*i[l]*a}function s(){if(t){var a,l=t.length;for(i=new Array(l),r=new Array(l),a=0;a<l;++a)i[a]=isNaN(r[a]=+n(t[a],a,t))?0:+e(t[a],a,t)}}return"function"!=typeof n&&(n=la(null==n?0:+n)),o.initialize=function(a){t=a,s()},o.strength=function(a){return arguments.length?(e="function"==typeof a?a:la(+a),s(),o):e},o.y=function(a){return arguments.length?(n="function"==typeof a?a:la(+a),s(),o):n},o}const YG=(n,e)=>e.reduce((t,[i,r])=>t[i]&&void 0!==r?t[i].call(n,r):t,n);var P6,ZG,N6,QG,L6,qG,F6,JG,B6,tH,j6,eH,V6,nH,z6,iH,U6,rH,G6,oH,H6,sH,$6,aH,W6,lH,K6,uH,X6,dH,Y6,hH,Z6,fH,Q6,pH,q6,mH,J6,gH,tB,vH,eB,yH,nB,bH,iB,EH,rB,wH,oB,xH,sB,CH,lB,MH,cB,SH,uB,DH,dB,OH,hB,TH,fB,AH,pB,kH,mB,IH,gB,RH,vB,PH,yB,NH,bB,LH,_B,FH,EB,BH,wB,jH,CB,VH,MB,zH,SB,UH,OB,GH,TB,$H,AB,WH,kB,KH,IB,XH,RB,YH,PB,ZH,NB,QH,LB,qH;function _1(){return QG?N6:(QG=1,N6=function n(e,t){return e===t||e!=e&&t!=t})}function AI(){if(qG)return L6;qG=1;var n=_1();return L6=function e(t,i){for(var r=t.length;r--;)if(n(t[r][0],i))return r;return-1}}function kI(){if(iH)return z6;iH=1;var n=function Bat(){return ZG?P6:(ZG=1,P6=function n(){this.__data__=[],this.size=0})}(),e=function jat(){if(JG)return F6;JG=1;var n=AI(),t=Array.prototype.splice;return F6=function i(r){var o=this.__data__,s=n(o,r);return!(s<0||(s==o.length-1?o.pop():t.call(o,s,1),--this.size,0))}}(),t=function Vat(){if(tH)return B6;tH=1;var n=AI();return B6=function e(t){var i=this.__data__,r=n(i,t);return r<0?void 0:i[r][1]}}(),i=function zat(){if(eH)return j6;eH=1;var n=AI();return j6=function e(t){return n(this.__data__,t)>-1}}(),r=function Uat(){if(nH)return V6;nH=1;var n=AI();return V6=function e(t,i){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,i])):r[o][1]=i,this}}();function o(s){var a=-1,l=null==s?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,z6=o}function cH(){return lH?W6:(lH=1,W6="object"==typeof br&&br&&br.Object===Object&&br)}function Fd(){if(uH)return K6;uH=1;var n=cH(),e="object"==typeof self&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return K6=t}function E1(){if(dH)return X6;dH=1;var n=Fd();return X6=n.Symbol}function Z0(){if(pH)return Q6;pH=1;var n=E1(),e=function Kat(){if(hH)return Y6;hH=1;var n=E1(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,r=n?n.toStringTag:void 0;return Y6=function o(s){var a=t.call(s,r),l=s[r];try{s[r]=void 0;var u=!0}catch{}var h=i.call(s);return u&&(a?s[r]=l:delete s[r]),h}}(),t=function Xat(){if(fH)return Z6;fH=1;var e=Object.prototype.toString;return Z6=function t(i){return e.call(i)}}(),o=n?n.toStringTag:void 0;return Q6=function s(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":o&&o in Object(a)?e(a):t(a)}}function Vu(){return mH?q6:(mH=1,q6=function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)})}function OC(){if(gH)return J6;gH=1;var n=Z0(),e=Vu();return J6=function s(a){if(!e(a))return!1;var l=n(a);return"[object Function]"==l||"[object GeneratorFunction]"==l||"[object AsyncFunction]"==l||"[object Proxy]"==l}}function _H(){if(bH)return nB;bH=1;var e=Function.prototype.toString;return nB=function t(i){if(null!=i){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}}function Q0(){if(xH)return oB;xH=1;var n=function Qat(){if(EH)return iB;EH=1;var n=OC(),e=function Zat(){if(yH)return eB;yH=1;var i,n=function Yat(){if(vH)return tB;vH=1;var n=Fd();return tB=n["__core-js_shared__"]}(),e=(i=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";return eB=function t(i){return!!e&&e in i},eB}(),t=Vu(),i=_H(),o=/^\[object .+?Constructor\]$/,h=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return iB=function p(v){return!(!t(v)||e(v))&&(n(v)?h:o).test(i(v))}}(),e=function qat(){return wH?rB:(wH=1,rB=function n(e,t){return e?.[t]})}();return oB=function t(i,r){var o=e(i,r);return n(o)?o:void 0}}function aB(){if(CH)return sB;CH=1;var t=Q0()(Fd(),"Map");return sB=t}function II(){if(MH)return lB;MH=1;var e=Q0()(Object,"create");return lB=e}function RI(){if(PH)return vB;PH=1;var n=function slt(){return RH?gB:(RH=1,gB=function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e})}();return vB=function e(t,i){var r=t.__data__;return n(i)?r["string"==typeof i?"string":"hash"]:r.map}}function xB(){if(jH)return wB;jH=1;var n=function olt(){if(IH)return mB;IH=1;var n=function rlt(){if(kH)return pB;kH=1;var n=function Jat(){if(SH)return cB;SH=1;var n=II();return cB=function e(){this.__data__=n?n(null):{},this.size=0}}(),e=function tlt(){return DH?uB:(DH=1,uB=function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t})}(),t=function elt(){if(OH)return dB;OH=1;var n=II(),i=Object.prototype.hasOwnProperty;return dB=function r(o){var s=this.__data__;if(n){var a=s[o];return"__lodash_hash_undefined__"===a?void 0:a}return i.call(s,o)?s[o]:void 0}}(),i=function nlt(){if(TH)return hB;TH=1;var n=II(),t=Object.prototype.hasOwnProperty;return hB=function i(r){var o=this.__data__;return n?void 0!==o[r]:t.call(o,r)}}(),r=function ilt(){if(AH)return fB;AH=1;var n=II();return fB=function t(i,r){var o=this.__data__;return this.size+=this.has(i)?0:1,o[i]=n&&void 0===r?"__lodash_hash_undefined__":r,this}}();function o(s){var a=-1,l=null==s?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,pB=o}(),e=kI(),t=aB();return mB=function i(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}}(),e=function alt(){if(NH)return yB;NH=1;var n=RI();return yB=function e(t){var i=n(this,t).delete(t);return this.size-=i?1:0,i}}(),t=function llt(){if(LH)return bB;LH=1;var n=RI();return bB=function e(t){return n(this,t).get(t)}}(),i=function clt(){if(FH)return _B;FH=1;var n=RI();return _B=function e(t){return n(this,t).has(t)}}(),r=function ult(){if(BH)return EB;BH=1;var n=RI();return EB=function e(t,i){var r=n(this,t),o=r.size;return r.set(t,i),this.size+=r.size==o?0:1,this}}();function o(s){var a=-1,l=null==s?0:s.length;for(this.clear();++a<l;){var u=s[a];this.set(u[0],u[1])}}return o.prototype.clear=n,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=i,o.prototype.set=r,wB=o}function PI(){if(zH)return MB;zH=1;var n=kI(),e=function Gat(){if(rH)return U6;rH=1;var n=kI();return U6=function e(){this.__data__=new n,this.size=0}}(),t=function Hat(){return oH?G6:(oH=1,G6=function n(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i})}(),i=function $at(){return sH?H6:(sH=1,H6=function n(e){return this.__data__.get(e)})}(),r=function Wat(){return aH?$6:(aH=1,$6=function n(e){return this.__data__.has(e)})}(),o=function dlt(){if(VH)return CB;VH=1;var n=kI(),e=aB(),t=xB();return CB=function r(o,s){var a=this.__data__;if(a instanceof n){var l=a.__data__;if(!e||l.length<199)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new t(l)}return a.set(o,s),this.size=a.size,this}}();function s(a){var l=this.__data__=new n(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=i,s.prototype.has=r,s.prototype.set=o,MB=s}function DB(){return UH?SB:(UH=1,SB=function n(e,t){for(var i=-1,r=null==e?0:e.length;++i<r&&!1!==t(e[i],i,e););return e})}function HH(){if(GH)return OB;GH=1;var n=Q0(),e=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch{}}();return OB=e}function NI(){if($H)return TB;$H=1;var n=HH();return TB=function e(t,i,r){"__proto__"==i&&n?n(t,i,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[i]=r}}function LI(){if(WH)return AB;WH=1;var n=NI(),e=_1(),i=Object.prototype.hasOwnProperty;return AB=function r(o,s,a){var l=o[s];(!i.call(o,s)||!e(l,a)||void 0===a&&!(s in o))&&n(o,s,a)}}function TC(){if(KH)return kB;KH=1;var n=LI(),e=NI();return kB=function t(i,r,o,s){var a=!o;o||(o={});for(var l=-1,u=r.length;++l<u;){var h=r[l],p=s?s(o[h],i[h],h,o,i):void 0;void 0===p&&(p=i[h]),a?e(o,h,p):n(o,h,p)}return o}}function ef(){return YH?RB:(YH=1,RB=function n(e){return null!=e&&"object"==typeof e})}function AC(){if(QH)return NB;QH=1;var n=function flt(){if(ZH)return PB;ZH=1;var n=Z0(),e=ef();return PB=function i(r){return e(r)&&"[object Arguments]"==n(r)}}(),e=ef(),t=Object.prototype,i=t.hasOwnProperty,r=t.propertyIsEnumerable,o=n(function(){return arguments}())?n:function(s){return e(s)&&i.call(s,"callee")&&!r.call(s,"callee")};return NB=o}function Hs(){return qH?LB:(qH=1,LB=Array.isArray)}var FB,JH,t$,BB,e$,jB,n$,zB,i$,UB,r$,FI={exports:{}};function w1(){return t$||(t$=1,function(n,e){var t=Fd(),i=function plt(){return JH?FB:(JH=1,FB=function n(){return!1})}(),r=e&&!e.nodeType&&e,o=r&&n&&!n.nodeType&&n,a=o&&o.exports===r?t.Buffer:void 0;n.exports=(a?a.isBuffer:void 0)||i}(FI,FI.exports)),FI.exports}function BI(){if(e$)return BB;e$=1;var e=/^(?:0|[1-9]\d*)$/;return BB=function t(i,r){var o=typeof i;return!!(r=r??9007199254740991)&&("number"==o||"symbol"!=o&&e.test(i))&&i>-1&&i%1==0&&i<r}}function VB(){return n$?jB:(n$=1,jB=function e(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991})}function jI(){return r$?UB:(r$=1,UB=function n(e){return function(t){return e(t)}})}var o$,HB,s$,$B,a$,WB,c$,KB,u$,XB,h$,YB,f$,QB,p$,qB,m$,JB,g$,t5,v$,e5,y$,n5,b$,r5,_$,VI={exports:{}};function GB(){return o$||(o$=1,function(n,e){var t=cH(),i=e&&!e.nodeType&&e,r=i&&n&&!n.nodeType&&n,s=r&&r.exports===i&&t.process,a=function(){try{return r&&r.require&&r.require("util").types||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a}(VI,VI.exports)),VI.exports}function kC(){if(s$)return HB;s$=1;var n=function mlt(){if(i$)return zB;i$=1;var n=Z0(),e=VB(),t=ef(),Y={};return Y["[object Float32Array]"]=Y["[object Float64Array]"]=Y["[object Int8Array]"]=Y["[object Int16Array]"]=Y["[object Int32Array]"]=Y["[object Uint8Array]"]=Y["[object Uint8ClampedArray]"]=Y["[object Uint16Array]"]=Y["[object Uint32Array]"]=!0,Y["[object Arguments]"]=Y["[object Array]"]=Y["[object ArrayBuffer]"]=Y["[object Boolean]"]=Y["[object DataView]"]=Y["[object Date]"]=Y["[object Error]"]=Y["[object Function]"]=Y["[object Map]"]=Y["[object Number]"]=Y["[object Object]"]=Y["[object RegExp]"]=Y["[object Set]"]=Y["[object String]"]=Y["[object WeakMap]"]=!1,zB=function Q(at){return t(at)&&e(at.length)&&!!Y[n(at)]}}(),e=jI(),t=GB(),i=t&&t.isTypedArray,r=i?e(i):n;return HB=r}function l$(){if(a$)return $B;a$=1;var n=function hlt(){return XH?IB:(XH=1,IB=function n(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r})}(),e=AC(),t=Hs(),i=w1(),r=BI(),o=kC(),a=Object.prototype.hasOwnProperty;return $B=function l(u,h){var p=t(u),v=!p&&e(u),y=!p&&!v&&i(u),b=!p&&!v&&!y&&o(u),E=p||v||y||b,w=E?n(u.length,String):[],S=w.length;for(var C in u)(h||a.call(u,C))&&(!E||!("length"==C||y&&("offset"==C||"parent"==C)||b&&("buffer"==C||"byteLength"==C||"byteOffset"==C)||r(C,S)))&&w.push(C);return w}}function zI(){if(c$)return WB;c$=1;var n=Object.prototype;return WB=function e(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||n)}}function d$(){return u$?KB:(u$=1,KB=function n(e,t){return function(i){return e(t(i))}})}function ZB(){if(f$)return YB;f$=1;var n=zI(),e=function glt(){if(h$)return XB;h$=1;var e=d$()(Object.keys,Object);return XB=e}(),i=Object.prototype.hasOwnProperty;return YB=function r(o){if(!n(o))return e(o);var s=[];for(var a in Object(o))i.call(o,a)&&"constructor"!=a&&s.push(a);return s}}function hp(){if(p$)return QB;p$=1;var n=OC(),e=VB();return QB=function t(i){return null!=i&&e(i.length)&&!n(i)}}function _g(){if(m$)return qB;m$=1;var n=l$(),e=ZB(),t=hp();return qB=function i(r){return t(r)?n(r):e(r)}}function q0(){if(b$)return n5;b$=1;var n=l$(),e=function blt(){if(y$)return e5;y$=1;var n=Vu(),e=zI(),t=function ylt(){return v$?t5:(v$=1,t5=function n(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t})}(),r=Object.prototype.hasOwnProperty;return e5=function o(s){if(!n(s))return t(s);var a=e(s),l=[];for(var u in s)"constructor"==u&&(a||!r.call(s,u))||l.push(u);return l}}(),t=hp();return n5=function i(r){return t(r)?n(r,!0):e(r)}}var E$,o5,x$,s5,M$,a5,D$,l5,T$,u5,A$,d5,k$,f5,I$,p5,R$,m5,N$,g5,L$,v5,B$,y5,V$,b5,z$,_5,U$,E5,G$,w5,$$,x5,W$,C5,K$,M5,X$,S5,Z$,O5,Q$,T5,q$,A5,J$,k5,tW,I5,nW,R5,iW,P5,oW,N5,aW,L5,lW,F5,cW,B5,uW,j5,dW,V5,fW,z5,pW,G5,mW,H5,gW,W5,vW,X5,yW,Y5,bW,Z5,_W,Q5,EW,q5,xW,MW,SW,J5,OW,tj,TW,ej,AW,nj,kW,ij,RW,rj,PW,oj,LW,sj,BW,aj,jW,cj,VW,uj,zW,dj,UW,hj,GW,fj,$W,pj,WW,mj,XW,gj,YW,vj,QW,yj,qW,bj,JW,Ej,tK,wj,eK,xj,nK,Cj,iK,Mj,rK,Sj,oK,Dj,aK,Oj,lK,Tj,cK,Aj,uK,kj,dK,Ij,hK,Rj,pK,Pj,gK,Nj,vK,Lj,bK,Fj,_K,Bj,EK,jj,wK,Vj,CK,zj,MK,Uj,DK,Gj,OK,Hj,AK,$j,IK,Wj,PK,Kj,NK,Xj,LK,Yj,BK,Zj,jK,Qj,VK,qj,zK,Jj,UK,t8,GK,e8,HK,n8,$K,i8,WK,o8,KK,s8,XK,a8,ZK,l8,QK,c8,qK,u8,tX,d8,eX,h8,iX,f8,rX,p8,oX,m8,sX,g8,aX,v8,lX,y8,cX,b8,uX,_8,dX,E8,fX,w8,pX,x8,mX,C8,vX,M8,yX,bX,_X,EX,wX,D8,xX,O8,CX,T8,MX,A8,DX,k8,TX,I8,AX,R8,IX,P8,RX,N8,PX,L8,LX,F8,FX,B8,jX,j8,VX,V8,zX,UX,GX,z8,HX,YI,UI={exports:{}};function w$(){return E$||(E$=1,function(n,e){var t=Fd(),i=e&&!e.nodeType&&e,r=i&&n&&!n.nodeType&&n,s=r&&r.exports===i?t.Buffer:void 0,a=s?s.allocUnsafe:void 0;n.exports=function l(u,h){if(h)return u.slice();var p=u.length,v=a?a(p):new u.constructor(p);return u.copy(v),v}}(UI,UI.exports)),UI.exports}function C$(){return x$?o5:(x$=1,o5=function n(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t})}function S$(){return M$?s5:(M$=1,s5=function n(e,t){for(var i=-1,r=null==e?0:e.length,o=0,s=[];++i<r;){var a=e[i];t(a,i,e)&&(s[o++]=a)}return s})}function O$(){return D$?a5:(D$=1,a5=function n(){return[]})}function c5(){if(T$)return l5;T$=1;var n=S$(),e=O$(),i=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;return l5=r?function(s){return null==s?[]:(s=Object(s),n(r(s),function(a){return i.call(s,a)}))}:e}function h5(){return k$?d5:(k$=1,d5=function n(e,t){for(var i=-1,r=t.length,o=e.length;++i<r;)e[o+i]=t[i];return e})}function GI(){if(I$)return f5;I$=1;var e=d$()(Object.getPrototypeOf,Object);return f5=e}function P$(){if(R$)return p5;R$=1;var n=h5(),e=GI(),t=c5(),i=O$();return p5=Object.getOwnPropertySymbols?function(s){for(var a=[];s;)n(a,t(s)),s=e(s);return a}:i}function F$(){if(L$)return g5;L$=1;var n=h5(),e=Hs();return g5=function t(i,r,o){var s=r(i);return e(i)?s:n(s,o(i))}}function j$(){if(B$)return v5;B$=1;var n=F$(),e=c5(),t=_g();return v5=function i(r){return n(r,t,e)}}function H$(){if(G$)return E5;G$=1;var t=Q0()(Fd(),"Set");return E5=t}function x1(){if(W$)return x5;W$=1;var n=function Clt(){if(z$)return b5;z$=1;var t=Q0()(Fd(),"DataView");return b5=t}(),e=aB(),t=function Mlt(){if(U$)return _5;U$=1;var t=Q0()(Fd(),"Promise");return _5=t}(),i=H$(),r=function Slt(){if($$)return w5;$$=1;var t=Q0()(Fd(),"WeakMap");return w5=t}(),o=Z0(),s=_H(),a="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",y=s(n),b=s(e),E=s(t),w=s(i),S=s(r),C=o;return(n&&C(new n(new ArrayBuffer(1)))!=v||e&&C(new e)!=a||t&&C(t.resolve())!=u||i&&C(new i)!=h||r&&C(new r)!=p)&&(C=function(D){var k=o(D),T="[object Object]"==k?D.constructor:void 0,I=T?s(T):"";if(I)switch(I){case y:return v;case b:return a;case E:return u;case w:return h;case S:return p}return k}),x5=C}function Y$(){if(X$)return M5;X$=1;var n=Fd();return M5=n.Uint8Array}function D5(){if(Z$)return S5;Z$=1;var n=Y$();return S5=function e(t){var i=new t.constructor(t.byteLength);return new n(i).set(new n(t)),i}}function eW(){if(tW)return k5;tW=1;var n=D5();return k5=function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}}function rW(){if(iW)return R5;iW=1;var n=Vu(),e=Object.create;return R5=function(){function i(){}return function(r){if(!n(r))return{};if(e)return e(r);i.prototype=r;var o=new i;return i.prototype=void 0,o}}()}function sW(){if(oW)return P5;oW=1;var n=rW(),e=GI(),t=zI();return P5=function i(r){return"function"!=typeof r.constructor||t(r)?{}:n(e(r))}}function hW(){if(dW)return j5;dW=1;var n=PI(),e=DB(),t=LI(),i=function vlt(){if(g$)return JB;g$=1;var n=TC(),e=_g();return JB=function t(i,r){return i&&n(r,e(r),i)}}(),r=function _lt(){if(_$)return r5;_$=1;var n=TC(),e=q0();return r5=function t(i,r){return i&&n(r,e(r),i)}}(),o=w$(),s=C$(),a=function Elt(){if(A$)return u5;A$=1;var n=TC(),e=c5();return u5=function t(i,r){return n(i,e(i),r)}}(),l=function wlt(){if(N$)return m5;N$=1;var n=TC(),e=P$();return m5=function t(i,r){return n(i,e(i),r)}}(),u=j$(),h=function xlt(){if(V$)return y5;V$=1;var n=F$(),e=P$(),t=q0();return y5=function i(r){return n(r,t,e)}}(),p=x1(),v=function Dlt(){if(K$)return C5;K$=1;var e=Object.prototype.hasOwnProperty;return C5=function t(i){var r=i.length,o=new i.constructor(r);return r&&"string"==typeof i[0]&&e.call(i,"index")&&(o.index=i.index,o.input=i.input),o}}(),y=function klt(){if(nW)return I5;nW=1;var n=D5(),e=function Olt(){if(Q$)return O5;Q$=1;var n=D5();return O5=function e(t,i){var r=i?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}}(),t=function Tlt(){if(q$)return T5;q$=1;var n=/\w*$/;return T5=function e(t){var i=new t.constructor(t.source,n.exec(t));return i.lastIndex=t.lastIndex,i}}(),i=function Alt(){if(J$)return A5;J$=1;var n=E1(),e=n?n.prototype:void 0,t=e?e.valueOf:void 0;return A5=function i(r){return t?Object(t.call(r)):{}}}(),r=eW();return I5=function z(V,K,Y){var Q=V.constructor;switch(K){case"[object ArrayBuffer]":return n(V);case"[object Boolean]":case"[object Date]":return new Q(+V);case"[object DataView]":return e(V,Y);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r(V,Y);case"[object Map]":case"[object Set]":return new Q;case"[object Number]":case"[object String]":return new Q(V);case"[object RegExp]":return t(V);case"[object Symbol]":return i(V)}}}(),b=sW(),E=Hs(),w=w1(),S=function Rlt(){if(lW)return L5;lW=1;var n=function Ilt(){if(aW)return N5;aW=1;var n=x1(),e=ef();return N5=function i(r){return e(r)&&"[object Map]"==n(r)}}(),e=jI(),t=GB(),i=t&&t.isMap,r=i?e(i):n;return L5=r}(),C=Vu(),D=function Nlt(){if(uW)return B5;uW=1;var n=function Plt(){if(cW)return F5;cW=1;var n=x1(),e=ef();return F5=function i(r){return e(r)&&"[object Set]"==n(r)}}(),e=jI(),t=GB(),i=t&&t.isSet,r=i?e(i):n;return B5=r}(),k=_g(),T=q0(),V="[object Arguments]",It="[object Function]",rt="[object Object]",ao={};return ao[V]=ao["[object Array]"]=ao["[object ArrayBuffer]"]=ao["[object DataView]"]=ao["[object Boolean]"]=ao["[object Date]"]=ao["[object Float32Array]"]=ao["[object Float64Array]"]=ao["[object Int8Array]"]=ao["[object Int16Array]"]=ao["[object Int32Array]"]=ao["[object Map]"]=ao["[object Number]"]=ao[rt]=ao["[object RegExp]"]=ao["[object Set]"]=ao["[object String]"]=ao["[object Symbol]"]=ao["[object Uint8Array]"]=ao["[object Uint8ClampedArray]"]=ao["[object Uint16Array]"]=ao["[object Uint32Array]"]=!0,ao["[object Error]"]=ao[It]=ao["[object WeakMap]"]=!1,j5=function Sp(Jr,$d,Dp,kP,vy,nu){var Ga,Zu=1&$d,Qu=2&$d,eU=4&$d;if(Dp&&(Ga=vy?Dp(Jr,kP,vy,nu):Dp(Jr)),void 0!==Ga)return Ga;if(!C(Jr))return Jr;var IP=E(Jr);if(IP){if(Ga=v(Jr),!Zu)return s(Jr,Ga)}else{var jg=p(Jr),RP=jg==It||"[object GeneratorFunction]"==jg;if(w(Jr))return o(Jr,Zu);if(jg==rt||jg==V||RP&&!vy){if(Ga=Qu||RP?{}:b(Jr),!Zu)return Qu?l(Jr,r(Ga,Jr)):a(Jr,i(Ga,Jr))}else{if(!ao[jg])return vy?Jr:{};Ga=y(Jr,jg,Zu)}}nu||(nu=new n);var Eit=nu.get(Jr);if(Eit)return Eit;nu.set(Jr,Ga),D(Jr)?Jr.forEach(function(Vg){Ga.add(Sp(Vg,$d,Dp,Vg,Jr,nu))}):S(Jr)&&Jr.forEach(function(Vg,yy){Ga.set(yy,Sp(Vg,$d,Dp,yy,Jr,nu))});var wit=IP?void 0:(eU?Qu?h:u:Qu?T:k)(Jr);return e(wit||Jr,function(Vg,yy){wit&&(Vg=Jr[yy=Vg]),t(Ga,yy,Sp(Vg,$d,Dp,yy,Jr,nu))}),Ga}}function Llt(){if(fW)return V5;fW=1;var n=hW();return V5=function t(i){return n(i,4)}}function U5(){return pW?z5:(pW=1,z5=function n(e){return function(){return e}})}function $5(){if(gW)return H5;gW=1;var n=function Flt(){return mW?G5:(mW=1,G5=function n(e){return function(t,i,r){for(var o=-1,s=Object(t),a=r(t),l=a.length;l--;){var u=a[e?l:++o];if(!1===i(s[u],u,s))break}return t}})}(),e=n();return H5=e}function K5(){if(vW)return W5;vW=1;var n=$5(),e=_g();return W5=function t(i,r){return i&&n(i,r,e)}}function HI(){if(bW)return Y5;bW=1;var n=K5(),e=function Blt(){if(yW)return X5;yW=1;var n=hp();return X5=function e(t,i){return function(r,o){if(null==r)return r;if(!n(r))return t(r,o);for(var s=r.length,a=i?s:-1,l=Object(r);(i?a--:++a<s)&&!1!==o(l[a],a,l););return r}}}(),t=e(n);return Y5=t}function J0(){return _W?Z5:(_W=1,Z5=function n(e){return e})}function wW(){if(EW)return Q5;EW=1;var n=J0();return Q5=function e(t){return"function"==typeof t?t:n}}function CW(){if(xW)return q5;xW=1;var n=DB(),e=HI(),t=wW(),i=Hs();return q5=function r(o,s){return(i(o)?n:e)(o,t(s))}}function DW(){return SW||(SW=1,MW=CW()),MW}function IW(){if(kW)return nj;kW=1;var n=xB(),e=function Vlt(){return TW?tj:(TW=1,tj=function e(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this})}(),t=function zlt(){return AW?ej:(AW=1,ej=function n(e){return this.__data__.has(e)})}();function i(r){var o=-1,s=null==r?0:r.length;for(this.__data__=new n;++o<s;)this.add(r[o])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,nj=i}function NW(){return PW?rj:(PW=1,rj=function n(e,t){return e.has(t)})}function FW(){if(LW)return oj;LW=1;var n=IW(),e=function Ult(){return RW?ij:(RW=1,ij=function n(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1})}(),t=NW();return oj=function o(s,a,l,u,h,p){var v=1&l,y=s.length,b=a.length;if(y!=b&&!(v&&b>y))return!1;var E=p.get(s),w=p.get(a);if(E&&w)return E==a&&w==s;var S=-1,C=!0,D=2&l?new n:void 0;for(p.set(s,a),p.set(a,s);++S<y;){var k=s[S],T=a[S];if(u)var I=v?u(T,k,S,a,s,p):u(k,T,S,s,a,p);if(void 0!==I){if(I)continue;C=!1;break}if(D){if(!e(a,function(F,z){if(!t(D,z)&&(k===F||h(k,F,l,u,p)))return D.push(z)})){C=!1;break}}else if(k!==T&&!h(k,T,l,u,p)){C=!1;break}}return p.delete(s),p.delete(a),C}}function lj(){return jW?aj:(jW=1,aj=function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r){i[++t]=r}),i})}function Wlt(){if(UW)return dj;UW=1;var n=PI(),e=FW(),t=function Hlt(){if(VW)return cj;VW=1;var n=E1(),e=Y$(),t=_1(),i=FW(),r=function Glt(){return BW?sj:(BW=1,sj=function n(e){var t=-1,i=Array(e.size);return e.forEach(function(r,o){i[++t]=[o,r]}),i})}(),o=lj(),D=n?n.prototype:void 0,k=D?D.valueOf:void 0;return cj=function T(I,F,z,V,K,Y,Q){switch(z){case"[object DataView]":if(I.byteLength!=F.byteLength||I.byteOffset!=F.byteOffset)return!1;I=I.buffer,F=F.buffer;case"[object ArrayBuffer]":return!(I.byteLength!=F.byteLength||!Y(new e(I),new e(F)));case"[object Boolean]":case"[object Date]":case"[object Number]":return t(+I,+F);case"[object Error]":return I.name==F.name&&I.message==F.message;case"[object RegExp]":case"[object String]":return I==F+"";case"[object Map]":var at=r;case"[object Set]":if(at||(at=o),I.size!=F.size&&!(1&V))return!1;var Pt=Q.get(I);if(Pt)return Pt==F;V|=2,Q.set(I,F);var ct=i(at(I),at(F),V,K,Y,Q);return Q.delete(I),ct;case"[object Symbol]":if(k)return k.call(I)==k.call(F)}return!1}}(),i=function $lt(){if(zW)return uj;zW=1;var n=j$(),i=Object.prototype.hasOwnProperty;return uj=function r(o,s,a,l,u,h){var p=1&a,v=n(o),y=v.length;if(y!=n(s).length&&!p)return!1;for(var w=y;w--;){var S=v[w];if(!(p?S in s:i.call(s,S)))return!1}var C=h.get(o),D=h.get(s);if(C&&D)return C==s&&D==o;var k=!0;h.set(o,s),h.set(s,o);for(var T=p;++w<y;){var I=o[S=v[w]],F=s[S];if(l)var z=p?l(F,I,S,s,o,h):l(I,F,S,o,s,h);if(!(void 0===z?I===F||u(I,F,a,l,h):z)){k=!1;break}T||(T="constructor"==S)}if(k&&!T){var V=o.constructor,K=s.constructor;V!=K&&"constructor"in o&&"constructor"in s&&!("function"==typeof V&&V instanceof V&&"function"==typeof K&&K instanceof K)&&(k=!1)}return h.delete(o),h.delete(s),k}}(),r=x1(),o=Hs(),s=w1(),a=kC(),u="[object Arguments]",h="[object Array]",p="[object Object]",y=Object.prototype.hasOwnProperty;return dj=function b(E,w,S,C,D,k){var T=o(E),I=o(w),F=T?h:r(E),z=I?h:r(w),V=(F=F==u?p:F)==p,K=(z=z==u?p:z)==p,Y=F==z;if(Y&&s(E)){if(!s(w))return!1;T=!0,V=!1}if(Y&&!V)return k||(k=new n),T||a(E)?e(E,w,S,C,D,k):t(E,w,F,S,C,D,k);if(!(1&S)){var Q=V&&y.call(E,"__wrapped__"),at=K&&y.call(w,"__wrapped__");if(Q||at){var It=Q?E.value():E,Pt=at?w.value():w;return k||(k=new n),D(It,Pt,S,C,k)}}return!!Y&&(k||(k=new n),i(E,w,S,C,D,k))}}function HW(){if(GW)return hj;GW=1;var n=Wlt(),e=ef();return hj=function t(i,r,o,s,a){return i===r||(null==i||null==r||!e(i)&&!e(r)?i!=i&&r!=r:n(i,r,o,s,t,a))}}function KW(){if(WW)return pj;WW=1;var n=Vu();return pj=function e(t){return t==t&&!n(t)}}function ZW(){return YW?gj:(YW=1,gj=function n(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}})}function C1(){if(qW)return yj;qW=1;var n=Z0(),e=ef();return yj=function i(r){return"symbol"==typeof r||e(r)&&"[object Symbol]"==n(r)}}function _j(){if(JW)return bj;JW=1;var n=Hs(),e=C1(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;return bj=function r(o,s){if(n(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!e(o))||i.test(o)||!t.test(o)||null!=s&&o in Object(s)}}function $I(){return iK?Cj:(iK=1,Cj=function n(e,t){for(var i=-1,r=null==e?0:e.length,o=Array(r);++i<r;)o[i]=t(e[i],i,e);return o})}function sK(){if(oK)return Sj;oK=1;var n=function Jlt(){if(rK)return Mj;rK=1;var n=E1(),e=$I(),t=Hs(),i=C1(),r=1/0,o=n?n.prototype:void 0,s=o?o.toString:void 0;return Mj=function a(l){if("string"==typeof l)return l;if(t(l))return e(l,a)+"";if(i(l))return s?s.call(l):"";var u=l+"";return"0"==u&&1/l==-r?"-0":u}}();return Sj=function e(t){return null==t?"":n(t)}}function WI(){if(aK)return Dj;aK=1;var n=Hs(),e=_j(),t=function qlt(){if(nK)return xj;nK=1;var n=function Qlt(){if(eK)return wj;eK=1;var n=function Zlt(){if(tK)return Ej;tK=1;var n=xB();function t(i,r){if("function"!=typeof i||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var o=function(){var s=arguments,a=r?r.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var u=i.apply(this,s);return o.cache=l.set(a,u)||l,u};return o.cache=new(t.Cache||n),o}return t.Cache=n,Ej=t}();return wj=function t(i){var r=n(i,function(s){return 500===o.size&&o.clear(),s}),o=r.cache;return r}}(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,i=n(function(r){var o=[];return 46===r.charCodeAt(0)&&o.push(""),r.replace(e,function(s,a,l,u){o.push(l?u.replace(t,"$1"):a||s)}),o});return xj=i}(),i=sK();return Dj=function r(o,s){return n(o)?o:e(o,s)?[o]:t(i(o))}}function IC(){if(lK)return Oj;lK=1;var n=C1(),e=1/0;return Oj=function t(i){if("string"==typeof i||n(i))return i;var r=i+"";return"0"==r&&1/i==-e?"-0":r}}function KI(){if(cK)return Tj;cK=1;var n=WI(),e=IC();return Tj=function t(i,r){for(var o=0,s=(r=n(r,i)).length;null!=i&&o<s;)i=i[e(r[o++])];return o&&o==s?i:void 0}}function fK(){if(hK)return Ij;hK=1;var n=WI(),e=AC(),t=Hs(),i=BI(),r=VB(),o=IC();return Ij=function s(a,l,u){for(var h=-1,p=(l=n(l,a)).length,v=!1;++h<p;){var y=o(l[h]);if(!(v=null!=a&&u(a,y)))break;a=a[y]}return v||++h!=p?v:!!(p=null==a?0:a.length)&&r(p)&&i(y,p)&&(t(a)||e(a))}}function mK(){if(pK)return Rj;pK=1;var n=function ect(){return dK?kj:(dK=1,kj=function n(e,t){return null!=e&&t in Object(e)})}(),e=fK();return Rj=function t(i,r){return null!=i&&e(i,r,n)}}function yK(){return vK?Nj:(vK=1,Nj=function n(e){return function(t){return t?.[e]}})}function fp(){if(EK)return Bj;EK=1;var n=function Ylt(){if(QW)return vj;QW=1;var n=function Klt(){if($W)return fj;$W=1;var n=PI(),e=HW();return fj=function r(o,s,a,l){var u=a.length,h=u,p=!l;if(null==o)return!h;for(o=Object(o);u--;){var v=a[u];if(p&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++u<h;){var y=(v=a[u])[0],b=o[y],E=v[1];if(p&&v[2]){if(void 0===b&&!(y in o))return!1}else{var w=new n;if(l)var S=l(b,E,y,o,s,w);if(!(void 0===S?e(E,b,3,l,w):S))return!1}}return!0}}(),e=function Xlt(){if(XW)return mj;XW=1;var n=KW(),e=_g();return mj=function t(i){for(var r=e(i),o=r.length;o--;){var s=r[o],a=i[s];r[o]=[s,a,n(a)]}return r}}(),t=ZW();return vj=function i(r){var o=e(r);return 1==o.length&&o[0][2]?t(o[0][0],o[0][1]):function(s){return s===r||n(s,r,o)}}}(),e=function nct(){if(gK)return Pj;gK=1;var n=HW(),e=function tct(){if(uK)return Aj;uK=1;var n=KI();return Aj=function e(t,i,r){var o=null==t?void 0:n(t,i);return void 0===o?r:o}}(),t=mK(),i=_j(),r=KW(),o=ZW(),s=IC();return Pj=function u(h,p){return i(h)&&r(p)?o(s(h),p):function(v){var y=e(v,h);return void 0===y&&y===p?t(v,h):n(p,y,3)}}}(),t=J0(),i=Hs(),r=function rct(){if(_K)return Fj;_K=1;var n=yK(),e=function ict(){if(bK)return Lj;bK=1;var n=KI();return Lj=function e(t){return function(i){return n(i,t)}}}(),t=_j(),i=IC();return Fj=function r(o){return t(o)?n(i(o)):e(o)}}();return Bj=function o(s){return"function"==typeof s?s:null==s?t:"object"==typeof s?i(s)?e(s[0],s[1]):n(s):r(s)}}function xK(){if(wK)return jj;wK=1;var n=S$(),e=function jlt(){if(OW)return J5;OW=1;var n=HI();return J5=function e(t,i){var r=[];return n(t,function(o,s,a){i(o,s,a)&&r.push(o)}),r}}(),t=fp(),i=Hs();return jj=function r(o,s){return(i(o)?n:e)(o,t(s,3))}}function SK(){if(MK)return zj;MK=1;var n=function oct(){if(CK)return Vj;CK=1;var e=Object.prototype.hasOwnProperty;return Vj=function t(i,r){return null!=i&&e.call(i,r)}}(),e=fK();return zj=function t(i,r){return null!=i&&e(i,r,n)}}function sct(){if(DK)return Uj;DK=1;var n=ZB(),e=x1(),t=AC(),i=Hs(),r=hp(),o=w1(),s=zI(),a=kC(),p=Object.prototype.hasOwnProperty;return Uj=function v(y){if(null==y)return!0;if(r(y)&&(i(y)||"string"==typeof y||"function"==typeof y.splice||o(y)||a(y)||t(y)))return!y.length;var b=e(y);if("[object Map]"==b||"[object Set]"==b)return!y.size;if(s(y))return!n(y).length;for(var E in y)if(p.call(y,E))return!1;return!0}}function TK(){return OK?Gj:(OK=1,Gj=function n(e){return void 0===e})}function kK(){if(AK)return Hj;AK=1;var n=HI(),e=hp();return Hj=function t(i,r){var o=-1,s=e(i)?Array(i.length):[];return n(i,function(a,l,u){s[++o]=r(a,l,u)}),s}}function RK(){if(IK)return $j;IK=1;var n=$I(),e=fp(),t=kK(),i=Hs();return $j=function r(o,s){return(i(o)?n:t)(o,e(s,3))}}function FK(){if(LK)return Xj;LK=1;var n=function act(){return PK?Wj:(PK=1,Wj=function n(e,t,i,r){var o=-1,s=null==e?0:e.length;for(r&&s&&(i=e[++o]);++o<s;)i=t(i,e[o],o,e);return i})}(),e=HI(),t=fp(),i=function lct(){return NK?Kj:(NK=1,Kj=function n(e,t,i,r,o){return o(e,function(s,a,l){i=r?(r=!1,s):t(i,s,a,l)}),i})}(),r=Hs();return Xj=function o(s,a,l){var u=r(s)?n:i,h=arguments.length<3;return u(s,t(a,4),l,h,e)},Xj}function pct(){if(GK)return t8;GK=1;var n=ZB(),e=x1(),t=hp(),i=function cct(){if(BK)return Yj;BK=1;var n=Z0(),e=Hs(),t=ef();return Yj=function r(o){return"string"==typeof o||!e(o)&&t(o)&&"[object String]"==n(o)}}(),r=function fct(){if(UK)return Jj;UK=1;var n=function uct(){if(jK)return Zj;jK=1;var e=yK()("length");return Zj=e}(),e=function dct(){if(VK)return Qj;VK=1;var a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return Qj=function l(u){return a.test(u)}}(),t=function hct(){if(zK)return qj;zK=1;var n="\\ud800-\\udfff",s="["+n+"]",a="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l="\\ud83c[\\udffb-\\udfff]",h="[^"+n+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="(?:"+a+"|"+l+")?",E="[\\ufe0e\\ufe0f]?",S=E+b+"(?:\\u200d(?:"+[h,p,v].join("|")+")"+E+b+")*",C="(?:"+[h+a+"?",a,p,v,s].join("|")+")",D=RegExp(l+"(?="+l+")|"+C+S,"g");return qj=function k(T){for(var I=D.lastIndex=0;D.test(T);)++I;return I}}();return Jj=function i(r){return e(r)?t(r):n(r)}}();return t8=function a(l){if(null==l)return 0;if(t(l))return i(l)?r(l):l.length;var u=e(l);return"[object Map]"==u||"[object Set]"==u?l.size:n(l).length}}function mct(){if(HK)return e8;HK=1;var n=DB(),e=rW(),t=K5(),i=fp(),r=GI(),o=Hs(),s=w1(),a=OC(),l=Vu(),u=kC();return e8=function h(p,v,y){var b=o(p),E=b||s(p)||u(p);if(v=i(v,4),null==y){var w=p&&p.constructor;y=E?b?new w:[]:l(p)&&a(w)?e(r(p)):{}}return(E?n:t)(p,function(S,C,D){return v(y,S,C,D)}),y}}function r8(){if(WK)return i8;WK=1;var n=h5(),e=function gct(){if($K)return n8;$K=1;var n=E1(),e=AC(),t=Hs(),i=n?n.isConcatSpreadable:void 0;return n8=function r(o){return t(o)||e(o)||!!(i&&o&&o[i])}}();return i8=function t(i,r,o,s,a){var l=-1,u=i.length;for(o||(o=e),a||(a=[]);++l<u;){var h=i[l];r>0&&o(h)?r>1?t(h,r-1,o,s,a):n(a,h):s||(a[a.length]=h)}return a}}function YK(){if(XK)return s8;XK=1;var n=function vct(){return KK?o8:(KK=1,o8=function n(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)})}(),e=Math.max;return s8=function t(i,r,o){return r=e(void 0===r?i.length-1:r,0),function(){for(var s=arguments,a=-1,l=e(s.length-r,0),u=Array(l);++a<l;)u[a]=s[r+a];a=-1;for(var h=Array(r+1);++a<r;)h[a]=s[a];return h[r]=o(u),n(i,this,h)}},s8}function JK(){if(qK)return c8;qK=1;var n=function yct(){if(ZK)return a8;ZK=1;var n=U5(),e=HH(),t=J0();return a8=e?function(r,o){return e(r,"toString",{configurable:!0,enumerable:!1,value:n(o),writable:!0})}:t}(),e=function bct(){if(QK)return l8;QK=1;var t=Date.now;return l8=function i(r){var o=0,s=0;return function(){var a=t(),l=16-(a-s);if(s=a,l>0){if(++o>=800)return arguments[0]}else o=0;return r.apply(void 0,arguments)}},l8}(),t=e(n);return c8=t}function XI(){if(tX)return u8;tX=1;var n=J0(),e=YK(),t=JK();return u8=function i(r,o){return t(e(r,o,n),r+"")}}function nX(){return eX?d8:(eX=1,d8=function n(e,t,i,r){for(var o=e.length,s=i+(r?1:-1);r?s--:++s<o;)if(t(e[s],s,e))return s;return-1})}function Dct(){if(uX)return b8;uX=1;var n=IW(),e=function xct(){if(sX)return m8;sX=1;var n=function wct(){if(oX)return p8;oX=1;var n=nX(),e=function _ct(){return iX?h8:(iX=1,h8=function n(e){return e!=e})}(),t=function Ect(){return rX?f8:(rX=1,f8=function n(e,t,i){for(var r=i-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1})}();return p8=function i(r,o,s){return o==o?t(r,o,s):n(r,e,s)}}();return m8=function e(t,i){return!(null==t||!t.length)&&n(t,i,0)>-1}}(),t=function Cct(){return aX?g8:(aX=1,g8=function n(e,t,i){for(var r=-1,o=null==e?0:e.length;++r<o;)if(i(t,e[r]))return!0;return!1})}(),i=NW(),r=function Sct(){if(cX)return y8;cX=1;var n=H$(),e=function Mct(){return lX?v8:(lX=1,v8=function n(){})}(),t=lj(),r=n&&1/t(new n([,-0]))[1]==1/0?function(o){return new n(o)}:e;return y8=r}(),o=lj();return b8=function a(l,u,h){var p=-1,v=e,y=l.length,b=!0,E=[],w=E;if(h)b=!1,v=t;else if(y>=200){var S=u?null:r(l);if(S)return o(S);b=!1,v=i,w=new n}else w=u?[]:E;t:for(;++p<y;){var C=l[p],D=u?u(C):C;if(C=h||0!==C?C:0,b&&D==D){for(var k=w.length;k--;)if(w[k]===D)continue t;u&&w.push(D),E.push(C)}else v(w,D,h)||(w!==E&&w.push(D),E.push(C))}return E}}function hX(){if(dX)return _8;dX=1;var n=hp(),e=ef();return _8=function t(i){return e(i)&&n(i)}}function Oct(){if(fX)return E8;fX=1;var n=r8(),e=XI(),t=Dct(),i=hX(),r=e(function(o){return t(n(o,1,i,!0))});return E8=r}function gX(){if(mX)return x8;mX=1;var n=function Tct(){if(pX)return w8;pX=1;var n=$I();return w8=function e(t,i){return n(i,function(r){return t[r]})}}(),e=_g();return x8=function t(i){return null==i?[]:n(i,e(i))}}function zu(){if(vX)return C8;var n;vX=1;try{n={clone:Llt(),constant:U5(),each:DW(),filter:xK(),has:SK(),isArray:Hs(),isEmpty:sct(),isFunction:OC(),isUndefined:TK(),keys:_g(),map:RK(),reduce:FK(),size:pct(),transform:mct(),union:Oct(),values:gX()}}catch{}return n||(n=window._),C8=n}function S8(){if(yX)return M8;yX=1;var n=zu();M8=r;var e="\0",t="\0",i="\x01";function r(h){this._isDirected=!n.has(h,"directed")||h.directed,this._isMultigraph=!!n.has(h,"multigraph")&&h.multigraph,this._isCompound=!!n.has(h,"compound")&&h.compound,this._label=void 0,this._defaultNodeLabelFn=n.constant(void 0),this._defaultEdgeLabelFn=n.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[t]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function o(h,p){h[p]?h[p]++:h[p]=1}function s(h,p){--h[p]||delete h[p]}function a(h,p,v,y){var b=""+p,E=""+v;if(!h&&b>E){var w=b;b=E,E=w}return b+i+E+i+(n.isUndefined(y)?e:y)}function u(h,p){return a(h,p.v,p.w,p.name)}return r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(h){return this._label=h,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(h){return n.isFunction(h)||(h=n.constant(h)),this._defaultNodeLabelFn=h,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return n.keys(this._nodes)},r.prototype.sources=function(){var h=this;return n.filter(this.nodes(),function(p){return n.isEmpty(h._in[p])})},r.prototype.sinks=function(){var h=this;return n.filter(this.nodes(),function(p){return n.isEmpty(h._out[p])})},r.prototype.setNodes=function(h,p){var v=arguments,y=this;return n.each(h,function(b){v.length>1?y.setNode(b,p):y.setNode(b)}),this},r.prototype.setNode=function(h,p){return n.has(this._nodes,h)?(arguments.length>1&&(this._nodes[h]=p),this):(this._nodes[h]=arguments.length>1?p:this._defaultNodeLabelFn(h),this._isCompound&&(this._parent[h]=t,this._children[h]={},this._children[t][h]=!0),this._in[h]={},this._preds[h]={},this._out[h]={},this._sucs[h]={},++this._nodeCount,this)},r.prototype.node=function(h){return this._nodes[h]},r.prototype.hasNode=function(h){return n.has(this._nodes,h)},r.prototype.removeNode=function(h){var p=this;if(n.has(this._nodes,h)){var v=function(y){p.removeEdge(p._edgeObjs[y])};delete this._nodes[h],this._isCompound&&(this._removeFromParentsChildList(h),delete this._parent[h],n.each(this.children(h),function(y){p.setParent(y)}),delete this._children[h]),n.each(n.keys(this._in[h]),v),delete this._in[h],delete this._preds[h],n.each(n.keys(this._out[h]),v),delete this._out[h],delete this._sucs[h],--this._nodeCount}return this},r.prototype.setParent=function(h,p){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(n.isUndefined(p))p=t;else{for(var v=p+="";!n.isUndefined(v);v=this.parent(v))if(v===h)throw new Error("Setting "+p+" as parent of "+h+" would create a cycle");this.setNode(p)}return this.setNode(h),this._removeFromParentsChildList(h),this._parent[h]=p,this._children[p][h]=!0,this},r.prototype._removeFromParentsChildList=function(h){delete this._children[this._parent[h]][h]},r.prototype.parent=function(h){if(this._isCompound){var p=this._parent[h];if(p!==t)return p}},r.prototype.children=function(h){if(n.isUndefined(h)&&(h=t),this._isCompound){var p=this._children[h];if(p)return n.keys(p)}else{if(h===t)return this.nodes();if(this.hasNode(h))return[]}},r.prototype.predecessors=function(h){var p=this._preds[h];if(p)return n.keys(p)},r.prototype.successors=function(h){var p=this._sucs[h];if(p)return n.keys(p)},r.prototype.neighbors=function(h){var p=this.predecessors(h);if(p)return n.union(p,this.successors(h))},r.prototype.isLeaf=function(h){return 0===(this.isDirected()?this.successors(h):this.neighbors(h)).length},r.prototype.filterNodes=function(h){var p=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});p.setGraph(this.graph());var v=this;n.each(this._nodes,function(E,w){h(w)&&p.setNode(w,E)}),n.each(this._edgeObjs,function(E){p.hasNode(E.v)&&p.hasNode(E.w)&&p.setEdge(E,v.edge(E))});var y={};function b(E){var w=v.parent(E);return void 0===w||p.hasNode(w)?(y[E]=w,w):w in y?y[w]:b(w)}return this._isCompound&&n.each(p.nodes(),function(E){p.setParent(E,b(E))}),p},r.prototype.setDefaultEdgeLabel=function(h){return n.isFunction(h)||(h=n.constant(h)),this._defaultEdgeLabelFn=h,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return n.values(this._edgeObjs)},r.prototype.setPath=function(h,p){var v=this,y=arguments;return n.reduce(h,function(b,E){return y.length>1?v.setEdge(b,E,p):v.setEdge(b,E),E}),this},r.prototype.setEdge=function(){var h,p,v,y,b=!1,E=arguments[0];"object"==typeof E&&null!==E&&"v"in E?(h=E.v,p=E.w,v=E.name,2===arguments.length&&(y=arguments[1],b=!0)):(h=E,p=arguments[1],v=arguments[3],arguments.length>2&&(y=arguments[2],b=!0)),h=""+h,p=""+p,n.isUndefined(v)||(v=""+v);var w=a(this._isDirected,h,p,v);if(n.has(this._edgeLabels,w))return b&&(this._edgeLabels[w]=y),this;if(!n.isUndefined(v)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(h),this.setNode(p),this._edgeLabels[w]=b?y:this._defaultEdgeLabelFn(h,p,v);var S=function l(h,p,v,y){var b=""+p,E=""+v;if(!h&&b>E){var w=b;b=E,E=w}var S={v:b,w:E};return y&&(S.name=y),S}(this._isDirected,h,p,v);return h=S.v,p=S.w,Object.freeze(S),this._edgeObjs[w]=S,o(this._preds[p],h),o(this._sucs[h],p),this._in[p][w]=S,this._out[h][w]=S,this._edgeCount++,this},r.prototype.edge=function(h,p,v){var y=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,h,p,v);return this._edgeLabels[y]},r.prototype.hasEdge=function(h,p,v){var y=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,h,p,v);return n.has(this._edgeLabels,y)},r.prototype.removeEdge=function(h,p,v){var y=1===arguments.length?u(this._isDirected,arguments[0]):a(this._isDirected,h,p,v),b=this._edgeObjs[y];return b&&(h=b.v,p=b.w,delete this._edgeLabels[y],delete this._edgeObjs[y],s(this._preds[p],h),s(this._sucs[h],p),delete this._in[p][y],delete this._out[h][y],this._edgeCount--),this},r.prototype.inEdges=function(h,p){var v=this._in[h];if(v){var y=n.values(v);return p?n.filter(y,function(b){return b.v===p}):y}},r.prototype.outEdges=function(h,p){var v=this._out[h];if(v){var y=n.values(v);return p?n.filter(y,function(b){return b.w===p}):y}},r.prototype.nodeEdges=function(h,p){var v=this.inEdges(h,p);if(v)return v.concat(this.outEdges(h,p))},M8}function Ict(){if(xX)return D8;xX=1;var n=zu(),e=S8();function i(s){return n.map(s.nodes(),function(a){var l=s.node(a),u=s.parent(a),h={v:a};return n.isUndefined(l)||(h.value=l),n.isUndefined(u)||(h.parent=u),h})}function r(s){return n.map(s.edges(),function(a){var l=s.edge(a),u={v:a.v,w:a.w};return n.isUndefined(a.name)||(u.name=a.name),n.isUndefined(l)||(u.value=l),u})}return D8={write:function t(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:i(s),edges:r(s)};return n.isUndefined(s.graph())||(a.value=n.clone(s.graph())),a},read:function o(s){var a=new e(s.options).setGraph(s.value);return n.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),n.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}}}function Rct(){if(CX)return O8;CX=1;var n=zu();return O8=function e(t){var o,i={},r=[];function s(a){n.has(i,a)||(i[a]=!0,o.push(a),n.each(t.successors(a),s),n.each(t.predecessors(a),s))}return n.each(t.nodes(),function(a){o=[],s(a),o.length&&r.push(o)}),r}}function SX(){if(MX)return T8;MX=1;var n=zu();function e(){this._arr=[],this._keyIndices={}}return T8=e,e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(t){return t.key})},e.prototype.has=function(t){return n.has(this._keyIndices,t)},e.prototype.priority=function(t){var i=this._keyIndices[t];if(void 0!==i)return this._arr[i].priority},e.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(t,i){var r=this._keyIndices;if(t=String(t),!n.has(r,t)){var o=this._arr,s=o.length;return r[t]=s,o.push({key:t,priority:i}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},e.prototype.decrease=function(t,i){var r=this._keyIndices[t];if(i>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+i);this._arr[r].priority=i,this._decrease(r)},e.prototype._heapify=function(t){var i=this._arr,r=2*t,o=r+1,s=t;r<i.length&&(s=i[r].priority<i[s].priority?r:s,o<i.length&&(s=i[o].priority<i[s].priority?o:s),s!==t&&(this._swap(t,s),this._heapify(s)))},e.prototype._decrease=function(t){for(var o,i=this._arr,r=i[t].priority;0!==t&&!(i[o=t>>1].priority<r);)this._swap(t,o),t=o},e.prototype._swap=function(t,i){var r=this._arr,o=this._keyIndices,s=r[t],a=r[i];r[t]=a,r[i]=s,o[a.key]=t,o[s.key]=i},T8}function OX(){if(DX)return A8;DX=1;var n=zu(),e=SX();A8=function i(o,s,a,l){return function r(o,s,a,l){var p,v,u={},h=new e,y=function(b){var E=b.v!==p?b.v:b.w,w=u[E],S=a(b),C=v.distance+S;if(S<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+b+" Weight: "+S);C<w.distance&&(w.distance=C,w.predecessor=p,h.decrease(E,C))};for(o.nodes().forEach(function(b){var E=b===s?0:Number.POSITIVE_INFINITY;u[b]={distance:E},h.add(b,E)});h.size()>0&&(p=h.removeMin(),(v=u[p]).distance!==Number.POSITIVE_INFINITY);)l(p).forEach(y);return u}(o,String(s),a||t,l||function(u){return o.outEdges(u)})};var t=n.constant(1);return A8}function Pct(){if(TX)return k8;TX=1;var n=OX(),e=zu();return k8=function t(i,r,o){return e.transform(i.nodes(),function(s,a){s[a]=n(i,a,r,o)},{})}}function kX(){if(AX)return I8;AX=1;var n=zu();return I8=function e(t){var i=0,r=[],o={},s=[];function a(l){var u=o[l]={onStack:!0,lowlink:i,index:i++};if(r.push(l),t.successors(l).forEach(function(v){n.has(o,v)?o[v].onStack&&(u.lowlink=Math.min(u.lowlink,o[v].index)):(a(v),u.lowlink=Math.min(u.lowlink,o[v].lowlink))}),u.lowlink===u.index){var p,h=[];do{p=r.pop(),o[p].onStack=!1,h.push(p)}while(l!==p);s.push(h)}}return t.nodes().forEach(function(l){n.has(o,l)||a(l)}),s}}function Nct(){if(IX)return R8;IX=1;var n=zu(),e=kX();return R8=function t(i){return n.filter(e(i),function(r){return r.length>1||1===r.length&&i.hasEdge(r[0],r[0])})}}function Lct(){if(RX)return P8;RX=1;var n=zu();P8=function t(r,o,s){return function i(r,o,s){var a={},l=r.nodes();return l.forEach(function(u){a[u]={},a[u][u]={distance:0},l.forEach(function(h){u!==h&&(a[u][h]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(h){var p=h.v===u?h.w:h.v,v=o(h);a[u][p]={distance:v,predecessor:u}})}),l.forEach(function(u){var h=a[u];l.forEach(function(p){var v=a[p];l.forEach(function(y){var E=h[y],w=v[y],S=v[u].distance+E.distance;S<w.distance&&(w.distance=S,w.predecessor=E.predecessor)})})}),a}(r,o||e,s||function(a){return r.outEdges(a)})};var e=n.constant(1);return P8}function NX(){if(PX)return N8;PX=1;var n=zu();function e(i){var r={},o={},s=[];if(n.each(i.sinks(),function a(l){if(n.has(o,l))throw new t;n.has(r,l)||(o[l]=!0,r[l]=!0,n.each(i.predecessors(l),a),delete o[l],s.push(l))}),n.size(r)!==i.nodeCount())throw new t;return s}function t(){}return N8=e,e.CycleException=t,t.prototype=new Error,N8}function Fct(){if(LX)return L8;LX=1;var n=NX();return L8=function e(t){try{n(t)}catch(i){if(i instanceof n.CycleException)return!1;throw i}return!0}}function BX(){if(FX)return F8;FX=1;var n=zu();function t(i,r,o,s,a,l){n.has(s,r)||(s[r]=!0,o||l.push(r),n.each(a(r),function(u){t(i,u,o,s,a,l)}),o&&l.push(r))}return F8=function e(i,r,o){n.isArray(r)||(r=[r]);var s=(i.isDirected()?i.successors:i.neighbors).bind(i),a=[],l={};return n.each(r,function(u){if(!i.hasNode(u))throw new Error("Graph does not have node: "+u);t(i,u,"post"===o,l,s,a)}),a}}function Bct(){if(jX)return B8;jX=1;var n=BX();return B8=function e(t,i){return n(t,i,"post")}}function jct(){if(VX)return j8;VX=1;var n=BX();return j8=function e(t,i){return n(t,i,"pre")}}function Vct(){if(zX)return V8;zX=1;var n=zu(),e=S8(),t=SX();return V8=function i(r,o){var u,s=new e,a={},l=new t;function h(v){var y=v.v===u?v.w:v.v,b=l.priority(y);if(void 0!==b){var E=o(v);E<b&&(a[y]=u,l.decrease(y,E))}}if(0===r.nodeCount())return s;n.each(r.nodes(),function(v){l.add(v,Number.POSITIVE_INFINITY),s.setNode(v)}),l.decrease(r.nodes()[0],0);for(var p=!1;l.size()>0;){if(u=l.removeMin(),n.has(a,u))s.setEdge(u,a[u]);else{if(p)throw new Error("Input graph is not connected: "+r);p=!0}r.nodeEdges(u).forEach(h)}return s}}try{YI=function Uct(){if(HX)return z8;HX=1;var n=function kct(){return wX||(wX=1,EX={Graph:S8(),version:(_X||(_X=1,bX="2.1.8"),bX)}),EX}();return z8={Graph:n.Graph,json:Ict(),alg:(GX||(GX=1,UX={components:Rct(),dijkstra:OX(),dijkstraAll:Pct(),findCycles:Nct(),floydWarshall:Lct(),isAcyclic:Fct(),postorder:Bct(),preorder:jct(),prim:Vct(),tarjan:kX(),topsort:NX()}),UX),version:n.version}}()}catch{}YI||(YI=window.graphlib);var U8,$X,G8,WX,H8,KX,$8,XX,W8,YX,K8,ZX,X8,QX,Y8,qX,Z8,tY,Q8,eY,q8,nY,J8,iY,tV,oY,eV,sY,nV,aY,iV,lY,oV,cY,sV,uY,aV,dY,lV,fY,cV,pY,uV,gY,dV,vY,hV,yY,fV,bY,pV,_Y,mV,EY,gV,xY,vV,CY,yV,MY,bV,SY,_V,DY,EV,OY,wV,TY,xV,AY,CV,kY,MV,IY,SV,RY,DV,PY,OV,NY,TV,LY,AV,FY,kV,BY,IV,jY,RV,VY,PV,zY,QI,Bd=YI;function ZI(){if(WX)return G8;WX=1;var n=_1(),e=hp(),t=BI(),i=Vu();return G8=function r(o,s,a){if(!i(a))return!1;var l=typeof s;return!!("number"==l?e(a)&&t(s,a.length):"string"==l&&s in a)&&n(a[s],o)}}function JX(){if(qX)return Y8;qX=1;var n=function Xct(){if(QX)return X8;QX=1;var n=function Kct(){if(ZX)return K8;ZX=1;var n=function Wct(){if(YX)return W8;YX=1;var n=/\s/;return W8=function e(t){for(var i=t.length;i--&&n.test(t.charAt(i)););return i}}(),e=/^\s+/;return K8=function t(i){return i&&i.slice(0,n(i)+1).replace(e,"")}}(),e=Vu(),t=C1(),r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;return X8=function l(u){if("number"==typeof u)return u;if(t(u))return NaN;if(e(u)){var h="function"==typeof u.valueOf?u.valueOf():u;u=e(h)?h+"":h}if("string"!=typeof u)return 0===u?u:+u;u=n(u);var p=o.test(u);return p||s.test(u)?a(u.slice(2),p?2:8):r.test(u)?NaN:+u}}(),e=1/0;return Y8=function i(r){return r?(r=n(r))===e||r===-e?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function rY(){if(iY)return J8;iY=1;var n=r8();return J8=function e(t){return null!=t&&t.length?n(t,1):[]}}function rV(){if(lY)return iV;lY=1;var n=C1();return iV=function e(t,i,r){for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i(a);if(null!=l&&(void 0===u?l==l&&!n(l):r(l,u)))var u=l,h=a}return h}}function hY(){if(dY)return aV;dY=1;var n=NI(),e=_1();return aV=function t(i,r,o){(void 0!==o&&!e(i[r],o)||void 0===o&&!(r in i))&&n(i,r,o)}}function mY(){return pY?cV:(pY=1,cV=function n(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]})}function wY(){return EY?mV:(EY=1,mV=function n(e,t){return e<t})}function xut(){if(FY)return AV;FY=1;var n=$I(),e=KI(),t=fp(),i=kK(),r=function _ut(){return PY?DV:(PY=1,DV=function n(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e})}(),o=jI(),s=function wut(){if(LY)return TV;LY=1;var n=function Eut(){if(NY)return OV;NY=1;var n=C1();return OV=function e(t,i){if(t!==i){var r=void 0!==t,o=null===t,s=t==t,a=n(t),l=void 0!==i,u=null===i,h=i==i,p=n(i);if(!u&&!p&&!a&&t>i||a&&l&&h&&!u&&!p||o&&l&&h||!r&&h||!s)return 1;if(!o&&!a&&!p&&t<i||p&&r&&s&&!o&&!a||u&&r&&s||!l&&s||!h)return-1}return 0}}();return TV=function e(t,i,r){for(var o=-1,s=t.criteria,a=i.criteria,l=s.length,u=r.length;++o<l;){var h=n(s[o],a[o]);if(h)return o>=u?h:h*("desc"==r[o]?-1:1)}return t.index-i.index}}(),a=J0(),l=Hs();return AV=function u(h,p,v){p=p.length?n(p,function(E){return l(E)?function(w){return e(w,1===E.length?E[0]:E)}:E}):[a];var y=-1;p=n(p,o(t));var b=i(h,function(E,w,S){return{criteria:n(p,function(D){return D(E)}),index:++y,value:E}});return r(b,function(E,w){return s(E,w,v)})}}try{QI={cloneDeep:function Gct(){if($X)return U8;$X=1;var n=hW();return U8=function i(r){return n(r,5)}}(),constant:U5(),defaults:function Hct(){if(KX)return H8;KX=1;var n=XI(),e=_1(),t=ZI(),i=q0(),r=Object.prototype,o=r.hasOwnProperty,s=n(function(a,l){a=Object(a);var u=-1,h=l.length,p=h>2?l[2]:void 0;for(p&&t(l[0],l[1],p)&&(h=1);++u<h;)for(var v=l[u],y=i(v),b=-1,E=y.length;++b<E;){var w=y[b],S=a[w];(void 0===S||e(S,r[w])&&!o.call(a,w))&&(a[w]=v[w])}return a});return H8=s}(),each:DW(),filter:xK(),find:function Qct(){if(nY)return q8;nY=1;var n=function $ct(){if(XX)return $8;XX=1;var n=fp(),e=hp(),t=_g();return $8=function i(r){return function(o,s,a){var l=Object(o);if(!e(o)){var u=n(s,3);o=t(o),s=function(p){return u(l[p],p,l)}}var h=r(o,s,a);return h>-1?l[u?o[h]:h]:void 0}}}(),t=n(function Zct(){if(eY)return Q8;eY=1;var n=nX(),e=fp(),t=function Yct(){if(tY)return Z8;tY=1;var n=JX();return Z8=function e(t){var i=n(t),r=i%1;return i==i?r?i-r:i:0}}(),i=Math.max;return Q8=function r(o,s,a){var l=null==o?0:o.length;if(!l)return-1;var u=null==a?0:t(a);return u<0&&(u=i(l+u,0)),n(o,e(s,3),u)}}());return q8=t}(),flatten:rY(),forEach:CW(),forIn:function qct(){if(oY)return tV;oY=1;var n=$5(),e=wW(),t=q0();return tV=function i(r,o){return null==r?r:n(r,e(o),t)}}(),has:SK(),isUndefined:TK(),last:function Jct(){return sY?eV:(sY=1,eV=function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0})}(),map:RK(),mapValues:function tut(){if(aY)return nV;aY=1;var n=NI(),e=K5(),t=fp();return nV=function i(r,o){var s={};return o=t(o,3),e(r,function(a,l,u){n(s,l,o(a,l,u))}),s}}(),max:function nut(){if(uY)return sV;uY=1;var n=rV(),e=function eut(){return cY?oV:(cY=1,oV=function n(e,t){return e>t})}(),t=J0();return sV=function i(r){return r&&r.length?n(r,t,e):void 0}}(),merge:function lut(){if(_Y)return pV;_Y=1;var n=function sut(){if(yY)return hV;yY=1;var n=PI(),e=hY(),t=$5(),i=function out(){if(vY)return dV;vY=1;var n=hY(),e=w$(),t=eW(),i=C$(),r=sW(),o=AC(),s=Hs(),a=hX(),l=w1(),u=OC(),h=Vu(),p=function iut(){if(fY)return lV;fY=1;var n=Z0(),e=GI(),t=ef(),s=Function.prototype.toString,a=Object.prototype.hasOwnProperty,l=s.call(Object);return lV=function u(h){if(!t(h)||"[object Object]"!=n(h))return!1;var p=e(h);if(null===p)return!0;var v=a.call(p,"constructor")&&p.constructor;return"function"==typeof v&&v instanceof v&&s.call(v)==l}}(),v=kC(),y=mY(),b=function rut(){if(gY)return uV;gY=1;var n=TC(),e=q0();return uV=function t(i){return n(i,e(i))}}();return dV=function E(w,S,C,D,k,T,I){var F=y(w,C),z=y(S,C),V=I.get(z);if(V)n(w,C,V);else{var K=T?T(F,z,C+"",w,S,I):void 0,Y=void 0===K;if(Y){var Q=s(z),at=!Q&&l(z),It=!Q&&!at&&v(z);K=z,Q||at||It?s(F)?K=F:a(F)?K=i(F):at?(Y=!1,K=e(z,!0)):It?(Y=!1,K=t(z,!0)):K=[]:p(z)||o(z)?(K=F,o(F)?K=b(F):(!h(F)||u(F))&&(K=r(z))):Y=!1}Y&&(I.set(z,K),k(K,z,D,T,I),I.delete(z)),n(w,C,K)}}}(),r=Vu(),o=q0(),s=mY();return hV=function a(l,u,h,p,v){l!==u&&t(u,function(y,b){if(v||(v=new n),r(y))i(l,u,b,h,a,p,v);else{var E=p?p(s(l,b),y,b+"",l,u,v):void 0;void 0===E&&(E=y),e(l,b,E)}},o)}}(),e=function aut(){if(bY)return fV;bY=1;var n=XI(),e=ZI();return fV=function t(i){return n(function(r,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,u=a>2?o[2]:void 0;for(l=i.length>3&&"function"==typeof l?(a--,l):void 0,u&&e(o[0],o[1],u)&&(l=a<3?void 0:l,a=1),r=Object(r);++s<a;){var h=o[s];h&&i(r,h,s,l)}return r})}}(),t=e(function(i,r,o){n(i,r,o)});return pV=t}(),min:function cut(){if(xY)return gV;xY=1;var n=rV(),e=wY(),t=J0();return gV=function i(r){return r&&r.length?n(r,t,e):void 0}}(),minBy:function uut(){if(CY)return vV;CY=1;var n=rV(),e=fp(),t=wY();return vV=function i(r,o){return r&&r.length?n(r,e(o,2),t):void 0}}(),now:function dut(){if(MY)return yV;MY=1;var n=Fd();return yV=function(){return n.Date.now()}}(),pick:function gut(){if(AY)return xV;AY=1;var n=function put(){if(OY)return EV;OY=1;var n=function fut(){if(DY)return _V;DY=1;var n=KI(),e=function hut(){if(SY)return bV;SY=1;var n=LI(),e=WI(),t=BI(),i=Vu(),r=IC();return bV=function o(s,a,l,u){if(!i(s))return s;for(var h=-1,p=(a=e(a,s)).length,v=p-1,y=s;null!=y&&++h<p;){var b=r(a[h]),E=l;if("__proto__"===b||"constructor"===b||"prototype"===b)return s;if(h!=v){var w=y[b];void 0===(E=u?u(w,b,y):void 0)&&(E=i(w)?w:t(a[h+1])?[]:{})}n(y,b,E),y=y[b]}return s}}(),t=WI();return _V=function i(r,o,s){for(var a=-1,l=o.length,u={};++a<l;){var h=o[a],p=n(r,h);s(p,h)&&e(u,t(h,r),p)}return u}}(),e=mK();return EV=function t(i,r){return n(i,r,function(o,s){return e(i,s)})}}(),e=function mut(){if(TY)return wV;TY=1;var n=rY(),e=YK(),t=JK();return wV=function i(r){return t(e(r,void 0,n),r+"")}}(),t=e(function(i,r){return null==i?{}:n(i,r)});return xV=t}(),range:function but(){if(RY)return SV;RY=1;var e=function yut(){if(IY)return MV;IY=1;var n=function vut(){if(kY)return CV;kY=1;var n=Math.ceil,e=Math.max;return CV=function t(i,r,o,s){for(var a=-1,l=e(n((r-i)/(o||1)),0),u=Array(l);l--;)u[s?l:++a]=i,i+=o;return u}}(),e=ZI(),t=JX();return MV=function i(r){return function(o,s,a){return a&&"number"!=typeof a&&e(o,s,a)&&(s=a=void 0),o=t(o),void 0===s?(s=o,o=0):s=t(s),a=void 0===a?o<s?1:-1:t(a),n(o,s,a,r)}}}()();return SV=e}(),reduce:FK(),sortBy:function Cut(){if(BY)return kV;BY=1;var n=r8(),e=xut(),t=XI(),i=ZI(),r=t(function(o,s){if(null==o)return[];var a=s.length;return a>1&&i(o,s[0],s[1])?s=[]:a>2&&i(s[0],s[1],s[2])&&(s=[s[0]]),e(o,n(s,1),[])});return kV=r}(),uniqueId:function Mut(){if(jY)return IV;jY=1;var n=sK(),e=0;return IV=function t(i){var r=++e;return n(i)+r}}(),values:gX(),zipObject:function Dut(){if(zY)return PV;zY=1;var n=LI(),e=function Sut(){return VY?RV:(VY=1,RV=function n(e,t,i){for(var r=-1,o=e.length,s=t.length,a={};++r<o;)i(a,e[r],r<s?t[r]:void 0);return a})}();return PV=function t(i,r){return e(i||[],r||[],n)}}()}}catch{}QI||(QI=window._);var es=QI,Out=qI;function qI(){var n={};n._next=n._prev=n,this._sentinel=n}function UY(n){n._prev._next=n._next,n._next._prev=n._prev,delete n._next,delete n._prev}function Tut(n,e){if("_next"!==n&&"_prev"!==n)return e}qI.prototype.dequeue=function(){var n=this._sentinel,e=n._prev;if(e!==n)return UY(e),e},qI.prototype.enqueue=function(n){var e=this._sentinel;n._prev&&n._next&&UY(n),n._next=e._next,e._next._prev=n,e._next=n,n._prev=e},qI.prototype.toString=function(){for(var n=[],e=this._sentinel,t=e._prev;t!==e;)n.push(JSON.stringify(t,Tut)),t=t._prev;return"["+n.join(", ")+"]"};var pp=es,Aut=Bd.Graph,kut=Out,Rut=pp.constant(1);function NV(n,e,t,i,r){var o=r?[]:void 0;return pp.forEach(n.inEdges(i.v),function(s){var a=n.edge(s),l=n.node(s.v);r&&o.push({v:s.v,w:s.w}),l.out-=a,LV(e,t,l)}),pp.forEach(n.outEdges(i.v),function(s){var a=n.edge(s),u=n.node(s.w);u.in-=a,LV(e,t,u)}),n.removeNode(i.v),o}function LV(n,e,t){t.out?t.in?n[t.out-t.in+e].enqueue(t):n[n.length-1].enqueue(t):n[0].enqueue(t)}var ty=es,Fut=function Put(n,e){if(n.nodeCount()<=1)return[];var t=function Lut(n,e){var t=new Aut,i=0,r=0;pp.forEach(n.nodes(),function(a){t.setNode(a,{v:a,in:0,out:0})}),pp.forEach(n.edges(),function(a){var l=t.edge(a.v,a.w)||0,u=e(a);t.setEdge(a.v,a.w,l+u),r=Math.max(r,t.node(a.v).out+=u),i=Math.max(i,t.node(a.w).in+=u)});var o=pp.range(r+i+3).map(function(){return new kut}),s=i+1;return pp.forEach(t.nodes(),function(a){LV(o,s,t.node(a))}),{graph:t,buckets:o,zeroIdx:s}}(n,e||Rut),i=function Nut(n,e,t){for(var s,i=[],r=e[e.length-1],o=e[0];n.nodeCount();){for(;s=o.dequeue();)NV(n,e,t,s);for(;s=r.dequeue();)NV(n,e,t,s);if(n.nodeCount())for(var a=e.length-2;a>0;--a)if(s=e[a].dequeue()){i=i.concat(NV(n,e,t,s,!0));break}}return i}(t.graph,t.buckets,t.zeroIdx);return pp.flatten(pp.map(i,function(r){return n.outEdges(r.v,r.w)}),!0)},But={run:function jut(n){var e="greedy"===n.graph().acyclicer?Fut(n,function t(i){return function(r){return i.edge(r).weight}}(n)):function Vut(n){var e=[],t={},i={};return ty.forEach(n.nodes(),function r(o){ty.has(i,o)||(i[o]=!0,t[o]=!0,ty.forEach(n.outEdges(o),function(s){ty.has(t,s.w)?e.push(s):r(s.w)}),delete t[o])}),e}(n);ty.forEach(e,function(i){var r=n.edge(i);n.removeEdge(i),r.forwardName=i.name,r.reversed=!0,n.setEdge(i.w,i.v,r,ty.uniqueId("rev"))})},undo:function zut(n){ty.forEach(n.edges(),function(e){var t=n.edge(e);if(t.reversed){n.removeEdge(e);var i=t.forwardName;delete t.reversed,delete t.forwardName,n.setEdge(e.w,e.v,t,i)}})}},so=es,GY=Bd.Graph,vc={addDummyNode:HY,simplify:function Uut(n){var e=(new GY).setGraph(n.graph());return so.forEach(n.nodes(),function(t){e.setNode(t,n.node(t))}),so.forEach(n.edges(),function(t){var i=e.edge(t.v,t.w)||{weight:0,minlen:1},r=n.edge(t);e.setEdge(t.v,t.w,{weight:i.weight+r.weight,minlen:Math.max(i.minlen,r.minlen)})}),e},asNonCompoundGraph:function Gut(n){var e=new GY({multigraph:n.isMultigraph()}).setGraph(n.graph());return so.forEach(n.nodes(),function(t){n.children(t).length||e.setNode(t,n.node(t))}),so.forEach(n.edges(),function(t){e.setEdge(t,n.edge(t))}),e},successorWeights:function Hut(n){var e=so.map(n.nodes(),function(t){var i={};return so.forEach(n.outEdges(t),function(r){i[r.w]=(i[r.w]||0)+n.edge(r).weight}),i});return so.zipObject(n.nodes(),e)},predecessorWeights:function $ut(n){var e=so.map(n.nodes(),function(t){var i={};return so.forEach(n.inEdges(t),function(r){i[r.v]=(i[r.v]||0)+n.edge(r).weight}),i});return so.zipObject(n.nodes(),e)},intersectRect:function Wut(n,e){var l,u,t=n.x,i=n.y,r=e.x-t,o=e.y-i,s=n.width/2,a=n.height/2;if(!r&&!o)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(o)*s>Math.abs(r)*a?(o<0&&(a=-a),l=a*r/o,u=a):(r<0&&(s=-s),l=s,u=s*o/r),{x:t+l,y:i+u}},buildLayerMatrix:function Kut(n){var e=so.map(so.range($Y(n)+1),function(){return[]});return so.forEach(n.nodes(),function(t){var i=n.node(t),r=i.rank;so.isUndefined(r)||(e[r][i.order]=t)}),e},normalizeRanks:function Xut(n){var e=so.min(so.map(n.nodes(),function(t){return n.node(t).rank}));so.forEach(n.nodes(),function(t){var i=n.node(t);so.has(i,"rank")&&(i.rank-=e)})},removeEmptyRanks:function Yut(n){var e=so.min(so.map(n.nodes(),function(o){return n.node(o).rank})),t=[];so.forEach(n.nodes(),function(o){var s=n.node(o).rank-e;t[s]||(t[s]=[]),t[s].push(o)});var i=0,r=n.graph().nodeRankFactor;so.forEach(t,function(o,s){so.isUndefined(o)&&s%r!=0?--i:i&&so.forEach(o,function(a){n.node(a).rank+=i})})},addBorderNode:function Zut(n,e,t,i){var r={width:0,height:0};return arguments.length>=4&&(r.rank=t,r.order=i),HY(n,"border",r,e)},maxRank:$Y,partition:function Qut(n,e){var t={lhs:[],rhs:[]};return so.forEach(n,function(i){e(i)?t.lhs.push(i):t.rhs.push(i)}),t},time:function qut(n,e){var t=so.now();try{return e()}finally{console.log(n+" time: "+(so.now()-t)+"ms")}},notime:function Jut(n,e){return e()}};function HY(n,e,t,i){var r;do{r=so.uniqueId(i)}while(n.hasNode(r));return t.dummy=e,n.setNode(r,t),r}function $Y(n){return so.max(so.map(n.nodes(),function(e){var t=n.node(e).rank;if(!so.isUndefined(t))return t}))}var WY=es,tdt=vc,edt={run:function ndt(n){n.graph().dummyChains=[],WY.forEach(n.edges(),function(e){!function idt(n,e){var t=e.v,i=n.node(t).rank,r=e.w,o=n.node(r).rank,s=e.name,a=n.edge(e),l=a.labelRank;if(o!==i+1){var u,h,p;for(n.removeEdge(e),p=0,++i;i<o;++p,++i)a.points=[],u=tdt.addDummyNode(n,"edge",h={width:0,height:0,edgeLabel:a,edgeObj:e,rank:i},"_d"),i===l&&(h.width=a.width,h.height=a.height,h.dummy="edge-label",h.labelpos=a.labelpos),n.setEdge(t,u,{weight:a.weight},s),0===p&&n.graph().dummyChains.push(u),t=u;n.setEdge(t,r,{weight:a.weight},s)}}(n,e)})},undo:function rdt(n){WY.forEach(n.graph().dummyChains,function(e){var r,t=n.node(e),i=t.edgeLabel;for(n.setEdge(t.edgeObj,i);t.dummy;)r=n.successors(e)[0],n.removeNode(e),i.points.push({x:t.x,y:t.y}),"edge-label"===t.dummy&&(i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height),t=n.node(e=r)})}},JI=es,tR_longestPath=function odt(n){var e={};JI.forEach(n.sources(),function t(i){var r=n.node(i);if(JI.has(e,i))return r.rank;e[i]=!0;var o=JI.min(JI.map(n.outEdges(i),function(s){return t(s.w)-n.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||null==o)&&(o=0),r.rank=o})},tR_slack=function sdt(n,e){return n.node(e.w).rank-n.node(e.v).rank-n.edge(e).minlen},eR=es,adt=Bd.Graph,nR=tR_slack,KY=function ldt(n){var r,o,e=new adt({directed:!1}),t=n.nodes()[0],i=n.nodeCount();for(e.setNode(t,{});cdt(e,n)<i;)r=udt(e,n),o=e.hasNode(r.v)?nR(n,r):-nR(n,r),ddt(e,n,o);return e};function cdt(n,e){return eR.forEach(n.nodes(),function t(i){eR.forEach(e.nodeEdges(i),function(r){var o=r.v,s=i===o?r.w:o;!n.hasNode(s)&&!nR(e,r)&&(n.setNode(s,{}),n.setEdge(i,s,{}),t(s))})}),n.nodeCount()}function udt(n,e){return eR.minBy(e.edges(),function(t){if(n.hasNode(t.v)!==n.hasNode(t.w))return nR(e,t)})}function ddt(n,e,t){eR.forEach(n.nodes(),function(i){e.node(i).rank+=t})}var mp=es,hdt=KY,fdt=tR_slack,pdt=tR_longestPath,mdt=Bd.alg.preorder,gdt=Bd.alg.postorder,vdt=vc.simplify,ydt=ey;function ey(n){n=vdt(n),pdt(n);var t,e=hdt(n);for(BV(e),FV(e,n);t=ZY(e);)qY(e,n,t,QY(e,n,t))}function FV(n,e){var t=gdt(n,n.nodes());t=t.slice(0,t.length-1),mp.forEach(t,function(i){!function bdt(n,e,t){var i=n.node(t);n.edge(t,i.parent).cutvalue=XY(n,e,t)}(n,e,i)})}function XY(n,e,t){var r=n.node(t).parent,o=!0,s=e.edge(t,r),a=0;return s||(o=!1,s=e.edge(r,t)),a=s.weight,mp.forEach(e.nodeEdges(t),function(l){var u=l.v===t,h=u?l.w:l.v;if(h!==r){var p=u===o,v=e.edge(l).weight;if(a+=p?v:-v,function Edt(n,e,t){return n.hasEdge(e,t)}(n,t,h)){var y=n.edge(t,h).cutvalue;a+=p?-y:y}}}),a}function BV(n,e){arguments.length<2&&(e=n.nodes()[0]),YY(n,{},1,e)}function YY(n,e,t,i,r){var o=t,s=n.node(i);return e[i]=!0,mp.forEach(n.neighbors(i),function(a){mp.has(e,a)||(t=YY(n,e,t,a,i))}),s.low=o,s.lim=t++,r?s.parent=r:delete s.parent,t}function ZY(n){return mp.find(n.edges(),function(e){return n.edge(e).cutvalue<0})}function QY(n,e,t){var i=t.v,r=t.w;e.hasEdge(i,r)||(i=t.w,r=t.v);var o=n.node(i),s=n.node(r),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var u=mp.filter(e.edges(),function(h){return l===JY(0,n.node(h.v),a)&&l!==JY(0,n.node(h.w),a)});return mp.minBy(u,function(h){return fdt(e,h)})}function qY(n,e,t,i){n.removeEdge(t.v,t.w),n.setEdge(i.v,i.w,{}),BV(n),FV(n,e),function _dt(n,e){var t=mp.find(n.nodes(),function(r){return!e.node(r).parent}),i=mdt(n,t);i=i.slice(1),mp.forEach(i,function(r){var o=n.node(r).parent,s=e.edge(r,o),a=!1;s||(s=e.edge(o,r),a=!0),e.node(r).rank=e.node(o).rank+(a?s.minlen:-s.minlen)})}(n,e)}function JY(n,e,t){return t.low<=e.lim&&e.lim<=t.lim}ey.initLowLimValues=BV,ey.initCutValues=FV,ey.calcCutValue=XY,ey.leaveEdge=ZY,ey.enterEdge=QY,ey.exchangeEdges=qY;var tZ=tR_longestPath,xdt=KY,Cdt=ydt,Ddt=tZ;var jV=es,gp=es,VV=vc,Rdt={run:function Pdt(n){var e=VV.addDummyNode(n,"root",{},"_root"),t=function Ndt(n){var e={};function t(i,r){var o=n.children(i);o&&o.length&&gp.forEach(o,function(s){t(s,r+1)}),e[i]=r}return gp.forEach(n.children(),function(i){t(i,1)}),e}(n),i=gp.max(gp.values(t))-1,r=2*i+1;n.graph().nestingRoot=e,gp.forEach(n.edges(),function(s){n.edge(s).minlen*=r});var o=function Ldt(n){return gp.reduce(n.edges(),function(e,t){return e+n.edge(t).weight},0)}(n)+1;gp.forEach(n.children(),function(s){nZ(n,e,r,o,i,t,s)}),n.graph().nodeRankFactor=r},cleanup:function Fdt(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,gp.forEach(n.edges(),function(t){n.edge(t).nestingEdge&&n.removeEdge(t)})}};function nZ(n,e,t,i,r,o,s){var a=n.children(s);if(a.length){var l=VV.addBorderNode(n,"_bt"),u=VV.addBorderNode(n,"_bb"),h=n.node(s);n.setParent(l,s),h.borderTop=l,n.setParent(u,s),h.borderBottom=u,gp.forEach(a,function(p){nZ(n,e,t,i,r,o,p);var v=n.node(p),y=v.borderTop?v.borderTop:p,b=v.borderBottom?v.borderBottom:p,E=v.borderTop?i:2*i,w=y!==b?1:r-o[s]+1;n.setEdge(l,y,{weight:E,minlen:w,nestingEdge:!0}),n.setEdge(b,u,{weight:E,minlen:w,nestingEdge:!0})}),n.parent(s)||n.setEdge(e,l,{weight:0,minlen:r+o[s]})}else s!==e&&n.setEdge(e,s,{weight:0,minlen:t})}var zV=es,Bdt=vc;function iZ(n,e,t,i,r,o){var a=r[e][o-1],l=Bdt.addDummyNode(n,"border",{width:0,height:0,rank:o,borderType:e},t);r[e][o]=l,n.setParent(l,i),a&&n.setEdge(a,l,{weight:1})}var nf=es,zdt={adjust:function Udt(n){var e=n.graph().rankdir.toLowerCase();("lr"===e||"rl"===e)&&rZ(n)},undo:function Gdt(n){var e=n.graph().rankdir.toLowerCase();("bt"===e||"rl"===e)&&function Hdt(n){nf.forEach(n.nodes(),function(e){UV(n.node(e))}),nf.forEach(n.edges(),function(e){var t=n.edge(e);nf.forEach(t.points,UV),nf.has(t,"y")&&UV(t)})}(n),("lr"===e||"rl"===e)&&(function $dt(n){nf.forEach(n.nodes(),function(e){GV(n.node(e))}),nf.forEach(n.edges(),function(e){var t=n.edge(e);nf.forEach(t.points,GV),nf.has(t,"x")&&GV(t)})}(n),rZ(n))}};function rZ(n){nf.forEach(n.nodes(),function(e){oZ(n.node(e))}),nf.forEach(n.edges(),function(e){oZ(n.edge(e))})}function oZ(n){var e=n.width;n.width=n.height,n.height=e}function UV(n){n.y=-n.y}function GV(n){var e=n.x;n.x=n.y,n.y=e}var vp=es,Eg=es;function Zdt(n,e,t){for(var i=Eg.zipObject(t,Eg.map(t,function(u,h){return h})),r=Eg.flatten(Eg.map(e,function(u){return Eg.sortBy(Eg.map(n.outEdges(u),function(h){return{pos:i[h.w],weight:n.edge(h).weight}}),"pos")}),!0),o=1;o<t.length;)o<<=1;var s=2*o-1;o-=1;var a=Eg.map(new Array(s),function(){return 0}),l=0;return Eg.forEach(r.forEach(function(u){var h=u.pos+o;a[h]+=u.weight;for(var p=0;h>0;)h%2&&(p+=a[h+1]),a[h=h-1>>1]+=u.weight;l+=u.weight*p})),l}var sZ=es,Yc=es,RC=es,iht=vc;function aZ(n,e,t){for(var i;e.length&&(i=RC.last(e)).i<=t;)e.pop(),n.push(i.vs),t++;return t}var wg=es,aht=function qdt(n,e){return sZ.map(e,function(t){var i=n.inEdges(t);if(i.length){var r=sZ.reduce(i,function(o,s){var a=n.edge(s),l=n.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}})},lht=function tht(n,e){var t={};return Yc.forEach(n,function(r,o){var s=t[r.v]={indegree:0,in:[],out:[],vs:[r.v],i:o};Yc.isUndefined(r.barycenter)||(s.barycenter=r.barycenter,s.weight=r.weight)}),Yc.forEach(e.edges(),function(r){var o=t[r.v],s=t[r.w];!Yc.isUndefined(o)&&!Yc.isUndefined(s)&&(s.indegree++,o.out.push(t[r.w]))}),function eht(n){var e=[];function t(o){return function(s){s.merged||(Yc.isUndefined(s.barycenter)||Yc.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&function nht(n,e){var t=0,i=0;n.weight&&(t+=n.barycenter*n.weight,i+=n.weight),e.weight&&(t+=e.barycenter*e.weight,i+=e.weight),n.vs=e.vs.concat(n.vs),n.barycenter=t/i,n.weight=i,n.i=Math.min(e.i,n.i),e.merged=!0}(o,s)}}function i(o){return function(s){s.in.push(o),0==--s.indegree&&n.push(s)}}for(;n.length;){var r=n.pop();e.push(r),Yc.forEach(r.in.reverse(),t(r)),Yc.forEach(r.out,i(r))}return Yc.map(Yc.filter(e,function(o){return!o.merged}),function(o){return Yc.pick(o,["vs","i","barycenter","weight"])})}(Yc.filter(t,function(r){return!r.indegree}))},cht=function oht(n,e){var t=iht.partition(n,function(h){return RC.has(h,"barycenter")}),i=t.lhs,r=RC.sortBy(t.rhs,function(h){return-h.i}),o=[],s=0,a=0,l=0;i.sort(function sht(n){return function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:n?t.i-e.i:e.i-t.i}}(!!e)),l=aZ(o,r,l),RC.forEach(i,function(h){l+=h.vs.length,o.push(h.vs),s+=h.barycenter*h.weight,a+=h.weight,l=aZ(o,r,l)});var u={vs:RC.flatten(o,!0)};return a&&(u.barycenter=s/a,u.weight=a),u},PC=es,fht=Bd.Graph,vht=es,xg=es,_ht=function Kdt(n){var e={},t=vp.filter(n.nodes(),function(a){return!n.children(a).length}),i=vp.max(vp.map(t,function(a){return n.node(a).rank})),r=vp.map(vp.range(i+1),function(){return[]}),s=vp.sortBy(t,function(a){return n.node(a).rank});return vp.forEach(s,function o(a){if(!vp.has(e,a)){e[a]=!0;var l=n.node(a);r[l.rank].push(a),vp.forEach(n.successors(a),o)}}),r},Eht=function Ydt(n,e){for(var t=0,i=1;i<e.length;++i)t+=Zdt(n,e[i-1],e[i]);return t},wht=function lZ(n,e,t,i){var r=n.children(e),o=n.node(e),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(r=wg.filter(r,function(b){return b!==s&&b!==a}));var u=aht(n,r);wg.forEach(u,function(b){if(n.children(b.v).length){var E=lZ(n,b.v,t,i);l[b.v]=E,wg.has(E,"barycenter")&&function hht(n,e){wg.isUndefined(n.barycenter)?(n.barycenter=e.barycenter,n.weight=e.weight):(n.barycenter=(n.barycenter*n.weight+e.barycenter*e.weight)/(n.weight+e.weight),n.weight+=e.weight)}(b,E)}});var h=lht(u,t);!function dht(n,e){wg.forEach(n,function(t){t.vs=wg.flatten(t.vs.map(function(i){return e[i]?e[i].vs:i}),!0)})}(h,l);var p=cht(h,i);if(s&&(p.vs=wg.flatten([s,p.vs,a],!0),n.predecessors(s).length)){var v=n.node(n.predecessors(s)[0]),y=n.node(n.predecessors(a)[0]);wg.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+v.order+y.order)/(p.weight+2),p.weight+=2}return p},xht=function mht(n,e,t){var i=function ght(n){for(var e;n.hasNode(e=PC.uniqueId("_root")););return e}(n),r=new fht({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(o){return n.node(o)});return PC.forEach(n.nodes(),function(o){var s=n.node(o),a=n.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(r.setNode(o),r.setParent(o,a||i),PC.forEach(n[t](o),function(l){var u=l.v===o?l.w:l.v,h=r.edge(u,o),p=PC.isUndefined(h)?0:h.weight;r.setEdge(u,o,{weight:n.edge(l).weight+p})}),PC.has(s,"minRank")&&r.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),r},Cht=function bht(n,e,t){var r,i={};vht.forEach(t,function(o){for(var a,l,s=n.parent(o);s;){if((a=n.parent(s))?(l=i[a],i[a]=s):(l=r,r=s),l&&l!==s)return void e.setEdge(l,s);s=a}})},Mht=Bd.Graph,cZ=vc;function uZ(n,e,t){return xg.map(e,function(i){return xht(n,i,t)})}function Oht(n,e){var t=new Mht;xg.forEach(n,function(i){var r=i.graph().root,o=wht(i,r,t,e);xg.forEach(o.vs,function(s,a){i.node(s).order=a}),Cht(i,t,o.vs)})}function dZ(n,e){xg.forEach(e,function(t){xg.forEach(t,function(i,r){n.node(i).order=r})})}var ar=es,Tht=Bd.Graph,Aht=vc;function HV(n,e,t){if(e>t){var i=e;e=t,t=i}var r=n[e];r||(n[e]=r={}),r[t]=!0}function pZ(n,e,t){if(e>t){var i=e;e=t,t=i}return ar.has(n[e],t)}var NC=es,_Z=vc,Fht=function Pht(n){var r,e=Aht.buildLayerMatrix(n),t=ar.merge(function hZ(n,e){var t={};return ar.reduce(e,function i(r,o){var s=0,a=0,l=r.length,u=ar.last(o);return ar.forEach(o,function(h,p){var v=function Iht(n,e){if(n.node(e).dummy)return ar.find(n.predecessors(e),function(t){return n.node(t).dummy})}(n,h),y=v?n.node(v).order:l;(v||h===u)&&(ar.forEach(o.slice(a,p+1),function(b){ar.forEach(n.predecessors(b),function(E){var w=n.node(E),S=w.order;(S<s||y<S)&&(!w.dummy||!n.node(b).dummy)&&HV(t,E,b)})}),a=p+1,s=y)}),o}),t}(n,e),function fZ(n,e){var t={};function i(o,s,a,l,u){var h;ar.forEach(ar.range(s,a),function(p){n.node(h=o[p]).dummy&&ar.forEach(n.predecessors(h),function(v){var y=n.node(v);y.dummy&&(y.order<l||y.order>u)&&HV(t,v,h)})})}return ar.reduce(e,function r(o,s){var l,a=-1,u=0;return ar.forEach(s,function(h,p){if("border"===n.node(h).dummy){var v=n.predecessors(h);v.length&&(l=n.node(v[0]).order,i(s,u,p,a,l),u=p,a=l)}i(s,u,s.length,l,o.length)}),s}),t}(n,e)),i={};ar.forEach(["u","d"],function(s){r="u"===s?e:ar.values(e).reverse(),ar.forEach(["l","r"],function(a){"r"===a&&(r=ar.map(r,function(p){return ar.values(p).reverse()}));var l=("u"===s?n.predecessors:n.successors).bind(n),u=function mZ(n,e,t,i){var r={},o={},s={};return ar.forEach(e,function(a){ar.forEach(a,function(l,u){r[l]=l,o[l]=l,s[l]=u})}),ar.forEach(e,function(a){var l=-1;ar.forEach(a,function(u){var h=i(u);if(h.length)for(var p=((h=ar.sortBy(h,function(E){return s[E]})).length-1)/2,v=Math.floor(p),y=Math.ceil(p);v<=y;++v){var b=h[v];o[u]===u&&l<s[b]&&!pZ(t,u,b)&&(o[b]=u,o[u]=r[u]=r[b],l=s[b])}})}),{root:r,align:o}}(0,r,t,l),h=function gZ(n,e,t,i,r){var o={},s=function Rht(n,e,t,i){var r=new Tht,o=n.graph(),s=function Nht(n,e,t){return function(i,r,o){var u,s=i.node(r),a=i.node(o),l=0;if(l+=s.width/2,ar.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(l+=t?u:-u),u=0,l+=(s.dummy?e:n)/2,l+=(a.dummy?e:n)/2,l+=a.width/2,ar.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=a.width/2;break;case"r":u=-a.width/2}return u&&(l+=t?u:-u),u=0,l}}(o.nodesep,o.edgesep,i);return ar.forEach(e,function(a){var l;ar.forEach(a,function(u){var h=t[u];if(r.setNode(h),l){var p=t[l],v=r.edge(p,h);r.setEdge(p,h,Math.max(s(n,u,l),v||0))}l=u})}),r}(n,e,t,r),a=r?"borderLeft":"borderRight";function l(p,v){for(var y=s.nodes(),b=y.pop(),E={};b;)E[b]?p(b):(E[b]=!0,y.push(b),y=y.concat(v(b))),b=y.pop()}return l(function u(p){o[p]=s.inEdges(p).reduce(function(v,y){return Math.max(v,o[y.v]+s.edge(y))},0)},s.predecessors.bind(s)),l(function h(p){var v=s.outEdges(p).reduce(function(b,E){return Math.min(b,o[E.w]-s.edge(E))},Number.POSITIVE_INFINITY),y=n.node(p);v!==Number.POSITIVE_INFINITY&&y.borderType!==a&&(o[p]=Math.max(o[p],v))},s.successors.bind(s)),ar.forEach(i,function(p){o[p]=o[t[p]]}),o}(n,r,u.root,u.align,"r"===a);"r"===a&&(h=ar.mapValues(h,function(p){return-p})),i[s+a]=h})});var o=function vZ(n,e){return ar.minBy(ar.values(e),function(t){var i=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return ar.forIn(t,function(o,s){var a=function Lht(n,e){return n.node(e).width}(n,s)/2;i=Math.max(o+a,i),r=Math.min(o-a,r)}),i-r})}(n,i);return function yZ(n,e){var t=ar.values(e),i=ar.min(t),r=ar.max(t);ar.forEach(["u","d"],function(o){ar.forEach(["l","r"],function(s){var u,a=o+s,l=n[a];if(l!==e){var h=ar.values(l);(u="l"===s?i-ar.min(h):r-ar.max(h))&&(n[a]=ar.mapValues(l,function(p){return p+u}))}})})}(i,o),function bZ(n,e){return ar.mapValues(n.ul,function(t,i){if(e)return n[e.toLowerCase()][i];var r=ar.sortBy(ar.map(n,i));return(r[1]+r[2])/2})}(i,n.graph().align)},Er=es,EZ=But,wZ=edt,zht=function Sdt(n){switch(n.graph().ranker){case"network-simplex":default:!function eZ(n){Cdt(n)}(n);break;case"tight-tree":!function Odt(n){tZ(n),xdt(n)}(n);break;case"longest-path":Ddt(n)}},Uht=vc.normalizeRanks,Ght=function Adt(n){var e=function Idt(n){var e={},t=0;return jV.forEach(n.children(),function i(r){var o=t;jV.forEach(n.children(r),i),e[r]={low:o,lim:t++}}),e}(n);jV.forEach(n.graph().dummyChains,function(t){for(var i=n.node(t),r=i.edgeObj,o=function kdt(n,e,t,i){var l,u,r=[],o=[],s=Math.min(e[t].low,e[i].low),a=Math.max(e[t].lim,e[i].lim);l=t;do{l=n.parent(l),r.push(l)}while(l&&(e[l].low>s||a>e[l].lim));for(u=l,l=i;(l=n.parent(l))!==u;)o.push(l);return{path:r.concat(o.reverse()),lca:u}}(n,e,r.v,r.w),s=o.path,a=o.lca,l=0,u=s[l],h=!0;t!==r.w;){if(i=n.node(t),h){for(;(u=s[l])!==a&&n.node(u).maxRank<i.rank;)l++;u===a&&(h=!1)}if(!h){for(;l<s.length-1&&n.node(u=s[l+1]).minRank<=i.rank;)l++;u=s[l]}n.setParent(t,u),t=n.successors(t)[0]}})},Hht=vc.removeEmptyRanks,xZ=Rdt,$ht=function Vdt(n){zV.forEach(n.children(),function e(t){var i=n.children(t),r=n.node(t);if(i.length&&zV.forEach(i,e),zV.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var o=r.minRank,s=r.maxRank+1;o<s;++o)iZ(n,"borderLeft","_bl",t,r,o),iZ(n,"borderRight","_br",t,r,o)}})},CZ=zdt,Wht=function Dht(n){var e=cZ.maxRank(n),t=uZ(n,xg.range(1,e+1),"inEdges"),i=uZ(n,xg.range(e-1,-1,-1),"outEdges"),r=_ht(n);dZ(n,r);for(var s,o=Number.POSITIVE_INFINITY,a=0,l=0;l<4;++a,++l){Oht(a%2?t:i,a%4>=2),r=cZ.buildLayerMatrix(n);var u=Eht(n,r);u<o&&(l=0,s=xg.cloneDeep(r),o=u)}dZ(n,s)},Kht=function jht(n){(function Vht(n){var e=_Z.buildLayerMatrix(n),t=n.graph().ranksep,i=0;NC.forEach(e,function(r){var o=NC.max(NC.map(r,function(s){return n.node(s).height}));NC.forEach(r,function(s){n.node(s).y=i+o/2}),i+=o+t})})(n=_Z.asNonCompoundGraph(n)),NC.forEach(Fht(n),function(e,t){n.node(t).x=e})},Cg=vc,Xht=Bd.Graph,Jht=["nodesep","edgesep","ranksep","marginx","marginy"],tft={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},eft=["acyclicer","ranker","rankdir","align"],nft=["width","height"],ift={width:0,height:0},rft=["minlen","weight","width","height","labeloffset"],oft={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},sft=["labelpos"];function $V(n,e){return Er.mapValues(Er.pick(n,e),Number)}function WV(n){var e={};return Er.forEach(n,function(t,i){e[i.toLowerCase()]=t}),e}var iR=es,_ft=vc,Eft=Bd.Graph,wft={debugOrdering:function xft(n){var e=_ft.buildLayerMatrix(n),t=new Eft({compound:!0,multigraph:!0}).setGraph({});return iR.forEach(n.nodes(),function(i){t.setNode(i,{label:i}),t.setParent(i,"layer"+n.node(i).rank)}),iR.forEach(n.edges(),function(i){t.setEdge(i.v,i.w,{},i.name)}),iR.forEach(e,function(i,r){t.setNode("layer"+r,{rank:"same"}),iR.reduce(i,function(s,a){return t.setEdge(s,a,{style:"invis"}),a})}),t}},MZ={graphlib:Bd,layout:function Zht(n,e){var t=e&&e.debugTiming?Cg.time:Cg.notime;t("layout",function(){var i=t("  buildLayoutGraph",function(){return function aft(n){var e=new Xht({multigraph:!0,compound:!0}),t=WV(n.graph());return e.setGraph(Er.merge({},tft,$V(t,Jht),Er.pick(t,eft))),Er.forEach(n.nodes(),function(i){var r=WV(n.node(i));e.setNode(i,Er.defaults($V(r,nft),ift)),e.setParent(i,n.parent(i))}),Er.forEach(n.edges(),function(i){var r=WV(n.edge(i));e.setEdge(i,Er.merge({},oft,$V(r,rft),Er.pick(r,sft)))}),e}(n)});t("  runLayout",function(){!function Qht(n,e){e("    makeSpaceForEdgeLabels",function(){!function lft(n){var e=n.graph();e.ranksep/=2,Er.forEach(n.edges(),function(t){var i=n.edge(t);i.minlen*=2,"c"!==i.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?i.width+=i.labeloffset:i.height+=i.labeloffset)})}(n)}),e("    removeSelfEdges",function(){!function vft(n){Er.forEach(n.edges(),function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e,label:n.edge(e)}),n.removeEdge(e)}})}(n)}),e("    acyclic",function(){EZ.run(n)}),e("    nestingGraph.run",function(){xZ.run(n)}),e("    rank",function(){zht(Cg.asNonCompoundGraph(n))}),e("    injectEdgeLabelProxies",function(){!function cft(n){Er.forEach(n.edges(),function(e){var t=n.edge(e);if(t.width&&t.height){var i=n.node(e.v),r=n.node(e.w);Cg.addDummyNode(n,"edge-proxy",{rank:(r.rank-i.rank)/2+i.rank,e},"_ep")}})}(n)}),e("    removeEmptyRanks",function(){Hht(n)}),e("    nestingGraph.cleanup",function(){xZ.cleanup(n)}),e("    normalizeRanks",function(){Uht(n)}),e("    assignRankMinMax",function(){!function uft(n){var e=0;Er.forEach(n.nodes(),function(t){var i=n.node(t);i.borderTop&&(i.minRank=n.node(i.borderTop).rank,i.maxRank=n.node(i.borderBottom).rank,e=Er.max(e,i.maxRank))}),n.graph().maxRank=e}(n)}),e("    removeEdgeLabelProxies",function(){!function dft(n){Er.forEach(n.nodes(),function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))})}(n)}),e("    normalize.run",function(){wZ.run(n)}),e("    parentDummyChains",function(){Ght(n)}),e("    addBorderSegments",function(){$ht(n)}),e("    order",function(){Wht(n)}),e("    insertSelfEdges",function(){!function yft(n){var e=Cg.buildLayerMatrix(n);Er.forEach(e,function(t){var i=0;Er.forEach(t,function(r,o){var s=n.node(r);s.order=o+i,Er.forEach(s.selfEdges,function(a){Cg.addDummyNode(n,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++i,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}(n)}),e("    adjustCoordinateSystem",function(){CZ.adjust(n)}),e("    position",function(){Kht(n)}),e("    positionSelfEdges",function(){!function bft(n){Er.forEach(n.nodes(),function(e){var t=n.node(e);if("selfedge"===t.dummy){var i=n.node(t.e.v),r=i.x+i.width/2,o=i.y,s=t.x-r,a=i.height/2;n.setEdge(t.e,t.label),n.removeNode(e),t.label.points=[{x:r+2*s/3,y:o-a},{x:r+5*s/6,y:o-a},{x:r+s,y:o},{x:r+5*s/6,y:o+a},{x:r+2*s/3,y:o+a}],t.label.x=t.x,t.label.y=t.y}})}(n)}),e("    removeBorderNodes",function(){!function gft(n){Er.forEach(n.nodes(),function(e){if(n.children(e).length){var t=n.node(e),i=n.node(t.borderTop),r=n.node(t.borderBottom),o=n.node(Er.last(t.borderLeft)),s=n.node(Er.last(t.borderRight));t.width=Math.abs(s.x-o.x),t.height=Math.abs(r.y-i.y),t.x=o.x+t.width/2,t.y=i.y+t.height/2}}),Er.forEach(n.nodes(),function(e){"border"===n.node(e).dummy&&n.removeNode(e)})}(n)}),e("    normalize.undo",function(){wZ.undo(n)}),e("    fixupEdgeLabelCoords",function(){!function pft(n){Er.forEach(n.edges(),function(e){var t=n.edge(e);if(Er.has(t,"x"))switch(("l"===t.labelpos||"r"===t.labelpos)&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}(n)}),e("    undoCoordinateSystem",function(){CZ.undo(n)}),e("    translateGraph",function(){!function hft(n){var e=Number.POSITIVE_INFINITY,t=0,i=Number.POSITIVE_INFINITY,r=0,o=n.graph(),s=o.marginx||0,a=o.marginy||0;function l(u){var h=u.x,p=u.y,v=u.width,y=u.height;e=Math.min(e,h-v/2),t=Math.max(t,h+v/2),i=Math.min(i,p-y/2),r=Math.max(r,p+y/2)}Er.forEach(n.nodes(),function(u){l(n.node(u))}),Er.forEach(n.edges(),function(u){var h=n.edge(u);Er.has(h,"x")&&l(h)}),e-=s,i-=a,Er.forEach(n.nodes(),function(u){var h=n.node(u);h.x-=e,h.y-=i}),Er.forEach(n.edges(),function(u){var h=n.edge(u);Er.forEach(h.points,function(p){p.x-=e,p.y-=i}),Er.has(h,"x")&&(h.x-=e),Er.has(h,"y")&&(h.y-=i)}),o.width=t-e+s,o.height=r-i+a}(n)}),e("    assignNodeIntersects",function(){!function fft(n){Er.forEach(n.edges(),function(e){var o,s,t=n.edge(e),i=n.node(e.v),r=n.node(e.w);t.points?(o=t.points[0],s=t.points[t.points.length-1]):(t.points=[],o=r,s=i),t.points.unshift(Cg.intersectRect(i,o)),t.points.push(Cg.intersectRect(r,s))})}(n)}),e("    reversePoints",function(){!function mft(n){Er.forEach(n.edges(),function(e){var t=n.edge(e);t.reversed&&t.points.reverse()})}(n)}),e("    acyclic.undo",function(){EZ.undo(n)})}(i,t)}),t("  updateInputGraph",function(){!function qht(n,e){Er.forEach(n.nodes(),function(t){var i=n.node(t),r=e.node(t);i&&(i.x=r.x,i.y=r.y,e.children(t).length&&(i.width=r.width,i.height=r.height))}),Er.forEach(n.edges(),function(t){var i=n.edge(t),r=e.edge(t);i.points=r.points,Er.has(r,"x")&&(i.x=r.x,i.y=r.y)}),n.graph().width=e.graph().width,n.graph().height=e.graph().height}(n,i)})})},debug:wft,util:{time:vc.time,notime:vc.notime},version:"0.8.5"};const Mft=pd(MZ);let Dft=(()=>{class n{constructor(t){this.id="dagre",this.options={},Object.assign(this.options,n.defaultOptions,t)}execute(t,i){return ir(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,t,Object.assign(Object.assign({},this.options),i))})}assign(t,i){return ir(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,t,Object.assign(Object.assign({},this.options),i))})}genericDagreLayout(t,i,r){return ir(this,void 0,void 0,function*(){const{nodeSize:o}=r,s=new MZ.graphlib.Graph;s.setGraph(r),s.setDefaultEdgeLabel(()=>({})),[...i.getAllNodes(),...i.getAllEdges()].some(({id:h})=>Zn(h))&&console.error("Dagre layout only support string id, it will convert number to string."),i.getAllNodes().forEach(h=>{const{id:p}=h,v=Object.assign({},h.data);if(void 0!==o){const[y,b]=function Sft(n){if(!n)return[0,0,0];if(Zn(n))return[n,n,n];if(0===n.length)return[0,0,0];const[e,t=e,i=e]=n;return[e,t,i]}($n(o)?o(h):o);Object.assign(v,{width:y,height:b})}s.setNode(p.toString(),v)}),i.getAllEdges().forEach(({id:h,source:p,target:v})=>{s.setEdge(p.toString(),v.toString(),{id:h})}),Mft.layout(s);const u={nodes:[],edges:[]};return s.nodes().forEach(h=>{const p=s.node(h);u.nodes.push({id:h,data:p}),t&&i.mergeNodeData(h,p)}),s.edges().forEach(h=>{const p=s.edge(h),{id:v}=p,y=vo(p,["id"]),{v:b,w:E}=h;u.edges.push({id:v,source:b,target:E,data:y}),t&&i.mergeEdgeData(v,y)}),u})}}return n.defaultOptions={},n})();class KV{constructor(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}distanceTo(e){return Math.hypot(this.rx-e.rx,this.ry-e.ry)}setPos(e,t){this.rx=e,this.ry=t}resetForce(){this.fx=0,this.fy=0}addForce(e){const t=e.rx-this.rx,i=e.ry-this.ry;let r=Math.hypot(t,i);r=r<1e-4?1e-4:r;const o=this.g*(this.degree+1)*(e.degree+1)/r;this.fx+=o*t/r,this.fy+=o*i/r}in(e){return e.contains(this.rx,this.ry)}add(e){const t=this.mass+e.mass;return new KV({rx:(this.rx*this.mass+e.rx*e.mass)/t,ry:(this.ry*this.mass+e.ry*e.mass)/t,mass:t,degree:this.degree+e.degree})}}class M1{constructor(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}getLength(){return this.length}contains(e,t){const i=this.length/2;return e<=this.xmid+i&&e>=this.xmid-i&&t<=this.ymid+i&&t>=this.ymid-i}NW(){return new M1({xmid:this.xmid-this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})}NE(){return new M1({xmid:this.xmid+this.length/4,ymid:this.ymid+this.length/4,length:this.length/2})}SW(){return new M1({xmid:this.xmid-this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})}SE(){return new M1({xmid:this.xmid+this.length/4,ymid:this.ymid-this.length/4,length:this.length/2})}}class S1{constructor(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,null!=e&&(this.quad=e)}insert(e){null!=this.body?this._isExternal()?(this.quad&&(this.NW=new S1(this.quad.NW()),this.NE=new S1(this.quad.NE()),this.SW=new S1(this.quad.SW()),this.SE=new S1(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e)):this.body=e}_putBody(e){this.quad&&(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))}_isExternal(){return null==this.NW&&null==this.NE&&null==this.SW&&null==this.SE}updateForce(e){null!=this.body&&e!==this.body&&(this._isExternal()||(this.quad?this.quad.getLength():0)/this.body.distanceTo(e)<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e)))}}const Oft={center:[0,0],width:300,height:300,kr:5,kg:1,mode:"normal",preventOverlap:!1,dissuadeHubs:!1,maxIteration:0,ks:.1,ksmax:10,tao:.1},Aft={maxIteration:1e3,gravity:10,speed:5,clustering:!1,clusterGravity:10,width:300,height:300,nodeClusterBy:"cluster"},Rft={begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30,width:300,height:300},rR=(n,e)=>{let t;const i=n.rows||5,r=n.cols||5;return null==e?t=Math.min(i,r):Math.min(i,r)===n.rows?n.rows=e:n.cols=e,t},oR=(n,e)=>{let t;const i=n.rows||5,r=n.cols||5;return null==e?t=Math.max(i,r):Math.max(i,r)===n.rows?n.rows=e:n.cols=e,t},XV=(n,e)=>n[`c-${e.row}-${e.col}`]||!1,SZ=(n,e)=>n[`c-${e.row}-${e.col}`]=!0,DZ=(n,e)=>{const t=n.cols||5;e.col++,e.col>=t&&(e.col=0,e.row++)},Nft=(n,e,t,i,r,o,s,a)=>{let l,u;const h=r[n.id];if(h)l=h.col*t+t/2+e[0],u=h.row*i+i/2+e[1];else{for(;XV(a,s);)DZ(o,s);l=s.col*t+t/2+e[0],u=s.row*i+i/2+e[1],SZ(a,s),DZ(o,s)}n.data.x=l,n.data.y=u},Bft={iterations:10,height:10,width:10,speed:100,gravity:10,k:5},Vft=(n,e,t,i,r,o)=>{e.forEach((s,a)=>{t[a]={x:0,y:0},e.forEach((l,u)=>{if(a===u||r[a]!==r[u])return;let h=s.x-l.x,p=s.y-l.y,v=Math.sqrt(h*h+p*p);if(0===v){v=1;const y=a>u?1:-1;h=.01*y,p=.01*y}if(v<o(n[a])/2+o(n[u])/2){const y=i*i/v;t[a].x+=h/v*y,t[a].y+=p/v*y}})})},zft=(n,e,t,i,r,o,s,a)=>{const l=o||s/10;return i&&e.forEach((u,h)=>{const p=n[h].x-n[r].x,v=n[h].y-n[r].y,y=Math.sqrt(p*p+v*v);let b=v/y,E=-p/y;const w=Math.sqrt(u.x*u.x+u.y*u.y);let S=Math.acos((b*u.x+E*u.y)/w);S>Math.PI/2&&(S-=Math.PI/2,b*=-1,E*=-1);const C=Math.cos(S)*w;u.x=b*C,u.y=E*C}),n.forEach((u,h)=>{if(h===r)return;const p=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(p>0&&h!==r){const v=Math.min(l*(t/800),p);if(u.x+=e[h].x/p*v,u.y+=e[h].y/p*v,i){let y=u.x-n[r].x,b=u.y-n[r].y;const E=Math.sqrt(y*y+b*b);y=y/E*a[h],b=b/E*a[h],u.x=n[r].x+y,u.y=n[r].y+b}}}),n},Uft={maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,strictRadial:!0,maxPreventOverlapIteration:200,sortStrength:10},Yft={center:[0,0],width:300,height:300},OZ=Symbol("Comlink.proxy"),Qft=Symbol("Comlink.endpoint"),TZ=Symbol("Comlink.releaseProxy"),YV=Symbol("Comlink.finalizer"),sR=Symbol("Comlink.thrown"),AZ=n=>"object"==typeof n&&null!==n||"function"==typeof n,qft={canHandle:n=>AZ(n)&&n[OZ],serialize(n){const{port1:e,port2:t}=new MessageChannel;return IZ(n,e),[t,[t]]},deserialize:n=>(n.start(),PZ(n))},Jft={canHandle:n=>AZ(n)&&sR in n,serialize({value:n}){let e;return e=n instanceof Error?{isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:{isError:!1,value:n},[e,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},kZ=new Map([["proxy",qft],["throw",Jft]]);function IZ(n,e=globalThis,t=["*"]){e.addEventListener("message",function i(r){if(!r||!r.data)return;if(!function tpt(n,e){for(const t of n)if(e===t||"*"===t||t instanceof RegExp&&t.test(e))return!0;return!1}(t,r.origin))return void console.warn(`Invalid origin '${r.origin}' for comlink proxy`);const{id:o,type:s,path:a}=Object.assign({path:[]},r.data),l=(r.data.argumentList||[]).map(ny);let u;try{const h=a.slice(0,-1).reduce((v,y)=>v[y],n),p=a.reduce((v,y)=>v[y],n);switch(s){case"GET":u=p;break;case"SET":h[a.slice(-1)[0]]=ny(r.data.value),u=!0;break;case"APPLY":u=p.apply(h,l);break;case"CONSTRUCT":u=function spt(n){return Object.assign(n,{[OZ]:!0})}(new p(...l));break;case"ENDPOINT":{const{port1:v,port2:y}=new MessageChannel;IZ(n,y),u=function opt(n,e){return FZ.set(n,e),n}(v,[v])}break;case"RELEASE":u=void 0;break;default:return}}catch(h){u={value:h,[sR]:0}}Promise.resolve(u).catch(h=>({value:h,[sR]:0})).then(h=>{const[p,v]=uR(h);e.postMessage(Object.assign(Object.assign({},p),{id:o}),v),"RELEASE"===s&&(e.removeEventListener("message",i),RZ(e),YV in n&&"function"==typeof n[YV]&&n[YV]())}).catch(h=>{const[p,v]=uR({value:new TypeError("Unserializable return value"),[sR]:0});e.postMessage(Object.assign(Object.assign({},p),{id:o}),v)})}),e.start&&e.start()}function RZ(n){(function ept(n){return"MessagePort"===n.constructor.name})(n)&&n.close()}function PZ(n,e){return ZV(n,[],e)}function aR(n){if(n)throw new Error("Proxy has been released and is not useable")}function NZ(n){return D1(n,{type:"RELEASE"}).then(()=>{RZ(n)})}const lR=new WeakMap,cR="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const e=(lR.get(n)||0)-1;lR.set(n,e),0===e&&NZ(n)});function ZV(n,e=[],t=function(){}){let i=!1;const r=new Proxy(t,{get(o,s){if(aR(i),s===TZ)return()=>{(function ipt(n){cR&&cR.unregister(n)})(r),NZ(n),i=!0};if("then"===s){if(0===e.length)return{then:()=>r};const a=D1(n,{type:"GET",path:e.map(l=>l.toString())}).then(ny);return a.then.bind(a)}return ZV(n,[...e,s])},set(o,s,a){aR(i);const[l,u]=uR(a);return D1(n,{type:"SET",path:[...e,s].map(h=>h.toString()),value:l},u).then(ny)},apply(o,s,a){aR(i);const l=e[e.length-1];if(l===Qft)return D1(n,{type:"ENDPOINT"}).then(ny);if("bind"===l)return ZV(n,e.slice(0,-1));const[u,h]=LZ(a);return D1(n,{type:"APPLY",path:e.map(p=>p.toString()),argumentList:u},h).then(ny)},construct(o,s){aR(i);const[a,l]=LZ(s);return D1(n,{type:"CONSTRUCT",path:e.map(u=>u.toString()),argumentList:a},l).then(ny)}});return function npt(n,e){const t=(lR.get(e)||0)+1;lR.set(e,t),cR&&cR.register(n,e,n)}(r,n),r}function rpt(n){return Array.prototype.concat.apply([],n)}function LZ(n){const e=n.map(uR);return[e.map(t=>t[0]),rpt(e.map(t=>t[1]))]}const FZ=new WeakMap;function uR(n){for(const[e,t]of kZ)if(t.canHandle(n)){const[i,r]=t.serialize(n);return[{type:"HANDLER",name:e,value:i},r]}return[{type:"RAW",value:n},FZ.get(n)||[]]}function ny(n){switch(n.type){case"HANDLER":return kZ.get(n.name).deserialize(n.value);case"RAW":return n.value}}function D1(n,e,t){return new Promise(i=>{const r=function apt(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}();n.addEventListener("message",function o(s){!s.data||!s.data.id||s.data.id!==r||(n.removeEventListener("message",o),i(s.data))}),n.start&&n.start(),n.postMessage(Object.assign({id:r},e),t)})}class lpt extends o1{constructor(e,t,i){super(),this.graph=e,this.layout=t,this.options=i,this.spawnWorker()}spawnWorker(){this.proxy=PZ(new Worker(new URL("/assets/worker-B2aNklqP.js","file:///home/kevinhu/moxa/one-ui/node_modules/.pnpm/file+libs+graph_@antv+g6@5.0.27/node_modules/@moxa/graph/index.js"),{type:"module"})),this.running&&(this.running=!1,this.execute())}execute(){var e;return ir(this,void 0,void 0,function*(){if(this.running)return this;this.running=!0;const i=vo(this.layout.options,["onTick"]),r={};Object.keys(i).forEach(l=>{$n(i[l])||(r[l]=i[l])});const o={layout:{id:this.layout.id,options:r,iterations:null===(e=this.options)||void 0===e?void 0:e.iterations},nodes:this.graph.getAllNodes(),edges:this.graph.getAllEdges()},s=new Float32Array([0]),[a]=yield this.proxy.calculateLayout(o,[s]);return a})}stop(){return this.running=!1,this.proxy.stopLayout(),this}kill(){this.proxy[TZ]()}isRunning(){return this.running}}const O1=n=>n?parseInt(n):0;function BZ(n){let e=640,t=480;const[i,r]=function ppt(n){const e=getComputedStyle(n),t=n.clientWidth||O1(e.width),i=n.clientHeight||O1(e.height);return[t-(O1(e.paddingLeft)+O1(e.paddingRight)),i-(O1(e.paddingTop)+O1(e.paddingBottom))]}(n);return e=i||e,t=r||t,[Math.max(Zn(e)?e:1,1),Math.max(Zn(t)?t:1,1)]}function LC(n,e=!0,t){const i=document.createElement("div");return i.setAttribute("class",`g6-${n}`),Object.assign(i.style,{position:"absolute",display:"block"}),e&&Object.assign(i.style,{inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),t&&Object.assign(i.style,t),i}function QV(n,e="div",t={},i="",r=document.body){const o=document.getElementById(n);o&&o.remove();const s=document.createElement(e);return s.innerHTML=i,s.id=n,Object.assign(s.style,t),r.appendChild(s),s}class $s extends S_{}let vpt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$element=LC("background"),this.context.canvas.getContainer().prepend(this.$element),this.update(i)}update(t){const i=Object.create(null,{update:{get:()=>super.update}});return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){i.update.call(this,t),Object.assign(this.$element.style,ob(this.options,["key","type"]))})}destroy(){super.destroy(),this.$element.remove()}}return n.defaultOptions={transition:"background 0.5s",backgroundSize:"cover"},n})();function qV(n,e,t,i,r,o){const l=t-n,u=i-e;let h=r-n,p=o-e,v=h*l+p*u,y=0;v<=0?y=0:(h=l-h,p=u-p,v=h*l+p*u,y=v<=0?0:v*v/(l*l+u*u));const b=h*h+p*p-y;return b<0?0:b}function Mg(n,e,t,i){return(n-t)*(n-t)+(e-i)*(e-i)}function jZ(n,e,t,i,r){return Mg(n,e,t,i)<r*r}function VZ(n){const e=Math.min(n.x1,n.x2),t=Math.max(n.x1,n.x2),i=Math.min(n.y1,n.y2),r=Math.max(n.y1,n.y2);return{x:e,y:i,x2:t,y2:r,width:t-e,height:r-i}}class wa{constructor(e,t,i,r){this.x1=e,this.y1=t,this.x2=i,this.y2=r}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}draw(e){e.moveTo(this.x1,this.y1),e.lineTo(this.x2,this.y2)}toString(){return`Line(from=(${this.x1},${this.y1}),to=(${this.x2},${this.y2}))`}static from(e){return new wa(e.x1,e.y1,e.x2,e.y2)}cuts(e,t){return!(this.y1===this.y2||t<this.y1&&t<=this.y2||t>this.y1&&t>=this.y2||e>this.x1&&e>=this.x2)&&(e<this.x1&&e<=this.x2||e<=this.x1+(t-this.y1)*(this.x2-this.x1)/(this.y2-this.y1))}distSquare(e,t){return qV(this.x1,this.y1,this.x2,this.y2,e,t)}ptClose(e,t,i){if(this.x1<this.x2){if(e<this.x1-i||e>this.x2+i)return!1}else if(e<this.x2-i||e>this.x1+i)return!1;if(this.y1<this.y2){if(t<this.y1-i||t>this.y2+i)return!1}else if(t<this.y2-i||t>this.y1+i)return!1;return!0}}var Es,ws;!function(n){n[n.POINT=1]="POINT",n[n.PARALLEL=2]="PARALLEL",n[n.COINCIDENT=3]="COINCIDENT",n[n.NONE=4]="NONE"}(Es||(Es={}));class JV{constructor(e,t=0,i=0){this.state=e,this.x=t,this.y=i}}function dR(n,e){const t=(e.x2-e.x1)*(n.y1-e.y1)-(e.y2-e.y1)*(n.x1-e.x1),i=(n.x2-n.x1)*(n.y1-e.y1)-(n.y2-n.y1)*(n.x1-e.x1),r=(e.y2-e.y1)*(n.x2-n.x1)-(e.x2-e.x1)*(n.y2-n.y1);if(r){const o=t/r,s=i/r;return 0<=o&&o<=1&&0<=s&&s<=1?new JV(Es.POINT,n.x1+o*(n.x2-n.x1),n.y1+o*(n.y2-n.y1)):new JV(Es.NONE)}return new JV(0===t||0===i?Es.COINCIDENT:Es.PARALLEL)}function zZ(n,e){const r=(e.y2-e.y1)*(n.x2-n.x1)-(e.x2-e.x1)*(n.y2-n.y1);if(r){const o=((e.x2-e.x1)*(n.y1-e.y1)-(e.y2-e.y1)*(n.x1-e.x1))/r,s=((n.x2-n.x1)*(n.y1-e.y1)-(n.y2-n.y1)*(n.x1-e.x1))/r;if(0<=o&&o<=1&&0<=s&&s<=1)return o}return Number.POSITIVE_INFINITY}function hR(n,e,t){const i=new Set;return n.width<=0?(i.add(ws.LEFT),i.add(ws.RIGHT)):e<n.x?i.add(ws.LEFT):e>n.x+n.width&&i.add(ws.RIGHT),n.height<=0?(i.add(ws.TOP),i.add(ws.BOTTOM)):t<n.y?i.add(ws.TOP):t>n.y+n.height&&i.add(ws.BOTTOM),i}function UZ(n,e){let t=e.x1,i=e.y1;const r=e.x2,o=e.y2,s=Array.from(hR(n,r,o));if(0===s.length)return!0;let a=hR(n,t,i);for(;0!==a.size;){for(const l of s)if(a.has(l))return!1;if(a.has(ws.RIGHT)||a.has(ws.LEFT)){let l=n.x;a.has(ws.RIGHT)&&(l+=n.width),i+=(l-t)*(o-i)/(r-t),t=l}else{let l=n.y;a.has(ws.BOTTOM)&&(l+=n.height),t+=(l-i)*(r-t)/(o-i),i=l}a=hR(n,t,i)}return!0}function _pt(n,e){let t=Number.POSITIVE_INFINITY,i=0;function r(o,s,a,l){let u=zZ(e,new wa(o,s,a,l));u=Math.abs(u-.5),u>=0&&u<=1&&(i++,u<t&&(t=u))}return r(n.x,n.y,n.x2,n.y),r(n.x,n.y,n.x,n.y2),i>1||(r(n.x,n.y2,n.x2,n.y2),i>1)?t:(r(n.x2,n.y,n.x2,n.y2),0===i?-1:t)}function Ept(n,e){let t=0;const i=dR(n,new wa(e.x,e.y,e.x2,e.y));t+=i.state===Es.POINT?1:0;const r=dR(n,new wa(e.x,e.y,e.x,e.y2));t+=r.state===Es.POINT?1:0;const o=dR(n,new wa(e.x,e.y2,e.x2,e.y2));t+=o.state===Es.POINT?1:0;const s=dR(n,new wa(e.x2,e.y,e.x2,e.y2));return t+=s.state===Es.POINT?1:0,{top:i,left:r,bottom:o,right:s,count:t}}!function(n){n[n.LEFT=0]="LEFT",n[n.TOP=1]="TOP",n[n.RIGHT=2]="RIGHT",n[n.BOTTOM=3]="BOTTOM"}(ws||(ws={}));class hl{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r}get x2(){return this.x+this.width}get y2(){return this.y+this.height}get cx(){return this.x+this.width/2}get cy(){return this.y+this.height/2}get radius(){return Math.max(this.width,this.height)/2}static from(e){return new hl(e.x,e.y,e.width,e.height)}equals(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}clone(){return new hl(this.x,this.y,this.width,this.height)}add(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),r=Math.max(this.x2,e.x+e.width),o=Math.max(this.y2,e.y+e.height);this.x=t,this.y=i,this.width=r-t,this.height=o-i}addPoint(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),r=Math.max(this.x2,e.x),o=Math.max(this.y2,e.y);this.x=t,this.y=i,this.width=r-t,this.height=o-i}toString(){return`Rectangle[x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}]`}draw(e){e.rect(this.x,this.y,this.width,this.height)}containsPt(e,t){return e>=this.x&&e<=this.x2&&t>=this.y&&t<=this.y2}get area(){return this.width*this.height}intersects(e){return!(this.area<=0||e.width<=0||e.height<=0)&&e.x+e.width>this.x&&e.y+e.height>this.y&&e.x<this.x2&&e.y<this.y2}distSquare(e,t){if(this.containsPt(e,t))return 0;const i=hR(this,e,t);return i.has(ws.TOP)?i.has(ws.LEFT)?Mg(e,t,this.x,this.y):i.has(ws.RIGHT)?Mg(e,t,this.x2,this.y):(this.y-t)*(this.y-t):i.has(ws.BOTTOM)?i.has(ws.LEFT)?Mg(e,t,this.x,this.y2):i.has(ws.RIGHT)?Mg(e,t,this.x2,this.y2):(t-this.y2)*(t-this.y2):i.has(ws.LEFT)?(this.x-e)*(this.x-e):i.has(ws.RIGHT)?(e-this.x2)*(e-this.x2):0}}class fR{constructor(e,t,i){this.cx=e,this.cy=t,this.radius=i}get x(){return this.cx-this.radius}get x2(){return this.cx+this.radius}get width(){return 2*this.radius}get y(){return this.cy-this.radius}get y2(){return this.cy+this.radius}get height(){return 2*this.radius}static from(e){return new fR(e.cx,e.cy,e.radius)}containsPt(e,t){return Mg(this.cx,this.cy,e,t)<this.radius*this.radius}distSquare(e,t){const i=Mg(this.cx,this.cy,e,t);if(i<this.radius*this.radius)return 0;const r=Math.sqrt(i)-this.radius;return r*r}draw(e){e.ellipse(this.cx,this.cy,this.radius,this.radius,0,0,2*Math.PI)}}class iy{constructor(e,t=0,i=0,r=0,o=0,s=10,a=10,l=new Float32Array(Math.max(0,s*a)).fill(0)){this.pixelGroup=e,this.i=t,this.j=i,this.pixelX=r,this.pixelY=o,this.width=s,this.height=a,this.area=l}createSub(e,t){return new iy(this.pixelGroup,e.x,e.y,t.x,t.y,e.width,e.height)}static fromPixelRegion(e,t){return new iy(t,0,0,e.x,e.y,Math.ceil(e.width/t),Math.ceil(e.height/t))}copy(e,t){return new iy(this.pixelGroup,this.scaleX(t.x),this.scaleY(t.y),t.x,t.y,e.width,e.height,e.area)}boundX(e){return e<this.i?this.i:e>=this.width?this.width-1:e}boundY(e){return e<this.j?this.j:e>=this.height?this.height-1:e}scaleX(e){return this.boundX(Math.floor((e-this.pixelX)/this.pixelGroup))}scaleY(e){return this.boundY(Math.floor((e-this.pixelY)/this.pixelGroup))}scale(e){const t=this.scaleX(e.x),i=this.scaleY(e.y),r=this.boundX(Math.ceil((e.x+e.width-this.pixelX)/this.pixelGroup)),o=this.boundY(Math.ceil((e.y+e.height-this.pixelY)/this.pixelGroup));return new hl(t,i,r-t,o-i)}invertScaleX(e){return Math.round(e*this.pixelGroup+this.pixelX)}invertScaleY(e){return Math.round(e*this.pixelGroup+this.pixelY)}addPadding(e,t){const i=Math.ceil(t/this.pixelGroup),r=this.boundX(e.x-i),o=this.boundY(e.y-i),s=this.boundX(e.x2+i),a=this.boundY(e.y2+i);return new hl(r,o,s-r,a-o)}get(e,t){return e<0||t<0||e>=this.width||t>=this.height?Number.NaN:this.area[e+t*this.width]}inc(e,t,i){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]+=i)}set(e,t,i){e<0||t<0||e>=this.width||t>=this.height||(this.area[e+t*this.width]=i)}incArea(e,t){if(e.width<=0||e.height<=0||0===t)return;const i=this.width,r=e.width,o=Math.max(0,e.i),s=Math.max(0,e.j),a=Math.min(e.i+e.width,i),l=Math.min(e.j+e.height,this.height);if(!(l<=0||a<=0||o>=i||l>=this.height))for(let u=s;u<l;u++){const h=(u-e.j)*r,p=u*i;for(let v=o;v<a;v++){const y=e.area[v-e.i+h];0!==y&&(this.area[v+p]+=t*y)}}}fill(e){this.area.fill(e)}fillArea(e,t){const i=e.x+e.y*this.width;for(let r=0;r<e.height;r++){const o=i+r*this.width;this.area.fill(t,o,o+e.width)}}fillHorizontalLine(e,t,i,r){const o=e+t*this.width;this.area.fill(r,o,o+i)}fillVerticalLine(e,t,i,r){const o=e+t*this.width;for(let s=0;s<i;s++)this.area[o+s*this.width]=r}clear(){this.area.fill(0)}toString(){let e="";for(let t=0;t<this.height;t++){const i=t*this.width;for(let r=0;r<this.width;r++)e+=this.area[i+r].toFixed(1).padStart(6),e+=" ";e+="\n"}return e}draw(e,t=!0){if(this.width<=0||this.height<=0)return;e.save(),t&&e.translate(this.pixelX,this.pixelY);const i=this.area.reduce((s,a)=>Math.min(s,a),Number.POSITIVE_INFINITY),r=this.area.reduce((s,a)=>Math.max(s,a),Number.NEGATIVE_INFINITY),o=s=>(s-i)/(r-i);e.scale(this.pixelGroup,this.pixelGroup);for(let s=0;s<this.width;s++)for(let a=0;a<this.height;a++)e.fillStyle=`rgba(0, 0, 0, ${o(this.area[s+a*this.width])})`,e.fillRect(s,a,1,1);e.restore()}drawThreshold(e,t,i=!0){if(!(this.width<=0||this.height<=0)){e.save(),i&&e.translate(this.pixelX,this.pixelY),e.scale(this.pixelGroup,this.pixelGroup);for(let r=0;r<this.width;r++)for(let o=0;o<this.height;o++)e.fillStyle=this.area[r+o*this.width]>t?"black":"white",e.fillRect(r,o,1,1);e.restore()}}}function GZ(n,e){const t=i=>({x:i.x-e,y:i.y-e,width:i.width+2*e,height:i.height+2*e});return Array.isArray(n)?n.map(t):t(n)}function HZ(n,e,t){return $Z(Object.assign(VZ(n),{distSquare:(i,r)=>qV(n.x1,n.y1,n.x2,n.y2,i,r)}),e,t)}function $Z(n,e,t){const i=GZ(n,t),r=e.scale(i),o=e.createSub(r,i);return function xpt(n,e,t,i){const r=t*t;for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const u=i(e.invertScaleX(n.i+s),e.invertScaleY(n.j+o));if(0!==u){if(u<r){const h=t-Math.sqrt(u);n.set(s,o,h*h)}}else n.set(s,o,r)}}(o,e,t,(s,a)=>n.distSquare(s,a)),o}function Yo(n,e){return{x:n,y:e}}function pR(n,e){return e.some(t=>t.containsPt(n.x,n.y))}function Sg(n,e){return e.some(t=>!(!jZ(t.x1,t.y1,n.x,n.y,.001)&&!jZ(t.x2,t.y2,n.x,n.y,.001)))}function WZ(n,e){let t=Number.POSITIVE_INFINITY,i=null;for(const r of n){if(!UZ(r,e))continue;const o=_pt(r,e);o>=0&&o<t&&(i=r,t=o)}return i}function mR(n,e,t,i){const r=t.top,o=t.left,s=t.bottom,a=t.right;if(i){if(o.state===Es.POINT)return r.state===Es.POINT?Yo(n.x-e,n.y-e):s.state===Es.POINT?Yo(n.x-e,n.y2+e):n.width*(.5*(o.y-n.y+(a.y-n.y)))<n.width*n.height*.5?Yo(o.y>a.y?n.x-e:n.x2+e,n.y-e):Yo(o.y<a.y?n.x-e:n.x2+e,n.y2+e);if(a.state===Es.POINT){if(r.state===Es.POINT)return Yo(n.x2+e,n.y-e);if(s.state===Es.POINT)return Yo(n.x2+e,n.y2+e)}return n.height*(.5*(r.x-n.x+(a.x-n.x)))<n.height*n.width*.5?Yo(n.x-e,r.x>s.x?n.y-e:n.y2+e):Yo(n.x2+e,r.x<s.x?n.y-e:n.y2+e)}if(o.state===Es.POINT)return r.state===Es.POINT?Yo(n.x2+e,n.y2+e):s.state===Es.POINT?Yo(n.x2+e,n.y-e):n.width*(.5*(o.y-n.y+(a.y-n.y)))<n.height*n.width*.5?Yo(o.y>a.y?n.x2+e:n.x-e,n.y2+e):Yo(o.y<a.y?n.x2+e:n.x-e,n.y-e);if(a.state===Es.POINT){if(r.state===Es.POINT)return Yo(n.x-e,n.y2+e);if(s.state===Es.POINT)return Yo(n.x-e,n.y-e)}return n.height*(.5*(r.x-n.x+(a.x-n.x)))<n.height*n.width*.5?Yo(n.x2+e,r.x>s.x?n.y2+e:n.y-e):Yo(n.x-e,r.x<s.x?n.y2+e:n.y-e)}function Ipt(n,e,t,i){if(!(n.closed?t<n.length:t<n.length-1))return!1;const r=n.get(e),o=n.get(t+1);for(let s=e+1;s<=t;s++){const a=n.get(s);if(qV(r.x,r.y,o.x,o.y,a.x,a.y)>i)return!1}return!0}function Ppt(n,e){switch(n){case-2:return(((3-e)*e-3)*e+1)/6;case-1:return((3*e-6)*e*e+4)/6;case 0:return(((-3*e+3)*e+3)*e+1)/6;case 1:return e*e*e/6;default:throw new Error("unknown error")}}class T1{constructor(e=[],t=!0){this.points=e,this.closed=t}get(e){const t=e,i=this.points.length;return e<0?this.closed?this.get(e+i):this.points[0]:e>=i?this.closed?this.get(e-i):this.points[i-1]:this.points[t]}get length(){return this.points.length}toString(e=1/0){const t=this.points;if(0===t.length)return"";const i="function"==typeof e?e:function ypt(n){if(!Number.isFinite(n))return t=>t;if(0===n)return Math.round;const e=Math.pow(10,n);return t=>Math.round(t*e)/e}(e);let r="M";for(const o of t)r+=`${i(o.x)},${i(o.y)} L`;return r=r.slice(0,-1),this.closed&&(r+=" Z"),r}draw(e){const t=this.points;if(0!==t.length){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(const i of t)e.lineTo(i.x,i.y);this.closed&&e.closePath()}}sample(e){return function Lpt(n=8){return e=>{let t=n,i=e.length;if(t>1)for(i=Math.floor(e.length/t);i<3&&t>1;)t-=1,i=Math.floor(e.length/t);const r=[];for(let o=0,s=0;s<i;s++,o+=t)r.push(e.get(o));return new T1(r)}}(e)(this)}simplify(e){return function Rpt(n=0){return e=>{if(n<0||e.length<3)return e;const t=[];let i=0;const r=n*n;for(;i<e.length;){let o=i+1;for(;Ipt(e,i,o,r);)o++;t.push(e.get(i)),i=o}return new T1(t)}}(e)(this)}bSplines(e){return function Npt(n=6){function e(t,i,r){let o=0,s=0;for(let a=-2;a<=1;a++){const l=t.get(i+a),u=Ppt(a,r);o+=u*l.x,s+=u*l.y}return{x:o,y:s}}return t=>{if(t.length<3)return t;const i=[],r=t.closed,o=t.length+3-1+(r?0:2);i.push(e(t,2-(r?0:2),0));for(let s=2-(r?0:2);s<o;s++)for(let a=1;a<=n;a++)i.push(e(t,s,a/n));return new T1(i)}}(e)(this)}apply(e){return e(this)}containsElements(e){const t=function wpt(n){if(0===n.length)return null;const e=n[0],t=new hl(e.x,e.y,0,0);for(const i of n)t.addPoint(i);return t}(this.points);return!!t&&e.every(i=>t.containsPt(i.cx,i.cy)&&this.withinArea(i.cx,i.cy))}withinArea(e,t){if(0===this.length)return!1;let i=0;const r=this.points[0],o=new wa(r.x,r.y,r.x,r.y);for(let s=1;s<this.points.length;s++){const a=this.points[s];o.x1=o.x2,o.y1=o.y2,o.x2=a.x,o.y2=a.y,o.cuts(e,t)&&i++}return o.x1=o.x2,o.y1=o.y2,o.x2=r.x,o.y2=r.y,o.cuts(e,t)&&i++,i%2==1}}class Fpt{constructor(e=0){this.count=0,this.arr=[],this.set=new Set,this.arr.length=e}add(e){this.set.add(`${e.x}x${e.y}`),this.arr[this.count++]=e}contains(e){return this.set.has(`${e.x}x${e.y}`)}isFirst(e){if(0===this.count)return!1;const t=this.arr[0];return null!=t&&t.x===e.x&&t.y===e.y}path(){return new T1(this.arr.slice(0,this.count))}clear(){this.set.clear(),this.count=0}get(e){return this.arr[e]}get length(){return this.count}}function Bpt(n,e){const t=2*(Math.floor(n.width)+Math.floor(n.height)),i=new Fpt(t);function r(l,u,h,p){const v=n.get(l,u);return Number.isNaN(v)?Number.NaN:v>e?h+p:h}function o(l,u){let h=0;return h=r(l,u,h,1),h=r(l+1,u,h,2),h=r(l,u+1,h,4),h=r(l+1,u+1,h,8),Number.isNaN(h)?-1:h}let s=1;function a(l,u){let h=l,p=u,v=n.invertScaleX(h),y=n.invertScaleY(p);for(let b=0;b<n.width*n.height;b++){const E={x:v,y};if(i.contains(E)){if(i.isFirst(E))return!0}else i.add(E);const w=o(h,p);switch(w){case-1:return!0;case 0:case 3:case 2:case 7:s=2;break;case 12:case 14:case 4:s=3;break;case 6:s=0===s?3:2;break;case 1:case 13:case 5:s=0;break;case 9:s=2===s?0:1;break;case 10:case 8:case 11:s=1;break;default:return console.warn("Marching squares invalid state: "+w),!0}switch(s){case 0:p--,y-=n.pixelGroup;break;case 1:p++,y+=n.pixelGroup;break;case 3:h--,v-=n.pixelGroup;break;case 2:h++,v+=n.pixelGroup;break;default:return console.warn("Marching squares invalid state: "+w),!0}}return!0}for(let l=0;l<n.width;l++)for(let u=0;u<n.height;u++){if(n.get(l,u)<=e)continue;const h=o(l,u);if(!(h<0||15===h)&&a(l,u))return i.path()}return null}const yR={maxRoutingIterations:100,maxMarchingIterations:20,pixelGroup:4,edgeR0:10,edgeR1:20,nodeR0:15,nodeR1:50,morphBuffer:10,threshold:1,memberInfluenceFactor:1,edgeInfluenceFactor:1,nonMemberInfluenceFactor:-.8,virtualEdges:!0};function BC(n){return null!=n&&"number"==typeof n.radius}function KZ(n,e){return BC(n)===BC(e)&&(BC(n)?n.cx===e.cx&&n.cy===e.cy&&n.radius===e.radius:n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height)}var jd;!function(n){n[n.MEMBERS=0]="MEMBERS",n[n.NON_MEMBERS=1]="NON_MEMBERS",n[n.EDGES=2]="EDGES"}(jd||(jd={}));let XZ=class{constructor(n={}){this.dirty=new Set,this.members=[],this.nonMembers=[],this.virtualEdges=[],this.edges=[],this.activeRegion=new hl(0,0,0,0),this.potentialArea=new iy(1,0,0,0,0,0,0),this.o=Object.assign({},yR,n)}pushMember(...n){if(0!==n.length){this.dirty.add(jd.MEMBERS);for(const e of n)this.members.push({raw:e,obj:BC(e)?fR.from(e):hl.from(e),area:null})}}removeMember(n){const e=this.members.findIndex(t=>KZ(t.raw,n));return!(e<0||(this.members.splice(e,1),this.dirty.add(jd.MEMBERS),0))}removeNonMember(n){const e=this.nonMembers.findIndex(t=>KZ(t.raw,n));return!(e<0||(this.nonMembers.splice(e,1),this.dirty.add(jd.NON_MEMBERS),0))}removeEdge(n){const e=this.edges.findIndex(t=>t.obj.equals(n));return!(e<0||(this.edges.splice(e,1),this.dirty.add(jd.NON_MEMBERS),0))}pushNonMember(...n){if(0!==n.length){this.dirty.add(jd.NON_MEMBERS);for(const e of n)this.nonMembers.push({raw:e,obj:BC(e)?fR.from(e):hl.from(e),area:null})}}pushEdge(...n){if(0!==n.length){this.dirty.add(jd.EDGES);for(const e of n)this.edges.push({raw:e,obj:wa.from(e),area:null})}}update(){const n=this.dirty.has(jd.MEMBERS),e=this.dirty.has(jd.NON_MEMBERS);let t=this.dirty.has(jd.EDGES);this.dirty.clear();const i=this.members.map(l=>l.obj);if(this.o.virtualEdges&&(n||e)){const u=function Mpt(n,e,t,i){if(0===n.length)return[];const r=function Apt(n){if(n.length<2)return n;let e=0,t=0;return n.forEach(i=>{e+=i.cx,t+=i.cy}),e/=n.length,t/=n.length,n.map(i=>{const r=e-i.cx,o=t-i.cy;return[i,r*r+o*o]}).sort((i,r)=>i[1]-r[1]).map(i=>i[0])}(n);return r.map((o,s)=>{const a=r.slice(0,s);return function Spt(n,e,t,i,r){const o=Yo(e.cx,e.cy),s=function Tpt(n,e,t){let i=Number.POSITIVE_INFINITY;return e.reduce((r,o)=>{const s=Mg(n.x,n.y,o.cx,o.cy);if(s>i)return r;const a=new wa(n.x,n.y,o.cx,o.cy),l=function kpt(n,e){return n.reduce((t,i)=>UZ(i,e)&&function bpt(n,e){function t(r,o,s,a){let l=zZ(e,new wa(r,o,s,a));return l=Math.abs(l-.5),l>=0&&l<=1?1:0}let i=t(n.x,n.y,n.x2,n.y);return i+=t(n.x,n.y,n.x,n.y2),i>1||(i+=t(n.x,n.y2,n.x2,n.y2),i>1)||(i+=t(n.x2,n.y,n.x2,n.y2),i>0)}(i,e)?t+1:t,0)}(t,a);return s*(l+1)*(l+1)<i&&(r=o,i=s*(l+1)*(l+1)),r},null)}(o,t,n);if(null==s)return[];const l=function Dpt(n,e,t,i){const r=[],o=[];o.push(n);let s=!0;for(let a=0;a<t&&s;a++)for(s=!1;!s&&o.length>0;){const l=o.pop(),u=WZ(e,l),h=u?Ept(l,u):null;if(!u||!h||2!==h.count){s||r.push(l);continue}let p=i,v=mR(u,p,h,!0),y=Sg(v,o)||Sg(v,r),b=pR(v,e);for(;!y&&b&&p>=1;)p/=1.5,v=mR(u,p,h,!0),y=Sg(v,o)||Sg(v,r),b=pR(v,e);if(v&&!y&&!b&&(o.push(new wa(l.x1,l.y1,v.x,v.y)),o.push(new wa(v.x,v.y,l.x2,l.y2)),s=!0),s)continue;p=i,v=mR(u,p,h,!1);let E=Sg(v,o)||Sg(v,r);for(b=pR(v,e);!E&&b&&p>=1;)p/=1.5,v=mR(u,p,h,!1),E=Sg(v,o)||Sg(v,r),b=pR(v,e);v&&!E&&(o.push(new wa(l.x1,l.y1,v.x,v.y)),o.push(new wa(v.x,v.y,l.x2,l.y2)),s=!0),s||r.push(l)}for(;o.length>0;)r.push(o.pop());return r}(new wa(o.x,o.y,s.cx,s.cy),n,i,r);return function Opt(n,e){const t=[];for(;n.length>0;){const i=n.pop();if(0===n.length){t.push(i);break}const r=n.pop(),o=new wa(i.x1,i.y1,r.x2,r.y2);WZ(e,o)?(t.push(i),n.push(r)):n.push(o)}return t}(l,n)}(e,o,a,t,i)}).flat()}(i,this.nonMembers.map(p=>p.obj),this.o.maxRoutingIterations,this.o.morphBuffer),h=new Map(this.virtualEdges.map(p=>[p.obj.toString(),p.area]));this.virtualEdges=u.map(p=>{var v;return{raw:p,obj:p,area:null!==(v=h.get(p.toString()))&&void 0!==v?v:null}}),t=!0}let r=!1;if(n||t){const u=function Vpt(n,e){if(0===n.length)return new hl(0,0,0,0);const t=hl.from(n[0]);for(const i of n)t.add(i);for(const i of e)t.add(VZ(i));return t}(i,this.virtualEdges.concat(this.edges).map(v=>v.obj)),h=Math.max(this.o.edgeR1,this.o.nodeR1)+this.o.morphBuffer,p=hl.from(GZ(u,h));p.equals(this.activeRegion)||(r=!0,this.activeRegion=p)}if(r){const l=Math.ceil(this.activeRegion.width/this.o.pixelGroup),u=Math.ceil(this.activeRegion.height/this.o.pixelGroup);this.activeRegion.x!==this.potentialArea.pixelX||this.activeRegion.y!==this.potentialArea.pixelY?(this.potentialArea=iy.fromPixelRegion(this.activeRegion,this.o.pixelGroup),this.members.forEach(h=>h.area=null),this.nonMembers.forEach(h=>h.area=null),this.edges.forEach(h=>h.area=null),this.virtualEdges.forEach(h=>h.area=null)):(l!==this.potentialArea.width||u!==this.potentialArea.height)&&(this.potentialArea=iy.fromPixelRegion(this.activeRegion,this.o.pixelGroup))}const o=new Map,s=l=>{l.area&&o.set(`${l.obj.width}x${l.obj.height}x${l.obj instanceof hl?"R":"C"}`,l.area)},a=l=>{if(l.area)return;const u=`${l.obj.width}x${l.obj.height}x${l.obj instanceof hl?"R":"C"}`;if(o.has(u)){const p=o.get(u);return void(l.area=this.potentialArea.copy(p,{x:l.obj.x-this.o.nodeR1,y:l.obj.y-this.o.nodeR1}))}const h=l.obj instanceof hl?function Cpt(n,e,t){const i=e.scale(n),r=e.addPadding(i,t),o=e.createSub(r,{x:n.x-t,y:n.y-t}),s=i.x-r.x,a=i.y-r.y,l=r.x2-i.x2,u=r.y2-i.y2,h=r.width-s-l,p=r.height-a-u,v=t*t;o.fillArea({x:s,y:a,width:h+1,height:p+1},v);const y=[0],b=Math.max(a,s,l,u);{const C=e.invertScaleX(i.x+i.width/2);for(let D=1;D<b;D++){const k=e.invertScaleY(i.y-D),T=n.distSquare(C,k);if(!(T<v))break;{const I=t-Math.sqrt(T);y.push(I*I)}}}const E=[],w=Math.max(s,l),S=Math.max(a,l);for(let C=1;C<w;C++){const D=e.invertScaleX(i.x-C),k=[];for(let T=1;T<S;T++){const I=e.invertScaleY(i.y-T),F=n.distSquare(D,I);if(F<v){const z=t-Math.sqrt(F);k.push(z*z)}else k.push(0)}E.push(k)}for(let C=1;C<Math.min(a,y.length);C++)o.fillHorizontalLine(s,a-C,h+1,y[C]);for(let C=1;C<Math.min(u,y.length);C++)o.fillHorizontalLine(s,a+p+C,h+1,y[C]);for(let C=1;C<Math.min(s,y.length);C++)o.fillVerticalLine(s-C,a,p+1,y[C]);for(let C=1;C<Math.min(u,y.length);C++)o.fillVerticalLine(s+h+C,a,p+1,y[C]);for(let C=1;C<s;C++){const D=E[C-1],k=s-C;for(let T=1;T<a;T++)o.set(k,a-T,D[T-1]);for(let T=1;T<u;T++)o.set(k,a+p+T,D[T-1])}for(let C=1;C<l;C++){const D=E[C-1],k=s+h+C;for(let T=1;T<a;T++)o.set(k,a-T,D[T-1]);for(let T=1;T<u;T++)o.set(k,a+p+T,D[T-1])}return o}(l.obj,this.potentialArea,this.o.nodeR1):$Z(l.obj,this.potentialArea,this.o.nodeR1);l.area=h,o.set(u,h)};this.members.forEach(s),this.nonMembers.forEach(s),this.members.forEach(a),this.nonMembers.forEach(l=>{this.activeRegion.intersects(l.obj)?a(l):l.area=null}),this.edges.forEach(l=>{l.area||(l.area=HZ(l.obj,this.potentialArea,this.o.edgeR1))}),this.virtualEdges.forEach(l=>{l.area||(l.area=HZ(l.obj,this.potentialArea,this.o.edgeR1))})}drawMembers(n){for(const e of this.members)e.obj.draw(n)}drawNonMembers(n){for(const e of this.nonMembers)e.obj.draw(n)}drawEdges(n){for(const e of this.edges)e.obj.draw(n)}drawPotentialArea(n,e=!0){this.potentialArea.draw(n,e)}compute(){if(0===this.members.length)return new T1([]);this.dirty.size>0&&this.update();const{o:n,potentialArea:e}=this,t=this.members.map(s=>s.area),i=this.virtualEdges.concat(this.edges).map(s=>s.area),r=this.nonMembers.filter(s=>null!=s.area).map(s=>s.area),o=this.members.map(s=>s.obj);return function jpt(n,e,t,i,r,o={}){const s=Object.assign({},yR,o);let a=s.threshold,l=s.memberInfluenceFactor,u=s.edgeInfluenceFactor,h=s.nonMemberInfluenceFactor;const p=(s.nodeR0-s.nodeR1)*(s.nodeR0-s.nodeR1),v=(s.edgeR0-s.edgeR1)*(s.edgeR0-s.edgeR1);for(let y=0;y<s.maxMarchingIterations;y++){if(n.clear(),0!==l){const E=l/p;for(const w of e)n.incArea(w,E)}if(0!==u){const E=u/v;for(const w of t)n.incArea(w,E)}if(0!==h){const E=h/p;for(const w of i)n.incArea(w,E)}const b=Bpt(n,a);if(b&&r(b))return b;if(a*=.95,y<=.5*s.maxMarchingIterations)l*=1.2,u*=1.2;else{if(!(0!==h&&i.length>0))break;h*=.8}}return new T1([])}(e,t,i,r,s=>s.containsElements(o),n)}};class bR extends $s{constructor(e,t){super(e,ya({},bR.defaultOptions,t)),this.members=new Map,this.avoidMembers=new Map,this.bubbleSetOptions={},this.drawBubbleSets=()=>{const{style:i,bubbleSetOptions:r}=this.parseOptions();Po(this.bubbleSetOptions,r)||this.init(),this.bubbleSetOptions=Object.assign({},r);const o=Object.assign(Object.assign({},i),{d:this.getPath()});this.shape?this.shape.update(o):(this.shape=new P2({style:o}),this.context.canvas.appendChild(this.shape))},this.updateBubbleSetsPath=i=>{if(!this.shape)return;const r=Ge(i.data);[...this.options.members,...this.options.avoidMembers].includes(r)&&this.shape.update(Object.assign(Object.assign({},this.parseOptions().style),{d:this.getPath(r)}))},this.getPath=i=>{const{graph:r}=this.context,o=this.options.members,s=[...this.members.keys()],a=this.options.avoidMembers,l=[...this.avoidMembers.keys()];if(!i&&Po(o,s)&&Po(a,l))return this.path;const{enter:u=[],exit:h=[]}=op(s,o,E=>E),{enter:p=[],exit:v=[]}=op(l,a,E=>E);i&&(h.push(i),u.push(i));const y=(E,w,S)=>{E.forEach(C=>{const D=S?this.members:this.avoidMembers,k=S?"pushMember":"pushNonMember",T=S?"removeMember":"removeNonMember";if(w){let I;"edge"===r.getElementType(C)?([I]=Gpt(r,C),this.bubbleSets.pushEdge(I)):([I]=Upt(r,C),this.bubbleSets[k](I)),D.set(C,I)}else{const I=D.get(C);I&&("edge"===r.getElementType(C)?this.bubbleSets.removeEdge(I):this.bubbleSets[T](I),D.delete(C))}})};y(h,!1,!0),y(u,!0,!0),y(v,!1,!1),y(p,!0,!1);const b=this.bubbleSets.compute().sample(8).simplify(0).bSplines().simplify(0);return this.path=R2(b.points.map(sa)),this.path},this.bindEvents(),this.bubbleSets=new XZ(this.options)}bindEvents(){this.context.graph.on(An.AFTER_RENDER,this.drawBubbleSets),this.context.graph.on(An.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath)}init(){this.bubbleSets=new XZ(this.options),this.members=new Map,this.avoidMembers=new Map}parseOptions(){const e=this.options,{type:t,key:i,members:r,avoidMembers:o}=e,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["type","key","members","avoidMembers"]),a=Object.keys(s).reduce((l,u)=>(u in yR?l.bubbleSetOptions[u]=s[u]:l.style[u]=s[u],l),{style:{},bubbleSetOptions:{}});return Object.assign({type:t,key:i,members:r,avoidMembers:o},a)}addMember(e){const t=Array.isArray(e)?e:[e];t.some(i=>this.options.avoidMembers.includes(i))&&(this.options.avoidMembers=this.options.avoidMembers.filter(i=>!t.includes(i))),this.options.members=[...new Set([...this.options.members,...t])],this.drawBubbleSets()}removeMember(e){const t=Array.isArray(e)?e:[e];this.options.members=this.options.members.filter(i=>!t.includes(i)),this.drawBubbleSets()}updateMember(e){this.options.members=$n(e)?e(this.options.members):e,this.drawBubbleSets()}getMember(){return this.options.members}addAvoidMember(e){const t=Array.isArray(e)?e:[e];t.some(i=>this.options.members.includes(i))&&(this.options.members=this.options.members.filter(i=>!t.includes(i))),this.options.avoidMembers=[...new Set([...this.options.avoidMembers,...t])],this.drawBubbleSets()}removeAvoidMember(e){const t=Array.isArray(e)?e:[e];this.options.avoidMembers.some(i=>t.includes(i))&&(this.options.avoidMembers=this.options.avoidMembers.filter(i=>!t.includes(i)),this.drawBubbleSets())}updateAvoidMember(e){this.options.avoidMembers=Array.isArray(e)?e:[e],this.drawBubbleSets()}getAvoidMember(){return this.options.avoidMembers}destroy(){this.context.graph.off(An.AFTER_RENDER,this.drawBubbleSets),this.context.graph.off(An.AFTER_ELEMENT_UPDATE,this.updateBubbleSetsPath),this.shape.destroy(),super.destroy()}}bR.defaultOptions=Object.assign({members:[],avoidMembers:[],fill:"lightblue",fillOpacity:.2,stroke:"blue",strokeOpacity:.2},yR);const Upt=(n,e)=>(Array.isArray(e)?e:[e]).map(t=>{const i=n.getElementRenderBounds(t);return new hl(i.min[0],i.min[1],Vc(i),ul(i))}),Gpt=(n,e)=>(Array.isArray(e)?e:[e]).map(t=>{const i=n.getEdgeData(t),r=n.getElementPosition(i.source),o=n.getElementPosition(i.target);return wa.from({x1:r[0],y1:r[1],x2:o[0],y2:o[1]})});var YZ=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let Wpt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.targetElement=null,this.onTriggerEvent=r=>{var o;null===(o=r.preventDefault)||void 0===o||o.call(r),this.show(r)},this.onMenuItemClick=r=>{const{onClick:o,trigger:s}=this.options;if(r.target instanceof HTMLElement&&r.target.className.includes("g6-contextmenu-li")){const a=r.target.getAttribute("value");o?.(a,r.target,this.targetElement),this.hide()}"click"!==s&&this.hide()},this.initElement(),this.update(i)}initElement(){this.$element=LC("contextmenu",!1,{zIndex:"99"});const{className:t}=this.options;t&&this.$element.classList.add(t),this.context.canvas.getContainer().appendChild(this.$element),QV("g6-contextmenu-css","style",{},"\n  .g6-contextmenu {\n    font-size: 12px;\n    background-color: rgba(255, 255, 255, 0.96);\n    border-radius: 4px;\n    overflow: hidden;\n    box-shadow: rgba(0, 0, 0, 0.12) 0px 6px 12px 0px;\n    transition: visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1) 0s, left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s;\n  }\n\n  .g6-contextmenu-ul {\n    max-width: 256px;\n    min-width: 96px;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .g6-contextmenu-li {\n    padding: 8px 12px;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .g6-contextmenu-li:hover {\n    background-color: #f5f5f5;\n    cursor: pointer;\n  }\n",document.head)}show(t){return YZ(this,void 0,void 0,function*(){const{enable:i,offset:r}=this.options;if("function"==typeof i&&!i(t)||!i)return void this.hide();const o=yield this.getDOMContent(t);o instanceof HTMLElement?(this.$element.innerHTML="",this.$element.appendChild(o)):this.$element.innerHTML=o;const s=this.context.graph.getCanvas().getContainer().getBoundingClientRect();this.$element.style.left=`${t.client.x-s.left+r[0]}px`,this.$element.style.top=`${t.client.y-s.top+r[1]}px`,this.$element.style.display="block",this.targetElement=t.target})}hide(){this.$element.style.display="none",this.targetElement=null}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),super.destroy(),this.$element.remove()}getDOMContent(t){return YZ(this,void 0,void 0,function*(){const{getContent:i,getItems:r}=this.options;return r?function Hpt(n){return`\n    <ul class="g6-contextmenu-ul">\n      ${n.map(e=>`<li  class="g6-contextmenu-li" value="${e.value}">${e.name}</li>`).join("")}\n    </ul>\n  `}(yield r(t)):yield i(t)})}bindEvents(){const{graph:t}=this.context,{trigger:i}=this.options;t.on(`canvas:${i}`,this.onTriggerEvent),t.on(`node:${i}`,this.onTriggerEvent),t.on(`edge:${i}`,this.onTriggerEvent),t.on(`combo:${i}`,this.onTriggerEvent),document.addEventListener("click",this.onMenuItemClick)}unbindEvents(){const{graph:t}=this.context,{trigger:i}=this.options;t.off(`canvas:${i}`,this.onTriggerEvent),t.off(`node:${i}`,this.onTriggerEvent),t.off(`edge:${i}`,this.onTriggerEvent),t.off(`combo:${i}`,this.onTriggerEvent),document.removeEventListener("click",this.onMenuItemClick)}}return n.defaultOptions={trigger:"contextmenu",offset:[4,4],loadingContent:'<div class="g6-contextmenu-loading">Loading...</div>',getContent:()=>"It is a empty context menu.",enable:()=>!0},n})(),Kpt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.edgeBundles={},this.edgePoints={},this.onBundle=()=>{const{model:r,element:o}=this.context,s=r.getEdgeData();this.divideEdges(this.options.divisions);const{cycles:a,iterRate:l,divRate:u}=this.options;let{lambda:h,divisions:p,iterations:v}=this.options;for(let y=0;y<a;y++){for(let b=0;b<v;b++){const E={};s.forEach(w=>{var S;if(w.source===w.target)return;const C=Ge(w);E[C]=this.getEdgeForces(w,p,h);for(let D=0;D<p+1;D++)(S=this.edgePoints)[C]||(S[C]=[]),this.edgePoints[C][D]=Qi(this.edgePoints[C][D],E[C][D])})}h/=2,p*=u,v*=l,this.divideEdges(p)}s.forEach(y=>{const b=Ge(y),E=o.getElement(b);E?.update({d:V0(this.edgePoints[b])})})},this.bindEvents()}get nodeMap(){const t=this.context.model.getNodeData();return Object.fromEntries(t.map(i=>[Ge(i),Td(oa(i))]))}divideEdges(t){this.context.model.getEdgeData().forEach(i=>{var r;const o=Ge(i);(r=this.edgePoints)[o]||(r[o]=[]);const s=this.nodeMap[i.source],a=this.nodeMap[i.target];if(1===t)this.edgePoints[o].push(s),this.edgePoints[o].push(fc(Qi(s,a),2)),this.edgePoints[o].push(a);else{const l=(0===this.edgePoints[o].length?bo(s,a):qpt(this.edgePoints[o]))/(t+1);let u=l;const h=[s];for(let p=1;p<this.edgePoints[o].length;p++){const v=this.edgePoints[o][p-1],y=this.edgePoints[o][p];let b=bo(y,v);for(;b>u;){const E=u/b,w=Qi(v,Nu(ro(y,v),E));h.push(w),b-=u,u=l}u-=b}h.push(a),this.edgePoints[o]=h}})}getVectorPosition(t){const i=this.nodeMap[t.source],r=this.nodeMap[t.target],[o,s]=ro(r,i);return{source:i,target:r,vx:o,vy:s,length:bo(i,r)}}measureEdgeCompatibility(t,i){const r=this.getVectorPosition(t),o=this.getVectorPosition(i);return Xpt(r,o)*Ypt(r,o)*Zpt(r,o)*Qpt(r,o)}getEdgeBundles(){const t={},i=this.options.bundleThreshold,r=this.context.model.getEdgeData();return r.forEach((o,s)=>{r.forEach((a,l)=>{var u,h;l<=s||this.measureEdgeCompatibility(o,a)>=i&&(t[u=Ge(o)]||(t[u]=[]),t[Ge(o)].push(a),t[h=Ge(a)]||(t[h]=[]),t[Ge(a)].push(o))})}),t}getSpringForce(t,i){const{pre:r,cur:o,next:s}=t;return Nu(ro(Qi(r,s),Nu(o,2)),i)}getElectrostaticForce(t,i){_u(this.edgeBundles)&&(this.edgeBundles=this.getEdgeBundles());const r=this.edgeBundles[Ge(i)];let o=[0,0];return r?.forEach(s=>{const a=this.edgePoints[Ge(s)][t],l=this.edgePoints[Ge(i)][t],u=ro(a,l),h=bo(a,l);o=Qi(o,Nu(u,1/h))}),o}getEdgeForces(t,i,r){const a=this.options.K/(bo(this.nodeMap[t.source],this.nodeMap[t.target])*(i+1)),l=[[0,0]],u=Ge(t);for(let h=1;h<i;h++){const p=this.getSpringForce({pre:this.edgePoints[u][h-1],cur:this.edgePoints[u][h],next:this.edgePoints[u][h+1]||[0,0]},a),v=this.getElectrostaticForce(h,t);l.push(Nu(Qi(p,v),r))}return l.push([0,0]),l}bindEvents(){const{graph:t}=this.context;t.on(An.AFTER_RENDER,this.onBundle)}unbindEvents(){const{graph:t}=this.context;t.off(An.AFTER_RENDER,this.onBundle)}destroy(){this.unbindEvents(),super.destroy()}}return n.defaultOptions={K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:2/3,bundleThreshold:.6},n})();const Xpt=(n,e)=>Math.abs(function MA(n,e){return n.reduce((t,i,r)=>t+i*e[r],0)}([n.vx,n.vy],[e.vx,e.vy])/(n.length*e.length)),Ypt=(n,e)=>{const t=(n.length+e.length)/2;return 2/(t/Math.min(n.length,e.length)+Math.max(n.length,e.length)/t)},Zpt=(n,e)=>{const t=(n.length+e.length)/2;return t/(t+bo(fc(Qi(n.source,n.target),2),fc(Qi(e.source,e.target),2)))},ZZ=(n,e)=>{if(e.source[0]===e.target[0])return[e.source[0],n[1]];if(e.source[1]===e.target[1])return[n[0],e.source[1]];const t=(e.source[1]-e.target[1])/(e.source[0]-e.target[0]),i=(t*t*e.source[0]+t*(n[1]-e.source[1])+n[0])/(t*t+1);return[i,t*(i-e.source[0])+e.source[1]]},QZ=(n,e)=>{const t=ZZ(e.source,n),i=ZZ(e.target,n),r=fc(Qi(t,i),2),o=fc(Qi(n.source,n.target),2);return 0===bo(t,i)?0:Math.max(0,1-2*bo(o,r)/bo(t,i))},Qpt=(n,e)=>Math.min(QZ(n,e),QZ(e,n)),qpt=n=>{let e=0;for(let t=1;t<n.length;t++)e+=bo(n[t],n[t-1]);return e},Jpt={fill:"#fff",fillOpacity:1,lineWidth:1,stroke:"#000",strokeOpacity:.8};let tmt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.shapes=new Map,this.r=this.options.r,this.onEdgeFilter=r=>{if("drag"===this.options.trigger&&this.isLensOn)return;const o=sa(r.canvas);this.renderLens(o),this.renderFocusElements()},this.renderLens=r=>{const o=Object.assign({},Jpt,this.options.style);this.isLensOn||(this.lens=new Ns({style:o}),this.canvas.appendChild(this.lens)),Object.assign(o,pc(r),{size:2*this.r}),this.lens.update(o)},this.getFilterData=()=>{const{filter:r}=this.options,{model:o}=this.context,s=o.getData();if(!r)return s;const{nodes:a,edges:l,combos:u}=s;return{nodes:a.filter(h=>r(Ge(h),"node")),edges:l.filter(h=>r(Ge(h),"edge")),combos:u.filter(h=>r(Ge(h),"combo"))}},this.getFocusElements=r=>{const{nodes:o,edges:s}=this.getFilterData(),a=o.filter(h=>bo(oa(h),r)<this.r),l=a.map(h=>Ge(h));return{nodes:a,edges:s.filter(h=>{const{source:p,target:v}=h,y=l.includes(p),b=l.includes(v);switch(this.options.nodeType){case"both":return y&&b;case"either":return y!==b;case"source":return y&&!b;case"target":return!y&&b;default:return!1}})}},this.renderFocusElements=()=>{const{element:r,graph:o}=this.context;if(!this.isLensOn)return;const s=this.lens.getCenter(),{nodes:a,edges:l}=this.getFocusElements(s),u=new Set,h=p=>{const v=Ge(p);u.add(v);const y=r.getElement(v);if(!y)return;const b=this.shapes.get(v)||y.cloneNode();b.setPosition(y.getPosition()),b.id=y.id,this.shapes.has(v)?Object.entries(y.attributes).forEach(([S,C])=>{b.style[S]!==C&&(b.style[S]=C)}):(this.canvas.appendChild(b),this.shapes.set(v,b));const E=o.getElementType(v),w=this.getElementStyle(E,p);b.update(w)};a.forEach(h),l.forEach(h),this.shapes.forEach((p,v)=>{u.has(v)||(p.destroy(),this.shapes.delete(v))})},this.scaleRByWheel=r=>{var o;this.options.preventDefault&&r.preventDefault();const{clientX:s,clientY:a,deltaX:l,deltaY:u}=r,{graph:h,canvas:p}=this.context,v=h.getCanvasByClient([s,a]),y=null===(o=this.lens)||void 0===o?void 0:o.getCenter();if(!this.isLensOn||bo(v,y)>this.r)return;const{maxR:b,minR:E}=this.options,w=l+u>0?1/.95:.95,S=Math.min(...p.getSize())/2;this.r=Math.max(E||0,Math.min(b||S,this.r*w)),this.renderLens(y),this.renderFocusElements()},this.isLensDragging=!1,this.onDragStart=r=>{var o;const s=sa(r.canvas),a=null===(o=this.lens)||void 0===o?void 0:o.getCenter();!this.isLensOn||bo(s,a)>this.r||(this.isLensDragging=!0)},this.onDrag=r=>{if(!this.isLensDragging)return;const o=sa(r.canvas);this.renderLens(o),this.renderFocusElements()},this.onDragEnd=()=>{this.isLensDragging=!1},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}getElementStyle(t,i){const r="node"===t?this.options.nodeStyle:this.options.edgeStyle;return"function"==typeof r?r(i):r}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o}=this.options,s=i.getCanvas().getLayer();["click","drag"].includes(r)&&s.addEventListener(pn.CLICK,this.onEdgeFilter),"pointermove"===r?s.addEventListener(pn.POINTER_MOVE,this.onEdgeFilter):"drag"===r&&(s.addEventListener(pn.DRAG_START,this.onDragStart),s.addEventListener(pn.DRAG,this.onDrag),s.addEventListener(pn.DRAG_END,this.onDragEnd)),"wheel"===o&&(null===(t=this.graphDom)||void 0===t||t.addEventListener(pn.WHEEL,this.scaleRByWheel,{passive:!1}))}unbindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o}=this.options,s=i.getCanvas().getLayer();["click","drag"].includes(r)&&s.removeEventListener(pn.CLICK,this.onEdgeFilter),"pointermove"===r?s.removeEventListener(pn.POINTER_MOVE,this.onEdgeFilter):"drag"===r&&(s.removeEventListener(pn.DRAG_START,this.onDragStart),s.removeEventListener(pn.DRAG,this.onDrag),s.removeEventListener(pn.DRAG_END,this.onDragEnd)),"wheel"===o&&(null===(t=this.graphDom)||void 0===t||t.removeEventListener(pn.WHEEL,this.scaleRByWheel))}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.unbindEvents(),this.isLensOn&&this.lens.destroy(),this.shapes.forEach((t,i)=>{t.destroy(),this.shapes.delete(i)}),super.destroy()}}return n.defaultOptions={trigger:"pointermove",r:60,nodeType:"both",filter:()=>!0,style:{lineWidth:2},nodeStyle:{label:!1},edgeStyle:{label:!0},scaleRBy:"wheel",preventDefault:!0},n})();const emt={fill:"#ccc",fillOpacity:.1,lineWidth:2,stroke:"#000",strokeOpacity:.8,labelFontSize:12};let nmt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.r=this.options.r,this.d=this.options.d,this.onCreateFisheye=r=>{if("drag"===this.options.trigger&&this.isLensOn)return;const o=sa(r.canvas);this.onMagnify(o)},this.onMagnify=r=>{r.some(isNaN)||(this.renderLens(r),this.renderFocusElements())},this.renderLens=r=>{const o=Object.assign({},emt,this.options.style);this.isLensOn||(this.lens=new Ns({style:o}),this.canvas.appendChild(this.lens)),Object.assign(o,pc(r),{size:2*this.r,label:this.options.showDPercent,labelText:this.getDPercent()}),this.lens.update(o)},this.getDPercent=()=>{const{minD:r,maxD:o}=this.options;return`${Math.round((this.d-r)/(o-r)*100)}%`},this.prevMagnifiedStyleMap=new Map,this.prevOriginStyleMap=new Map,this.renderFocusElements=()=>{if(!this.isLensOn)return;const{graph:r}=this.context,o=this.lens.getCenter(),s=(this.d+1)*this.r,a=new Map,l=new Map;r.getNodeData().forEach(u=>{const h=oa(u),p=bo(h,o);if(p>this.r)return;const v=s*p/(this.d*p+this.r),[y,b]=h,[E,w]=o,D=[E+v*((y-E)/p),w+v*((b-w)/p)],k=Ge(u),T=this.getNodeStyle(u),I=xh(r.getElementRenderStyle(k),Object.keys(T));a.set(k,Object.assign(Object.assign({},pc(D)),T)),l.set(k,Object.assign(Object.assign({},pc(h)),I))}),this.updateStyle(a,l)},this.getNodeStyle=r=>{const{nodeStyle:o}=this.options;return"function"==typeof o?o(r):o},this.updateStyle=(r,o)=>{const{graph:s,element:a}=this.context,{enter:l,exit:u,keep:h}=op(Array.from(this.prevMagnifiedStyleMap.keys()),Array.from(r.keys()),y=>y),p=new Set,v=(y,b)=>{const E=a.getElement(y);E?.update(b),s.getRelatedEdgesData(y).forEach(w=>{p.add(Ge(w))})};[...l,...h].forEach(y=>{v(y,r.get(y))}),u.forEach(y=>{v(y,this.prevOriginStyleMap.get(y)),this.prevOriginStyleMap.delete(y)}),p.forEach(y=>{const b=a.getElement(y);b?.update({})}),this.prevMagnifiedStyleMap=r,o.forEach((y,b)=>{this.prevOriginStyleMap.has(b)||this.prevOriginStyleMap.set(b,y)})},this.isWheelValid=r=>{if(this.options.preventDefault&&r.preventDefault(),!this.isLensOn)return!1;const{clientX:o,clientY:s}=r;return!(bo(this.context.graph.getCanvasByClient([o,s]),this.lens.getCenter())>this.r)},this.scaleR=r=>{const{maxR:o,minR:s}=this.options,a=r?1/.95:.95,l=Math.min(...this.context.canvas.getSize())/2;this.r=Math.max(s||0,Math.min(o||l,this.r*a))},this.scaleD=r=>{const{maxD:o,minD:s}=this.options;this.d=Math.max(s,Math.min(o,r?this.d+.1:this.d-.1))},this.scaleRByWheel=r=>{if(!this.isWheelValid(r))return;const{deltaX:o,deltaY:s}=r;this.scaleR(o+s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.scaleDByWheel=r=>{if(!this.isWheelValid(r))return;const{deltaX:o,deltaY:s}=r;this.scaleD(o+s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.isDragValid=r=>(this.options.preventDefault&&r.preventDefault(),!!this.isLensOn&&!(bo(sa(r.canvas),this.lens.getCenter())>this.r)),this.isLensDragging=!1,this.onDragStart=r=>{this.isDragValid(r)&&(this.isLensDragging=!0)},this.onDrag=r=>{if(!this.isLensDragging)return;const o=sa(r.canvas);this.onMagnify(o)},this.onDragEnd=()=>{this.isLensDragging=!1},this.scaleRByDrag=r=>{if(!this.isLensDragging)return;const{dx:o,dy:s}=r;this.scaleR(o-s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.scaleDByDrag=r=>{if(!this.isLensDragging)return;const{dx:o,dy:s}=r;this.scaleD(o-s>0);const a=this.lens.getCenter();this.onMagnify(a)},this.bindEvents()}get canvas(){return this.context.canvas.getLayer("transient")}get isLensOn(){return this.lens&&!this.lens.destroyed}get graphDom(){return this.context.graph.getCanvas().getContextService().getDomElement()}bindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o,scaleDBy:s}=this.options,a=i.getCanvas().getLayer();["click","drag"].includes(r)&&a.addEventListener(pn.CLICK,this.onCreateFisheye),"pointermove"===r&&a.addEventListener(pn.POINTER_MOVE,this.onCreateFisheye),("drag"===r||"drag"===o||"drag"===s)&&(a.addEventListener(pn.DRAG_START,this.onDragStart),a.addEventListener(pn.DRAG_END,this.onDragEnd),a.addEventListener(pn.DRAG,"drag"===r?this.onDrag:"drag"===o?this.scaleRByDrag:this.scaleDByDrag)),"wheel"!==o&&"wheel"!==s||null===(t=this.graphDom)||void 0===t||t.addEventListener(pn.WHEEL,"wheel"===o?this.scaleRByWheel:this.scaleDByWheel,{passive:!1})}unbindEvents(){var t;const{graph:i}=this.context,{trigger:r,scaleRBy:o,scaleDBy:s}=this.options,a=i.getCanvas().getLayer();["click","drag"].includes(r)&&a.removeEventListener(pn.CLICK,this.onCreateFisheye),"pointermove"===r&&a.removeEventListener(pn.POINTER_MOVE,this.onCreateFisheye),("drag"===r||"drag"===o||"drag"===s)&&(a.removeEventListener(pn.DRAG_START,this.onDragStart),a.removeEventListener(pn.DRAG_END,this.onDragEnd),a.removeEventListener(pn.DRAG,"drag"===r?this.onDrag:"drag"===o?this.scaleRByDrag:this.scaleDByDrag)),"wheel"!==o&&"wheel"!==s||null===(t=this.graphDom)||void 0===t||t.removeEventListener(pn.WHEEL,"wheel"===o?this.scaleRByWheel:this.scaleDByWheel)}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){var t;this.unbindEvents(),this.isLensOn&&(null===(t=this.lens)||void 0===t||t.destroy()),this.prevMagnifiedStyleMap.clear(),this.prevOriginStyleMap.clear(),super.destroy()}}return n.defaultOptions={trigger:"pointermove",r:120,d:1.5,maxD:5,minD:0,showDPercent:!0,style:{},nodeStyle:{label:!0},preventDefault:!0},n})(),imt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$el=this.context.canvas.getContainer(),this.graphSize=[0,0],this.onFullscreenChange=()=>{var r,o,s,a;const l=!!document.fullscreenElement;this.options.autoFit&&this.setGraphSize(l),l?null===(o=(r=this.options).onEnter)||void 0===o||o.call(r):null===(a=(s=this.options).onExit)||void 0===a||a.call(s)},this.shortcut=new Id(t.graph),this.bindEvents(),this.style=document.createElement("style"),document.head.appendChild(this.style),this.style.innerHTML="\n      :not(:root):fullscreen::backdrop {\n        background: transparent;\n      }\n    "}bindEvents(){this.unbindEvents(),this.shortcut.unbindAll();const{request:t=[],exit:i=[]}=this.options.trigger;this.shortcut.bind(t,this.request),this.shortcut.bind(i,this.exit),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(r=>{document.addEventListener(r,this.onFullscreenChange,!1)})}unbindEvents(){this.shortcut.unbindAll(),["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].forEach(t=>{document.removeEventListener(t,this.onFullscreenChange,!1)})}setGraphSize(t=!0){let i,r;t?(i=window.screen.width,r=window.screen.height,this.graphSize=this.context.graph.getSize()):[i,r]=this.graphSize,this.context.graph.setSize(i,r),this.context.graph.render()}request(){document.fullscreenElement||!function rmt(){return document.fullscreenEnabled||Reflect.get(document,"webkitFullscreenEnabled")||Reflect.get(document,"mozFullscreenEnabled")||Reflect.get(document,"msFullscreenEnabled")}()||this.$el.requestFullscreen().catch(t=>{Pu.warn(`Error attempting to enable full-screen: ${t.message} (${t.name})`)})}exit(){document.fullscreenElement&&document.exitFullscreen()}update(t){this.unbindEvents(),super.update(t),this.bindEvents()}destroy(){this.exit(),this.style.remove(),super.destroy()}}return n.defaultOptions={trigger:{},autoFit:!0},n})(),omt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$element=LC("grid-line"),this.offset=[0,0],this.onTransform=o=>{if(!this.options.follow)return;const{data:{translate:s}}=o;s&&this.updateOffset(s)},function mpt(n,e){const t=n.firstChild;t?n.insertBefore(e,t):n.appendChild(e)}(this.context.canvas.getContainer(),this.$element),this.updateStyle(),this.bindEvents()}update(t){super.update(t),this.updateStyle()}bindEvents(){const{graph:t}=this.context;t.on(An.AFTER_TRANSFORM,this.onTransform)}updateStyle(){const{size:t,stroke:i,lineWidth:r,border:o,borderLineWidth:s,borderStroke:a,borderStyle:l}=this.options;Object.assign(this.$element.style,{border:o?`${s}px ${l} ${a}`:"none",backgroundImage:`linear-gradient(${i} ${r}px, transparent ${r}px), linear-gradient(90deg, ${i} ${r}px, transparent ${r}px)`,backgroundSize:`${t}px ${t}px`})}updateOffset(t){this.offset=function DA(n,e){return n.map(t=>t%e)}(Qi(this.offset,t),this.options.size),this.$element.style.backgroundPosition=`${this.offset[0]}px ${this.offset[1]}px`}destroy(){this.context.graph.off(An.AFTER_TRANSFORM,this.onTransform),this.$element.remove(),super.destroy()}}return n.defaultOptions={border:!0,borderLineWidth:1,borderStroke:"#eee",borderStyle:"solid",lineWidth:1,size:20,stroke:"#eee"},n})();function e9(n){const e={Added:new Map,Updated:new Map,Removed:new Map};return n.forEach(t=>{const{type:i,value:r}=t,o=Ge(r);if("NodeAdded"===i||"EdgeAdded"===i||"ComboAdded"===i)e.Added.set(o,t);else if("NodeUpdated"===i||"EdgeUpdated"===i||"ComboUpdated"===i)if(e.Added.has(o))e.Added.set(o,{type:i.replace("Updated","Added"),value:r});else if(e.Updated.has(o)){const{original:s}=e.Updated.get(o);e.Updated.set(o,{type:i,value:r,original:s})}else e.Removed.has(o)||e.Updated.set(o,t);else("NodeRemoved"===i||"EdgeRemoved"===i||"ComboRemoved"===i)&&(e.Added.has(o)?e.Added.delete(o):(e.Updated.has(o)&&e.Updated.delete(o),e.Removed.set(o,t)))}),[...Array.from(e.Added.values()),...Array.from(e.Updated.values()),...Array.from(e.Removed.values())]}function eQ(n){const{NodeAdded:e=[],NodeUpdated:t=[],NodeRemoved:i=[],EdgeAdded:r=[],EdgeUpdated:o=[],EdgeRemoved:s=[],ComboAdded:a=[],ComboUpdated:l=[],ComboRemoved:u=[]}=sm(n,h=>h.type);return{add:{nodes:e,edges:r,combos:a},update:{nodes:t,edges:o,combos:l},remove:{nodes:i,edges:s,combos:u}}}function nQ(n,e){for(const t in n)Dr(n[t])&&!Array.isArray(n[t])&&null!==n[t]?(e[t]||(e[t]={}),nQ(n[t],e[t])):void 0===e[t]&&(e[t]=C0(t))}function smt(n,e=!1,t){const i={animation:e,current:{add:{},update:{},remove:{}},original:{add:{},update:{},remove:{}}},{add:r,update:o,remove:s}=eQ(e9(n));return["nodes","edges","combos"].forEach(a=>{o[a]&&o[a].forEach(l=>{var u,h;const p=Object.assign({},l.value);let v=Object.assign({},l.original);if(t){const y=t.graph.getElementType(Ge(l.original)),b="edge"===y?"stroke":"fill",E=t.element.getElementComputedStyle(y,l.original);v=Object.assign(Object.assign({},l.original),{style:Object.assign({[b]:E[b]},l.original.style)})}nQ(p,v),(u=i.current.update)[a]||(u[a]=[]),i.current.update[a].push(p),(h=i.original.update)[a]||(h[a]=[]),i.original.update[a].push(v)}),r[a]&&r[a].forEach(l=>{var u,h;const p=Object.assign({},l.value);(u=i.current.add)[a]||(u[a]=[]),i.current.add[a].push(p),(h=i.original.remove)[a]||(h[a]=[]),i.original.remove[a].push(p)}),s[a]&&s[a].forEach(l=>{var u,h;const p=Object.assign({},l.value);(u=i.current.remove)[a]||(u[a]=[]),i.current.remove[a].push(p),(h=i.original.add)[a]||(h[a]=[]),i.original.add[a].push(p)})}),i}let amt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.batchChanges=null,this.batchAnimation=!1,this.undoStack=[],this.redoStack=[],this.freezed=!1,this.executeCommand=(o,s=!0)=>{var a,l,u;this.freezed=!0,null===(l=(a=this.options).executeCommand)||void 0===l||l.call(a,o);const h=s?o.original:o.current;this.context.graph.addData(h.add),this.context.graph.updateData(h.update),this.context.graph.removeData(bA(h.remove,!1)),null===(u=this.context.element)||void 0===u||u.draw({silence:!0,animation:o.animation}),this.freezed=!1},this.addCommand=o=>{var s;if(!this.freezed){if(o.type===An.AFTER_DRAW){const{dataChanges:a=[],animation:l=!0}=o.data;if(null!==(s=this.context.batch)&&void 0!==s&&s.isBatching){if(!this.batchChanges)return;return this.batchChanges.push(a),void(this.batchAnimation&&(this.batchAnimation=l))}this.batchChanges=[a],this.batchAnimation=l}this.undoStackPush(smt(this.batchChanges.flat(),this.batchAnimation,this.context)),this.notify(Il.ADD,this.undoStack[this.undoStack.length-1])}},this.initBatchCommand=o=>{const{initiate:s}=o.data;this.batchAnimation=!1,s?this.batchChanges=[]:this.undoStack.pop()||(this.batchChanges=null)},this.emitter=new o1;const{graph:r}=this.context;r.on(An.AFTER_DRAW,this.addCommand),r.on(An.BATCH_START,this.initBatchCommand),r.on(An.BATCH_END,this.addCommand)}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}undo(){var t,i,r,o;const s=this.undoStack.pop();if(s){if(this.executeCommand(s),!1===(null===(i=(t=this.options).beforeAddCommand)||void 0===i?void 0:i.call(t,s,!1)))return;this.redoStack.push(s),null===(o=(r=this.options).afterAddCommand)||void 0===o||o.call(r,s,!1),this.notify(Il.UNDO,s)}return this}redo(){const t=this.redoStack.pop();return t&&(this.executeCommand(t,!1),this.undoStackPush(t),this.notify(Il.REDO,t)),this}undoAndCancel(){const t=this.undoStack.pop();return t&&(this.executeCommand(t,!1),this.redoStack=[],this.notify(Il.CANCEL,t)),this}undoStackPush(t){var i,r,o,s;const{stackSize:a}=this.options;0!==a&&this.undoStack.length>=a&&this.undoStack.shift(),!1!==(null===(r=(i=this.options).beforeAddCommand)||void 0===r?void 0:r.call(i,t,!0))&&(this.undoStack.push(t),null===(s=(o=this.options).afterAddCommand)||void 0===s||s.call(o,t,!0))}clear(){this.undoStack=[],this.redoStack=[],this.batchChanges=null,this.batchAnimation=!1,this.notify(Il.CLEAR,null)}notify(t,i){this.emitter.emit(t,{cmd:i}),this.emitter.emit(Il.CHANGE,{cmd:i})}on(t,i){this.emitter.on(t,i)}destroy(){const{graph:t}=this.context;t.off(An.AFTER_DRAW,this.addCommand),t.off(An.BATCH_START,this.initBatchCommand),t.off(An.BATCH_END,this.addCommand),this.emitter.off(),super.destroy(),this.undoStack=[],this.redoStack=[]}}return n.defaultOptions={stackSize:0},n})();function _R(n,e,t,i,r,o){const s=(o-e)*(t-n)-(i-e)*(r-n);return s>0||!(s<0)}function iQ(n,e){this._cells=[],this._cellSize=e,this._reverseCellSize=1/e;for(let t=0;t<n.length;t++){const i=n[t],r=this.coordToCellNum(i[0]),o=this.coordToCellNum(i[1]);if(this._cells[r])this._cells[r][o]?this._cells[r][o].push(i):this._cells[r][o]=[i];else{const s=[];s[o]=[i],this._cells[r]=s}}}iQ.prototype={cellPoints:function(n,e){return void 0!==this._cells[n]&&void 0!==this._cells[n][e]?this._cells[n][e]:[]},rangePoints:function(n){const e=this.coordToCellNum(n[0]),t=this.coordToCellNum(n[1]),i=this.coordToCellNum(n[2]),r=this.coordToCellNum(n[3]),o=[];for(let s=e;s<=i;s++)for(let a=t;a<=r;a++)for(let l=0;l<this.cellPoints(s,a).length;l++)o.push(this.cellPoints(s,a)[l]);return o},removePoint:function(n){const e=this.coordToCellNum(n[0]),t=this.coordToCellNum(n[1]),i=this._cells[e][t];let r;for(let o=0;o<i.length;o++)if(i[o][0]===n[0]&&i[o][1]===n[1]){r=o;break}return i.splice(r,1),i},trunc:Math.trunc||function(n){return n-n%1},coordToCellNum:function(n){return this.trunc(n*this._reverseCellSize)},extendBbox:function(n,e){return[n[0]-e*this._cellSize,n[1]-e*this._cellSize,n[2]+e*this._cellSize,n[3]+e*this._cellSize]}};var hmt={toXy:function(n,e){return void 0===e?n.slice():n.map(function(t){return new Function("pt","return [pt"+e[0]+",pt"+e[1]+"];")(t)})},fromXy:function(n,e){return void 0===e?n.slice():n.map(function(t){return new Function("pt","const o = {}; o"+e[0]+"= pt[0]; o"+e[1]+"= pt[1]; return o;")(t)})}};function rQ(n,e,t){return(e[0]-n[0])*(t[1]-n[1])-(e[1]-n[1])*(t[0]-n[0])}const vmt=function lmt(n,e){const t=n[0][0],i=n[0][1],r=n[1][0],o=n[1][1],s=e[0][0],a=e[0][1],l=e[1][0],u=e[1][1];return _R(t,i,s,a,l,u)!==_R(r,o,s,a,l,u)&&_R(t,i,r,o,s,a)!==_R(t,i,r,o,l,u)},ymt=function umt(n,e){return new iQ(n,e)},n9=hmt,bmt=function mmt(n){const e=function fmt(n){const e=[];for(let t=0;t<n.length;t++){for(;e.length>=2&&rQ(e[e.length-2],e[e.length-1],n[t])<=0;)e.pop();e.push(n[t])}return e.pop(),e}(n),t=function pmt(n){const e=n.reverse(),t=[];for(let i=0;i<e.length;i++){for(;t.length>=2&&rQ(t[t.length-2],t[t.length-1],e[i])<=0;)t.pop();t.push(e[i])}return t.pop(),t}(n).concat(e);return t.push(n[0]),t};function i9(n,e){return Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2)}function oQ(n,e,t){const i=[e[0]-n[0],e[1]-n[1]],r=[t[0]-n[0],t[1]-n[1]],o=i9(n,e),s=i9(n,t);return(i[0]*r[0]+i[1]*r[1])/Math.sqrt(o*s)}function sQ(n,e){for(let t=0;t<e.length-1;t++){const i=[e[t],e[t+1]];if(!(n[0][0]===i[0][0]&&n[0][1]===i[0][1]||n[0][0]===i[1][0]&&n[0][1]===i[1][1])&&vmt(n,i))return!0}return!1}function xmt(n){return[Math.min(n[0][0],n[1][0]),Math.min(n[0][1],n[1][1]),Math.max(n[0][0],n[1][0]),Math.max(n[0][1],n[1][1])]}function Cmt(n,e,t){let s,a,i=null,r=lQ,o=lQ;for(let l=0;l<e.length;l++)s=oQ(n[0],n[1],e[l]),a=oQ(n[1],n[0],e[l]),s>r&&a>o&&!sQ([n[0],e[l]],t)&&!sQ([n[1],e[l]],t)&&(r=s,o=a,i=e[l]);return i}function aQ(n,e,t,i,r){let o=!1;for(let s=0;s<n.length-1;s++){const a=[n[s],n[s+1]],l=a[0][0]+","+a[0][1]+","+a[1][0]+","+a[1][1];if(i9(a[0],a[1])<e||r.has(l))continue;let p,v,y,u=0,h=xmt(a);do{h=i.extendBbox(h,u),p=h[2]-h[0],v=h[3]-h[1],y=Cmt(a,i.rangePoints(h),n),u++}while(null===y&&(t[0]>p||t[1]>v));p>=t[0]&&v>=t[1]&&r.add(l),null!==y&&(n.splice(s+1,0,y),i.removePoint(y),o=!0)}return o?aQ(n,e,t,i,r):n}const lQ=Math.cos(90/(180/Math.PI));var Smt=function Mmt(n,e,t){let i=e||20;const r=function _mt(n){const e=[n[0]];let t=n[0];for(let i=1;i<n.length;i++){const r=n[i];(t[0]!==r[0]||t[1]!==r[1])&&e.push(r),t=r}return e}(function Emt(n){return n.sort(function(e,t){return e[0]-t[0]||e[1]-t[1]})}(n9.toXy(n,t)));if(r.length<4){const p=r.concat([r[0]]);return t?n9.fromXy(p,t):p}const o=function wmt(n){let e=1/0,t=1/0,i=-1/0,r=-1/0;for(let o=n.length-1;o>=0;o--)n[o][0]<e&&(e=n[o][0]),n[o][1]<t&&(t=n[o][1]),n[o][0]>i&&(i=n[o][0]),n[o][1]>r&&(r=n[o][1]);return[i-e,r-t]}(r),s=[.6*o[0],.6*o[1]],a=bmt(r),l=r.filter(function(p){return a.indexOf(p)<0}),u=Math.ceil(1/(r.length/(o[0]*o[1]))),h=aQ(a,Math.pow(i,2),s,ymt(l,u),new Set);return t?n9.fromXy(h,t):h};const Dmt=pd(Smt);let Nmt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.hullMemberIds=[],this.drawHull=()=>{if(this.shape){const r=!Po(this.optionsCache,this.options);this.shape.update(this.getHullStyle(r))}else this.shape=new P2({style:this.getHullStyle()}),this.context.canvas.appendChild(this.shape);this.optionsCache=Object.assign({},this.options)},this.updateHullPath=r=>{this.shape&&this.options.members.includes(Ge(r.data))&&this.shape.update({d:this.getHullPath(!0)})},this.getHullPath=(r=!1)=>{const{graph:o}=this.context,s=this.getMember();if(0===s.length)return"";const a=s.map(h=>o.getNodeData(h)),l=Dmt(a.map(oa),this.options.concavity).slice(1).reverse(),u=l.flatMap(h=>a.filter(p=>Po(oa(p),h)).map(Ge));return Po(u,this.hullMemberIds)&&!r||(this.hullMemberIds=u,this.path=function Omt(n,e,t){if(1===n.length)return((n,e,t)=>{if("sharp"===t)return[["M",n[0]-e,n[1]-e],["L",n[0]+e,n[1]-e],["L",n[0]+e,n[1]+e],["L",n[0]-e,n[1]+e],["Z"]];const i=[e,e,0,0,0];return[["M",n[0],n[1]-e],["A",...i,n[0],n[1]+e],["A",...i,n[0],n[1]-e]]})(n[0],e,t);if(2===n.length)return((n,e,t)=>{const i=[e,e,0,0,0],r="sharp"===t?Qi(n[0],Od(Lu(ro(n[0],n[1])),e)):n[0],o="sharp"===t?Qi(n[1],Od(Lu(ro(n[1],n[0])),e)):n[1],s=Od(Lu(T0(ro(r,o),!1)),e),a=Od(s,-1),l=Qi(r,s),u=Qi(o,s),h=Qi(o,a),p=Qi(r,a);return"sharp"===t?[["M",l[0],l[1]],["L",u[0],u[1]],["L",h[0],h[1]],["L",p[0],p[1]],["Z"]]:[["M",l[0],l[1]],["L",u[0],u[1]],["A",...i,h[0],h[1]],["L",p[0],p[1]],["A",...i,l[0],l[1]]]})(n,e,t);switch(t){case"smooth":return((n,e)=>{const t=w2(n).map((i,r)=>({p:i,v:Lu(ro(n[(r+1)%n.length],i))}));return t.forEach((i,r)=>{const s=t[r>0?r-1:n.length-1].v,a=Lu(Qi(s,Od(i.v,D_(s,i.v,!0)<Math.PI?1:-1)));i.p=Qi(i.p,Od(a,e))}),R2(t.map(i=>i.p))})(n,e);case"sharp":return((n,e)=>{const t=n.map((i,r)=>{const o=n[0===r?n.length-1:r-1],s=ng(Od(Lu(T0(ro(o,i),!1)),e));return[Qi(o,s),Qi(i,s)]}).flat();return t.map((i,r)=>r%2==0?null:g2([t[(r-1)%t.length],t[r%t.length]],[t[(r+1)%t.length],t[(r+2)%t.length]],!0)).filter(Boolean).map((i,r)=>[0===r?"M":"L",i[0],i[1]]).concat([["Z"]])})(n,e);default:return((n,e)=>{const t=w2(n).map((a,l)=>{const y=n[(l-1+n.length)%n.length],b=n[(l+1)%n.length],E=ro(n[(l-2+n.length)%n.length],y),w=ro(y,a),S=ro(a,b),C=(F,z)=>D_(F,z,!0)<Math.PI,D=C(E,w),k=C(w,S),T=F=>Od(Lu(T0(F,!1)),e),I=T(w);return[{p:Td(Qi(y,D?T(E):I)),concave:D&&y},{p:Td(Qi(a,k?T(S):I)),concave:k&&a}]}),i=[e,e,0,0,0],r=t.findIndex((a,l)=>!(t[(l-1+t.length)%t.length][0].concave||t[(l-1+t.length)%t.length][1].concave||a[0].concave||a[0].concave||a[1].concave)),o=t.slice(r).concat(t.slice(0,r));let s=[];return o.flatMap((a,l)=>{const u=[];return 0===l&&u.push(["M",...o[t.length-1][1].p]),a[0].concave?s.push(a[0].p,a[1].p):u.push(["A",...i,...a[0].p]),a[1].concave?s.unshift(a[1].p):u.push(["L",...a[1].p]),3===s.length&&(u.pop(),u.push(["C",...s.flat()]),s=[]),u})})(n,e)}}(l,this.getPadding(),this.options.corner)),this.path},this.bindEvents()}bindEvents(){this.context.graph.on(An.AFTER_RENDER,this.drawHull),this.context.graph.on(An.AFTER_ELEMENT_UPDATE,this.updateHullPath)}getHullStyle(t){const r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(this.options,["members","padding","corner"]);return Object.assign(Object.assign({},r),{d:this.getHullPath(t)})}getPadding(){const{graph:t}=this.context;return this.hullMemberIds.reduce((i,r)=>{const{halfExtents:o}=t.getElementRenderBounds(r),s=Math.max(o[0],o[1]);return Math.max(i,s)},0)+this.options.padding}addMember(t){const i=Array.isArray(t)?t:[t];this.options.members=[...new Set([...this.options.members,...i])],this.shape.update({d:this.getHullPath()})}removeMember(t){const i=Array.isArray(t)?t:[t];this.options.members=this.options.members.filter(r=>!i.includes(r)),i.some(r=>this.hullMemberIds.includes(r))&&this.shape.update({d:this.getHullPath()})}updateMember(t){this.options.members=$n(t)?t(this.options.members):t,this.shape.update(this.getHullStyle(!0))}getMember(){return this.options.members}destroy(){this.context.graph.off(An.AFTER_DRAW,this.drawHull),this.shape.destroy(),this.hullMemberIds=[],super.destroy()}}return n.defaultOptions={members:[],padding:10,corner:"rounded",concavity:1/0,fill:"lightblue",fillOpacity:.2,labelOpacity:1,stroke:"blue",strokeOpacity:.2},n})();function uQ(n,e){e(n),n.children&&n.children.forEach(function(t){t&&uQ(t,e)})}function jC(n){ER(n,!0)}function Vd(n){ER(n,!1)}function ER(n,e){var t=e?"visible":"hidden";uQ(n,function(i){i.attr("visibility",t)})}var Lmt=function(n){function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=n.apply(this,ni([],Kt(t),!1))||this;return r.isMutationObserved=!0,r.addEventListener(Ci.INSERTED,function(){Vd(r)}),r}return Ji(e,n),e}(js);function dQ(n){var e=n.appendChild(new Lmt({class:"offscreen"}));return Vd(e),e}var r9=function(n){function e(t){void 0===t&&(t={});var i=t.style,r=vo(t,["style"]);return n.call(this,En({style:En({text:"",fill:"black",fontFamily:"sans-serif",fontSize:16,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1,textAlign:"start",textBaseline:"middle"},i)},r))||this}return Ji(e,n),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=dQ(this)),this._offscreen},enumerable:!1,configurable:!0}),e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e}(Lc);function A1(n){return n*Math.PI/180}function hQ(n){return Number((180*n/Math.PI).toPrecision(5))}var xs=function(){function n(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,this.x=e,this.y=t,this.width=i,this.height=r}return Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),n.fromRect=function(e){return new n(e.x,e.y,e.width,e.height)},n.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}},n.prototype.isPointIn=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},n}();function Uu(n,e){return $n(n)?n.apply(void 0,ni([],Kt(e),!1)):n}var wR,zd=function(n,e){var t=function(r){return"".concat(e,"-").concat(r)},i=Object.fromEntries(Object.entries(n).map(function(r){var o=Kt(r,2),s=o[0],l=t(o[1]);return[s,{name:l,class:".".concat(l),id:"#".concat(l),toString:function(){return l}}]}));return Object.assign(i,{prefix:t}),i},fQ=function(n,e,t,i){void 0===t&&(t=0),void 0===i&&(i=5),Object.entries(e).forEach(function(r){var o=Kt(r,2),s=o[0],a=o[1],l=n;Object.prototype.hasOwnProperty.call(e,s)&&(a?Eh(a)?(Eh(n[s])||(l[s]={}),t<i?fQ(n[s],a,t+1,i):l[s]=e[s]):Hi(a)?(l[s]=[],l[s]=l[s].concat(a)):l[s]=a:l[s]=a)})},xa=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)fQ(n,e[i]);return n},pQ=function(n){return void 0!==n&&null!=n&&!Number.isNaN(n)},jmt=rb(function(n,e){var t=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,s=e.fontVariant;return wR||(wR=Tn.offscreenCanvasCreator.getOrCreateContext(void 0)),wR.font=[o,s,r,"".concat(t,"px"),i].join(" "),wR.measureText(n).width},function(n,e){return[n,Object.values(e||mQ(n)).join()].join("")},4096),mQ=function(n){var o=n.style.fontSize;return{fontSize:o="object"==typeof o?o.value:o,fontFamily:n.style.fontFamily||"sans-serif",fontWeight:n.style.fontWeight||"normal",fontStyle:n.style.fontStyle||"normal",fontVariant:n.style.fontVariant}};function gQ(n){return"text"===n.nodeName?n:"g"===n.nodeName&&1===n.children.length&&"text"===n.children[0].nodeName?n.children[0]:null}function vQ(n,e){var t=gQ(n);t&&t.attr(e)}function o9(n,e,t){void 0===t&&(t="..."),vQ(n,{wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:t})}function yQ(n){var e=n.canvas,t=n.touches,i=n.offsetX,r=n.offsetY;if(e)return[e.x,e.y];if(t){var a=t[0];return[a.clientX,a.clientY]}return i&&r?[i,r]:[0,0]}function yp(n){return"function"==typeof n?n():Li(n)||Zn(n)?new r9({style:{text:String(n)}}):n}function Zc(n,e,t,i,r){return void 0===i&&(i=!0),void 0===r&&(r=function(o){o.node().removeChildren()}),n?t(e):(i&&r(e),null)}function Va(n,e,t,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!1),!!(i&&n===e||r&&n===t)||n>e&&n<t}var Umt=function(n,e){return function(t){return n*(1-t)+e*t}};function s9(n,e){return"number"==typeof n&&"number"==typeof e?Umt(n,e):Array.isArray(n)&&Array.isArray(e)?function Gmt(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0;return function(r){var o=new Array(i),s=new Array(t),a=0;for(a=0;a<i;++a)o[a]=s9(n[a],e[a]);for(;a<t;++a)s[a]=e[a];for(a=0;a<i;++a)s[a]=o[a](r);return s}}(n,e):"object"==typeof n&&"object"==typeof e?function Hmt(n,e){void 0===n&&(n={}),void 0===e&&(e={});var t={},i={};return Object.entries(e).forEach(function(r){var o=Kt(r,2),s=o[0],a=o[1];s in n?t[s]=s9(n[s],a):i[s]=a}),function(r){return Object.entries(t).forEach(function(o){var s=Kt(o,2);return i[s[0]]=(0,s[1])(r)}),i}}(n,e):function(t){return n}}function bQ(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;o++){var s=n[o],a=s.x,l=s.y,p=Kt([a+s.width,l+s.height],2),v=p[0],y=p[1];a<e&&(e=a),l<t&&(t=l),v>i&&(i=v),y>r&&(r=y)}return new xs(e,t,i-e,r-t)}var Wmt=function(n,e,t){var i=n.width,r=n.height,o=t.flexDirection,s=void 0===o?"row":o,a=t.justifyContent,l=void 0===a?"flex-start":a,u=t.alignItems,h=void 0===u?"flex-start":u,p="row"===s,v="row"===s||"column"===s,y=p?v?[1,0]:[-1,0]:v?[0,1]:[0,-1],b=Kt([0,0],2),E=b[0],w=b[1],S=e.map(function(z){var V,K=z.width,Y=z.height,Q=Kt([E,w],2),at=Q[0],It=Q[1];return V=Kt([E+K*y[0],w+Y*y[1]],2),E=V[0],w=V[1],new xs(at,It,K,Y)}),C=bQ(S),D={"flex-start":0,"flex-end":p?i-C.width:r-C.height,center:p?(i-C.width)/2:(r-C.height)/2},k=S.map(function(z){var V=z.x,K=z.y,Y=xs.fromRect(z);return Y.x=p?V+D[l]:V,Y.y=p?K:K+D[l],Y});bQ(k);var T=function(z){var V=Kt(p?["height",r]:["width",i],2),K=V[0],Y=V[1];switch(h){case"flex-start":default:return 0;case"flex-end":return Y-z[K];case"center":return Y/2-z[K]/2}};return k.map(function(z){var V=z.x,K=z.y,Y=xs.fromRect(z);return Y.x=p?V:V+T(Y),Y.y=p?K+T(Y):K,Y}).map(function(z){var V,K,Y=xs.fromRect(z);return Y.x+=null!==(V=n.x)&&void 0!==V?V:0,Y.y+=null!==(K=n.y)&&void 0!==K?K:0,Y})},Kmt=function(n,e,t){return[]};function bp(n,e){return[n[0]*e,n[1]*e]}function VC(n,e){return[n[0]+e[0],n[1]+e[1]]}function a9(n,e){return[n[0]-e[0],n[1]-e[1]]}function ry(n,e){return[Math.min(n[0],e[0]),Math.min(n[1],e[1])]}function oy(n,e){return[Math.max(n[0],e[0]),Math.max(n[1],e[1])]}function zC(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2))}function _Q(n){if(0===n[0]&&0===n[1])return[0,0];var e=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2));return[n[0]/e,n[1]/e]}function EQ(n,e){return+n.toPrecision(e)}function wQ(n,e){var t={},i=Array.isArray(e)?e:[e];for(var r in n)i.includes(r)||(t[r]=n[r]);return t}var qmt=["$el","cx","cy","d","dx","dy","fill","fillOpacity","filter","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","img","increasedLineWidthForHitTesting","innerHTML","isBillboard","billboardRotation","isSizeAttenuation","isClosed","isOverflowing","leading","letterSpacing","lineDash","lineHeight","lineWidth","markerEnd","markerEndOffset","markerMid","markerStart","markerStartOffset","maxLines","metrics","miterLimit","offsetX","offsetY","opacity","path","points","r","radius","rx","ry","shadowColor","src","stroke","strokeOpacity","text","textAlign","textBaseline","textDecorationColor","textDecorationLine","textDecorationStyle","textOverflow","textPath","textPathSide","textPathStartOffset","transform","transformOrigin","visibility","width","wordWrap","wordWrapWidth","x","x1","x2","y","y1","y2","z1","z2","zIndex"];function Jmt(n){return qmt.includes(n)}function xQ(n){var e={};for(var t in n)Jmt(t)&&(e[t]=n[t]);return e}function l9(n,e,t){var i=n.getBBox(),s=e/Math.max(i.width,i.height);return n.style.transform="scale(".concat(s,")"),s}var igt=function(){function n(r,o,s,a,l,u,h){void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=[null,null,null,null,null]),void 0===u&&(u=[]),void 0===h&&(h=[]),e.add(this),this._elements=Array.from(r),this._data=o,this._parent=s,this._document=a,this._enter=l[0],this._update=l[1],this._exit=l[2],this._merge=l[3],this._split=l[4],this._transitions=u,this._facetElements=h}var e,t,i;return n.prototype.selectAll=function(r){var o="string"==typeof r?this._parent.querySelectorAll(r):r;return new t(o,null,this._elements[0],this._document)},n.prototype.selectFacetAll=function(r){var o="string"==typeof r?this._parent.querySelectorAll(r):r;return new t(this._elements,null,this._parent,this._document,void 0,void 0,o)},n.prototype.select=function(r){var o="string"==typeof r?this._parent.querySelectorAll(r)[0]||null:r;return new t([o],null,o,this._document)},n.prototype.append=function(r){var o=this,s="function"==typeof r?r:function(){return o.createElement(r)},a=[];if(null!==this._data){for(var l=0;l<this._data.length;l++){var u=this._data[l],h=Kt(Array.isArray(u)?u:[u,null],2),v=h[1];(y=s(p=h[0],l)).__data__=p,null!==v&&(y.__fromElements__=v),this._parent.appendChild(y),a.push(y)}return new t(a,null,this._parent,this._document)}for(l=0;l<this._elements.length;l++){var p,b=this._elements[l],y=s(p=b.__data__,l);b.appendChild(y),a.push(y)}return new t(a,null,a[0],this._document)},n.prototype.maybeAppend=function(r,o){var s=uw(this,e,"m",i).call(this,"#"===r[0]?r:"#".concat(r),o);return s.attr("id",r),s},n.prototype.maybeAppendByClassName=function(r,o){var s=r.toString(),a=uw(this,e,"m",i).call(this,"."===s[0]?s:".".concat(s),o);return a.attr("className",s),a},n.prototype.maybeAppendByName=function(r,o){var s=uw(this,e,"m",i).call(this,'[name="'.concat(r,'"]'),o);return s.attr("name",r),s},n.prototype.data=function(r,o,s){var a,l;void 0===o&&(o=function(K){return K}),void 0===s&&(s=function(){return null});for(var u=[],h=[],p=new Set(this._elements),v=[],y=new Set,b=new Map(this._elements.map(function(K,Y){return[o(K.__data__,Y),K]})),E=new Map(this._facetElements.map(function(K,Y){return[o(K.__data__,Y),K]})),w=function egt(n,e){var t=new Map;return n.forEach(function(i){var r=e(i);t.has(r)||t.set(r,[]),t.get(r).push(i)}),t}(this._elements,function(K){return s(K.__data__)}),S=0;S<r.length;S++){var C=r[S],D=o(C,S),k=s(C,S);if(b.has(D))(T=b.get(D)).__data__=C,T.__facet__=!1,h.push(T),p.delete(T),b.delete(D);else if(E.has(D))(T=E.get(D)).__data__=C,T.__facet__=!0,h.push(T),E.delete(D);else if(w.has(D)){var I=w.get(D);v.push([C,I]);try{for(var F=(a=void 0,fm(I)),z=F.next();!z.done;z=F.next())p.delete(T=z.value)}catch(K){a={error:K}}finally{try{z&&!z.done&&(l=F.return)&&l.call(F)}finally{if(a)throw a.error}}w.delete(D)}else if(b.has(k)){var T;(T=b.get(k)).__toData__?T.__toData__.push(C):T.__toData__=[C],y.add(T),p.delete(T)}else u.push(C)}var V=[new t([],u,this._parent,this._document),new t(h,null,this._parent,this._document),new t(p,null,this._parent,this._document),new t([],v,this._parent,this._document),new t(y,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,V)},n.prototype.merge=function(r){var o=ni(ni([],Kt(this._elements),!1),Kt(r._elements),!1),s=ni(ni([],Kt(this._transitions),!1),Kt(r._transitions),!1);return new t(o,null,this._parent,this._document,void 0,s)},n.prototype.createElement=function(r){if(this._document)return this._document.createElement(r,{});var o=t.registry[r];return o?new o:function ngt(n){throw new Error(n)}("Unknown node type: ".concat(r))},n.prototype.join=function(r,o,s,a,l){void 0===r&&(r=function(b){return b}),void 0===o&&(o=function(b){return b}),void 0===s&&(s=function(b){return b.remove()}),void 0===a&&(a=function(b){return b}),void 0===l&&(l=function(b){return b.remove()});var u=r(this._enter),h=o(this._update),p=s(this._exit),v=a(this._merge),y=l(this._split);return h.merge(u).merge(p).merge(v).merge(y)},n.prototype.remove=function(){for(var r=function(a){var l=o._elements[a],u=o._transitions[a];u?u.then(function(){return l.remove()}):l.remove()},o=this,s=0;s<this._elements.length;s++)r(s);return new t([],null,this._parent,this._document,void 0,this._transitions)},n.prototype.each=function(r){for(var o=0;o<this._elements.length;o++){var s=this._elements[o];r.call(s,s.__data__,o)}return this},n.prototype.attr=function(r,o){var s="function"!=typeof o?function(){return o}:o;return this.each(function(a,l){void 0!==o&&(this[r]=s.call(this,a,l))})},n.prototype.style=function(r,o,s){void 0===s&&(s=!0);var a="function"==typeof o&&s?o:function(){return o};return this.each(function(l,u){void 0!==o&&(this.style[r]=a.call(this,l,u))})},n.prototype.styles=function(r,o){return void 0===r&&(r={}),void 0===o&&(o=!0),this.each(function(s,a){var l=this;Object.entries(r).forEach(function(u){var h=Kt(u,2),v=h[1];void 0!==v&&l.attr(h[0],("function"==typeof v&&o?v:function(){return v}).call(l,s,a))})})},n.prototype.update=function(r,o){void 0===o&&(o=!0);var s="function"==typeof r&&o?r:function(){return r};return this.each(function(a,l){r&&this.update&&this.update(s.call(this,a,l))})},n.prototype.maybeUpdate=function(r,o){void 0===o&&(o=!0);var s="function"==typeof r&&o?r:function(){return r};return this.each(function(a,l){r&&this.update&&this.update(s.call(this,a,l))})},n.prototype.transition=function(r){var o=this._transitions;return this.each(function(s,a){o[a]=r.call(this,s,a)})},n.prototype.on=function(r,o){return this.each(function(){this.addEventListener(r,o)}),this},n.prototype.call=function(r){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return r.call.apply(r,ni([this._parent,this],Kt(o),!1)),this},n.prototype.node=function(){return this._elements[0]},n.prototype.nodes=function(){return this._elements},n.prototype.transitions=function(){return this._transitions.filter(function(r){return!!r})},n.prototype.parent=function(){return this._parent},t=n,e=new WeakSet,i=function(r,o){var s=this._elements[0],a=s.querySelector(r);if(a)return new t([a],null,this._parent,this._document);var l="string"==typeof o?this.createElement(o):o();return s.appendChild(l),new t([l],null,this._parent,this._document)},n.registry={g:js,rect:_a,circle:h0,path:f0,text:r9,ellipse:zx,image:al,line:Nc,polygon:Yb,polyline:Zb,html:Ux},n}();function yi(n){return new igt([n],null,n,n.ownerDocument)}function Ls(n){if(Zn(n))return[n,n,n,n];if(Hi(n)){var e=n.length;if(1===e)return[n[0],n[0],n[0],n[0]];if(2===e)return[n[0],n[1],n[0],n[1]];if(3===e)return[n[0],n[1],n[2],n[1]];if(4===e)return n}return[0,0,0,0]}function CQ(n){var e=n.getLocalBounds(),r=Kt([e.min,e.max],2),o=Kt(r[0],2),s=o[0],a=o[1],l=Kt(r[1],2),u=l[0],h=l[1];return{x:s,y:a,width:u-s,height:h-a,left:s,bottom:h,top:a,right:u}}function ogt(n,e){var t=Kt(n,2),i=t[0],r=t[1],o=Kt(e,2);return i!==o[0]&&r===o[1]}function c9(n){return n.toString().charAt(0).toUpperCase()+n.toString().slice(1)}function MQ(n,e,t){var i;void 0===t&&(t=!0);var r=e||(null===(i=n.match(/^([a-z][a-z0-9]+)/))||void 0===i?void 0:i[0])||"",o=n.replace(new RegExp("^(".concat(r,")")),"");return t?function agt(n){return n.toString().charAt(0).toLowerCase()+n.toString().slice(1)}(o):o}var xR=function(n,e){if(null==n||!n.startsWith(e))return!1;var t=n[e.length];return t>="A"&&t<="Z"};function rr(n,e,t){void 0===t&&(t=!1);var i={};return Object.entries(n).forEach(function(r){var o=Kt(r,2),s=o[0],a=o[1];if("className"!==s&&"class"!==s)if(xR(s,"show")&&xR(MQ(s,"show"),e)!==t)s===function lgt(n,e){return"".concat(e).concat(c9(n))}(e,"show")?i[s]=a:i[s.replace(new RegExp(c9(e)),"")]=a;else if(!xR(s,"show")&&xR(s,e)!==t){var l=MQ(s,e);"filter"===l&&"function"==typeof a||(i[l]=a)}}),i}function k1(n,e){return Object.entries(n).reduce(function(t,i){var r=Kt(i,2),o=r[0],s=r[1];return o.startsWith("show")?t["show".concat(e).concat(o.slice(4))]=s:t["".concat(e).concat(c9(o))]=s,t},{})}function _p(n,e){void 0===e&&(e=["x","y","class","className"]);var t=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],i={},r={};return Object.entries(n).forEach(function(o){var s=Kt(o,2),a=s[0],l=s[1];e.includes(a)||(-1!==t.indexOf(a)?r[a]=l:i[a]=l)}),[i,r]}function yc(n,e){var t={YYYY:n.getFullYear(),MM:n.getMonth()+1,DD:n.getDate(),HH:n.getHours(),mm:n.getMinutes(),ss:n.getSeconds()},i=e;return Object.keys(t).forEach(function(r){var o=t[r];i=i.replace(r,"YYYY"===r?"".concat(o):"".concat(o).padStart(2,"0"))}),i}function SQ(n,e){if(e)try{var i=e.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,function(r,o,s){return"translate(".concat(function ugt(n,e,t){var i=n.getBBox(),r=i.width,o=i.height,s=Kt([e,t].map(function(u,h){var p;return u.includes("%")?parseFloat((null===(p=u.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===p?void 0:p[0])||"0")/100*(0===h?r:o):u}),2);return[s[0],s[1]]}(n,o,s),")")});n.attr("transform",i)}catch{}}var DQ=function(n,e){null!=e?n.replaceChildren?Array.isArray(e)?n.replaceChildren.apply(n,ni([],Kt(e),!1)):n.replaceChildren(e):(n.innerHTML="",Array.isArray(e)?e.forEach(function(t){return n.appendChild(t)}):n.appendChild(e)):n.innerHTML=""};function hgt(){ER(this,"hidden"!==this.attributes.visibility)}var Cs=function(n){function e(t,i){void 0===i&&(i={});var r=n.call(this,xa({},{style:i},t))||this;return r.initialized=!1,r._defaultOptions=i,r}return Ji(e,n),Object.defineProperty(e.prototype,"offscreenGroup",{get:function(){return this._offscreen||(this._offscreen=dQ(this)),this._offscreen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultOptions",{get:function(){return this._defaultOptions},enumerable:!1,configurable:!0}),e.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this),this.initialized=!0},e.prototype.disconnectedCallback=function(){var t;null===(t=this._offscreen)||void 0===t||t.destroy()},e.prototype.attributeChangedCallback=function(t){"visibility"===t&&hgt.call(this)},e.prototype.update=function(t,i){var r;return this.attr(xa({},this.attributes,t||{})),null===(r=this.render)||void 0===r?void 0:r.call(this,this.attributes,this,i)},e.prototype.clear=function(){this.removeChildren()},e.prototype.bindEvents=function(t,i){},e.prototype.getSubShapeStyle=function(t){return vo(t,["x","y","transform","transformOrigin","class","className","zIndex"])},e}(kT),OQ=function(n,e,t){return[["M",n-t,e],["A",t,t,0,1,0,n+t,e],["A",t,t,0,1,0,n-t,e],["Z"]]},fgt=OQ,TQ=function(n,e,t){return[["M",n,e+t],["L",n,e-t]]},AQ=function(n,e,t){return[["M",n-t,e],["L",n+t,e]]},Cgt=AQ,Agt=function(n,e,t){return[["M",n-t,e-t],["L",n+t,e],["L",n-t,e+t],["Z"]]};var Do=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),e.prototype.render=function(t,i){var r=t.x,o=void 0===r?0:r,s=t.y,a=void 0===s?0:s,l=this.getSubShapeStyle(t),u=l.symbol,h=l.size,p=void 0===h?16:h,v=vo(l,["symbol","size"]),y=function Igt(n){var e=function kgt(n){var e="default";if(Dr(n)&&n instanceof Image)e="image";else if($n(n))e="symbol";else if(Li(n)){var t=new RegExp("data:(image|text)");e=n.match(t)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(n)?"url":"symbol"}return e}(n);return["base64","url","image"].includes(e)?"image":n&&"symbol"===e?"path":null}(u);Zc(!!y,yi(i),function(b){b.maybeAppendByClassName("marker",y).attr("className","marker ".concat(y,"-marker")).call(function(E){if("image"===y)E.styles({img:u,width:w=2*p,height:w,x:o-p,y:a-p});else{var w=p/2,S=$n(u)?u:e.getSymbol(u);E.styles(En({d:S?.(o,a,w)},v))}})})},e.MARKER_SYMBOL_MAP=new Map,e.registerSymbol=function(t,i){e.MARKER_SYMBOL_MAP.set(t,i)},e.getSymbol=function(t){return e.MARKER_SYMBOL_MAP.get(t)},e.getSymbols=function(){return Array.from(e.MARKER_SYMBOL_MAP.keys())},e}(Cs);function CR(n,...e){return e.reduce((t,i)=>r=>t(i(r)),n)}function u9(n,e){return e-n?t=>(t-n)/(e-n):t=>.5}Do.registerSymbol("cross",function(n,e,t){return[["M",n-t,e-t],["L",n+t,e+t],["M",n+t,e-t],["L",n-t,e+t]]}),Do.registerSymbol("hyphen",function(n,e,t){return[["M",n-t,e],["L",n+t,e]]}),Do.registerSymbol("line",TQ),Do.registerSymbol("plus",function(n,e,t){return[["M",n-t,e],["L",n+t,e],["M",n,e-t],["L",n,e+t]]}),Do.registerSymbol("tick",function(n,e,t){return[["M",n-t/2,e-t],["L",n+t/2,e-t],["M",n,e-t],["L",n,e+t],["M",n-t/2,e+t],["L",n+t/2,e+t]]}),Do.registerSymbol("circle",OQ),Do.registerSymbol("point",fgt),Do.registerSymbol("bowtie",function(n,e,t){var i=t-1.5;return[["M",n-t,e-i],["L",n+t,e+i],["L",n+t,e-i],["L",n-t,e+i],["Z"]]}),Do.registerSymbol("hexagon",function(n,e,t){var i=t/2*Math.sqrt(3);return[["M",n,e-t],["L",n+i,e-t/2],["L",n+i,e+t/2],["L",n,e+t],["L",n-i,e+t/2],["L",n-i,e-t/2],["Z"]]}),Do.registerSymbol("square",function(n,e,t){return[["M",n-t,e-t],["L",n+t,e-t],["L",n+t,e+t],["L",n-t,e+t],["Z"]]}),Do.registerSymbol("diamond",function(n,e,t){return[["M",n-t,e],["L",n,e-t],["L",n+t,e],["L",n,e+t],["Z"]]}),Do.registerSymbol("triangle",function(n,e,t){var i=t*Math.sin(.3333333333333333*Math.PI);return[["M",n-t,e+i],["L",n,e-i],["L",n+t,e+i],["Z"]]}),Do.registerSymbol("triangle-down",function(n,e,t){var i=t*Math.sin(.3333333333333333*Math.PI);return[["M",n-t,e-i],["L",n+t,e-i],["L",n,e+i],["Z"]]}),Do.registerSymbol("line",TQ),Do.registerSymbol("dot",AQ),Do.registerSymbol("dash",Cgt),Do.registerSymbol("smooth",function(n,e,t){return[["M",n-t,e],["A",t/2,t/2,0,1,1,n,e],["A",t/2,t/2,0,1,0,n+t,e]]}),Do.registerSymbol("hv",function(n,e,t){return[["M",n-t-1,e-2.5],["L",n,e-2.5],["L",n,e+2.5],["L",n+t+1,e+2.5]]}),Do.registerSymbol("vh",function(n,e,t){return[["M",n-t-1,e+2.5],["L",n,e+2.5],["L",n,e-2.5],["L",n+t+1,e-2.5]]}),Do.registerSymbol("hvh",function(n,e,t){return[["M",n-(t+1),e+2.5],["L",n-t/2,e+2.5],["L",n-t/2,e-2.5],["L",n+t/2,e-2.5],["L",n+t/2,e+2.5],["L",n+t+1,e+2.5]]}),Do.registerSymbol("vhv",function Tgt(n,e){return[["M",n-5,e+2.5],["L",n-5,e],["L",n,e],["L",n,e-3],["L",n,e+3],["L",n+6.5,e+3]]});const kQ=Math.sqrt(50),IQ=Math.sqrt(10),RQ=Math.sqrt(2);function MR(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log(i)/Math.LN10),o=i/10**r;return r>=0?(o>=kQ?10:o>=IQ?5:o>=RQ?2:1)*10**r:-(10**-r)/(o>=kQ?10:o>=IQ?5:o>=RQ?2:1)}const Ngt=(n,e,t=5)=>{const i=[n,e];let l,r=0,o=i.length-1,s=i[r],a=i[o];return a<s&&([s,a]=[a,s],[r,o]=[o,r]),l=MR(s,a,t),l>0?(s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l,l=MR(s,a,t)):l<0&&(s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l,l=MR(s,a,t)),l>0?(i[r]=Math.floor(s/l)*l,i[o]=Math.ceil(a/l)*l):l<0&&(i[r]=Math.ceil(s*l)/l,i[o]=Math.floor(a*l)/l),i};function PQ(n){return!vi(n)&&!FD(n)&&!Number.isNaN(n)}var NQ={exports:{}},LQ={exports:{}},Bgt=function(n){return!(!n||"string"==typeof n)&&(n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&"String"!==n.constructor.name))},jgt=Array.prototype.concat,Vgt=Array.prototype.slice,FQ=LQ.exports=function(n){for(var e=[],t=0,i=n.length;t<i;t++){var r=n[t];Bgt(r)?e=jgt.call(e,Vgt.call(r)):e.push(r)}return e};FQ.wrap=function(n){return function(){return n(FQ(arguments))}};var UC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},GC=LQ.exports,BQ=Object.hasOwnProperty,jQ=Object.create(null);for(var d9 in UC)BQ.call(UC,d9)&&(jQ[UC[d9]]=d9);var Qc=NQ.exports={to:{},get:{}};function Dg(n,e,t){return Math.min(Math.max(e,n),t)}function SR(n){var e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}Qc.get=function(n){var t,i;switch(n.substring(0,3).toLowerCase()){case"hsl":t=Qc.get.hsl(n),i="hsl";break;case"hwb":t=Qc.get.hwb(n),i="hwb";break;default:t=Qc.get.rgb(n),i="rgb"}return t?{model:i,value:t}:null},Qc.get.rgb=function(n){if(!n)return null;var a,l,u,s=[0,0,0,1];if(a=n.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(u=a[2],a=a[1],l=0;l<3;l++){var h=2*l;s[l]=parseInt(a.slice(h,h+2),16)}u&&(s[3]=parseInt(u,16)/255)}else if(a=n.match(/^#([a-f0-9]{3,4})$/i)){for(u=(a=a[1])[3],l=0;l<3;l++)s[l]=parseInt(a[l]+a[l],16);u&&(s[3]=parseInt(u+u,16)/255)}else if(a=n.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(l=0;l<3;l++)s[l]=parseInt(a[l+1],0);a[4]&&(s[3]=a[5]?.01*parseFloat(a[4]):parseFloat(a[4]))}else{if(!(a=n.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(a=n.match(/^(\w+)$/))?"transparent"===a[1]?[0,0,0,0]:BQ.call(UC,a[1])?((s=UC[a[1]])[3]=1,s):null:null;for(l=0;l<3;l++)s[l]=Math.round(2.55*parseFloat(a[l+1]));a[4]&&(s[3]=a[5]?.01*parseFloat(a[4]):parseFloat(a[4]))}for(l=0;l<3;l++)s[l]=Dg(s[l],0,255);return s[3]=Dg(s[3],0,1),s},Qc.get.hsl=function(n){if(!n)return null;var t=n.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,Dg(parseFloat(t[2]),0,100),Dg(parseFloat(t[3]),0,100),Dg(isNaN(i)?1:i,0,1)]}return null},Qc.get.hwb=function(n){if(!n)return null;var t=n.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var i=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,Dg(parseFloat(t[2]),0,100),Dg(parseFloat(t[3]),0,100),Dg(isNaN(i)?1:i,0,1)]}return null},Qc.to.hex=function(){var n=GC(arguments);return"#"+SR(n[0])+SR(n[1])+SR(n[2])+(n[3]<1?SR(Math.round(255*n[3])):"")},Qc.to.rgb=function(){var n=GC(arguments);return n.length<4||1===n[3]?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"},Qc.to.rgb.percent=function(){var n=GC(arguments),e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),i=Math.round(n[2]/255*100);return n.length<4||1===n[3]?"rgb("+e+"%, "+t+"%, "+i+"%)":"rgba("+e+"%, "+t+"%, "+i+"%, "+n[3]+")"},Qc.to.hsl=function(){var n=GC(arguments);return n.length<4||1===n[3]?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"},Qc.to.hwb=function(){var n=GC(arguments),e="";return n.length>=4&&1!==n[3]&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"},Qc.to.keyword=function(n){return jQ[n.slice(0,3)]};const Ggt=pd(NQ.exports);function h9(n,e,t){let i=t;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+6*(e-n)*i:i<.5?e:i<2/3?n+(e-n)*(2/3-i)*6:n}function VQ(n){const e=Ggt.get(n);if(!e)return null;const{model:t,value:i}=e;return"rgb"===t?i:"hsl"===t?function Hgt(n){const e=n[0]/360,t=n[1]/100,i=n[2]/100,r=n[3];if(0===t)return[255*i,255*i,255*i,r];const o=i<.5?i*(1+t):i+t-i*t,s=2*i-o;return[255*h9(s,o,e+1/3),255*h9(s,o,e),255*h9(s,o,e-1/3),r]}(i):null}const DR=(n,e)=>t=>n*(1-t)+e*t,Wgt=(n,e)=>"number"==typeof n&&"number"==typeof e?DR(n,e):"string"==typeof n&&"string"==typeof e?((n,e)=>{const t=VQ(n),i=VQ(e);return null===t||null===i?t?()=>n:()=>e:r=>{const o=new Array(4);for(let h=0;h<4;h+=1)o[h]=t[h]*(1-r)+i[h]*r;const[s,a,l,u]=o;return`rgba(${Math.round(s)}, ${Math.round(a)}, ${Math.round(l)}, ${u})`}})(n,e):()=>n,Kgt=(n,e)=>{const t=DR(n,e);return i=>Math.round(t(i))};function zQ({map:n,initKey:e},t){const i=e(t);return n.has(i)?n.get(i):t}function Zgt(n){return"object"==typeof n?n.valueOf():n}class UQ extends Map{constructor(e){if(super(),this.map=new Map,this.initKey=Zgt,null!==e)for(const[t,i]of e)this.set(t,i)}get(e){return super.get(zQ({map:this.map,initKey:this.initKey},e))}has(e){return super.has(zQ({map:this.map,initKey:this.initKey},e))}set(e,t){return super.set(function Xgt({map:n,initKey:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}({map:this.map,initKey:this.initKey},e),t)}delete(e){return super.delete(function Ygt({map:n,initKey:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}({map:this.map,initKey:this.initKey},e))}}class GQ{constructor(e){this.options=ya({},this.getDefaultOptions()),this.update(e)}getOptions(){return this.options}update(e={}){this.options=ya({},this.options,e),this.rescale(e)}rescale(e){}}const f9=Symbol("defaultUnknown");function HQ(n,e,t){for(let i=0;i<e.length;i+=1)n.has(e[i])||n.set(t(e[i]),i)}function $Q(n){const{value:e,from:t,to:i,mapper:r,notFoundReturn:o}=n;let s=r.get(e);if(void 0===s){if(o!==f9)return o;s=t.push(e)-1,r.set(e,s)}return i[s%i.length]}function WQ(n){return n instanceof Date?e=>`${e}`:"object"==typeof n?e=>JSON.stringify(e):e=>e}class p9 extends GQ{getDefaultOptions(){return{domain:[],range:[],unknown:f9}}constructor(e){super(e)}map(e){return 0===this.domainIndexMap.size&&HQ(this.domainIndexMap,this.getDomain(),this.domainKey),$Q({value:this.domainKey(e),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}invert(e){return 0===this.rangeIndexMap.size&&HQ(this.rangeIndexMap,this.getRange(),this.rangeKey),$Q({value:this.rangeKey(e),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}rescale(e){const[t]=this.options.domain,[i]=this.options.range;if(this.domainKey=WQ(t),this.rangeKey=WQ(i),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);(!e||e.range)&&this.rangeIndexMap.clear(),(!e||e.domain||e.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}clone(){return new p9(this.options)}getRange(){return this.options.range}getDomain(){if(this.sortedDomain)return this.sortedDomain;const{domain:e,compare:t}=this.options;return this.sortedDomain=t?[...e].sort(t):e,this.sortedDomain}}function Jgt(n){return Math.round(1e12*n)/1e12}class m9 extends p9{getDefaultOptions(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:f9,flex:[]}}constructor(e){super(e)}clone(){return new m9(this.options)}getStep(e){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===e?Array.from(this.valueStep.values())[0]:this.valueStep.get(e)}getBandWidth(e){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===e?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(e)}getRange(){return this.adjustedRange}getPaddingInner(){const{padding:e,paddingInner:t}=this.options;return e>0?e:t}getPaddingOuter(){const{padding:e,paddingOuter:t}=this.options;return e>0?e:t}rescale(){super.rescale();const{align:e,domain:t,range:i,round:r,flex:o}=this.options,{adjustedRange:s,valueBandWidth:a,valueStep:l}=function evt(n){var e;const{domain:t}=n,i=t.length;if(0===i)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null!==(e=n.flex)&&void 0!==e&&e.length)return function tvt(n){const{domain:e,range:t,paddingOuter:i,paddingInner:r,flex:o,round:s,align:a}=n,l=e.length,u=function qgt(n,e){const i=e-n.length;return i>0?[...n,...new Array(i).fill(1)]:i<0?n.slice(0,e):n}(o,l),[h,p]=t,v=p-h,b=v/(2/l*i+1-1/l*r),E=b*r/l,w=b-l*E,S=function Qgt(n){const e=Math.min(...n);return n.map(t=>t/e)}(u),D=w/S.reduce((Y,Q)=>Y+Q),k=new UQ(e.map((Y,Q)=>{const at=S[Q]*D;return[Y,s?Math.floor(at):at]})),T=new UQ(e.map((Y,Q)=>{const at=S[Q]*D+E;return[Y,s?Math.floor(at):at]})),I=Array.from(T.values()).reduce((Y,Q)=>Y+Q),z=h+(v-(I-I/l*r))*a;let V=s?Math.round(z):z;const K=new Array(l);for(let Y=0;Y<l;Y+=1)K[Y]=Jgt(V),V+=T.get(e[Y]);return{valueBandWidth:k,valueStep:T,adjustedRange:K}}(n);const{range:r,paddingOuter:o,paddingInner:s,round:a,align:l}=n;let u,h,p=r[0];const v=r[1]-p;u=v/Math.max(1,2*o+(i-s)),a&&(u=Math.floor(u)),p+=(v-u*(i-s))*l,h=u*(1-s),a&&(p=Math.round(p),h=Math.round(h));const E=new Array(i).fill(0).map((w,S)=>p+S*u);return{valueStep:u,valueBandWidth:h,adjustedRange:E}}({align:e,range:i,round:r,flex:o,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:t});this.valueStep=l,this.valueBandWidth=a,this.adjustedRange=s}}const nvt=(n,e,t)=>{let i,r,o=n,s=e;if(o===s&&t>0)return[o];let a=MR(o,s,t);if(0===a||!Number.isFinite(a))return[];if(a>0){o=Math.ceil(o/a),s=Math.floor(s/a),r=new Array(i=Math.ceil(s-o+1));for(let l=0;l<i;l+=1)r[l]=(o+l)*a}else{a=-a,o=Math.ceil(o*a),s=Math.floor(s*a),r=new Array(i=Math.ceil(s-o+1));for(let l=0;l<i;l+=1)r[l]=(o+l)/a}return r},ivt=(n,e,t)=>{const[i,r]=n,[o,s]=e;let a,l;return i<r?(a=u9(i,r),l=t(o,s)):(a=u9(r,i),l=t(s,o)),CR(l,a)},rvt=(n,e,t)=>{const i=Math.min(n.length,e.length)-1,r=new Array(i),o=new Array(i),s=n[0]>n[i],a=s?[...n].reverse():n,l=s?[...e].reverse():e;for(let u=0;u<i;u+=1)r[u]=u9(a[u],a[u+1]),o[u]=t(l[u],l[u+1]);return u=>{const h=function Pgt(n,e,t,i){let o=t||0,s=i||n.length;for(;o<s;){const l=Math.floor((o+s)/2);n[l]>e?s=l:o=l+1}return o}(n,u,1,i)-1;return CR(o[h],r[h])(u)}},KQ=(n,e,t,i)=>(Math.min(n.length,e.length)>2?rvt:ivt)(n,e,i?Kgt:t);class ovt extends GQ{getDefaultOptions(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:DR,tickCount:5}}map(e){return PQ(e)?this.output(e):this.options.unknown}invert(e){return PQ(e)?this.input(e):this.options.unknown}nice(){if(!this.options.nice)return;const[e,t,i,...r]=this.getTickMethodOptions();this.options.domain=this.chooseNice()(e,t,i,...r)}getTicks(){const{tickMethod:e}=this.options,[t,i,r,...o]=this.getTickMethodOptions();return e(t,i,r,...o)}getTickMethodOptions(){const{domain:e,tickCount:t}=this.options;return[e[0],e[e.length-1],t]}chooseNice(){return Ngt}rescale(){this.nice();const[e,t]=this.chooseTransforms();this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,t,this.chooseClamp(t))}chooseClamp(e){const{clamp:t,range:i}=this.options,r=this.options.domain.map(e),o=Math.min(r.length,i.length);return t?function Rgt(n,e){const t=e<n?e:n,i=n>e?n:e;return r=>Math.min(Math.max(t,r),i)}(r[0],r[o-1]):cw}composeOutput(e,t){const{domain:i,range:r,round:o,interpolate:s}=this.options,a=KQ(i.map(e),r,s,o);this.output=CR(a,t,e)}composeInput(e,t,i){const{domain:r,range:o}=this.options,s=KQ(o,r.map(e),DR);this.input=CR(t,i,s)}}class HC extends ovt{getDefaultOptions(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Wgt,tickMethod:nvt,tickCount:5}}chooseTransforms(){return[cw,cw]}clone(){return new HC(this.options)}}var svt=function(n){function e(t){var i=this,r=t.style,o=vo(t,["style"]);return(i=n.call(this,ya({},{type:"column"},En({style:r},o)))||this).columnsGroup=new js({name:"columns"}),i.appendChild(i.columnsGroup),i.render(),i}return Ji(e,n),e.prototype.render=function(){var t=this.attributes,i=t.columns,o=t.y;this.columnsGroup.style.transform="translate(".concat(t.x,", ").concat(o,")"),yi(this.columnsGroup).selectAll(".column").data(i.flat()).join(function(s){return s.append("rect").attr("className","column").each(function(a){this.attr(a)})},function(s){return s.each(function(a){this.attr(a)})},function(s){return s.remove()})},e.prototype.update=function(t){this.attr(xa({},this.attributes,t)),this.render()},e.prototype.clear=function(){this.removeChildren()},e}(ra),avt=function(n){function e(t){var i=this,r=t.style,o=vo(t,["style"]);return(i=n.call(this,ya({},{type:"lines"},En({style:r},o)))||this).linesGroup=i.appendChild(new js),i.areasGroup=i.appendChild(new js),i.render(),i}return Ji(e,n),e.prototype.render=function(){var t=this.attributes,i=t.lines,r=t.areas,s=t.y;this.style.transform="translate(".concat(t.x,", ").concat(s,")"),i&&this.renderLines(i),r&&this.renderAreas(r)},e.prototype.clear=function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()},e.prototype.update=function(t){this.attr(xa({},this.attributes,t)),this.render()},e.prototype.renderLines=function(t){yi(this.linesGroup).selectAll(".line").data(t).join(function(i){return i.append("path").attr("className","line").each(function(r){this.attr(r)})},function(i){return i.each(function(r){this.attr(r)})},function(i){return i.remove()})},e.prototype.renderAreas=function(t){yi(this.linesGroup).selectAll(".area").data(t).join(function(i){return i.append("path").attr("className","area").each(function(r){this.attr(r)})},function(i){return i.each(function(r){this.style(r)})},function(i){return i.remove()})},e}(ra);function $C(n,e){void 0===e&&(e=!1);var t=e?n.length-1:0,i=n.map(function(r,o){return ni([o===t?"M":"L"],Kt(r),!1)});return e?i.reverse():i}function OR(n,e){if(void 0===e&&(e=!1),n.length<=2)return $C(n);for(var t=[],i=n.length,r=0;r<i;r+=1){var o=e?n[i-r-1]:n[r];Po(o,t.slice(-2))||t.push.apply(t,ni([],Kt(o),!1))}var s=function Qmt(n,e,t){void 0===t&&(t=[[0,0],[1,1]]);for(var i=!!e,r=[],o=0,s=n.length;o<s;o+=2)r.push([n[o],n[o+1]]);var h,p,v,a=function Zmt(n,e,t,i){var r,a,l,p,v,y,o=[],s=!!i,u=[1/0,1/0],h=[-1/0,-1/0];if(s){u=(r=Kt(i,2))[0],h=r[1];for(var b=0,E=n.length;b<E;b+=1)u=ry(u,w=n[b]),h=oy(h,w)}b=0;for(var S=n.length;b<S;b+=1){var w=n[b];if(0!==b||t)if(b!==S-1||t){var D=[0,0];D=bp(D=a9(l=n[b+1],a=n[b-1]),e);var k=zC(w,a),T=zC(w,l),I=k+T;0!==I&&(k/=I,T/=I);var F=bp(D,-k),z=bp(D,T);v=VC(w,F),p=ry(p=VC(w,z),oy(l,w)),p=oy(p,ry(l,w)),v=ry(v=VC(w,F=bp(F=a9(p,w),-k/T)),oy(a,w)),p=VC(w,z=bp(z=a9(w,v=oy(v,ry(a,w))),T/k)),s&&(v=ry(v=oy(v,u),h),p=ry(p=oy(p,u),h)),o.push(y),o.push(v),y=p}else v=w,o.push(y),o.push(v);else y=w}return o}(r,.4,i,t),l=r.length,u=[];for(o=0;o<l-1;o+=1)u.push(["C",(h=a[2*o])[0],h[1],(p=a[2*o+1])[0],p[1],(v=r[o+1])[0],v[1]]);return u}(t,!1);return s.unshift(ni(["M"],Kt(e?n[i-1]:n[0]),!1)),s}function g9(n,e,t){var i=Pa(n);return i.push(["L",e,t],["L",0,t],["Z"]),i}function XQ(n){return 0===n.length?[0,0]:[_v(RD(n,function(e){return _v(e)||0})),bv(ID(n,function(e){return bv(e)||0}))]}function YQ(n){for(var e=Pa(n),t=e[0].length,i=Kt([Array(t).fill(0),Array(t).fill(0)],2),r=i[0],o=i[1],s=0;s<e.length;s+=1)for(var a=e[s],l=0;l<t;l+=1)a[l]>=0?(a[l]+=r[l],r[l]=a[l]):(a[l]+=o[l],o[l]=a[l]);return e}var hvt=function(n){function e(t){return n.call(this,t,{type:"line",x:0,y:0,width:200,height:20,isStack:!1,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",scale:1,spacing:0})||this}return Ji(e,n),Object.defineProperty(e.prototype,"rawData",{get:function(){var t=this.attributes.data;if(!t||0===t?.length)return[[]];var i=Pa(t);return Zn(i[0])?[i]:i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.isStack?YQ(this.rawData):this.rawData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scales",{get:function(){return this.createScales(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseline",{get:function(){var t=this.scales.y,i=Kt(t.getOptions().domain||[0,0],2),r=i[0],o=i[1];return t.map(o<0?o:r<0?0:r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"containerShape",{get:function(){var t=this.attributes;return{width:t.width,height:t.height}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"linesStyle",{get:function(){var t=this,i=this.attributes,o=i.isStack,s=i.smooth;if("line"!==i.type)throw new Error("linesStyle can only be used in line type");var a=rr(this.attributes,"area"),l=rr(this.attributes,"line"),u=this.containerShape.width,h=this.data;if(0===h[0].length)return{lines:[],areas:[]};var p=this.scales,b=function lvt(n,e){var t,i=e.x,r=e.y,o=Kt(r.getOptions().range||[0,0],2),s=o[0],a=o[1];return a>s&&(t=Kt([s,a],2),a=t[0],s=t[1]),n.map(function(l){return l.map(function(h,p){return[i.map(p),Mo(r.map(h),a,s)]})})}(h,{type:"line",x:p.x,y:p.y}),E=[];if(a){var w=this.baseline;E=o?s?function dvt(n,e,t){for(var i=[],r=n.length-1;r>=0;r-=1){var o=n[r],s=OR(o),a=void 0;if(0===r)a=g9(s,e,t);else{var u=OR(n[r-1],!0),h=o[0];u[0][0]="L",a=ni(ni(ni([],Kt(s),!1),Kt(u),!1),[ni(["M"],Kt(h),!1),["Z"]],!1)}i.push(a)}return i}(b,u,w):function uvt(n,e,t){for(var i=[],r=n.length-1;r>=0;r-=1){var s=$C(n[r]),a=void 0;if(0===r)a=g9(s,e,t);else{var u=$C(n[r-1],!0);u[0][0]="L",a=ni(ni(ni([],Kt(s),!1),Kt(u),!1),[["Z"]],!1)}i.push(a)}return i}(b,u,w):function cvt(n,e,t,i){return n.map(function(r){return g9(e?OR(r):$C(r),t,i)})}(b,s,u,w)}return{lines:b.map(function(S,C){return En({stroke:t.getColor(C),d:s?OR(S):$C(S)},l)}),areas:E.map(function(S,C){return En({d:S,fill:t.getColor(C)},a)})}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"columnsStyle",{get:function(){var t=this,i=rr(this.attributes,"column"),r=this.attributes,o=r.isStack,a=r.scale;if("column"!==r.type)throw new Error("columnsStyle can only be used in column type");var l=this.containerShape.height,u=this.rawData;if(!u)return{columns:[]};o&&(u=YQ(u));var h=this.createScales(u),p=h.x,v=h.y,y=Kt(XQ(u),2),b=y[0],w=new HC({domain:[0,y[1]-(b>0?0:b)],range:[0,l*a]}),S=p.getBandWidth(),C=this.rawData;return{columns:u.map(function(D,k){return D.map(function(T,I){var F=S/u.length;return En(En({fill:t.getColor(k)},i),o?{x:p.map(I),y:v.map(T),width:S,height:w.map(C[k][I])}:{x:p.map(I)+F*k,y:v.map(T>=0?T:0),width:F,height:w.map(Math.abs(T))})})})}},enumerable:!1,configurable:!0}),e.prototype.render=function(t,i){(function rgt(n,e,t){return n.querySelector(e)?yi(n).select(e):yi(n).append(t)})(i,".container","rect").attr("className","container").node();var r=t.type,o=t.x,s=t.y,a="spark".concat(r),l=En({x:o,y:s},"line"===r?this.linesStyle:this.columnsStyle);yi(i).selectAll(".spark").data([r]).join(function(u){return u.append(function(h){return"line"===h?new avt({className:a,style:l}):new svt({className:a,style:l})}).attr("className","spark ".concat(a))},function(u){return u.update(l)},function(u){return u.remove()})},e.prototype.getColor=function(t){var i=this.attributes.color;return Hi(i)?i[t%i.length]:$n(i)?i.call(null,t):i},e.prototype.createScales=function(t){var i,r,o=this.attributes,s=o.type,a=o.scale,l=o.range,u=void 0===l?[]:l,h=o.spacing,p=this.containerShape,v=p.width,y=p.height,b=Kt(XQ(t),2),S=new HC({domain:[null!==(i=u[0])&&void 0!==i?i:b[0],null!==(r=u[1])&&void 0!==r?r:b[1]],range:[y,y*(1-a)]});return"line"===s?{type:s,x:new HC({domain:[0,t[0].length-1],range:[0,v]}),y:S}:{type:s,x:new m9({domain:t[0].map(function(C,D){return D}),range:[0,v],paddingInner:h,paddingOuter:h/2,align:.5}),y:S}},e.tag="sparkline",e}(Cs);function ZQ(n){if(!n)return{enter:!1,update:!1,exit:!1};var e=["enter","update","exit"],t=Object.fromEntries(Object.entries(n).filter(function(i){var r=Kt(i,1);return!e.includes(r[0])}));return Object.fromEntries(e.map(function(i){return function fvt(n){return"boolean"!=typeof n&&"enter"in n&&"update"in n&&"exit"in n}(n)?!1===n[i]?[i,!1]:[i,En(En({},n[i]),t)]:[i,t]}))}function I1(n,e){n?n.finished.then(e):e()}function QQ(n,e){"update"in n?n.update(e):n.attr(e)}function qQ(n,e,t){return 0===e.length?null:t?n.animate(e,t):(QQ(n,{style:e.slice(-1)[0]}),null)}function Ud(n,e,t){var i={},r={};return Object.entries(e).forEach(function(o){var s=Kt(o,2),a=s[0],l=s[1];if(!Ri(l)){var u=n.style[a]||n.parsedStyle[a]||0;u!==l&&(i[a]=u,r[a]=l)}}),t?qQ(n,[i,r],En({fill:"both"},t)):(QQ(n,r),null)}function TR(n,e){return n.style.opacity||(n.style.opacity=1),Ud(n,{opacity:0},e)}var JQ={fill:"#fff",lineWidth:1,radius:2,size:10,stroke:"#bfbfbf",strokeOpacity:1,zIndex:0},tq={fill:"#000",fillOpacity:.45,fontSize:12,textAlign:"center",textBaseline:"middle",zIndex:1},eq={x:0,y:0,orientation:"horizontal",showLabel:!0,type:"start"},rf=zd({foreground:"foreground",handle:"handle",selection:"selection",sparkline:"sparkline",sparklineGroup:"sparkline-group",track:"track",brushArea:"brush-area"},"slider"),Og=zd({labelGroup:"label-group",label:"label",iconGroup:"icon-group",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),vvt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),e.prototype.render=function(t,i){var r=t.x,o=t.y,s=t.size,a=void 0===s?10:s,l=t.radius,u=void 0===l?a/4:l,h=t.orientation,p=vo(t,["x","y","size","radius","orientation"]),v=a,y=2.4*v,b=yi(i).maybeAppendByClassName(Og.iconRect,"rect").styles(En(En({},p),{width:v,height:y,radius:u,x:r-v/2,y:o-y/2,transformOrigin:"center"})),E=r+1/3*v-v/2,w=r+2/3*v-v/2,S=o+1/4*y-y/2,C=o+3/4*y-y/2;b.maybeAppendByClassName("".concat(Og.iconLine,"-1"),"line").styles(En({x1:E,x2:E,y1:S,y2:C},p)),b.maybeAppendByClassName("".concat(Og.iconLine,"-2"),"line").styles(En({x1:w,x2:w,y1:S,y2:C},p)),"vertical"===h&&(b.node().style.transform="rotate(90)")},e}(Cs),yvt=function(n){function e(t){return n.call(this,t,eq)||this}return Ji(e,n),e.prototype.renderLabel=function(t){var i=this,r=this.attributes,o=r.x,s=r.y,a=r.showLabel,l=rr(this.attributes,"label"),u=l.x,h=void 0===u?0:u,p=l.y,v=void 0===p?0:p,y=l.transform,b=l.transformOrigin,w=Kt(_p(vo(l,["x","y","transform","transformOrigin"]),[]),2),S=w[0],C=w[1],D=yi(t).maybeAppendByClassName(Og.labelGroup,"g").styles(C),k=En(En({},tq),S),T=k.text,I=vo(k,["text"]);Zc(!!a,D,function(F){i.label=F.maybeAppendByClassName(Og.label,"text").styles(En(En({},I),{x:o+h,y:s+v,transform:y,transformOrigin:b,text:"".concat(T)})),i.label.on("mousedown",function(z){z.stopPropagation()}),i.label.on("touchstart",function(z){z.stopPropagation()})})},e.prototype.renderIcon=function(t){var i=this.attributes,a=i.type,l=En(En({x:i.x,y:i.y,orientation:i.orientation},JQ),rr(this.attributes,"icon")),u=this.attributes.iconShape,h=void 0===u?function(){return new vvt({style:l})}:u;yi(t).maybeAppendByClassName(Og.iconGroup,"g").selectAll(Og.icon.class).data([h]).join(function(v){return v.append("string"==typeof h?h:function(){return h(a)}).attr("className",Og.icon.name)},function(v){return v.update(l)},function(v){return v.remove()})},e.prototype.render=function(t,i){this.renderIcon(i),this.renderLabel(i)},e}(Cs),bvt=function(n){function e(t){var i=n.call(this,t,En(En(En({x:0,y:0,animate:{duration:100,fill:"both"},brushable:!0,formatter:function(r){return r.toString()},handleSpacing:2,orientation:"horizontal",padding:0,autoFitLabel:!0,scrollable:!0,selectionFill:"#5B8FF9",selectionFillOpacity:.45,selectionZIndex:2,showHandle:!0,showLabel:!0,slidable:!0,trackFill:"#416180",trackLength:200,trackOpacity:.05,trackSize:20,trackZIndex:-1,values:[0,1],type:"range",selectionType:"select",handleIconOffset:0},k1(eq,"handle")),k1(JQ,"handleIcon")),k1(tq,"handleLabel")))||this;return i.range=[0,1],i.onDragStart=function(r){return function(o){o.stopPropagation(),i.target=r,i.prevPos=i.getOrientVal(yQ(o));var s=i.availableSpace,a=s.x,l=s.y,u=i.getBBox(),h=u.x,p=u.y;i.selectionStartPos=i.getRatio(i.prevPos-i.getOrientVal([a,l])-i.getOrientVal([+h,+p])),i.selectionWidth=0,document.addEventListener("pointermove",i.onDragging),document.addEventListener("pointerup",i.onDragEnd)}},i.onDragging=function(r){var o=i.attributes,s=o.slidable,a=o.brushable,l=o.type;r.stopPropagation();var u=i.getOrientVal(yQ(r)),h=u-i.prevPos;if(h){var p=i.getRatio(h);switch(i.target){case"start":s&&i.setValuesOffset(p);break;case"end":s&&i.setValuesOffset(0,p);break;case"selection":s&&i.setValuesOffset(p,p);break;case"track":if(!a)return;i.selectionWidth+=p,i.innerSetValues("range"===l?[i.selectionStartPos,i.selectionStartPos+i.selectionWidth].sort():[0,i.selectionStartPos+i.selectionWidth],!0)}i.prevPos=u}},i.onDragEnd=function(){document.removeEventListener("pointermove",i.onDragging),document.removeEventListener("pointermove",i.onDragging),document.removeEventListener("pointerup",i.onDragEnd),i.target="",i.updateHandlesPosition(!1)},i.onValueChange=function(r){var o=i.attributes,s=o.onChange,a=o.type,l="range"===a?r:r[1],u="range"===a?i.getValues():i.getValues()[1],h=new Go("valuechange",{detail:{oldValue:l,value:u}});i.dispatchEvent(h),s?.(u)},i.selectionStartPos=0,i.selectionWidth=0,i.prevPos=0,i.target="",i}return Ji(e,n),Object.defineProperty(e.prototype,"values",{get:function(){return this.attributes.values},set:function(t){this.attributes.values=this.clampValues(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sparklineStyle",{get:function(){if("horizontal"!==this.attributes.orientation)return null;var i=rr(this.attributes,"sparkline");return En(En({zIndex:0},this.availableSpace),i)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t=this.attributes,i=t.trackLength,r=t.trackSize,o=Kt(this.getOrientVal([[i,r],[r,i]]),2);return{width:o[0],height:o[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"availableSpace",{get:function(){var r=Kt(Ls(this.attributes.padding),4),o=r[0],l=r[3],u=this.shape;return{x:l,y:o,width:u.width-(l+r[1]),height:u.height-(o+r[2])}},enumerable:!1,configurable:!0}),e.prototype.getValues=function(){return this.values},e.prototype.setValues=function(t,i){void 0===t&&(t=[0,0]),void 0===i&&(i=!1),this.attributes.values=t;var r=!1!==i&&this.attributes.animate;this.updateSelectionArea(r),this.updateHandlesPosition(r)},e.prototype.updateSelectionArea=function(t){var i=this.calcSelectionArea();this.foregroundGroup.selectAll(rf.selection.class).each(function(r,o){Ud(this,i[o],t)})},e.prototype.updateHandlesPosition=function(t){this.attributes.showHandle&&(this.startHandle&&Ud(this.startHandle,this.getHandleStyle("start"),t),this.endHandle&&Ud(this.endHandle,this.getHandleStyle("end"),t))},e.prototype.innerSetValues=function(t,i){void 0===t&&(t=[0,0]),void 0===i&&(i=!1);var r=this.values,o=this.clampValues(t);this.attributes.values=o,this.setValues(o),i&&this.onValueChange(r)},e.prototype.renderTrack=function(t){var i=this.attributes,r=i.x,o=i.y,s=rr(this.attributes,"track");this.trackShape=yi(t).maybeAppendByClassName(rf.track,"rect").styles(En(En({x:r,y:o},this.shape),s))},e.prototype.renderBrushArea=function(t){var i=this.attributes,r=i.x,o=i.y,s=i.brushable;this.brushArea=yi(t).maybeAppendByClassName(rf.brushArea,"rect").styles(En({x:r,y:o,fill:"transparent",cursor:s?"crosshair":"default"},this.shape))},e.prototype.renderSparkline=function(t){var i=this,r=this.attributes,o=r.x,s=r.y;Zc("horizontal"===r.orientation,yi(t).maybeAppendByClassName(rf.sparklineGroup,"g"),function(u){var h=En(En({},i.sparklineStyle),{x:o,y:s});u.maybeAppendByClassName(rf.sparkline,function(){return new hvt({style:h})}).update(h)})},e.prototype.renderHandles=function(){var i,t=this,r=this.attributes,l=r.showHandle?"range"===r.type?["start","end"]:["end"]:[],u=this;null===(i=this.foregroundGroup)||void 0===i||i.selectAll(rf.handle.class).data(l.map(function(h){return{type:h}}),function(h){return h.type}).join(function(h){return h.append(function(p){return new yvt({style:t.getHandleStyle(p.type)})}).each(function(p){var v=p.type;this.attr("class","".concat(rf.handle.name," ").concat(v,"-handle"));var y="".concat(v,"Handle");u[y]=this,this.addEventListener("pointerdown",u.onDragStart(v))})},function(h){return h.each(function(p){this.update(u.getHandleStyle(p.type))})},function(h){return h.each(function(p){var y="".concat(p.type,"Handle");u[y]=void 0}).remove()})},e.prototype.renderSelection=function(t){var i=this.attributes,r=i.x,o=i.y,s=i.type,a=i.selectionType;this.foregroundGroup=yi(t).maybeAppendByClassName(rf.foreground,"g");var l=rr(this.attributes,"selection"),u=function(p){return p.style("visibility",function(v){return v.show?"visible":"hidden"}).style("cursor",function(v){return"select"===a?"grab":"invert"===a?"crosshair":"default"}).styles(En(En({},l),{transform:"translate(".concat(r,", ").concat(o,")")}))},h=this;this.foregroundGroup.selectAll(rf.selection.class).data("value"===s?[]:this.calcSelectionArea().map(function(p,v){return{style:En({},p),index:v,show:"select"===a?1===v:1!==v}}),function(p){return p.index}).join(function(p){return p.append("rect").attr("className",rf.selection.name).call(u).each(function(v,y){var b=this;1===y?(h.selectionShape=yi(this),this.on("pointerdown",function(E){b.attr("cursor","grabbing"),h.onDragStart("selection")(E)}),h.dispatchCustomEvent(this,"pointerenter","selectionMouseenter"),h.dispatchCustomEvent(this,"pointerleave","selectionMouseleave"),h.dispatchCustomEvent(this,"click","selectionClick"),this.addEventListener("pointerdown",function(){b.attr("cursor","grabbing")}),this.addEventListener("pointerup",function(){b.attr("cursor","pointer")}),this.addEventListener("pointerover",function(){b.attr("cursor","pointer")})):this.on("pointerdown",h.onDragStart("track"))})},function(p){return p.call(u)},function(p){return p.remove()}),this.updateSelectionArea(!1),this.renderHandles()},e.prototype.render=function(t,i){this.renderTrack(i),this.renderSparkline(i),this.renderBrushArea(i),this.renderSelection(i)},e.prototype.clampValues=function(t,i){var r;void 0===i&&(i=4);var o=Kt(this.range,2),s=o[0],a=o[1],l=Kt(this.getValues().map(function(w){return EQ(w,i)}),2),u=l[0],h=l[1],v=Kt(((Array.isArray(t)?t:[u,t??h])||[u,h]).map(function(w){return EQ(w,i)}),2),y=v[0],b=v[1];if("value"===this.attributes.type)return[0,Mo(b,s,a)];y>b&&(y=(r=Kt([b,y],2))[0],b=r[1]);var E=b-y;return E>a-s?[s,a]:y<s?u===s&&h===b?[s,b]:[s,E+s]:b>a?h===a&&u===y?[y,a]:[a-E,a]:[y,b]},e.prototype.calcSelectionArea=function(t){var i=Kt(this.clampValues(t),2),r=i[0],o=i[1],s=this.availableSpace,a=s.x,l=s.y,u=s.width,h=s.height;return this.getOrientVal([[{y:l,height:h,x:a,width:r*u},{y:l,height:h,x:r*u+a,width:(o-r)*u},{y:l,height:h,x:o*u,width:(1-o)*u}],[{x:a,width:u,y:l,height:r*h},{x:a,width:u,y:r*h+l,height:(o-r)*h},{x:a,width:u,y:o*h,height:(1-o)*h}]])},e.prototype.calcHandlePosition=function(t){var i=this.attributes.handleIconOffset,r=this.availableSpace,o=r.x,s=r.y,a=r.width,l=r.height,u=Kt(this.clampValues(),2),v="start"===t?-i:i,y=("start"===t?u[0]:u[1])*this.getOrientVal([a,l])+v;return{x:o+this.getOrientVal([y,a/2]),y:s+this.getOrientVal([l/2,y])}},e.prototype.inferTextStyle=function(t){return"horizontal"===this.attributes.orientation?{}:"start"===t?{transformOrigin:"left center",transform:"rotate(90)",textAlign:"start"}:"end"===t?{transformOrigin:"right center",transform:"rotate(90)",textAlign:"end"}:{}},e.prototype.calcHandleText=function(t){var i,r=this.attributes,o=r.type,s=r.orientation,a=r.formatter,l=r.autoFitLabel,u=rr(this.attributes,"handle"),h=rr(u,"label"),p=u.spacing,v=this.getHandleSize(),y=this.clampValues(),E=a("start"===t?y[0]:y[1]),w=new r9({style:En(En(En({},h),this.inferTextStyle(t)),{text:E})}),S=w.getBBox(),C=S.width,D=S.height;if(w.destroy(),!l){if("value"===o)return{text:E,x:0,y:-D-p};var k=p+v+("horizontal"===s?C/2:0);return(i={text:E})["horizontal"===s?"x":"y"]="start"===t?-k:k,i}var T=0,I=0,F=this.availableSpace,z=F.width,V=F.height,K=this.calcSelectionArea()[1],Y=K.x,Q=K.y,Pt=p+v;if("horizontal"===s){var ct=Pt+C/2;T="start"===t?Y-Pt-C>0?-ct:ct:z-Y-K.width-Pt>C?ct:-ct}else{var ie=D+Pt;I="start"===t?Q-v>D?-ie:Pt:V-(Q+K.height)-v>D?ie:-Pt}return{x:T,y:I,text:E}},e.prototype.getHandleLabelStyle=function(t){var i=rr(this.attributes,"handleLabel");return En(En(En({},i),this.calcHandleText(t)),this.inferTextStyle(t))},e.prototype.getHandleIconStyle=function(){var t=this.attributes.handleIconShape,i=rr(this.attributes,"handleIcon"),r=this.getOrientVal(["ew-resize","ns-resize"]),o=this.getHandleSize();return En({cursor:r,shape:t,size:o},i)},e.prototype.getHandleStyle=function(t){var i=this.attributes,r=i.x,o=i.y,s=i.showLabel,a=i.showLabelOnInteraction,l=i.orientation,u=this.calcHandlePosition(t),h=u.x,p=u.y,v=this.calcHandleText(t),y=s;return!s&&a&&(y=!!this.target),En(En(En({},k1(this.getHandleIconStyle(),"icon")),k1(En(En({},this.getHandleLabelStyle(t)),v),"label")),{transform:"translate(".concat(h+r,", ").concat(p+o,")"),orientation:l,showLabel:y,type:t,zIndex:3})},e.prototype.getHandleSize=function(){var t=this.attributes;return t.handleIconSize||Math.floor((this.getOrientVal([+t.height,+t.width])+4)/2.4)},e.prototype.getOrientVal=function(t){var i=Kt(t,2);return"horizontal"===this.attributes.orientation?i[0]:i[1]},e.prototype.setValuesOffset=function(t,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var o=this.attributes.type,s=Kt(this.getValues(),2),h=[s[0]+("range"===o?t:0),s[1]+i].sort();r?this.setValues(h):this.innerSetValues(h,!0)},e.prototype.getRatio=function(t){var i=this.availableSpace;return t/this.getOrientVal([i.width,i.height])},e.prototype.dispatchCustomEvent=function(t,i,r){var o=this;t.on(i,function(s){s.stopPropagation(),o.dispatchEvent(new Go(r,{detail:s}))})},e.prototype.bindEvents=function(){this.addEventListener("wheel",this.onScroll);var t=this.brushArea;this.dispatchCustomEvent(t,"click","trackClick"),this.dispatchCustomEvent(t,"pointerenter","trackMouseenter"),this.dispatchCustomEvent(t,"pointerleave","trackMouseleave"),t.on("pointerdown",this.onDragStart("track"))},e.prototype.onScroll=function(t){if(this.attributes.scrollable){var a=this.getRatio(t.deltaY||t.deltaX);this.setValuesOffset(a,a,!0)}},e.tag="slider",e}(Cs),v9={data:[],animate:{enter:!1,update:{duration:100,easing:"ease-in-out-sine",fill:"both"},exit:{duration:100,fill:"both"}},showArrow:!0,showGrid:!0,showLabel:!0,showLine:!0,showTick:!0,showTitle:!0,showTrunc:!1,dataThreshold:100,lineLineWidth:1,lineStroke:"black",crossPadding:10,titleFill:"black",titleFontSize:12,titlePosition:"lb",titleSpacing:0,titleTextAlign:"center",titleTextBaseline:"middle",lineArrow:function(){return new f0({style:{d:[["M",10,10],["L",-10,0],["L",10,-10],["L",0,0],["L",10,10],["Z"]],fill:"black",transformOrigin:"center"}})},labelAlign:"parallel",labelDirection:"positive",labelFontSize:12,labelSpacing:0,gridConnect:"line",gridControlAngles:[],gridDirection:"positive",gridLength:0,gridType:"segment",lineArrowOffset:15,lineArrowSize:10,tickDirection:"positive",tickLength:5,tickLineWidth:1,tickStroke:"black",labelOverlap:[]};ya({},v9,{style:{type:"arc"}}),ya({},v9,{style:{}});var _o=zd({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"),R1=zd({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function nq(n){return n.reduce(function(e,t,i){return e.push(ni([0===i?"M":"L"],Kt(t),!1)),e},[])}function y9(n,e,t){return"surround"===e.type?function _vt(n,e,t){var i=e.connect,o=e.center;if("line"===(void 0===i?"line":i))return nq(n);if(!o)return[];var s=zC(n[0],o),a=t?0:1;return n.reduce(function(l,u,h){return l.push(ni(0===h?["M"]:["A",s,s,0,0,a],Kt(u),!1)),l},[])}(n,e,t):nq(n)}function Evt(n,e,t){var i=t.type,r=t.connect,o=t.center,a=t.closed?[["Z"]]:[],l=Kt([y9(n,t),y9(e.slice().reverse(),t,!0)],2),u=l[0],h=l[1],p=Kt([n[0],e.slice(-1)[0]],2),v=p[0],y=p[1],b=function(C,D){return[u,C,h,D,a].flat()};if("line"===r||"surround"===i)return b([ni(["L"],Kt(y),!1)],[ni(["L"],Kt(v),!1)]);if(!o)throw new Error("Arc grid need to specified center");var E=Kt([zC(y,o),zC(v,o)],2),w=E[0],S=E[1];return b([ni(["A",w,w,0,0,1],Kt(y),!1),ni(["L"],Kt(y),!1)],[ni(["A",S,S,0,0,0],Kt(v),!1),ni(["L"],Kt(v),!1)])}var Mvt=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),e.prototype.render=function(t,i){var r=vo(t,["type","center","areaFill","closed"]),o=function Cvt(n){var e=n.data,t=void 0===e?[]:e;return n.closed?t.map(function(r){var o=r.points,a=Kt(o,1)[0];return En(En({},r),{points:ni(ni([],Kt(o),!1),[a],!1)})}):t}(t),s=yi(i).maybeAppendByClassName(R1.lineGroup,"g"),a=yi(i).maybeAppendByClassName(R1.regionGroup,"g"),l=function wvt(n,e,t,i){var r=t.animate,o=t.isBillboard,s=e.map(function(a,l){return{id:a.id||"grid-line-".concat(l),d:y9(a.points,t)}});return n.selectAll(R1.line.class).data(s,function(a){return a.id}).join(function(a){return a.append("path").each(function(l,u){var h=Uu(xQ(En({d:l.d},i)),[l,u,s]);this.attr(En({class:R1.line.name,stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4],isBillboard:o},h))})},function(a){return a.transition(function(l,u){return Ud(this,Uu(xQ(En({d:l.d},i)),[l,u,s]),r.update)})},function(a){return a.transition(function(){var l=this,u=TR(this,r.exit);return I1(u,function(){return l.remove()}),u})}).transitions()}(s,o,t,r),u=function xvt(n,e,t){var b,i=t.animate,o=t.areaFill;if(e.length<2||!o||!t.connect)return[];for(var s=Array.isArray(o)?o:[o,"transparent"],l=[],u=0;u<e.length-1;u++){var h=Kt([e[u].points,e[u+1].points],2),y=Evt(h[0],h[1],t);l.push({d:y,fill:(b=u,s[b%s.length])})}return n.selectAll(R1.region.class).data(l,function(b,E){return E}).join(function(b){return b.append("path").each(function(E,w){var S=Uu(E,[E,w,l]);this.attr(S)}).attr("className",R1.region.name)},function(b){return b.transition(function(E,w){return Ud(this,Uu(E,[E,w,l]),i.update)})},function(b){return b.transition(function(){var E=this,w=TR(this,i.exit);return I1(w,function(){return E.remove()}),w})}).transitions()}(a,o,t);return ni(ni([],Kt(l),!1),Kt(u),!1)},e}(Cs);function iq(n,e){return Object.fromEntries(Object.entries(n).map(function(t){var i=Kt(t,2);return[i[0],Uu(i[1],e)]}))}function b9(n,e){return e&&$n(e)?n.filter(e):n}function rq(n,e){var t=e.startAngle;return(e.endAngle-t)*n+t}function AR(n,e){if("linear"===e.type){var t=Kt(e.startPos,2),i=t[0],r=t[1],o=Kt(e.endPos,2),l=Kt([o[0]-i,o[1]-r],2);return _Q([l[0],l[1]])}var p=A1(rq(n,e));return[-Math.sin(p),Math.cos(p)]}function _9(n,e,t){return function Ymt(n,e){return e?[n[1],-n[0]]:[-n[1],n[0]]}(AR(n,t),"positive"!==e)}function WC(n,e){return _9(n,e.labelDirection,e)}function kR(n,e){return"linear"===e.type?function Svt(n,e){var t=Kt(e.startPos,2),i=t[0],r=t[1],o=Kt(e.endPos,2),l=Kt([o[0]-i,o[1]-r],2);return[i+l[0]*n,r+l[1]*n]}(n,e):function Dvt(n,e){var t=e.radius,i=Kt(e.center,2),r=i[0],o=i[1],s=A1(rq(n,e));return[r+t*Math.cos(s),o+t*Math.sin(s)]}(n,e)}function oq(n){return 0===AR(0,n)[1]}function sq(n){return 0===AR(0,n)[0]}function aq(n,e){return e-n==360}function lq(n,e,t,i,r){var o=e-n,s=Kt([r,r],2),a=s[0],l=s[1],u=Kt([A1(n),A1(e)],2),h=u[0],p=u[1],v=function(V){return[t+r*Math.cos(V),i+r*Math.sin(V)]},y=Kt(v(h),2),b=y[0],E=y[1],w=Kt(v(p),2),S=w[0],C=w[1];if(aq(n,e)){var k=Kt(v((p+h)/2),2);return[["M",b,E],["A",a,l,0,1,0,k[0],k[1]],["A",a,l,0,1,0,S,C]]}var F=o>180?1:0,z=n>e?0:1;return"M".concat(b,",").concat(E,",A").concat(a,",").concat(l,",0,").concat(F,",").concat(z,",").concat(S,",").concat(C)}function Tvt(n,e,t,i){var r=e.startAngle,o=e.endAngle,s=e.center,a=e.radius;return n.selectAll(_o.line.class).data([{d:lq.apply(void 0,ni(ni([r,o],Kt(s),!1),[a],!1))}],function(l,u){return u}).join(function(l){return l.append("path").attr("className",_o.line.name).styles(e).styles({d:function(u){return u.d}})},function(l){return l.transition(function(){var u=this,h=function $mt(n,e,t,i){if(!i)return n.attr("__keyframe_data__",t),null;var r=i.duration,o=void 0===r?0:r,s=s9(e,t),a=Math.ceil(+o/16),l=new Array(a).fill(0).map(function(u,h,p){return{__keyframe_data__:s(h/(p.length-1))}});return n.animate(l,En({fill:"both"},i))}(this,function Ovt(n){var e=n.attributes,o=e.radius;return ni(ni([e.startAngle,e.endAngle],Kt(e.center),!1),[o],!1)}(this),ni(ni([r,o],Kt(s),!1),[a],!1),i.update);if(h){var p=function(){var v=na(u.attributes,"__keyframe_data__");u.style.d=lq.apply(void 0,ni([],Kt(v),!1))};h.onframe=p,h.onfinish=p}return h}).styles(e)},function(l){return l.remove()}).styles(t).transitions()}function cq(n){var e=Kt(n,2),t=Kt(e[0],2),i=t[0],r=t[1],o=Kt(e[1],2);return{x1:i,y1:r,x2:o[0],y2:o[1]}}function Pvt(n,e,t){var r,i=e.type,o=rr(e,"line");return r="linear"===i?function Ivt(n,e,t,i){var r=e.showTrunc,o=e.startPos,s=e.endPos,a=e.truncRange,l=e.lineExtension,u=Kt([o,s],2),h=Kt(u[0],2),p=h[0],v=h[1],y=Kt(u[1],2),b=y[0],E=y[1],w=Kt(l?function kvt(n,e,t){void 0===t&&(t=[0,0]);var i=Kt([n,e,t],3),r=Kt(i[0],2),o=r[0],s=r[1],a=Kt(i[1],2),l=a[0],u=a[1],h=Kt(i[2],2),p=h[0],v=h[1],y=Kt([l-o,u-s],2),b=y[0],E=y[1],w=Math.sqrt(Math.pow(b,2)+Math.pow(E,2)),S=Kt([-p/w,v/w],2),C=S[0],D=S[1];return[C*b,C*E,D*b,D*E]}(o,s,l):new Array(4).fill(0),4),S=w[0],C=w[1],D=w[2],k=w[3],T=function(rt){return n.selectAll(_o.line.class).data(rt,function(Nt,ie){return ie}).join(function(Nt){return Nt.append("line").attr("className",function(ie){return"".concat(_o.line.name," ").concat(ie.className)}).styles(t).transition(function(ie){return Ud(this,cq(ie.line),!1)})},function(Nt){return Nt.styles(t).transition(function(ie){return Ud(this,cq(ie.line),i.update)})},function(Nt){return Nt.remove()}).transitions()};if(!r||!a)return T([{line:[[p+S,v+C],[b+D,E+k]],className:_o.line.name}]);var I=Kt(a,2),F=I[0],z=I[1],V=b-p,K=E-v,Y=Kt([p+V*F,v+K*F],2),Q=Y[0],at=Y[1],It=Kt([p+V*z,v+K*z],2);return T([{line:[[p+S,v+C],[Q,at]],className:_o.lineFirst.name},{line:[[It[0],It[1]],[b+D,E+k]],className:_o.lineSecond.name}])}(n,e,wQ(o,"arrow"),t):Tvt(n,e,wQ(o,"arrow"),t),function Rvt(n,e,t,i){var u,r=t.showArrow,s=t.lineArrow,a=t.lineArrowOffset,l=t.lineArrowSize;if(u=n.select("arc"===e?_o.line.class:t.showTrunc?_o.lineSecond.class:_o.line.class),!r||!s||"arc"===t.type&&aq(t.startAngle,t.endAngle)){var h=u.node();h&&(h.style.markerEnd=void 0)}else{var p=yp(s);p.attr(i),l9(p,l),u.style("markerEnd",p).style("markerEndOffset",-a)}}(n,i,e,o),r}function uq(n){var t=n.gridCenter;return"linear"===n.type?t:t||n.center}function Bvt(n,e,t,i){var r=rr(t,"grid"),o=r.type,s=r.areaFill,a=uq(t),l=b9(e,t.gridFilter),u="segment"===o?function Lvt(n,e){var t=e.gridLength;return n.map(function(i,r){var o=i.value,s=Kt(kR(o,e),2),a=s[0],l=s[1],u=Kt(bp(function Nvt(n,e){return _9(n,e.gridDirection,e)}(o,e),t),2);return{id:r,points:[[a,l],[a+u[0],l+u[1]]]}})}(l,t):function Fvt(n,e){var t=e.gridControlAngles,i=uq(e);if(!i)throw new Error("grid center is not provide");if(n.length<2)throw new Error("Invalid grid data");if(!t||0===t.length)throw new Error("Invalid gridControlAngles");var r=Kt(i,2),o=r[0],s=r[1];return n.map(function(a,l){var h=Kt(kR(a.value,e),2),y=Kt([h[0]-o,h[1]-s],2),b=y[0],E=y[1],w=[];return t.forEach(function(S){var C=A1(S),D=Kt([Math.cos(C),Math.sin(C)],2),k=D[0],T=D[1];w.push([b*k-E*T+o,b*T+E*k+s])}),{points:w,id:l}})}(l,t),h=En(En({},r),{center:a,areaFill:$n(s)?l.map(function(p,v){return Uu(s,[p,v,l])}):s,animate:i,data:u});return n.selectAll(_o.grid.class).data([1]).join(function(p){return p.append(function(){return new Mvt({style:h})}).attr("className",_o.grid.name)},function(p){return p.transition(function(){return this.update(h)})},function(p){return p.remove()}).transitions()}var E9=function(){function n(e,t,i,r){this.set(e,t,i,r)}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x2},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y2},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"width",{get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0},enumerable:!1,configurable:!0}),n.prototype.rotatedPoints=function(e,t,i){var r=this,o=r.x1,s=r.y1,a=r.x2,l=r.y2,u=Math.cos(e),h=Math.sin(e),p=t-t*u+i*h,v=i-t*h-i*u;return[[u*o-h*l+p,h*o+u*l+v],[u*a-h*l+p,h*a+u*l+v],[u*o-h*s+p,h*o+u*s+v],[u*a-h*s+p,h*a+u*s+v]]},n.prototype.set=function(e,t,i,r){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},n.prototype.defined=function(e){return this[e]!==Number.MAX_VALUE&&this[e]!==-Number.MAX_VALUE},n}();function w9(n,e){var t=n.getEulerAngles()||0;n.setEulerAngles(0);var i=n.getBounds(),r=Kt(i.min,2),o=r[0],s=r[1],a=Kt(i.max,2),l=a[0],u=a[1],h=n.getBBox(),p=h.width,y=h.height,b=0,E=0,w=o,S=s,C=gQ(n);if(C){y-=1.5;var D=C.style.textAlign,k=C.style.textBaseline;"center"===D?w=(o+l)/2:("right"===D||"end"===D)&&(w=l),"middle"===k?S=(s+u)/2:"bottom"===k&&(S=u)}var T=Kt(Ls(e),4),I=T[0],F=void 0===I?0:I,z=T[1],V=void 0===z?0:z,K=T[2],Q=T[3],It=new E9((b+=o)-(void 0===Q?V:Q),(E+=s)-F,b+p+V,E+y+(void 0===K?F:K));return n.setEulerAngles(t),It.rotatedPoints(A1(t),w,S)}function KC(n,e){return e[0]<=Math.max(n[0][0],n[1][0])&&e[0]<=Math.min(n[0][0],n[1][0])&&e[1]<=Math.max(n[0][1],n[1][1])&&e[1]<=Math.min(n[0][1],n[1][1])}function XC(n,e,t){var i=(e[1]-n[1])*(t[0]-e[0])-(e[0]-n[0])*(t[1]-e[1]);return 0===i?0:i<0?2:1}function jvt(n,e){var t=XC(n[0],n[1],e[0]),i=XC(n[0],n[1],e[1]),r=XC(e[0],e[1],n[0]),o=XC(e[0],e[1],n[1]);return!!(t!==i&&r!==o||0===t&&KC(n,e[0])||0===i&&KC(n,e[1])||0===r&&KC(e,n[0])||0===o&&KC(e,n[1]))}function Hvt(n,e){return[[n[0],n[1],n[2],n[3]],[n[2],n[3],n[4],n[5]],[n[4],n[5],n[6],n[7]],[n[6],n[7],n[0],n[1]]].some(function(i){return function Gvt(n,e){var t=Kt(n,4),i=t[0],r=t[1],o=t[2],s=t[3],a=Kt(e,4),l=a[0],u=a[1],v=o-i,y=s-r,b=a[2]-l,E=a[3]-u,w=v*E-b*y;if(0===w)return!1;var S=w>0,C=i-l,D=r-u,k=v*D-y*C;if(k<0===S)return!1;var T=b*D-E*C;return!(T<0===S||k>w===S||T>w===S)}(e,i)})}function IR(n,e,t){var i,r,b,E,o=e.crossPadding,s=new Set,a=null,l=function Wvt(n,e){var i=n.labelDirection,r=n.crossSize;if(!r)return!1;if("arc"===n.type){var s=n.radius,a=Kt(n.center,2),l=a[0],u=a[1],h="negative"===i?0:r,p=-s-h,v=s+h,y=Kt(Ls(e),4);return new E9(l+p-y[3],u+p-y[0],l+v+y[1],u+v+y[2])}var C=Kt(n.startPos,2),D=C[0],k=C[1],T=Kt(n.endPos,2),I=T[0],F=T[1],z=Kt(sq(n)?[-e,0,e,0]:[0,e,0,-e],4),V=z[0],K=z[1],Y=z[2],Q=z[3],It=bp(WC(0,n),r),Pt=new E9(D,k,I,F);return Pt.x1+=Q,Pt.y1+=V,Pt.x2+=K+It[0],Pt.y2+=Y+It[1],Pt}(e,o),u=function(b){return!l||function Uvt(n,e,t){var i=n.x1,r=n.x2,o=n.y1,s=n.y2;return function zvt(n,e){return e.every(function(t){return function Vvt(n,e){var t=n.length;if(t<3)return!1;var i=[e,[9999,e[1]]],r=0,o=0;do{var s=[n[o],n[(o+1)%t]];if(jvt(s,i)){if(0===XC(s[0],e,s[1]))return KC(s,e);r++}o=(o+1)%t}while(0!==o);return!!(1&r)}(n,t)})}([[i,o],[r,o],[r,s],[i,s]],w9(e,t))}(l,b)};try{for(var p=fm(n),v=p.next();!v.done;v=p.next()){var y=v.value;u(y)?a&&(E=y,(b=a)&&b.firstChild&&function $vt(n,e,t){var i,r,o=w9(n,t).flat(1),s=w9(e,t).flat(1),a=[[o[0],o[1],o[2],o[3]],[o[0],o[1],o[4],o[5]],[o[4],o[5],o[6],o[7]],[o[2],o[3],o[6],o[7]]];try{for(var l=fm(a),u=l.next();!u.done;u=l.next())if(Hvt(s,u.value))return!0}catch(p){i={error:p}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}return!1}(b.firstChild,E.firstChild,Ls(t)))?(s.add(a),s.add(y)):a=y:s.add(y)}}catch(b){i={error:b}}finally{try{v&&!v.done&&(r=p.return)&&r.call(p)}finally{if(i)throw i.error}}return Array.from(s)}function x9(n,e){return void 0===e&&(e={}),Ri(n)?0:"number"==typeof n?n:Math.floor(jmt(n,e))}var Xvt_parity=function(n,e){var t=e.seq,i=void 0===t?2:t;return n.filter(function(r,o){return!(o%i&&(Vd(r),1))})},Yvt=function(n){return n.filter(pQ)},t0t=new Map([["hide",function Zvt(n,e,t,i){var r=n.length,o=e.keepHeader,s=e.keepTail;if(!(r<=1||2===r&&o&&s)){var w,S,a=Xvt_parity,l=function(D){return D.forEach(i.show),D},u=2,h=n.slice(),p=n.slice(),v=Math.min.apply(Math,ni([1],Kt(n.map(function(D){return D.getBBox().width})),!1));if("linear"===t.type&&(oq(t)||sq(t))){var y=CQ(n[0]).left,b=CQ(n[r-1]).right,E=Math.abs(b-y)||1;u=Math.max(Math.floor(r*v/E),u)}for(o&&(w=h.splice(0,1)[0]),s&&(S=h.splice(-1,1)[0],h.reverse()),l(h);u<n.length&&IR(Yvt(S?ni(ni([S],Kt(p),!1),[w],!1):ni([w],Kt(p),!1)),t,e?.margin).length;)(S&&!w&&u%2==0||S&&w)&&h.splice(0,1).forEach(i.hide),p=a(l(h),{seq:u}),u++}}],["rotate",function Qvt(n,e,t,i){var r,o,s=e.optionalAngles,a=void 0===s?[0,45,90]:s,l=e.margin,u=e.recoverWhenFailed,h=void 0===u||u,p=n.map(function(S){return S.getLocalEulerAngles()}),y=function(S){return n.forEach(function(C,D){var k=Array.isArray(S)?S[D]:S;i.rotate(C,+k)})};try{for(var b=fm(a),E=b.next();!E.done;E=b.next())if(y(E.value),IR(n,t,l).length<1)return}catch(S){r={error:S}}finally{try{E&&!E.done&&(o=b.return)&&o.call(b)}finally{if(r)throw r.error}}h&&y(p)}],["ellipsis",function Kvt(n,e,t,i){if(!(n.length<=1)){var r=e.suffix,o=void 0===r?"...":r,s=e.minLength,a=e.maxLength,l=void 0===a?1/0:a,u=e.step,h=void 0===u?" ":u,p=e.margin,v=void 0===p?[0,0,0,0]:p,y=mQ(i.getTextShape(n[0])),b=x9(h,y),E=s?x9(s,y):b,w=x9(l,y);(Ri(w)||w===1/0)&&(w=Math.max.apply(null,n.map(function(I){return I.getBBox().width})));for(var S=n.slice(),D=(Kt(v,4),function(I){if(S.forEach(function(F){i.ellipsis(i.getTextShape(F),I,o)}),(S=IR(n,t,v)).length<1)return{value:void 0}}),k=w;k>E+b;k-=b){var T=D(k);if("object"==typeof T)return T.value}}}],["wrap",function Jvt(n,e,t,i){var r=e.wordWrapWidth,o=void 0===r?50:r,s=e.maxLines,a=void 0===s?3:s,l=e.recoverWhenFailed,u=void 0===l||l,h=e.margin,p=void 0===h?[0,0,0,0]:h,v=n.map(function(C){return C.attr("maxLines")||1}),y=Math.min.apply(Math,ni([],Kt(v),!1)),E=function qvt(n){var t=n.labelDirection;return"linear"===n.type&&oq(n)?"negative"===t?"bottom":"top":"middle"}(t),w=function(C){return n.forEach(function(D,k){var T=Array.isArray(C)?C[k]:C;i.wrap(D,o,T,E)})};if(!(y>a)){for(var S=y;S<=a;S++)if(w(S),IR(n,t,p).length<1)return;u&&w(v)}}]]);function i0t(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.reduce(function(i,r){return i*function(i){return"positive"===i?-1:1}(r)},1)}function dq(n){for(var e=n;e<0;)e+=360;return Math.round(e%360)}function C9(n,e){var t=Kt(n,2),i=t[0],r=t[1],o=Kt(e,2),s=o[0],a=o[1],l=Kt([i*s+r*a,i*a-r*s],2);return Math.atan2(l[1],l[0])}function hq(n,e,t){var i=t.type,r=t.labelAlign,o=WC(n,t),s=dq(e),a=dq(hQ(C9([1,0],o))),l="center",u="middle";return"linear"===i?[90,270].includes(a)&&0===s?(l="center",u=1===o[1]?"top":"bottom"):a%180||![90,270].includes(s)?0===a?(Va(s,0,90,!1,!0)||Va(s,0,90)||Va(s,270,360))&&(l="start"):90===a?Va(s,0,90,!1,!0)?l="start":(Va(s,90,180)||Va(s,270,360))&&(l="end"):270===a?Va(s,0,90,!1,!0)?l="end":(Va(s,90,180)||Va(s,270,360))&&(l="start"):180===a&&(90===s?l="start":(Va(s,0,90)||Va(s,270,360))&&(l="end")):l="center":"parallel"===r?u=Va(a,0,180,!0)?"top":"bottom":"horizontal"===r?Va(a,90,270,!1)?l="end":(Va(a,270,360,!1)||Va(a,0,90))&&(l="start"):"perpendicular"===r&&(l=Va(a,90,270)?"end":"start"),{textAlign:l,textBaseline:u}}function fq(n,e,t){var i=t.showTick,r=t.tickLength,o=t.tickDirection,s=t.labelDirection,a=t.labelSpacing,l=e.indexOf(n),u=Uu(a,[n,l,e]),h=Kt([WC(n.value,t),i0t(s,o)],2),b=Kt(VC(bp(h[0],u+(1===h[1]?Uu(i?r:0,[n,l,e]):0)),kR(n.value,t)),2);return{x:b[0],y:b[1]}}function pq(n,e){"text"===n.nodeName&&n.attr(e)}function mq(n){!function n0t(n,e,t){var i=e.labelOverlap,r=void 0===i?[]:i;r.length&&r.forEach(function(o){var s=o.type,a=t0t.get(s);(function e0t(n,e,t){return!(e.labelOverlap.length<1)&&("hide"===t?!function Fmt(n){for(var e=n;e;){if("offscreen"===e.className)return!0;e=e.parent}return!1}(n[0]):"rotate"===t?!n.some(function(i){var r;return!(null===(r=i.attr("transform"))||void 0===r||!r.includes("rotate"))}):"ellipsis"!==t&&"wrap"!==t||n.filter(function(i){return i.querySelector("text")}).length>1)})(n,e,s)&&a?.(n,o,e,t)})}(this.node().childNodes,n,{hide:Vd,show:jC,rotate:function(e,t){!function s0t(n,e,t){e.setLocalEulerAngles(n);var r=hq(e.__data__.value,n,t),o=e.querySelector(_o.labelItem.class);o&&pq(o,r)}(+t,e,n)},ellipsis:function(e,t,i){e&&o9(e,t||1/0,i)},wrap:function(e,t,i){e&&function Vmt(n,e,t,i){void 0===t&&(t=2),void 0===i&&(i="top"),vQ(n,{wordWrap:!0,wordWrapWidth:e,maxLines:t,textBaseline:i})}(e,t,i)},getTextShape:function(e){return e.querySelector("text")}})}function gq(n,e,t,i,r){var o=t.indexOf(e),s=yi(n).append(function a0t(n,e,t,i){var r=i.labelFormatter;return $n(r)?function(){return yp(Uu(r,[n,e,t,WC(n.value,i)]))}:function(){return yp(n.label||"")}}(e,o,t,r)).attr("className",_o.labelItem.name).node(),a=Kt(_p(iq(i,[e,o,t])),2),l=a[0],u=a[1],h=u.transform,p=vo(u,["transform"]);SQ(s,h);var v=function o0t(n,e,t){var i,r=t.labelAlign;if(null===(i=e.style.transform)||void 0===i?void 0:i.includes("rotate"))return e.getLocalEulerAngles();var a=WC(n.value,t),l=AR(n.value,t);return"horizontal"===r?0:function r0t(n){var e=(n+360)%180;return Va(e,-90,90)||(e+=180),e}(hQ("perpendicular"===r?C9([1,0],a):C9([l[0]<0?-1:1,0],l)))}(e,s,r);return s.getLocalEulerAngles()||s.setLocalEulerAngles(v),pq(s,En(En({},hq(e.value,v,r)),l)),n.attr(p),s}function vq(n,e){return _9(n,e.tickDirection,e)}function yq(n,e,t,i,r,o){var s=function d0t(n,e,t,i,r){var o=r.tickFormatter,s=vq(e.value,r),a="line";return $n(o)&&(a=function(){return Uu(o,[e,t,i,s])}),n.append(a).attr("className",_o.tickItem.name)}(yi(this),n,e,t,i);!function h0t(n,e,t,i,r,o,s){var a=vq(n.value,o),l=function u0t(n,e,t,i,r){var s=Kt(function c0t(n,e){var t=Kt(n,2);return[[0,0],[t[0]*e,t[1]*e]]}(i,Uu(r.tickLength,[n,e,t])),2),a=Kt(s[0],2),l=a[0],u=a[1],h=Kt(s[1],2);return{x1:l,x2:h[0],y1:u,y2:h[1]}}(n,e,t,a,o),u=l.x1,h=l.x2,p=l.y1,v=l.y2,y=Kt(_p(iq(s,[n,e,t,a])),2),b=y[0],E=y[1];"line"===i.node().nodeName&&i.styles(En({x1:u,x2:h,y1:p,y2:v},b)),r.attr(E),i.styles(b)}(n,e,t,s,this,i,r);var a=Kt(kR(n.value,i),2),u=a[1];return Ud(this,{transform:"translate(".concat(a[0],", ").concat(u,")")},o)}var bq=zd({text:"text"},"title");function RR(n){return/\S+-\S+/g.test(n)?n.split("-").map(function(e){return e[0]}):n.length>2?[n[0]]:n.split("")}function m0t(n,e){var t=Object.entries(e).reduce(function(i,r){var o=Kt(r,2),s=o[0],a=o[1];return n.node().attr(s)||(i[s]=a),i},{});n.styles(t)}var v0t=function(n){function e(t){return n.call(this,t,{text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"})||this}return Ji(e,n),e.prototype.getAvailableSpace=function(){var i=this.attributes,r=i.width,o=i.height,s=i.position,a=i.spacing,l=i.inset,u=this.querySelector(bq.text.class);if(!u)return new xs(0,0,+r,+o);var h=u.getBBox(),p=h.width,v=h.height,y=Kt(Ls(a),4),b=y[0],E=y[1],w=y[2],S=y[3],C=Kt([0,0,+r,+o],4),D=C[0],k=C[1],T=C[2],I=C[3],F=RR(s);if(F.includes("i"))return new xs(D,k,T,I);F.forEach(function(ct,ot){var rt,Nt,ie,$e;"t"===ct&&(rt=Kt(0===ot?[v+w,+o-v-w]:[0,+o],2),k=rt[0],I=rt[1]),"r"===ct&&(Nt=Kt([+r-p-S],1),T=Nt[0]),"b"===ct&&(ie=Kt([+o-v-b],1),I=ie[0]),"l"===ct&&($e=Kt(0===ot?[p+E,+r-p-E]:[0,+r],2),D=$e[0],T=$e[1])});var z=Kt(Ls(l),4),V=z[0],Q=z[3],at=Kt([Q+z[1],V+z[2]],2);return new xs(D+Q,k+V,T-at[0],I-at[1])},e.prototype.getBBox=function(){return this.title?this.title.getBBox():new xs(0,0,0,0)},e.prototype.render=function(t,i){var r=this,o=vo(t,["width","height","position","spacing"]),a=Kt(_p(o),1)[0],l=function g0t(n){var e,t,i,r,s=n.width,a=n.height,l=n.position,u=Kt([+s/2,+a/2],2),v=Kt([+u[0],+u[1],"center","middle"],4),y=v[0],b=v[1],E=v[2],w=v[3],S=RR(l);return S.includes("l")&&(y=(e=Kt([0,"start"],2))[0],E=e[1]),S.includes("r")&&(y=(t=Kt([+s,"end"],2))[0],E=t[1]),S.includes("t")&&(b=(i=Kt([0,"top"],2))[0],w=i[1]),S.includes("b")&&(b=(r=Kt([+a,"bottom"],2))[0],w=r[1]),{x:y,y:b,textAlign:E,textBaseline:w}}(t),u=l.x,h=l.y,p=l.textAlign,v=l.textBaseline;Zc(!!o.text,yi(i),function(y){r.title=y.maybeAppendByClassName(bq.text,"text").styles(a).call(m0t,{x:u,y:h,textAlign:p,textBaseline:v}).node()})},e}(Cs);function _q(n,e,t,i,r){var s=Kt(_p(rr(i,"title")),2),a=s[0],l=s[1],u=l.transform,h=l.transformOrigin,p=vo(l,["transform","transformOrigin"]);e.styles(p);var v=u||function b0t(n,e,t){var r=2*n.getGeometryBounds().halfExtents[1];if("vertical"===e){if("left"===t)return"rotate(-90) translate(0, ".concat(r/2,")");if("right"===t)return"rotate(-90) translate(0, -".concat(r/2,")")}return""}(n.node(),a.direction,a.position);n.styles(En(En({},a),{transformOrigin:h})),SQ(n.node(),v);var y=function y0t(n,e,t){var i=t.titlePosition,r=void 0===i?"lb":i,o=t.titleSpacing,s=RR(r),a=n.node().getLocalBounds(),l=Kt(a.min,2),u=l[0],h=l[1],p=Kt(a.halfExtents,2),v=p[0],y=p[1],b=Kt(e.node().getLocalBounds().halfExtents,2),E=b[0],w=b[1],S=Kt([u+v,h+y],2),C=S[0],D=S[1],k=Kt(Ls(o),4),T=k[0],I=k[1],F=k[2],z=k[3];if(["start","end"].includes(r)&&"linear"===t.type){var V=t.startPos,K=t.endPos,Y=Kt("start"===r?[V,K]:[K,V],2),Q=Y[0],at=Y[1],Pt=Kt(bp(_Q([-at[0]+Q[0],-at[1]+Q[1]]),T),2);return{x:Q[0]+Pt[0],y:Q[1]+Pt[1]}}return s.includes("t")&&(D-=y+w+T),s.includes("r")&&(C+=v+E+I),s.includes("l")&&(C-=v+E+z),s.includes("b")&&(D+=y+w+F),{x:C,y:D}}(yi(t._offscreen||t.querySelector(_o.mainGroup.class)),e,i),b=y.x,E=y.y;return Ud(e.node(),{transform:"translate(".concat(b,", ").concat(E,")")},r)}function Eq(n,e,t,i){var o=n.showTick,s=n.showLabel,l=Zc(n.showLine,e.maybeAppendByClassName(_o.lineGroup,"g"),function(y){return Pvt(y,n,i)})||[],h=Zc(o,e.maybeAppendByClassName(_o.tickGroup,"g"),function(y){return function f0t(n,e,t,i){var r=b9(e,t.tickFilter),o=rr(t,"tick");return n.selectAll(_o.tick.class).data(r,function(s){return s.id||s.label}).join(function(s){return s.append("g").attr("className",_o.tick.name).transition(function(a,l){return yq.call(this,a,l,r,t,o,!1)})},function(s){return s.transition(function(a,l){return this.removeChildren(),yq.call(this,a,l,r,t,o,i.update)})},function(s){return s.transition(function(){var a=this,l=TR(this.childNodes[0],i.exit);return I1(l,function(){return a.remove()}),l})}).transitions()}(y,t,n,i)})||[],v=Zc(s,e.maybeAppendByClassName(_o.labelGroup,"g"),function(y){return function l0t(n,e,t,i){var r=b9(e,t.labelFilter),o=rr(t,"label");return n.selectAll(_o.label.class).data(r,function(s,a){return a}).join(function(s){return s.append("g").attr("className",_o.label.name).transition(function(a){gq(this,a,e,o,t);var l=fq(a,e,t),h=l.y;return this.style.transform="translate(".concat(l.x,", ").concat(h,")"),null}).call(function(){mq.call(n,t)})},function(s){return s.transition(function(a){var h=function gvt(n,e,t,i){if(void 0===i&&(i="destroy"),function mvt(n,e){return!("text"!==n.nodeName||"text"!==e.nodeName||n.attributes.text!==e.attributes.text)}(n,e))return n.remove(),[null];var r=function(){"destroy"===i?n.destroy():"hide"===i&&Vd(n),e.isVisible()&&jC(e)};if(!t)return r(),[null];var o=t.duration,s=void 0===o?0:o,a=t.delay,l=void 0===a?0:a,u=Math.ceil(+s/2),h=+s/4,p=Kt(n.getGeometryBounds().center,2),v=p[0],y=p[1],b=Kt(e.getGeometryBounds().center,2),S=Kt([(v+b[0])/2-v,(y+b[1])/2-y],2),C=S[0],D=S[1],k=n.style.opacity,I=e.style.opacity,F=void 0===I?1:I,z=n.style.transform||"",V=e.style.transform||"",K=n.animate([{opacity:void 0===k?1:k,transform:"translate(0, 0) ".concat(z)},{opacity:0,transform:"translate(".concat(C,", ").concat(D,") ").concat(z)}],En(En({fill:"both"},t),{duration:l+u+h})),Y=e.animate([{opacity:0,transform:"translate(".concat(-C,", ").concat(-D,") ").concat(V),offset:.01},{opacity:F,transform:"translate(0, 0) ".concat(V)}],En(En({fill:"both"},t),{duration:u+h,delay:l+u-h}));return I1(Y,r),[K,Y]}(this.querySelector(_o.labelItem.class),gq(this,a,e,o,t),i.update),p=fq(a,e,t),y=p.y,b=Ud(this,{transform:"translate(".concat(p.x,", ").concat(y,")")},i.update);return ni(ni([],Kt(h),!1),[b],!1)}).call(function(a){!function pvt(n,e){0===n.length?e():Promise.all(n.map(function(t){return t?.finished})).then(e)}(na(a,"_transitions").flat().filter(pQ),function(){mq.call(n,t)})})},function(s){return s.transition(function(){var a=this,l=TR(this.childNodes[0],i.exit);return I1(l,function(){return yi(a).remove()}),l})}).transitions()}(y,t,n,i)})||[];return ni(ni(ni([],Kt(l),!1),Kt(h),!1),Kt(v),!1).filter(function(y){return!!y})}var E0t=function(n){function e(t){return n.call(this,t,v9)||this}return Ji(e,n),e.prototype.render=function(t,i,r){var o=this,s=t.titleText,l=t.animate,u=t.showTitle,h=t.showGrid,v=t.truncRange,y=function tgt(n,e){if(n.length<=e)return n;for(var t=Math.floor(n.length/e),i=[],r=0;r<n.length;r+=t)i.push(n[r]);return i}(t.data,t.dataThreshold).filter(function(T){var I=T.value;return!(v&&I>v[0]&&I<v[1])}),b=ZQ(void 0===r?l:r),w=Zc(h,yi(i).maybeAppendByClassName(_o.gridGroup,"g"),function(T){return Bvt(T,y,t,b)})||[],S=yi(i).maybeAppendByClassName(_o.mainGroup,"g");s&&(!this.initialized&&b.enter||this.initialized&&b.update)&&Eq(t,yi(this.offscreenGroup),y,ZQ(!1));var C=Eq(t,yi(S.node()),y,b),k=Zc(u,yi(i).maybeAppendByClassName(_o.titleGroup,"g"),function(T){return function _0t(n,e,t,i){var r=t.titleText;return n.selectAll(_o.title.class).data([{title:r}].filter(function(o){return!!o.title}),function(o,s){return o.title}).join(function(o){return o.append(function(){return yp(r)}).attr("className",_o.title.name).transition(function(){return _q(yi(this),n,e,t,i.enter)})},function(o){return o.transition(function(){return _q(yi(this),n,e,t,i.update)})},function(o){return o.remove()}).transitions()}(T,o,t,b)})||[];return ni(ni(ni([],Kt(w),!1),Kt(C),!1),Kt(k),!1).flat().filter(function(T){return!!T})},e}(Cs),Gu=zd({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),w0t=function(n){function e(t){var i=n.call(this,t,{x:0,y:0,animate:{easing:"linear",duration:200,fill:"both"},buttonCursor:"pointer",buttonFill:"black",buttonD:Agt(0,0,6),buttonSize:12,controllerPadding:5,controllerSpacing:5,formatter:function(r,o){return"".concat(r,"/").concat(o)},defaultPage:0,loop:!1,orientation:"horizontal",pageNumFill:"black",pageNumFontSize:12,pageNumTextAlign:"start",pageNumTextBaseline:"middle"})||this;return i.playState="idle",i.contentGroup=i.appendChild(new js({class:Gu.contentGroup.name})),i.playWindow=i.contentGroup.appendChild(new js({class:Gu.playWindow.name})),i.innerCurrPage=i.defaultPage,i}return Ji(e,n),Object.defineProperty(e.prototype,"defaultPage",{get:function(){return Mo(this.attributes.defaultPage,0,Math.max(this.pageViews.length-1,0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.playWindow.children},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controllerShape",{get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageShape",{get:function(){var i=Kt(function dgt(n){var e;return(null===(e=n[0])||void 0===e?void 0:e.map(function(t,i){return n.map(function(r){return r[i]})}))||[]}(this.pageViews.map(function(p){var v=p.getBBox();return[v.width,v.height]})).map(function(p){return Math.max.apply(Math,ni([],Kt(p),!1))}),2),s=this.attributes,a=s.pageWidth,u=s.pageHeight;return{pageWidth:void 0===a?i[0]:a,pageHeight:void 0===u?i[1]:u}},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.playWindow},Object.defineProperty(e.prototype,"totalPages",{get:function(){return this.pageViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currPage",{get:function(){return this.innerCurrPage},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=n.prototype.getBBox.call(this),s=this.pageShape;return new xs(t.x,t.y,s.pageWidth+this.controllerShape.width,s.pageHeight)},e.prototype.goTo=function(t){var i=this,r=this.attributes.animate,o=this,l=o.playWindow,u=o.pageViews;if("idle"!==o.playState||t<0||u.length<=0||t>=u.length)return null;u[o.currPage].setLocalPosition(0,0),this.prepareFollowingPage(t);var h=Kt(this.getFollowingPageDiff(t),2),p=h[0],v=h[1];this.playState="running";var y=qQ(l,[{transform:"translate(0, 0)"},{transform:"translate(".concat(-p,", ").concat(-v,")")}],r);return I1(y,function(){i.innerCurrPage=t,i.playState="idle",i.setVisiblePages([t]),i.updatePageInfo()}),y},e.prototype.prev=function(){var t=this.attributes.loop,i=this.pageViews.length,r=this.currPage;if(!t&&r<=0)return null;var o=t?(r-1+i)%i:Mo(r-1,0,i);return this.goTo(o)},e.prototype.next=function(){var t=this.attributes.loop,i=this.pageViews.length,r=this.currPage;if(!t&&r>=i-1)return null;var o=t?(r+1)%i:Mo(r+1,0,i);return this.goTo(o)},e.prototype.renderClipPath=function(t){var i=this.pageShape,r=i.pageWidth,o=i.pageHeight;r&&o?(this.clipPath=t.maybeAppendByClassName(Gu.clipPath,"rect").styles({width:r,height:o}),this.contentGroup.attr("clipPath",this.clipPath.node())):this.contentGroup.style.clipPath=void 0},e.prototype.setVisiblePages=function(t){this.playWindow.children.forEach(function(i,r){t.includes(r)?jC(i):Vd(i)})},e.prototype.adjustControllerLayout=function(){var t=this,i=t.prevBtnGroup,r=t.nextBtnGroup,o=t.pageInfoGroup,s=this.attributes,a=s.orientation,l=s.controllerPadding,h=o.getBBox().width,p=Kt("horizontal"===a?[-180,0]:[-90,90],2),y=p[1];i.setLocalEulerAngles(p[0]),r.setLocalEulerAngles(y);var b=i.getBBox(),E=b.width,w=b.height,S=r.getBBox(),D=S.height,k=Math.max(E,h,S.width),T="horizontal"===a?{offset:[[0,0],[E/2+l,0],[E+h+2*l,0]],textAlign:"start"}:{offset:[[k/2,-w-l],[k/2,0],[k/2,D+l]],textAlign:"center"},I=Kt(T.offset,3),F=Kt(I[0],2),z=F[0],V=F[1],K=Kt(I[1],2),Y=K[0],Q=K[1],at=Kt(I[2],2),It=at[0],Pt=at[1],ct=T.textAlign,ot=o.querySelector("text");ot&&(ot.style.textAlign=ct),i.setLocalPosition(z,V),o.setLocalPosition(Y,Q),r.setLocalPosition(It,Pt)},e.prototype.updatePageInfo=function(){var t,i=this,r=i.currPage,o=i.pageViews,s=i.attributes.formatter;o.length<2||(null===(t=this.pageInfoGroup.querySelector(Gu.pageInfo.class))||void 0===t||t.attr("text",s(r+1,o.length)),this.adjustControllerLayout())},e.prototype.getFollowingPageDiff=function(t){var i=this.currPage;if(i===t)return[0,0];var o=this.pageShape,l=t<i?-1:1;return"horizontal"===this.attributes.orientation?[l*o.pageWidth,0]:[0,l*o.pageHeight]},e.prototype.prepareFollowingPage=function(t){var r=this.currPage,o=this.pageViews;if(this.setVisiblePages([t,r]),t!==r){var s=Kt(this.getFollowingPageDiff(t),2);o[t].setLocalPosition(s[0],s[1])}},e.prototype.renderController=function(t){var i=this,r=this.attributes.controllerSpacing,o=this.pageShape,s=o.pageWidth,a=o.pageHeight,l=this.pageViews.length>=2,u=t.maybeAppendByClassName(Gu.controller,"g");if(ER(u.node(),l),l){var h=rr(this.attributes,"button"),p=rr(this.attributes,"pageNum"),v=Kt(_p(h),2),y=v[0],b=v[1],E=y.size,w=vo(y,["size"]),S=!u.select(Gu.prevBtnGroup.class).node(),C=u.maybeAppendByClassName(Gu.prevBtnGroup,"g").styles(b);this.prevBtnGroup=C.node();var D=C.maybeAppendByClassName(Gu.prevBtn,"path"),k=u.maybeAppendByClassName(Gu.nextBtnGroup,"g").styles(b);this.nextBtnGroup=k.node(),[D,k.maybeAppendByClassName(Gu.nextBtn,"path")].forEach(function(F){F.styles(En(En({},w),{transformOrigin:"center"})),l9(F.node(),E)});var I=u.maybeAppendByClassName(Gu.pageInfoGroup,"g");this.pageInfoGroup=I.node(),I.maybeAppendByClassName(Gu.pageInfo,"text").styles(p),this.updatePageInfo(),u.node().setLocalPosition(s+r,a/2),S&&(this.prevBtnGroup.addEventListener("click",function(){i.prev()}),this.nextBtnGroup.addEventListener("click",function(){i.next()}))}},e.prototype.render=function(t,i){var r=t.x,s=t.y,a=void 0===s?0:s;this.attr("transform","translate(".concat(void 0===r?0:r,", ").concat(a,")"));var l=yi(i);this.renderClipPath(l),this.renderController(l),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)},e.prototype.bindEvents=function(){var t=this,i=Of(function(){return t.render(t.attributes,t)},50);this.playWindow.addEventListener(Ci.INSERTED,i),this.playWindow.addEventListener(Ci.REMOVED,i)},e}(Cs);function M9(n,e,t){return void 0===n&&(n="horizontal"),"horizontal"===n?e:t}Do.registerSymbol("hiddenHandle",function x0t(n,e,t){var r=1.4*t;return[["M",n-t,e-r],["L",n+t,e-r],["L",n+t,e+r],["L",n-t,e+r],["Z"]]}),Do.registerSymbol("verticalHandle",function C0t(n,e,t){var r=1.4*t,o=t/2,s=t/6,a=n+.4*r;return[["M",n,e],["L",a,e+o],["L",n+r,e+o],["L",n+r,e-o],["L",a,e-o],["Z"],["M",a,e+s],["L",n+r-2,e+s],["M",a,e-s],["L",n+r-2,e-s]]}),Do.registerSymbol("horizontalHandle",function M0t(n,e,t){var r=1.4*t,o=t/2,s=t/6,a=e+.4*r;return[["M",n,e],["L",n-o,a],["L",n-o,e+r],["L",n+o,e+r],["L",n+o,a],["Z"],["M",n-s,a],["L",n-s,e+r-2],["M",n+s,a],["L",n+s,e+r-2]]});var qc=zd({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),D0t=function(n){function e(t){return n.call(this,t,{span:[1,1],marker:function(){return new h0({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelTextBaseline:"middle",valueTextBaseline:"middle"})||this}return Ji(e,n),Object.defineProperty(e.prototype,"showValue",{get:function(){var t=this.attributes.valueText;return!!t&&("string"==typeof t||"number"==typeof t?""!==t:"function"==typeof t||""!==t.attr("text"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualSpace",{get:function(){var i=this.valueGroup,r=this.attributes.markerSize,o=this.labelGroup.node().getBBox(),s=o.width,a=o.height,l=i.node().getBBox();return{markerWidth:r,labelWidth:s,valueWidth:l.width,height:Math.max(r,a,l.height)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"span",{get:function(){var t=this.attributes.span;if(!t)return[1,1];var i=Kt(Ls(t),2),r=i[0],s=this.showValue?i[1]:0,a=r+s;return[r/a,s/a]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){var t,i=this.attributes,r=i.markerSize,o=i.width,s=this.actualSpace,a=s.markerWidth,l=s.height,u=this.actualSpace,h=u.labelWidth,p=u.valueWidth,v=Kt(this.spacing,2),y=v[0],b=v[1];if(o){var E=o-r-y-b,w=Kt(this.span,2);h=(t=Kt([w[0]*E,w[1]*E],2))[0],p=t[1]}return{width:a+h+p+y+b,height:l,markerWidth:a,labelWidth:h,valueWidth:p}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var i=Kt(Ls(t),2),r=i[0];return this.showValue?[r,i[1]]:[r,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){var t=this.shape,i=t.markerWidth,r=t.labelWidth,o=t.valueWidth,s=t.width,a=t.height,l=Kt(this.spacing,2),u=l[0];return{height:a,width:s,markerWidth:i,labelWidth:r,valueWidth:o,position:[i/2,i+u,i+r+u+l[1]]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleSize",{get:function(){var t=function S0t(n){var e=n.querySelector(qc.marker.class);return e?e.style:{}}(this.markerGroup.node()),i=this.attributes,r=i.markerSize,o=i.markerStrokeWidth,a=i.markerLineWidth,u=i.markerStroke,p=+((void 0===o?t.strokeWidth:o)||(void 0===a?t.lineWidth:a)||((void 0===u?t.stroke:u)?1:0))*Math.sqrt(2),v=this.markerGroup.node().getBBox();return(1-p/Math.max(v.width,v.height))*r},enumerable:!1,configurable:!0}),e.prototype.renderMarker=function(t){var i=this,r=this.attributes.marker,o=rr(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(qc.markerGroup,"g").style("zIndex",0),Zc(!!r,this.markerGroup,function(){var s,a=i.markerGroup.node(),l=null===(s=a.childNodes)||void 0===s?void 0:s[0],u="string"==typeof r?new Do({style:{symbol:r},className:qc.marker.name}):r();l?u.nodeName===l.nodeName?l instanceof Do?l.update(En(En({},o),{symbol:r})):(function sgt(n,e){var t,i,r=e.attributes;try{for(var o=fm(Object.entries(r)),s=o.next();!s.done;s=o.next()){var a=Kt(s.value,2),l=a[0];"id"!==l&&"className"!==l&&n.attr(l,a[1])}}catch(h){t={error:h}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}}(l,u),yi(l).styles(o)):(l.remove(),yi(u).attr("className",qc.marker.name).styles(o),a.appendChild(u)):(u instanceof Do||yi(u).attr("className",qc.marker.name).styles(o),a.appendChild(u)),i.markerGroup.node().scale(1/i.markerGroup.node().getScale()[0]);var h=l9(i.markerGroup.node(),i.scaleSize);i.markerGroup.node().style._transform="scale(".concat(h,")")})},e.prototype.renderLabel=function(t){var i=rr(this.attributes,"label"),r=i.text,o=vo(i,["text"]);this.labelGroup=t.maybeAppendByClassName(qc.labelGroup,"g").style("zIndex",0),this.labelGroup.maybeAppendByClassName(qc.label,function(){return yp(r)}).styles(o)},e.prototype.renderValue=function(t){var i=this,r=rr(this.attributes,"value"),o=r.text,s=vo(r,["text"]);this.valueGroup=t.maybeAppendByClassName(qc.valueGroup,"g").style("zIndex",0),Zc(this.showValue,this.valueGroup,function(){i.valueGroup.maybeAppendByClassName(qc.value,function(){return yp(o)}).styles(s)})},e.prototype.renderBackground=function(t){var i=this.shape,r=i.width,o=i.height,s=rr(this.attributes,"background");this.background=t.maybeAppendByClassName(qc.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(qc.background,"rect").styles(En({width:r,height:o},s))},e.prototype.adjustLayout=function(){var t=this.layout,i=t.labelWidth,r=t.valueWidth,o=t.height,s=Kt(t.position,3),l=s[1],u=s[2],h=o/2;this.markerGroup.styles({transform:"translate(".concat(s[0],", ").concat(h,")").concat(this.markerGroup.node().style._transform)}),this.labelGroup.styles({transform:"translate(".concat(l,", ").concat(h,")")}),o9(this.labelGroup.select(qc.label.class).node(),Math.ceil(i)),this.showValue&&(this.valueGroup.styles({transform:"translate(".concat(u,", ").concat(h,")")}),o9(this.valueGroup.select(qc.value.class).node(),Math.ceil(r)))},e.prototype.render=function(t,i){var r=yi(i),o=t.x,a=t.y,l=void 0===a?0:a;r.styles({transform:"translate(".concat(void 0===o?0:o,", ").concat(l,")")}),this.renderMarker(r),this.renderLabel(r),this.renderValue(r),this.renderBackground(r),this.adjustLayout()},e}(Cs),sy=zd({page:"item-page",navigator:"navigator",item:"item"},"items"),Cq=function(n,e,t){return void 0===t&&(t=!0),n?e(n):t},O0t=function(n){function e(t){var i=n.call(this,t,{data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orientation:"horizontal",click:lw,mouseenter:lw,mouseleave:lw})||this;return i.navigatorShape=[0,0],i}return Ji(e,n),Object.defineProperty(e.prototype,"pageViews",{get:function(){return this.navigator.getContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){var t=this.attributes,i=t.gridRow,r=t.gridCol,o=t.data;if(!i&&!r)throw new Error("gridRow and gridCol can not be set null at the same time");return i&&r?[i,r]:i?[i,o.length]:[o.length,r]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderData",{get:function(){var t=this.attributes,i=t.data,r=t.layout,o=rr(this.attributes,"item");return i.map(function(a,l){var u=a.id,p=a.label,v=a.value;return{id:"".concat(void 0===u?l:u),index:l,style:En({layout:r,labelText:p,valueText:v},Object.fromEntries(Object.entries(o).map(function(y){var b=Kt(y,2);return[b[0],Uu(b[1],[a,l,i])]})))}})},enumerable:!1,configurable:!0}),e.prototype.getGridLayout=function(){var t=this,i=this.attributes,r=i.orientation,o=i.width,s=i.rowPadding,a=i.colPadding,u=Kt(this.navigatorShape,1)[0],h=Kt(this.grid,2),p=h[0],v=h[1],y=v*p,b=0;return this.pageViews.children.map(function(E,w){var S,C,D=Math.floor(w/y),k=w%y,T=t.ifHorizontal(v,p),I=[Math.floor(k/T),k%T];"vertical"===r&&I.reverse();var F=Kt(I,2),z=F[0],V=F[1],K=(o-u-(v-1)*a)/v,Y=E.getBBox().height,Q=Kt([0,0],2),at=Q[0],It=Q[1];return"horizontal"===r?(at=(S=Kt([b,z*(Y+s)],2))[0],It=S[1],b=V===v-1?0:b+K+a):(at=(C=Kt([V*(K+a),b],2))[0],It=C[1],b=z===p-1?0:b+Y+s),{page:D,index:w,row:z,col:V,pageIndex:k,width:K,height:Y,x:at,y:It}})},e.prototype.getFlexLayout=function(){var t=this.attributes,i=t.width,r=t.height,o=t.rowPadding,s=t.colPadding,l=Kt(this.navigatorShape,1)[0],u=Kt(this.grid,2),h=u[0],p=u[1],v=Kt([i-l,r],2),y=v[0],b=v[1],E=Kt([0,0,0,0,0,0,0,0],8),C=E[2],D=E[3],k=E[4],T=E[5],I=E[6],F=E[7];return this.pageViews.children.map(function(z,V){var K,Y,Q,at,It=z.getBBox(),Pt=It.width,ct=It.height,ot=0===I?0:s,rt=I+ot+Pt;return rt<=y&&Cq(k,function(ie){return ie<p})?(K=Kt([I+ot,F,rt],3),I=K[2],{width:Pt,height:ct,x:K[0],y:K[1],page:C,index:V,pageIndex:D++,row:T,col:k++}):(Y=Kt([T+1,0,0,F+ct+o],4),T=Y[0],k=Y[1],I=Y[2],(F=Y[3])+ct<=b&&Cq(T,function(ie){return ie<h})?(Q=Kt([I,F,Pt],3),I=Q[2],{width:Pt,height:ct,x:Q[0],y:Q[1],page:C,index:V,pageIndex:D++,row:T,col:k++}):(at=Kt([0,0,Pt,0,C+1,0,0,0],8),I=at[2],F=at[3],D=at[5],k=at[7],{width:Pt,height:ct,x:at[0],y:at[1],page:C=at[4],index:V,pageIndex:D++,row:T=at[6],col:k++}))})},Object.defineProperty(e.prototype,"itemsLayout",{get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,i=t.call(this);return i.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):i},enumerable:!1,configurable:!0}),e.prototype.ifHorizontal=function(t,i){return M9(this.attributes.orientation,t,i)},e.prototype.flattenPage=function(t){t.querySelectorAll(sy.item.class).forEach(function(i){t.appendChild(i)}),t.querySelectorAll(sy.page.class).forEach(function(i){t.removeChild(i).destroy()})},e.prototype.renderItems=function(t){var i=this.attributes,r=i.click,o=i.mouseenter,s=i.mouseleave;this.flattenPage(t);var a=this.dispatchCustomEvent.bind(this);yi(t).selectAll(sy.item.class).data(this.renderData,function(l){return l.id}).join(function(l){return l.append(function(u){return new D0t({style:u.style})}).attr("className",sy.item.name).on("click",function(){r?.(this),a("itemClick",{item:this})}).on("pointerenter",function(){o?.(this),a("itemMouseenter",{item:this})}).on("pointerleave",function(){s?.(this),a("itemMouseleave",{item:this})})},function(l){return l.each(function(u){this.update(u.style)})},function(l){return l.remove()})},e.prototype.relayoutNavigator=function(){var t,i=this.attributes,r=i.layout,o=i.width,s=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,a=Kt(this.navigatorShape,2);this.navigator.update("grid"===r?{pageWidth:o-a[0],pageHeight:s-a[1]}:{})},e.prototype.adjustLayout=function(){var t=this,i=Object.entries(function zmt(n,e){return n.reduce(function(t,i){return(t[i[e]]=t[i[e]]||[]).push(i),t},{})}(this.itemsLayout,"page")).map(function(o){var s=Kt(o,2);return{page:s[0],layouts:s[1]}}),r=ni([],Kt(this.navigator.getContainer().children),!1);i.forEach(function(o){var s=o.layouts,a=t.pageViews.appendChild(new js({className:sy.page.name}));s.forEach(function(l){var u=l.x,h=l.y,v=l.width,y=l.height,b=r[l.index];a.appendChild(b),Tf(b,"__layout__",l),b.update({x:u,y:h,width:v,height:y})})}),this.relayoutNavigator()},e.prototype.renderNavigator=function(t){var i=this.attributes.orientation,r=rr(this.attributes,"nav"),o=xa({orientation:i},r),s=this;return t.selectAll(sy.navigator.class).data(["nav"]).join(function(a){return a.append(function(){return new w0t({style:o})}).attr("className",sy.navigator.name).each(function(){s.navigator=this})},function(a){return a.each(function(){this.update(o)})},function(a){return a.remove()}),this.navigator},e.prototype.getBBox=function(){return this.navigator.getBBox()},e.prototype.render=function(t,i){var r=this.attributes.data;if(r&&0!==r.length){var o=this.renderNavigator(yi(i));this.renderItems(o.getContainer()),this.adjustLayout()}},e.prototype.dispatchCustomEvent=function(t,i){var r=new Go(t,{detail:i});this.dispatchEvent(r)},e}(Cs),YC=zd({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Mq={showLabel:!0,formatter:function(n){return n.toString()},markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orientation:"vertical",spacing:0};!function(n){function e(t){return n.call(this,t,Mq)||this}Ji(e,n),e.prototype.render=function(t,i){var r=yi(i).maybeAppendByClassName(YC.markerGroup,"g");this.renderMarker(r);var o=yi(i).maybeAppendByClassName(YC.labelGroup,"g");this.renderLabel(o)},e.prototype.renderMarker=function(t){var i=this,r=this.attributes,s=r.markerSymbol,a=void 0===s?M9(r.orientation,"horizontalHandle","verticalHandle"):s;Zc(!!a,t,function(l){var u=rr(i.attributes,"marker"),h=En({symbol:a},u);i.marker=l.maybeAppendByClassName(YC.marker,function(){return new Do({style:h})}).update(h)})},e.prototype.renderLabel=function(t){var i=this,r=this.attributes,s=r.orientation,a=r.spacing,l=void 0===a?0:a,u=r.formatter;Zc(r.showLabel,t,function(h){var p,v=rr(i.attributes,"label"),y=v.text,b=vo(v,["text"]),E=(null===(p=h.select(YC.marker.class))||void 0===p?void 0:p.node().getBBox())||{},w=E.width,C=E.height,k=Kt(M9(s,[0,(void 0===C?0:C)+l,"center","top"],[(void 0===w?0:w)+l,0,"start","middle"]),4),T=k[0],I=k[1],F=k[2],z=k[3];h.maybeAppendByClassName(YC.label,"text").styles(En(En({},b),{x:T,y:I,text:u(y).toString(),textAlign:F,textBaseline:z}))})}}(Cs);var Sq={showTitle:!0,padding:0,orientation:"horizontal",backgroundFill:"transparent",titleText:"",titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12},T0t=xa({},Sq,{});xa({},Sq,k1(Mq,"handle"),{color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],indicatorBackgroundFill:"#262626",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorVisibility:"hidden",labelAlign:"value",labelDirection:"positive",labelSpacing:5,showHandle:!0,showIndicator:!0,showLabel:!0,slidable:!0,titleText:"",type:"continuous"});var ZC=zd({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend"),A0t=function(n){function e(t){return n.call(this,t,T0t)||this}return Ji(e,n),e.prototype.renderTitle=function(t,i,r){var o=this.attributes,s=o.showTitle,a=o.titleText,u=Kt(_p(rr(this.attributes,"title")),2),h=u[0],p=u[1];this.titleGroup=t.maybeAppendByClassName(ZC.titleGroup,"g").styles(p);var v=En(En({width:i,height:r},h),{text:s?a:""});this.title=this.titleGroup.maybeAppendByClassName(ZC.title,function(){return new v0t({style:v})}).update(v)},e.prototype.renderItems=function(t,i){var r=i.x,o=i.y,s=i.width,a=i.height,u=Kt(_p(rr(this.attributes,"title",!0)),2),p=u[1],v=En(En({},u[0]),{width:s,height:a,x:0,y:0});this.itemsGroup=t.maybeAppendByClassName(ZC.itemsGroup,"g").styles(En(En({},p),{transform:"translate(".concat(r,", ").concat(o,")")}));var y=this;this.itemsGroup.selectAll(ZC.items.class).data(["items"]).join(function(b){return b.append(function(){return new O0t({style:v})}).attr("className",ZC.items.name).each(function(){y.items=yi(this)})},function(b){return b.update(v)},function(b){return b.remove()})},e.prototype.adjustLayout=function(){if(this.attributes.showTitle){var i=this.title.node().getAvailableSpace(),r=i.x,o=i.y;this.itemsGroup.node().style.transform="translate(".concat(r,", ").concat(o,")")}},Object.defineProperty(e.prototype,"availableSpace",{get:function(){var t=this.attributes,r=t.width,o=t.height;return t.showTitle?this.title.node().getAvailableSpace():new xs(0,0,r,o)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t,i,r=null===(t=this.title)||void 0===t?void 0:t.node(),o=null===(i=this.items)||void 0===i?void 0:i.node();return r&&o?function p0t(n,e){var t=n.attributes,i=t.position,r=t.spacing,o=t.inset,s=t.text,a=n.getBBox(),l=e.getBBox(),u=RR(i),h=Kt(Ls(s?r:0),4),p=h[0],v=h[1],y=h[2],b=h[3],E=Kt(Ls(o),4),w=E[0],S=E[1],C=E[2],D=E[3],k=Kt([b+v,p+y],2),T=k[0],I=k[1],F=Kt([D+S,w+C],2),z=F[0],V=F[1];if("l"===u[0])return new xs(a.x,a.y,l.width+a.width+T+z,Math.max(l.height+V,a.height));if("t"===u[0])return new xs(a.x,a.y,Math.max(l.width+z,a.width),l.height+a.height+I+V);var K=Kt([e.attributes.width||l.width,e.attributes.height||l.height],2);return new xs(l.x,l.y,K[0]+a.width+T+z,K[1]+a.height+I+V)}(r,o):n.prototype.getBBox.call(this)},e.prototype.render=function(t,i){var r=this.attributes,o=r.width,s=r.height,a=r.x,l=void 0===a?0:a,u=r.y,h=void 0===u?0:u,p=yi(i);i.style.transform="translate(".concat(l,", ").concat(h,")"),this.renderTitle(p,o,s),this.renderItems(p,this.availableSpace),this.adjustLayout()},e}(Cs),k0t={backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333",backgroundZIndex:-1,formatter:function(n){return n.toString()},labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",padding:[2,4],position:"right",radius:0,zIndex:999},S9=zd({background:"background",labelGroup:"label-group",label:"label"},"indicator"),I0t=function(n){function e(t){var i=n.call(this,t,k0t)||this;return i.point=[0,0],i.group=i.appendChild(new js({})),i.isMutationObserved=!0,i}return Ji(e,n),e.prototype.renderBackground=function(){if(this.label){var t=this.attributes,i=t.position,o=Kt(Ls(t.padding),4),s=o[0],a=o[1],l=o[2],u=o[3],h=this.label.node().getLocalBounds(),p=h.min,v=h.max,y=new xs(p[0]-u,p[1]-s,v[0]+a-p[0]+u,v[1]+l-p[1]+s),b=this.getPath(i,y),E=rr(this.attributes,"background");this.background=yi(this.group).maybeAppendByClassName(S9.background,"path").styles(En(En({},E),{d:b})),this.group.appendChild(this.label.node())}},e.prototype.renderLabel=function(){var t=this.attributes,i=t.formatter,r=t.labelText,s=Kt(_p(rr(this.attributes,"label")),2),l=s[1],u=vo(s[0],["text"]);this.label=yi(this.group).maybeAppendByClassName(S9.labelGroup,"g").styles(l),r&&this.label.maybeAppendByClassName(S9.label,function(){return yp(i(r))}).style("text",i(r).toString()).selectAll("text").styles(u)},e.prototype.adjustLayout=function(){var t=Kt(this.point,2),r=t[1],o=this.attributes,a=o.y;this.group.attr("transform","translate(".concat(o.x-t[0],", ").concat(a-r,")"))},e.prototype.getPath=function(t,i){var r=this.attributes.radius,o=i.x,s=i.y,a=i.width,l=i.height,u=[["M",o+r,s],["L",o+a-r,s],["A",r,r,0,0,1,o+a,s+r],["L",o+a,s+l-r],["A",r,r,0,0,1,o+a-r,s+l],["L",o+r,s+l],["A",r,r,0,0,1,o,s+l-r],["L",o,s+r],["A",r,r,0,0,1,o+r,s],["Z"]],p={top:4,right:6,bottom:0,left:2}[t],v=this.createCorner([u[p].slice(-2),u[p+1].slice(-2)]);return u.splice.apply(u,ni([p+1,1],Kt(v),!1)),u[0][0]="M",u},e.prototype.createCorner=function(t,i){void 0===i&&(i=10);var o=ogt.apply(void 0,ni([],Kt(t),!1)),s=Kt(t,2),a=Kt(s[0],2),l=a[0],u=a[1],h=Kt(s[1],2),p=h[0],v=h[1],y=Kt(o?[p-l,[l,p]]:[v-u,[u,v]],2),b=y[0],E=Kt(y[1],2),w=E[0],S=E[1],C=b/2,k=i*(b/Math.abs(b)),T=k/2,I=k*Math.sqrt(3)/2*.8,F=Kt([w,w+C-T,w+C,w+C+T,S],5),z=F[0],V=F[1],K=F[2],Y=F[3],Q=F[4];return o?(this.point=[K,u-I],[["L",z,u],["L",V,u],["L",K,u-I],["L",Y,u],["L",Q,u]]):(this.point=[l+I,K],[["L",l,z],["L",l,V],["L",l+I,K],["L",l,Y],["L",l,Q]])},e.prototype.applyVisibility=function(){"hidden"===this.attributes.visibility?Vd(this):jC(this)},e.prototype.bindEvents=function(){this.label.on(Ci.BOUNDS_CHANGED,this.renderBackground)},e.prototype.render=function(){this.renderLabel(),this.renderBackground(),this.adjustLayout(),this.applyVisibility()},e}(Cs);function D9(n){return void 0===n&&(n=""),{CONTAINER:"".concat(n,"tooltip"),TITLE:"".concat(n,"tooltip-title"),LIST:"".concat(n,"tooltip-list"),LIST_ITEM:"".concat(n,"tooltip-list-item"),NAME:"".concat(n,"tooltip-list-item-name"),MARKER:"".concat(n,"tooltip-list-item-marker"),NAME_LABEL:"".concat(n,"tooltip-list-item-name-label"),VALUE:"".concat(n,"tooltip-list-item-value"),CROSSHAIR_X:"".concat(n,"tooltip-crosshair-x"),CROSSHAIR_Y:"".concat(n,"tooltip-crosshair-y")}}var Dq={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"};function R0t(n){var e;void 0===n&&(n="");var t=D9(n);return(e={})[".".concat(t.CONTAINER)]={position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"},e[".".concat(t.TITLE)]={color:"rgba(0, 0, 0, 0.45)"},e[".".concat(t.LIST)]={margin:"0px","list-style-type":"none",padding:"0px"},e[".".concat(t.LIST_ITEM)]={"list-style-type":"none",display:"flex","line-height":"2em","align-items":"center","justify-content":"space-between","white-space":"nowrap"},e[".".concat(t.MARKER)]={width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"},e[".".concat(t.NAME)]={display:"flex","align-items":"center","max-width":"216px"},e[".".concat(t.NAME_LABEL)]=En({flex:1},Dq),e[".".concat(t.VALUE)]=En({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},Dq),e[".".concat(t.CROSSHAIR_X)]={position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e[".".concat(t.CROSSHAIR_Y)]={position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"},e}var P0t=function(n){function e(t){var r,o,i=this,s=null===(o=null===(r=t.style)||void 0===r?void 0:r.template)||void 0===o?void 0:o.prefixCls,a=D9(s);return(i=n.call(this,t,{data:[],x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],enterable:!1,container:{x:0,y:0},bounding:null,template:{prefixCls:"",container:'<div class="'.concat(a.CONTAINER,'"></div>'),title:'<div class="'.concat(a.TITLE,'"></div>'),item:'<li class="'.concat(a.LIST_ITEM,'" data-index={index}>\n        <span class="').concat(a.NAME,'">\n          <span class="').concat(a.MARKER,'" style="background:{color}"></span>\n          <span class="').concat(a.NAME_LABEL,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(a.VALUE,'" title="{value}">{value}</span>\n      </li>')},style:R0t(s)})||this).timestamp=-1,i.prevCustomContentKey=i.attributes.contentKey,i.initShape(),i.render(i.attributes,i),i}return Ji(e,n),Object.defineProperty(e.prototype,"HTMLTooltipElement",{get:function(){return this.element},enumerable:!1,configurable:!0}),e.prototype.getContainer=function(){return this.element},Object.defineProperty(e.prototype,"elementSize",{get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HTMLTooltipItemsElements",{get:function(){var t=this.attributes,r=t.template;return t.data.map(function(o,s){var a=o.name,l=void 0===a?"":a,u=o.color,h=void 0===u?"black":u,p=o.index,v=vo(o,["name","color","index"]),y=En({name:l,color:h,index:p??s},v);return pb(kN(r.item,y))})},enumerable:!1,configurable:!0}),e.prototype.render=function(t,i){this.renderHTMLTooltipElement(),this.updatePosition()},e.prototype.destroy=function(){var t;null===(t=this.element)||void 0===t||t.remove(),n.prototype.destroy.call(this)},e.prototype.show=function(t,i){var r=this;if(void 0!==t&&void 0!==i){var s=function(){r.attributes.x=t??r.attributes.x,r.attributes.y=i??r.attributes.y,r.updatePosition()};"hidden"===this.element.style.visibility?this.closeTransition(s):s()}this.element.style.visibility="visible"},e.prototype.hide=function(t,i){void 0===t&&(t=0),void 0===i&&(i=0),this.attributes.enterable&&this.isCursorEntered(t,i)||(this.element.style.visibility="hidden")},e.prototype.initShape=function(){this.element=pb(this.attributes.template.container),this.id&&this.element.setAttribute("id",this.id)},e.prototype.renderCustomContent=function(){if(void 0===this.prevCustomContentKey||this.prevCustomContentKey!==this.attributes.contentKey){this.prevCustomContentKey=this.attributes.contentKey;var t=this.attributes.content;t&&("string"==typeof t?this.element.innerHTML=t:DQ(this.element,t))}},e.prototype.renderHTMLTooltipElement=function(){var t,i,r=this.attributes,o=r.template,s=r.title,a=r.enterable,l=r.style,u=r.content,h=D9(o.prefixCls),p=this.element;if(this.element.style.pointerEvents=a?"auto":"none",u)this.renderCustomContent();else{s?(p.innerHTML=o.title,p.getElementsByClassName(h.TITLE)[0].innerHTML=s):null===(i=null===(t=p.getElementsByClassName(h.TITLE))||void 0===t?void 0:t[0])||void 0===i||i.remove();var v=this.HTMLTooltipItemsElements,y=document.createElement("ul");y.className=h.LIST,DQ(y,v);var b=this.element.querySelector(".".concat(h.LIST));b?b.replaceWith(y):p.appendChild(y)}!function cgt(n,e){Object.entries(e).forEach(function(t){var i=Kt(t,2),r=i[0],o=i[1];ni([n],Kt(n.querySelectorAll(r)),!1).filter(function(s){return s.matches(r)}).forEach(function(s){s&&(s.style.cssText+=Object.entries(o).reduce(function(l,u){return"".concat(l).concat(u.join(":"),";")},""))})})}(p,l)},e.prototype.getRelativeOffsetFromCursor=function(t){var i=this.attributes,o=i.offset,a=(t||i.position).split("-"),l={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},u=this.elementSize,h=u.width,p=u.height,v=[-h/2,-p/2];return a.forEach(function(y){var b=Kt(v,2),E=b[0],w=b[1],S=Kt(l[y],2);v=[E+(h/2+o[0])*S[0],w+(p/2+o[1])*S[1]]}),v},e.prototype.setOffsetPosition=function(t){var i=Kt(t,2),o=i[1],s=this.attributes,a=s.x,u=s.y,h=void 0===u?0:u,p=s.container,y=p.y;this.element.style.left="".concat(+(void 0===a?0:a)+p.x+i[0],"px"),this.element.style.top="".concat(+h+y+o,"px")},e.prototype.updatePosition=function(){var t=this.attributes.showDelay,i=void 0===t?60:t,r=Date.now();this.timestamp>0&&r-this.timestamp<i||(this.timestamp=r,this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor())))},e.prototype.autoPosition=function(t){var i=Kt(t,2),r=i[0],o=i[1],s=this.attributes,u=s.bounding,h=s.position;if(!u)return[r,o];var p=this.element,v=p.offsetWidth,y=p.offsetHeight,b=Kt([+s.x+r,+s.y+o],2),E=b[0],w=b[1],S={left:"right",right:"left",top:"bottom",bottom:"top"},C=u.x,D=u.y,I={left:E<C,right:E+v>C+u.width,top:w<D,bottom:w+y>D+u.height},F=[];h.split("-").forEach(function(V){F.push(I[V]?S[V]:V)});var z=F.join("-");return this.getRelativeOffsetFromCursor(z)},e.prototype.isCursorEntered=function(t,i){if(this.element){var r=this.element.getBoundingClientRect();return new xs(r.x,r.y,r.width,r.height).isPointIn(t,i)}return!1},e.prototype.closeTransition=function(t){var i=this,r=this.element.style.transition;this.element.style.transition="none",t(),setTimeout(function(){i.element.style.transition=r},10)},e.tag="tooltip",e}(Cs),N0t=function(n){function e(t){var i=n.call(this,t)||this;i.layoutEvents=[Ci.BOUNDS_CHANGED,Ci.INSERTED,Ci.REMOVED],i.$margin=Ls(0),i.$padding=Ls(0);var r=t.style||{},o=r.margin,a=r.padding,l=void 0===a?0:a;return i.margin=void 0===o?0:o,i.padding=l,i.isMutationObserved=!0,i.bindEvents(),i}return Ji(e,n),Object.defineProperty(e.prototype,"margin",{get:function(){return this.$margin},set:function(t){this.$margin=Ls(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.$padding},set:function(t){this.$padding=Ls(t)},enumerable:!1,configurable:!0}),e.prototype.getBBox=function(){var t=this.attributes,i=t.x,r=void 0===i?0:i,o=t.y,s=void 0===o?0:o,a=t.width,l=t.height,u=Kt(this.$margin,4),h=u[0],y=u[3];return new xs(r-y,s-h,a+y+u[1],l+h+u[2])},e.prototype.appendChild=function(t,i){return t.isMutationObserved=!0,n.prototype.appendChild.call(this,t,i),t},e.prototype.getAvailableSpace=function(){var t=this.attributes,i=t.width,r=t.height,o=Kt(this.$padding,4),s=o[0],a=o[1],l=o[2],u=o[3],h=Kt(this.$margin,4);return new xs(u+h[3],s+h[0],i-u-a,r-s-l)},e.prototype.layout=function(){if(this.attributes.display&&this.isConnected&&!this.children.some(function(s){return!s.isConnected}))try{var t=this.attributes,r=t.y;this.style.transform="translate(".concat(t.x,", ").concat(r,")");var o=function(n,e,t){if(0===e.length)return[];var i={flex:Wmt,grid:Kmt},r=t.display in i?i[t.display]:null;return r?.call(null,n,e,t)||[]}(this.getAvailableSpace(),this.children.map(function(s){return s.getBBox()}),this.attributes);this.children.forEach(function(s,a){var l=o[a],h=l.y;s.style.transform="translate(".concat(l.x,", ").concat(h,")")})}catch{}},e.prototype.bindEvents=function(){var t=this;this.layoutEvents.forEach(function(i){t.addEventListener(i,function(r){r.target.isMutationObserved=!0,t.layout()})})},e.prototype.attributeChangedCallback=function(t,i,r){"margin"===t?this.margin=r:"padding"===t&&(this.padding=r),this.layout()},e}(js),L0t=function(n){function e(t){var i=n.call(this,xa({},e.defaultOptions,t))||this;return i.hoverColor="#f5f5f5",i.selectedColor="#e6f7ff",i.background=i.appendChild(new _a({})),i.label=i.background.appendChild(new js({})),i}return Ji(e,n),Object.defineProperty(e.prototype,"padding",{get:function(){return Ls(this.style.padding)},enumerable:!1,configurable:!0}),e.prototype.renderLabel=function(){var t=this.style,i=t.label,r=t.value,o=rr(this.attributes,"label");yi(this.label).maybeAppend(".label",function(){return yp(i)}).attr("className","label").styles(o),this.label.attr("__data__",r)},e.prototype.renderBackground=function(){var t=this.label.getBBox(),i=Kt(this.padding,4),a=i[3],u=t.height,h=t.width+a+i[1],p=u+i[0]+i[2],v=rr(this.attributes,"background"),y=this.style,b=y.width,E=void 0===b?0:b,w=y.height,S=void 0===w?0:w,C=y.selected;this.background.attr(En(En({},v),{width:Math.max(h,E),height:Math.max(p,S),fill:C?this.selectedColor:"#fff"})),this.label.attr({transform:"translate(".concat(a,", ").concat((p-u)/2,")")})},e.prototype.render=function(){this.renderLabel(),this.renderBackground()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("pointerenter",function(){t.style.selected||t.background.attr("fill",t.hoverColor)}),this.addEventListener("pointerleave",function(){t.style.selected||t.background.attr("fill",t.style.backgroundFill)});var i=this;this.addEventListener("click",function(){var r=t.style,o=r.label,s=r.value,a=r.onClick;a?.(s,{label:o,value:s},i)})},e.defaultOptions={style:{value:"",label:"",cursor:"pointer"}},e}(Cs),F0t=function(n){function e(t){var i,r,o=n.call(this,xa({},e.defaultOptions,t))||this;o.currentValue=null===(i=e.defaultOptions.style)||void 0===i?void 0:i.defaultValue,o.isPointerInSelect=!1,o.select=o.appendChild(new _a({className:"select",style:{cursor:"pointer",width:0,height:0}})),o.dropdown=o.appendChild(new _a({className:"dropdown"}));var s=o.style.defaultValue;return s&&!(null===(r=o.style.options)||void 0===r)&&r.some(function(a){return a.value===s})&&(o.currentValue=s),o}return Ji(e,n),e.prototype.setValue=function(t){this.currentValue=t,this.render()},e.prototype.getValue=function(){return this.currentValue},Object.defineProperty(e.prototype,"dropdownPadding",{get:function(){return Ls(this.style.dropdownPadding)},enumerable:!1,configurable:!0}),e.prototype.renderSelect=function(){var i,t=this,r=this.style,o=r.x,s=r.y,a=r.width,l=r.height,u=r.bordered,h=r.showDropdownIcon,p=rr(this.attributes,"select"),v=rr(this.attributes,"placeholder");this.select.attr(En(En({x:o,y:s,width:a,height:l},p),{fill:"#fff",strokeWidth:u?1:0}));var y=this.dropdownPadding;h&&yi(this.select).maybeAppend(".dropdown-icon","path").style("d","M-5,-3.5 L0,3.5 L5,-3.5").style("transform","translate(".concat(o+a-10-y[1]-y[3],", ").concat(s+l/2,")")).style("lineWidth",1).style("stroke",this.select.style.stroke);var E=null===(i=this.style.options)||void 0===i?void 0:i.find(function(D){return D.value===t.currentValue}),w=En({x:o+y[3]},v);yi(this.select).selectAll(".placeholder").data(E?[]:[1]).join(function(D){return D.append("text").attr("className","placeholder").styles(w).style("y",function(){var k=this.getBBox();return s+(l-k.height)/2})},function(D){return D.styles(w)},function(D){return D.remove()});var S=rr(this.attributes,"optionLabel"),C=En({x:o+y[3]},S);yi(this.select).selectAll(".value").data(E?[E]:[]).join(function(D){return D.append(function(k){return yp(k.label)}).attr("className","value").styles(C).style("y",function(){var k=this.getBBox();return s+(l-k.height)/2})},function(D){return D.styles(C)},function(D){return D.remove()})},e.prototype.renderDropdown=function(){var i,r,t=this,o=this.style,s=o.x,a=o.y,l=o.width,u=o.height,h=o.options,p=o.onSelect,v=o.open,y=rr(this.attributes,"dropdown"),b=rr(this.attributes,"option"),E=this.dropdownPadding;yi(this.dropdown).maybeAppend(".dropdown-container","g").attr("className","dropdown-container").selectAll(".dropdown-item").data(h,function(C){return C.value}).join(function(C){return C.append(function(D){return new L0t({className:"dropdown-item",style:En(En(En({},D),b),{width:l-E[1]-E[3],selected:D.value===t.currentValue,onClick:function(k,T,I){t.setValue(k),p?.(k,T,I),t.dispatchEvent(new Go("change",{detail:{value:k,option:T,item:I}})),Vd(t.dropdown)}})})}).each(function(D,k){var T,F=(null===(T=this.parentNode)||void 0===T?void 0:T.children).reduce(function(z,V,K){return K<k&&(z+=V.getBBox().height),z},0);this.attr("transform","translate(".concat(E[3],", ").concat(E[0]+F,")"))})},function(C){return C.update(function(D){return{selected:D.value===t.currentValue}})},function(C){return C.remove()});var w=null===(r=null===(i=this.dropdown.getElementsByClassName("dropdown-container"))||void 0===i?void 0:i[0])||void 0===r?void 0:r.getBBox(),S=y.spacing;this.dropdown.attr(En({transform:"translate(".concat(s,", ").concat(a+u+S,")"),width:w.width+E[1]+E[3],height:w.height+E[0]+E[2]},y)),!v&&Vd(this.dropdown)},e.prototype.render=function(){this.renderSelect(),this.renderDropdown()},e.prototype.bindEvents=function(){var t=this;this.addEventListener("click",function(i){i.stopPropagation()}),this.select.addEventListener("click",function(){"visible"===t.dropdown.style.visibility?Vd(t.dropdown):jC(t.dropdown)}),this.addEventListener("pointerenter",function(){t.isPointerInSelect=!0}),this.addEventListener("pointerleave",function(){t.isPointerInSelect=!1}),document?.addEventListener("click",function(){t.isPointerInSelect||Vd(t.dropdown)})},e.defaultOptions={style:{x:0,y:0,width:140,height:32,options:[],bordered:!0,defaultValue:"",selectRadius:8,selectStroke:"#d9d9d9",showDropdownIcon:!0,placeholderText:"\u8bf7\u9009\u62e9",placeholderFontSize:12,placeholderTextBaseline:"top",placeholderFill:"#c2c2c2",dropdownFill:"#fff",dropdownStroke:"#d9d9d9",dropdownRadius:8,dropdownShadowBlur:4,dropdownShadowColor:"rgba(0, 0, 0, 0.08)",dropdownPadding:8,dropdownSpacing:10,optionPadding:[8,12],optionFontSize:12,optionTextBaseline:"top",optionBackgroundFill:"#fff",optionBackgroundRadius:4,optionLabelFontSize:12,optionLabelTextBaseline:"top"}},e}(Cs),Gd=function(n){function e(t){var i=n.call(this,xa({},{style:{backgroundOpacity:e.backgroundOpacities.default}},e.defaultOptions,t))||this;return i.showBackground=!0,i.background=i.appendChild(new _a({})),i.icon=i.appendChild(new js({})),i}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"BaseIcon"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return Math.log10(this.attributes.size)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return Ls(this.attributes.size/5)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"iconSize",{get:function(){var t=this.attributes.size,i=Kt(this.padding,4);return Math.max(t-Math.max(i[3]+i[1],i[0]+i[2]),2*this.lineWidth+1)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.attributes,i=t.x,r=t.y,o=t.size,s=o/2,a=rr(this.attributes,"background");this.background.attr(En({x:i-s,y:r-s,width:o,height:o},a))},e.prototype.showIndicator=function(){if(this.label){var t=this.attributes.size,i=this.background.getBBox();this.indicator.update({x:i.x+t/2,y:i.y-5,labelText:this.label,visibility:"visible"})}},e.prototype.hideIndicator=function(){this.indicator.update({visibility:"hidden"})},e.prototype.connectedCallback=function(){var t;n.prototype.connectedCallback.call(this);var i=this.attributes.size,r=this.background.getBBox(),a=null===(t=this.ownerDocument)||void 0===t?void 0:t.defaultView;a&&(this.indicator=a.appendChild(new I0t({style:{x:r.x+i/2,y:r.y-i/2,visibility:"hidden",position:"top",radius:3,zIndex:100}})))},e.prototype.disconnectedCallback=function(){this.indicator.destroy()},e.prototype.render=function(){this.renderIcon(),this.showBackground&&this.renderBackground()},e.prototype.bindEvents=function(){var t=this,i=this.attributes.onClick;if(this.addEventListener("click",function(){i?.(t)}),this.showBackground){var r=function(){return t.background.attr({opacity:e.backgroundOpacities.default})};this.addEventListener("pointerenter",function(){t.background.attr({opacity:e.backgroundOpacities.hover}),t.showIndicator()}),this.addEventListener("pointerleave",function(){r(),t.hideIndicator()}),this.addEventListener("pointerdown",function(){t.background.attr({opacity:e.backgroundOpacities.active})}),this.addEventListener("pointerup",function(){r()})}},e.tag="IconBase",e.defaultOptions={style:{x:0,y:0,size:10,color:"#565758",backgroundRadius:4,backgroundFill:"#e2e2e2"}},e.backgroundOpacities={default:0,hover:.8,active:1},e}(Cs),QC=function(n,e){return void 0===e&&(e="#565758"),new f0({style:{fill:e,d:"M ".concat(n,",").concat(n," L -").concat(n,",0 L ").concat(n,",-").concat(n," Z"),transformOrigin:"center"}})},B0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),e.prototype.arcPath=function(t,i,r){var o=Kt([r,r],2),s=o[0],a=o[1],l=function(E){return[t+r*Math.cos(E),i+r*Math.sin(E)]},u=Kt(l(-5/4*Math.PI),2),h=u[0],p=u[1],v=Kt(l(1/4*Math.PI),2),y=v[0],b=v[1];return"M".concat(h,",").concat(p,",A").concat(s,",").concat(a,",0,1,1,").concat(y,",").concat(b)},Object.defineProperty(e.prototype,"label",{get:function(){return"\u91cd\u7f6e"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=this.lineWidth,l=a+.5;yi(this.icon).maybeAppend(".reset","path").styles({stroke:o,lineWidth:a,d:this.arcPath(i,r,s/2-a),markerStart:QC(l,o)})},e}(Gd),j0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5feb\u9000"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/2,l=s/2/Math.pow(3,.5),u=[[i,r],[i,r-l],[i-a,r],[i,r+l],[i,r],[i+a,r-l],[i+a,r+l],[i,r]];yi(this.icon).maybeAppend(".backward","polygon").styles({points:u,fill:o})},e}(Gd),V0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5feb\u8fdb"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/2,l=s/2/Math.pow(3,.5),u=[[i,r],[i,r-l],[i+a,r],[i,r+l],[i,r],[i-a,r-l],[i-a,r+l],[i,r]];yi(this.icon).maybeAppend(".forward","polygon").styles({points:u,fill:o})},e}(Gd),z0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u64ad\u653e"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/3*Math.pow(3,.5)*.8,l=[[i+a,r],[i-a/2,r-s/2*.8],[i-a/2,r+s/2*.8],[i+a,r]];yi(this.icon).maybeAppend(".play","polygon").styles({points:l,fill:o})},e}(Gd),U0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6682\u505c"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,s=this.iconSize,a=s/3,l=[[i-a,r-s/2],[i-a,r+s/2],[i-a/2,r+s/2],[i-a/2,r-s/2],[i-a,r-s/2],[i+a/2,r-s/2],[i+a/2,r+s/2],[i+a,r+s/2],[i+a,r-s/2]];yi(this.icon).maybeAppend(".pause","polygon").styles({points:l,fill:o})},e}(Gd),G0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u8303\u56f4\u65f6\u95f4"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth,u=l;yi(this.icon).maybeAppend(".left-line","line").styles({x1:i-a/2,y1:r-a/2,x2:i-a/2,y2:r+a/2,stroke:o,lineWidth:l}),yi(this.icon).maybeAppend(".right-line","line").styles({x1:i+a/2,y1:r-a/2,x2:i+a/2,y2:r+a/2,stroke:o,lineWidth:l}),yi(this.icon).maybeAppend(".left-arrow","line").styles({x1:i,y1:r,x2:i-a/2+2*u,y2:r,stroke:o,lineWidth:l,markerEnd:QC(2*l,o)}),yi(this.icon).maybeAppend(".right-arrow","line").styles({x1:i,y1:r,x2:i+a/2-2*u,y2:r,stroke:o,lineWidth:l,markerEnd:QC(2*l,o)})},e}(Gd),H0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u5355\u4e00\u65f6\u95f4"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth;yi(this.icon).maybeAppend(".line","line").styles({x1:i,y1:r-a/2,x2:i,y2:r+a/2,stroke:o,lineWidth:l});var u=l;yi(this.icon).maybeAppend(".left-arrow","line").styles({x1:i-a/2-2*u,y1:r,x2:i-2*u,y2:r,stroke:o,lineWidth:l,markerEnd:QC(2*l,o)}),yi(this.icon).maybeAppend(".right-arrow","line").styles({x1:i+a/2+2*u,y1:r,x2:i+2*u,y2:r,stroke:o,lineWidth:l,markerEnd:QC(2*l,o)})},e}(Gd),Oq=function(n){return[[-n/2,-n/2],[-n/2,n/2],[n/2,n/2]]},$0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6298\u7ebf\u56fe"},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth,h=(a-2*l-l)/4,p=(a-2*l-l)/2,v=Kt([i-a/2+l,r+a/2-2*l],2),y=v[0],b=v[1];yi(this.icon).maybeAppend(".coordinate","polyline").styles({points:Oq(a).map(function(E){var w=Kt(E,2);return[w[0]+i,w[1]+r]}),stroke:o,lineWidth:l}),yi(this.icon).maybeAppend(".line","polyline").styles({points:[[y,b],[y+h,b-p],[y+2*h,b],[y+4*h,b-2*p]],stroke:o,lineWidth:l})},e}(Gd),W0t=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return Ji(e,n),Object.defineProperty(e.prototype,"label",{get:function(){return"\u6761\u5f62\u56fe"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return[1,4,2,4,3]},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var i=this.attributes,r=i.x,o=i.y,s=i.color,l=this.iconSize,u=this.lineWidth,p=(l-u)/this.data.length,v=(l-2*u)/4,y=Kt([r-l/2+2*u,o+l/2-u],2),b=y[0],E=y[1];yi(this.icon).maybeAppend(".coordinate","polyline").styles({points:Oq(l).map(function(w){var S=Kt(w,2);return[S[0]+r,S[1]+o]}),stroke:s,lineWidth:u}),yi(this.icon).maybeAppend(".bars","g").selectAll(".column").data(this.data.map(function(w,S){return{value:w,index:S}})).join(function(w){return w.append("line").attr("className","column").style("x1",function(S){return b+p*S.index}).style("y1",E).style("x2",function(S){return b+p*S.index}).style("y2",function(S){return E-v*S.value}).styles({y1:E,stroke:s,lineWidth:u})})},e}(Gd),K0t=function(n){function e(t){var i=n.call(this,xa({},{style:{color:"#d8d9d9"}},t))||this;return i.showBackground=!1,i}return Ji(e,n),e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.color,a=this.iconSize,l=this.lineWidth;yi(this.icon).maybeAppend(".split","line").styles({x1:i,y1:r-a/2,x2:i,y2:r+a/2,stroke:o,lineWidth:l})},e}(Gd),O9=function(n){function e(){var t=n.apply(this,ni([],Kt(arguments),!1))||this;return t.showBackground=!1,t}return Ji(e,n),Object.defineProperty(e.prototype,"padding",{get:function(){return Ls(0)},enumerable:!1,configurable:!0}),e.prototype.renderIcon=function(){var t=this.iconSize,i=this.attributes,r=i.x,o=i.y,s=i.speed,a=void 0===s?1:s,l=ob(this.attributes,["x","y","transform","transformOrigin","width","height","size","color","speed"]),u=Mo(t,20,1/0),p=En(En({},l),{x:r-u/2,y:o-10,width:u,height:20,defaultValue:a,bordered:!1,showDropdownIcon:!1,selectRadius:2,dropdownPadding:this.padding,dropdownRadius:2,dropdownSpacing:t/5,placeholderFontSize:t/2,optionPadding:0,optionLabelFontSize:t/2,optionBackgroundRadius:1,options:[{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}]});yi(this.icon).maybeAppend(".speed",function(){return new F0t({style:p})}).attr("className","speed").each(function(){this.update(p)})},e.tag="SpeedSelect",e}(Gd),T9=function(n){function e(t){var i=n.call(this,t)||this;return i.icon=i.appendChild(new js({})),i.currentType=i.attributes.type,i}return Ji(e,n),e.prototype.getType=function(){return this.currentType},e.prototype.render=function(){var t=this,r=vo(this.attributes,["onChange"]);yi(this.icon).selectAll(".icon").data([this.currentType]).join(function(o){return o.append(function(s){var a,l=null===(a=t.toggles.find(function(u){return Kt(u,1)[0]===s}))||void 0===a?void 0:a[1];if(!l)throw new Error("Invalid type: ".concat(s));return new l({})}).attr("className","icon").styles(r,!1).update({})},function(o){return o.styles({restStyles:r}).update({})},function(o){return o.remove()})},e.prototype.bindEvents=function(){var t=this,i=this.attributes.onChange;this.addEventListener("click",function(r){r.preventDefault(),r.stopPropagation();var o=(t.toggles.findIndex(function(a){return Kt(a,1)[0]===t.currentType})+1)%t.toggles.length,s=t.toggles[o][0];i?.(t.currentType),t.currentType=s,t.render()})},e.tag="ToggleIcon",e}(Cs),A9=function(n){function e(t){var i=n.call(this,xa({},{style:{type:"play"}},t))||this;return i.toggles=[["play",z0t],["pause",U0t]],i}return Ji(e,n),e}(T9),k9=function(n){function e(t){var i=n.call(this,xa({},{style:{type:"range"}},t))||this;return i.toggles=[["range",G0t],["value",H0t]],i}return Ji(e,n),e}(T9),I9=function(n){function e(t){var i=n.call(this,xa({},{style:{type:"column"}},t))||this;return i.toggles=[["line",$0t],["column",W0t]],i}return Ji(e,n),e}(T9),X0t={reset:B0t,speed:O9,backward:j0t,playPause:A9,forward:V0t,selectionType:k9,chartType:I9,split:K0t},Y0t=function(n){function e(t){var i=n.call(this,xa({},e.defaultOptions,t))||this;return i.background=i.appendChild(new _a({})),i.functions=i.appendChild(new js({})),i}return Ji(e,n),Object.defineProperty(e.prototype,"padding",{get:function(){return Ls(this.attributes.padding)},enumerable:!1,configurable:!0}),e.prototype.renderBackground=function(){var t=this.style,i=t.x,r=t.y,o=t.width,s=t.height,a=rr(this.attributes,"background");this.background.attr(En({x:i,y:r,width:o,height:s},a))},e.prototype.renderFunctions=function(){var i,t=this,r=this.attributes,o=r.functions,s=r.iconSize,a=r.iconSpacing,l=r.x,u=r.y,h=r.width,p=r.height,v=r.align,y=Kt(this.padding,4),b=y[1],E=y[3],w=o.reduce(function(D,k){return D.concat.apply(D,ni(D.length&&k.length?["split"]:[],Kt(k),!1))},[]),S=w.length*(s+a)-a,C={left:E+s/2,center:(h-S)/2+s/2,right:h-S-E-b+s/2}[v]||0;null===(i=this.speedSelect)||void 0===i||i.destroy(),this.functions.removeChildren(),w.forEach(function(D,k){var T,I=X0t[D],F={x:l+k*(s+a)+C,y:u+p/2,size:s};if(I===O9?(F.speed=t.attributes.speed,F.onSelect=function(V){return t.handleFunctionChange(D,{value:V})}):[A9,k9,I9].includes(I)?(F.onChange=function(V){return t.handleFunctionChange(D,{value:V})},I===A9&&(F.type="play"===t.attributes.state?"pause":"play"),I===k9&&(F.type="range"===t.attributes.selectionType?"value":"range"),I===I9&&(F.type="line"===t.attributes.chartType?"column":"line")):F.onClick=function(){return t.handleFunctionChange(D,{value:D})},I===O9){var z=null===(T=t.ownerDocument)||void 0===T?void 0:T.defaultView;z&&(t.speedSelect=new I({style:En(En({},F),{zIndex:100})}),z.appendChild(t.speedSelect))}else t.functions.appendChild(new I({style:F}))})},e.prototype.disconnectedCallback=function(){var t;n.prototype.disconnectedCallback.call(this),null===(t=this.speedSelect)||void 0===t||t.destroy()},e.prototype.render=function(){this.renderBackground(),this.renderFunctions()},e.prototype.handleFunctionChange=function(t,i){var r=this.attributes.onChange;r?.(t,i)},e.defaultOptions={style:{x:0,y:0,width:300,height:40,padding:0,align:"center",iconSize:25,iconSpacing:0,speed:1,state:"pause",chartType:"line",selectionType:"range",backgroundFill:"#fbfdff",backgroundStroke:"#ebedf0",functions:[["reset","speed"],["backward","playPause","forward"],["selectionType","chartType"]]}},e}(Cs),Z0t=function(n){function e(t){var i=n.call(this,xa({},e.defaultOptions,t))||this;return i.bindEvents(),i}return Ji(e,n),e.prototype.bindEvents=function(){var t=this;this.addEventListener("mouseenter",function(){t.attr("lineWidth",Math.ceil(+(t.style.r||0)/2))}),this.addEventListener("mouseleave",function(){t.attr("lineWidth",0)})},e.defaultOptions={style:{r:5,fill:"#3f7cf7",lineWidth:0,stroke:"#3f7cf7",strokeOpacity:.5,cursor:"pointer"}},e}(h0),Q0t=function(n){function e(t){return n.call(this,xa({},e.defaultOptions,t))||this}return Ji(e,n),e.prototype.renderBackground=function(){var t=this.attributes,i=t.x,r=t.y,o=t.width,s=t.height,a=rr(this.attributes,"background");yi(this).maybeAppend("background","rect").attr("className","background").styles(En({x:i-o/2,y:r-s/2,width:o,height:s},a))},e.prototype.renderIcon=function(){var t=this.attributes,i=t.x,r=t.y,o=t.iconSize,s=rr(this.attributes,"icon"),l=o/2;yi(this).maybeAppend("icon-left-line","line").attr("className","icon-left-line").styles(En({x1:i-1,y1:r-l,x2:i-1,y2:r+l},s)),yi(this).maybeAppend("icon-right-line","line").attr("className","icon-right-line").styles(En({x1:i+1,y1:r-l,x2:i+1,y2:r+l},s))},e.prototype.renderBorder=function(){var t=this.attributes,i=t.x,r=t.y,o=t.width,s=t.height,a=t.type,l=rr(this.attributes,"border"),u="start"===a?+o/2:-o/2;yi(this).maybeAppend("border","line").attr("className","border").styles(En({x1:u+i,y1:r-s/2,x2:u+i,y2:r+s/2},l))},e.prototype.render=function(){this.renderBackground(),this.renderIcon(),this.renderBorder()},e.defaultOptions={style:{x:0,y:0,width:10,height:50,iconSize:10,type:"start",backgroundFill:"#fff",backgroundFillOpacity:.5,iconStroke:"#9a9a9a",iconLineWidth:1,borderStroke:"#e8e8e8",borderLineWidth:1}},e}(Cs);function Tq(n){var e=String(Math.floor(n/3600)).padStart(2,"0"),t=String(Math.floor(n%3600/60)).padStart(2,"0"),i=String(Math.floor(n%60)).padStart(2,"0");return n<3600?"".concat(t,":").concat(i):"".concat(e,":").concat(t,":").concat(i)}var tyt=function(n){function e(t){var i=n.call(this,xa({},e.defaultOptions,t))||this;i.axis=i.appendChild(new E0t({style:{type:"linear",startPos:[0,0],endPos:[0,0],data:[],showArrow:!1,animate:!1}})),i.timeline=i.appendChild(new bvt({style:{onChange:function(p){i.handleSliderChange(p)}}})),i.controller=i.appendChild(new Y0t({})),i.states={},i.handleSliderChange=function(p){var y,v=(y=i.states.values,Array.isArray(y)?ni([],Kt(y),!1):y);i.setBySliderValues(p),i.dispatchOnChange(v)};var r=i.attributes,h=r.values;return i.states={chartType:r.chartType,playMode:r.playMode,selectionType:r.selectionType,speed:r.speed,state:r.state},i.setByTimebarValues(h),i}return Ji(e,n),Object.defineProperty(e.prototype,"data",{get:function(){return this.attributes.data.sort(function(r,o){return r.time<o.time?-1:r.time>o.time?1:0})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"space",{get:function(){var t=this.attributes,i=t.x,r=t.y,o=t.width,s=t.height,a=t.type,l=t.controllerHeight,u=Mo(+s-l,0,+s),h=new xs(i,r+ +s-l,+o,l),v=0,y="time"===a?10:u;return{axisBBox:"chart"===a?new xs(i,r+u-(v=35),+o,v):new xs,controllerBBox:h,timelineBBox:new xs(i,r+("time"===a?u:u-y),+o,y-v)}},enumerable:!1,configurable:!0}),e.prototype.setBySliderValues=function(t){var i,r,o=this.data,s=Kt(Array.isArray(t)?t:[0,t],2),l=s[1],u=o.length,h=o[Math.floor(s[0]*u)],p=o[Math.ceil(l*u)-(Array.isArray(t)?0:1)];this.states.values=[null!==(i=h?.time)&&void 0!==i?i:o[0].time,null!==(r=p?.time)&&void 0!==r?r:1/0]},e.prototype.setByTimebarValues=function(t){var i,r,o,s=this.data,a=Kt(Array.isArray(t)?t:[void 0,t],2),l=a[0],u=a[1],h=s.find(function(v){return v.time===l}),p=s.find(function(v){return v.time===u});this.states.values=[null!==(i=h?.time)&&void 0!==i?i:null===(r=s[0])||void 0===r?void 0:r.time,null!==(o=p?.time)&&void 0!==o?o:1/0]},e.prototype.setByIndex=function(t){var i,r,o,s,a=this.data,l=Kt(t,2);this.states.values=[null!==(r=null===(i=a[l[0]])||void 0===i?void 0:i.time)&&void 0!==r?r:a[0].time,null!==(s=null===(o=this.data[l[1]])||void 0===o?void 0:o.time)&&void 0!==s?s:1/0]},Object.defineProperty(e.prototype,"sliderValues",{get:function(){var y,t=this.states,i=t.values,r=t.selectionType,o=Kt(Array.isArray(i)?i:[void 0,i],2),s=o[0],a=o[1],l=this.data,u=l.length,h="value"===r;return[(y=l.findIndex(function(b){return b.time===s}),h?0:y>-1?y/u:0),function(){if(a===1/0)return 1;var y=l.findIndex(function(b){return b.time===a});return y>-1?y/u:h?.5:1}()]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){var t=this.states,i=t.values,r=t.selectionType,o=Kt(Array.isArray(i)?i:[this.data[0].time,i],2),a=o[1];return"value"===r?a:[o[0],a]},enumerable:!1,configurable:!0}),e.prototype.getDatumByRatio=function(t){var i=this.data;return i[Math.floor(t*(i.length-1))]},Object.defineProperty(e.prototype,"chartHandleIconShape",{get:function(){var i=this.space.timelineBBox.height;return"range"===this.states.selectionType?function(r){return new Q0t({style:{type:r,height:i,iconSize:i/6}})}:function(){return new Nc({style:{x1:0,y1:-i/2,x2:0,y2:i/2,lineWidth:2,stroke:"#c8c8c8"}})}},enumerable:!1,configurable:!0}),e.prototype.getChartStyle=function(t){var i=this,r=t.x,o=t.y,s=t.width,a=t.height,l=this.states,u=l.selectionType,h=l.chartType,p=this.data,v=this.attributes,y=v.type,b=v.labelFormatter,w=vo(rr(this.attributes,"chart"),["type"]),S="range"===u;if("time"===y)return En({handleIconShape:function(){return new Z0t({})},selectionFill:"#2e7ff8",selectionFillOpacity:1,showLabelOnInteraction:!0,handleLabelDy:S?-15:0,autoFitLabel:S,handleSpacing:S?-15:0,trackFill:"#edeeef",trackLength:s,trackOpacity:.5,trackRadius:a/2,trackSize:a/2,type:u,values:this.sliderValues,formatter:function(k){if(b)return b(k);var T=i.getDatumByRatio(k).time;return"number"==typeof T?Tq(T):yc(T,"YYYY-MM-DD HH:mm:ss")},transform:"translate(".concat(r,", ").concat(o,")"),zIndex:1},w);var C="range"===u?5:0,D=p.map(function(k){return k.value});return En({handleIconOffset:C,handleIconShape:this.chartHandleIconShape,selectionFill:"#fff",selectionFillOpacity:.5,selectionType:"invert",sparklineSpacing:.1,sparklineColumnLineWidth:0,sparklineColor:"#d4e5fd",sparklineAreaOpacity:1,sparklineAreaLineWidth:0,sparklineData:D,sparklineType:h,sparklineScale:.8,trackLength:s,trackSize:a,type:u,values:this.sliderValues,transform:"translate(".concat(r,", ").concat(o,")"),zIndex:1},w)},e.prototype.renderChart=function(t){void 0===t&&(t=this.space.timelineBBox),this.timeline.update(this.getChartStyle(t))},e.prototype.updateSelection=function(){this.timeline.setValues(this.sliderValues,!0),this.handleSliderChange(this.sliderValues)},e.prototype.getAxisStyle=function(t){var i=this.data,r=this.attributes,o=r.interval,s=r.labelFormatter,a=rr(this.attributes,"axis"),l=t.x,u=t.y,h=t.width,p=ni(ni([],Kt(i),!1),[{time:0}],!1).map(function(y,b,E){var w=y.time;return{label:"".concat(w),value:b/(E.length-1),time:w}});return En({startPos:[l,u],endPos:[l+h,u],data:p,labelFilter:function(y,b){return b<p.length-1},labelFormatter:function(y){var b=y.time;return s?s(b):function q0t(n,e){return"number"==typeof n?Tq(n):function J0t(n,e){var t=new Date(n);switch(e){case"half-hour":case"hour":case"four-hour":return[0,6,12,18].includes(t.getHours())&&0===t.getMinutes()?yc(t,"HH:mm\nYYYY-MM-DD"):yc(t,"HH:mm");case"half-day":return t.getHours()<12?"AM\n".concat(yc(t,"YYYY-MM-DD")):"PM";case"day":return[1,10,20].includes(t.getDate())?yc(t,"DD\nYYYY-MM"):yc(t,"DD");case"week":return t.getDate()<=7?yc(t,"DD\nYYYY-MM"):yc(t,"DD");case"month":return[0,6].includes(t.getMonth())?yc(t,"MM\u6708\nYYYY"):yc(t,"MM\u6708");case"season":return[0].includes(t.getMonth())?yc(t,"MM\u6708\nYYYY"):yc(t,"MM\u6708");case"year":return yc(t,"YYYY");default:return yc(t,"YYYY-MM-DD HH:mm")}}(n,e)}(b,o)}},a)},e.prototype.renderAxis=function(t){void 0===t&&(t=this.space.axisBBox),"chart"===this.attributes.type&&this.axis.update(this.getAxisStyle(t))},e.prototype.renderController=function(t){void 0===t&&(t=this.space.controllerBBox);var i=this.attributes.type,r=this.states,o=r.state,s=r.speed,a=r.selectionType,l=r.chartType,u=rr(this.attributes,"controller"),h=this,p=En(En(En({},t),{iconSize:20,speed:s,state:o,selectionType:a,chartType:l,onChange:function(v,y){var b=y.value;switch(v){case"reset":h.internalReset();break;case"speed":h.handleSpeedChange(b);break;case"backward":h.internalBackward();break;case"playPause":"play"===b?h.internalPlay():h.internalPause();break;case"forward":h.internalForward();break;case"selectionType":h.handleSelectionTypeChange(b);break;case"chartType":h.handleChartTypeChange(b)}}}),u);"time"===i&&(p.functions=[["reset","speed"],["backward","playPause","forward"],["selectionType"]]),this.controller.update(p)},e.prototype.dispatchOnChange=function(t){var b,E,i=this.data,r=this.attributes.onChange,o=this.states,a=o.selectionType,l=Kt(o.values,2),u=l[0],h=l[1],p=h===1/0?i.at(-1).time:h;(!t||(b=t,E="range"===a?[u,p]:p,!(Array.isArray(b)?Array.isArray(E)&&b[0]===E[0]&&(b[1]===E[1]||b[1]===1/0||E[1]===1/0):!Array.isArray(E)&&b===E)))&&r?.("range"===a?[u,p]:p)},e.prototype.internalReset=function(t){var i,r,o=this.states.selectionType;this.internalPause(),this.setBySliderValues("range"===o?[0,1]:[0,0]),this.renderController(),this.updateSelection(),t||(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onReset)||void 0===r||r.call(i),this.dispatchOnChange())},e.prototype.reset=function(){this.internalReset()},e.prototype.moveSelection=function(t,i){var r=this.data,o=r.length,s=this.states,l=s.selectionType,u=s.playMode,h=Kt(s.values,2),p=h[0],v=h[1],y=r.findIndex(function(D){return D.time===p}),b=r.findIndex(function(D){return D.time===v});-1===b&&(b=o);var w,E="backward"===t?-1:1;"range"===l?"acc"===u?(w=[y,b+E],-1===E&&y===b&&(w=[y,o])):w=[y+E,b+E]:w=[y,b+E];var k,T,I,F,C=(T=(k=Kt(w.sort(function(z,V){return z-V}),2))[0],F=function(z){return Mo(z,0,o)},(I=k[1])>o?"value"===l?[0,0]:"acc"===u?[F(T),F(T)]:[0,F(I-T)]:T<0?"acc"===u?[0,F(I)]:[F(T+o-I),o]:[F(T),F(I)]);return this.setByIndex(C),this.updateSelection(),C},e.prototype.internalBackward=function(t){var i,r,o=this.moveSelection("backward",t);return t||(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onBackward)||void 0===r||r.call(i),this.dispatchOnChange()),o},e.prototype.backward=function(){this.internalBackward()},e.prototype.internalPlay=function(t){var r,o,i=this,s=this.data,a=this.attributes.loop,l=this.states.speed;this.playInterval=window.setInterval(function(){i.internalForward()[1]===s.length&&!a&&(i.internalPause(),i.renderController())},1e3/(void 0===l?1:l)),this.states.state="play",!t&&(null===(o=null===(r=this.attributes)||void 0===r?void 0:r.onPlay)||void 0===o||o.call(r))},e.prototype.play=function(){this.internalPlay()},e.prototype.internalPause=function(t){var i,r;clearInterval(this.playInterval),this.states.state="pause",!t&&(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onPause)||void 0===r||r.call(i))},e.prototype.pause=function(){this.internalPause()},e.prototype.internalForward=function(t){var i,r,o=this.moveSelection("forward",t);return t||(null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onForward)||void 0===r||r.call(i),this.dispatchOnChange()),o},e.prototype.forward=function(){this.internalForward()},e.prototype.handleSpeedChange=function(t){var i,r;this.states.speed=t,"play"===this.states.state&&(this.internalPause(!0),this.internalPlay(!0)),null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onSpeedChange)||void 0===r||r.call(i,t)},e.prototype.handleSelectionTypeChange=function(t){var i,r;this.states.selectionType=t,this.renderChart(),null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onSelectionTypeChange)||void 0===r||r.call(i,t)},e.prototype.handleChartTypeChange=function(t){var i,r;this.states.chartType=t,this.renderChart(),null===(r=null===(i=this.attributes)||void 0===i?void 0:i.onChartTypeChange)||void 0===r||r.call(i,t)},e.prototype.render=function(){var t=this.space,i=t.axisBBox,o=t.timelineBBox;this.renderController(t.controllerBBox),this.renderAxis(i),this.renderChart(o),"play"===this.states.state&&this.internalPlay()},e.prototype.destroy=function(){n.prototype.destroy.call(this),this.internalPause(!0)},e.defaultOptions={style:{x:0,y:0,axisLabelFill:"#6e6e6e",axisLabelTextAlign:"left",axisLabelTextBaseline:"top",axisLabelTransform:"translate(5, -12)",axisLineLineWidth:1,axisLineStroke:"#cacdd1",axisTickLength:15,axisTickLineWidth:1,axisTickStroke:"#cacdd1",chartShowLabel:!1,chartType:"line",controllerAlign:"center",controllerHeight:40,data:[],interval:"day",loop:!1,playMode:"acc",selectionType:"range",type:"time"}},e}(Cs);let nyt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.typePrefix="__data__",this.element=null,this.draw=!1,this.fieldMap={node:new Map,edge:new Map,combo:new Map},this.selectedItems=[],this.bindEvents=()=>{const{graph:r}=this.context;r.on(An.AFTER_DRAW,this.createElement)},this.changeState=(r,o)=>{const{graph:s}=this.context,{typePrefix:a}=this,l=na(r,[a,"id"]),u=na(r,[a,"style","labelText"]),[h]=l.split("__"),p=this.fieldMap[h].get(u)||[];s.setElementState(Object.fromEntries(p?.map(v=>[v,o])))},this.click=r=>{if("hover"===this.options.trigger)return;const o=na(r,[this.typePrefix,"id"]);this.selectedItems.includes(o)?(this.selectedItems=this.selectedItems.filter(s=>s!==o),this.changeState(r,[])):(this.selectedItems.push(o),this.changeState(r,"selected"))},this.mouseleave=r=>{"click"!==this.options.trigger&&(this.selectedItems=[],this.changeState(r,[]))},this.mouseenter=r=>{if("click"===this.options.trigger)return;const o=na(r,[this.typePrefix,"id"]);this.selectedItems.includes(o)?this.selectedItems=this.selectedItems.filter(s=>s!==o):(this.selectedItems.push(o),this.changeState(r,"active"))},this.setFieldMap=(r,o,s)=>{if(!r)return;const a=this.fieldMap[s];if(a)if(a.has(r)){const l=a.get(r);l&&(l.push(o),a.set(r,l))}else a.set(r,[o])},this.getEvents=()=>({mouseenter:this.mouseenter,mouseleave:this.mouseleave,click:this.click}),this.getMarkerData=(r,o)=>{if(!r)return[];const{model:s,element:a}=this.context,{nodes:u,edges:h,combos:p}=s.getData(),v={},y=C=>$n(r)?r(C):r,b={node:"circle",edge:"line",combo:"rect"},E={circle:"circle",ellipse:"circle",image:"bowtie",rect:"square",star:"cross",triangle:"triangle",diamond:"diamond",cubic:"dot",line:"hyphen",polyline:"hyphen",quadratic:"hv","cubic-horizontal":"hyphen","cubic-vertical":"line"},S=(C,D)=>{C.forEach(k=>{const{id:T}=k,I=na(k,["data",y(k)]),F=a?.getElementType(D,k)||"circle",z=((C,D)=>a?.getElementComputedStyle(C,D))(D,k),V=("edge"===D?z?.stroke:z?.fill)||"#1783ff";T&&I&&I.replace(/\s+/g,"")&&(this.setFieldMap(I,T,D),v[I]||(v[I]={id:`${D}__${T}`,label:I,marker:E[F]||b[D],elementType:D,lineWidth:1,stroke:V,fill:V}))})};switch(o){case"node":S(u,"node");break;case"edge":S(h,"edge");break;case"combo":S(p,"combo");break;default:return[]}return Object.values(v)},this.layout=r=>{let{flexDirection:s,alignItems:a,justifyContent:l}={flexDirection:"row",alignItems:"flex-end",justifyContent:"center"};const u={top:["row","flex-start","center"],bottom:["row","flex-end","center"],left:["column","flex-start","center"],right:["column","flex-end","center"]};return r in u&&([s,a,l]=u[r]),{display:"flex",flexDirection:s,justifyContent:l,alignItems:a}},this.createElement=()=>{if(this.draw)return void this.updateElement();const{canvas:r}=this.context,[o,s]=r.getSize(),a=this.options,{width:l=o,height:u=s,nodeField:h,edgeField:p,comboField:v,position:b}=a,E=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(a,["width","height","nodeField","edgeField","comboField","trigger","position"]),w=this.getMarkerData(h,"node"),S=this.getMarkerData(p,"edge"),C=this.getMarkerData(v,"combo"),D=[...w,...C,...S],k=this.layout(b),T=new N0t({style:Object.assign({width:l,height:u},k)}),I=Object.assign({width:l,height:u,data:D,itemMarkerLineWidth:({lineWidth:z})=>z,itemMarker:({marker:z})=>z,itemMarkerStroke:({stroke:z})=>z,itemMarkerFill:({fill:z})=>z,gridCol:w.length},E,this.getEvents()),F=new A0t({className:"legend",style:I});T.appendChild(F),r.appendChild(T),this.element=T,this.draw=!0},this.bindEvents()}update(t){super.update(t),this.clear(),this.createElement()}clear(){var t;null===(t=this.element)||void 0===t||t.destroy(),this.element=null,this.draw=!1}updateElement(){this.element&&this.element.getChildByIndex(0).update({itemMarkerOpacity:({id:t})=>!this.selectedItems.length||this.selectedItems.includes(t)?1:.5,itemLabelOpacity:({id:t})=>!this.selectedItems.length||this.selectedItems.includes(t)?1:.5})}destroy(){this.clear(),this.context.graph.off(An.AFTER_DRAW,this.createElement),super.destroy()}}return n.defaultOptions={position:"bottom",trigger:"hover",orientation:"horizontal",layout:"flex",itemSpacing:4,rowPadding:10,colPadding:10,itemMarkerSize:16,itemLabelFontSize:16},n})(),Aq=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.onDraw=r=>{var o;null!==(o=r?.data)&&void 0!==o&&o.render||this.onRender()},this.shapes=new Map,this.landmarkMap=new Map,this.mask=null,this.isMaskDragging=!1,this.onMaskDragStart=r=>{this.mask&&(this.isMaskDragging=!0,this.mask.setPointerCapture(r.pointerId),this.mask.addEventListener("pointermove",this.onMaskDrag),this.mask.addEventListener("pointerup",this.onMaskDragEnd),this.mask.addEventListener("pointercancel",this.onMaskDragEnd))},this.onMaskDrag=r=>{if(!this.mask||!this.isMaskDragging)return;const{size:[o,s]}=this.options,{movementX:a,movementY:l}=r,{left:u,top:h,width:p,height:v}=this.mask.style,[,,y,b]=this.maskBBox;let E=parseInt(u)+a,w=parseInt(h)+l,S=parseInt(p),C=parseInt(v);E<0&&(E=0),w<0&&(w=0),E+S>o&&(E=Ag(o-S,0)),w+C>s&&(w=Ag(s-C,0)),S<y&&(a>0?(E=Ag(E-a,0),S=Tg(S+a,o)):a<0&&(S=Tg(S-a,o))),C<b&&(l>0?(w=Ag(w-l,0),C=Tg(C+l,s)):l<0&&(C=Tg(C-l,s))),Object.assign(this.mask.style,{left:E+"px",top:w+"px",width:S+"px",height:C+"px"});const D=parseInt(u)-E,k=parseInt(h)-w;if(0===D&&0===k)return;const F=this.context.canvas.getCamera().getZoom()/this.canvas.getCamera().getZoom();this.context.graph.translateBy([D*F,k*F],!1)},this.onMaskDragEnd=r=>{this.mask&&(this.isMaskDragging=!1,this.mask.releasePointerCapture(r.pointerId),this.mask.removeEventListener("pointermove",this.onMaskDrag),this.mask.removeEventListener("pointerup",this.onMaskDragEnd),this.mask.removeEventListener("pointercancel",this.onMaskDragEnd))},this.onTransform=xv(()=>{this.isMaskDragging||(this.updateMask(),this.setCamera())},32,{leading:!0}),this.setOnRender(),this.bindEvents()}update(t){this.unbindEvents(),super.update(t),"delay"in t&&this.setOnRender(),this.bindEvents()}setOnRender(){this.onRender=Of(()=>{this.renderMinimap(),this.renderMask()},this.options.delay,!0)}bindEvents(){const{graph:t}=this.context;t.on(An.AFTER_DRAW,this.onDraw),t.on(An.AFTER_RENDER,this.onRender),t.on(An.AFTER_TRANSFORM,this.onTransform)}unbindEvents(){const{graph:t}=this.context;t.off(An.AFTER_DRAW,this.onDraw),t.off(An.AFTER_RENDER,this.onRender),t.off(An.AFTER_TRANSFORM,this.onTransform)}renderMinimap(){const t=this.getElements(),i=this.initCanvas();this.setShapes(i,t)}getElements(){const{filter:t}=this.options,{model:i}=this.context,r=i.getData();if(!t)return r;const{nodes:o,edges:s,combos:a}=r;return{nodes:o.filter(l=>t(Ge(l),"node")),edges:s.filter(l=>t(Ge(l),"edge")),combos:a.filter(l=>t(Ge(l),"combo"))}}setShapes(t,i){const{nodes:r,edges:o,combos:s}=i,{shape:a}=this.options,{element:l}=this.context;if("key"===a){const h=new Set,p=v=>{const y=Ge(v);h.add(y);const b=l.getElement(y);if(!b)return;const E=b.getShape("key"),w=this.shapes.get(y)||E.cloneNode();w.setPosition(E.getPosition()),b.style.zIndex&&(w.style.zIndex=b.style.zIndex),w.id=b.id,this.shapes.has(y)?Object.entries(E.attributes).forEach(([S,C])=>{w.style[S]!==C&&(w.style[S]=C)}):(t.appendChild(w),this.shapes.set(y,w))};return o.forEach(p),s.forEach(p),r.forEach(p),void this.shapes.forEach((v,y)=>{h.has(y)||(t.removeChild(v),this.shapes.delete(y))})}const u=(h,p)=>{const v=l.getElement(h).getPosition();return p.setPosition(v),p};t.removeChildren(),o.forEach(h=>t.appendChild(a(Ge(h),"edge"))),s.forEach(h=>{t.appendChild(u(Ge(h),a(Ge(h),"combo")))}),r.forEach(h=>{t.appendChild(u(Ge(h),a(Ge(h),"node")))})}calculatePosition(){const{position:t,size:[i,r]}=this.options,{canvas:o}=this.context,[s,a]=o.getSize(),[l,u]=AA(t);return[l*(s-i),u*(a-r)]}createContainer(){const{container:t,className:i,size:[r,o],containerStyle:s}=this.options;if(t)return"string"==typeof t?document.querySelector(t):t;const a=document.createElement("div");a.classList.add("g6-minimap"),i&&a.classList.add(i);const[l,u]=this.calculatePosition();return Object.assign(a.style,Object.assign({position:"absolute",left:l+"px",top:u+"px",width:r+"px",height:o+"px"},s)),this.context.canvas.getContainer().appendChild(a)}initCanvas(){const{renderer:t,size:[i,r]}=this.options;if(this.canvas){const{width:o,height:s}=this.canvas.getConfig();(i!==o||r!==s)&&this.canvas.resize(i,r),t&&this.canvas.setRenderer(t)}else{const o=document.createElement("div"),s=this.createContainer();this.container=s,s.appendChild(o),this.canvas=new ai.Canvas({width:i,height:r,container:o,renderer:t||new Qh})}return this.setCamera(),this.canvas}createLandmark(t,i,r){const o=`${t.join(",")}-${i.join(",")}-${r}`;if(this.landmarkMap.has(o))return this.landmarkMap.get(o);const s=this.canvas.getCamera().createLandmark(o,{position:t,focalPoint:i,zoom:r});return this.landmarkMap.set(o,s),s}setCamera(){var t;const{canvas:i}=this.context,r=null===(t=this.canvas)||void 0===t?void 0:t.getCamera();if(!r)return;const{size:[o,s],padding:a}=this.options,[l,u,h,p]=Dd(a),{min:v,max:y,center:b}=i.getBounds("elements"),T=Math.min((o-p-u)/(y[0]-v[0]),(s-l-h)/(y[1]-v[1])),I=this.createLandmark(b,b,T);r.gotoLandmark(I,0)}get maskBBox(){const{canvas:t}=this.context,i=t.getSize(),r=t.getCanvasByViewport([0,0]),o=t.getCanvasByViewport(i),s=this.canvas.canvas2Viewport(pc(r)),a=this.canvas.canvas2Viewport(pc(o));return[s.x,s.y,a.x-s.x,a.y-s.y]}calculateMaskBBox(){const{size:[t,i]}=this.options;let[r,o,s,a]=this.maskBBox;return r<0&&(s=Tg(s+r,t),r=0),o<0&&(a=Tg(a+o,i),o=0),r+s>t&&(s=Ag(t-r,0)),o+a>i&&(a=Ag(i-o,0)),[Tg(r,t),Tg(o,i),Ag(s,0),Ag(a,0)]}renderMask(){const{maskStyle:t}=this.options;this.mask||(this.mask=document.createElement("div"),this.mask.addEventListener("pointerdown",this.onMaskDragStart)),this.container.appendChild(this.mask),Object.assign(this.mask.style,Object.assign(Object.assign({},t),{cursor:"move",position:"absolute",pointerEvents:"auto"})),this.updateMask()}updateMask(){if(!this.mask)return;const[t,i,r,o]=this.calculateMaskBBox();Object.assign(this.mask.style,{top:i+"px",left:t+"px",width:r+"px",height:o+"px"})}destroy(){var t;this.unbindEvents(),this.canvas.destroy(),null===(t=this.mask)||void 0===t||t.remove(),super.destroy()}}return n.defaultOptions={size:[240,160],shape:"key",padding:10,position:"right-bottom",maskStyle:{border:"1px solid #ddd",background:"rgba(0, 0, 0, 0.1)"},containerStyle:{border:"1px solid #ddd",background:"#fff"},delay:128},n})();const Tg=(n,e)=>Math.min(n,e),Ag=(n,e)=>Math.max(n,e);var R9=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const P9={x1:0,y1:0,x2:0,y2:0,visibility:"hidden"};let iyt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.initSnapline=()=>{const r=this.context.canvas.getLayer("transient");this.horizontalLine||(this.horizontalLine=r.appendChild(new ai.Line({style:Object.assign(Object.assign({},P9),this.options.horizontalLineStyle)}))),this.verticalLine||(this.verticalLine=r.appendChild(new ai.Line({style:Object.assign(Object.assign({},P9),this.options.verticalLineStyle)})))},this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!0,this.autoSnapToLine=(r,o,s)=>R9(this,void 0,void 0,function*(){const{verticalX:a,horizontalY:l}=s,{tolerance:u}=this.options,{min:[h,p],max:[v,y],center:[b,E]}=o;let w=0,S=0;null!==a&&(fl(v,a)<u&&(w=a-v),fl(h,a)<u&&(w=a-h),fl(b,a)<u&&(w=a-b),0!==w&&(this.isVerticalSticking=!0)),null!==l&&(fl(y,l)<u&&(S=l-y),fl(p,l)<u&&(S=l-p),fl(E,l)<u&&(S=l-E),0!==S&&(this.isHorizontalSticking=!0)),(0!==w||0!==S)&&(yield this.context.graph.translateElementBy({[r]:[w,S]},!1))}),this.enableSnap=r=>{const{target:o}=r,s=.5;if(this.isHorizontalSticking||this.isVerticalSticking){const[a,l]=this.getDelta(r);if(this.isHorizontalSticking&&this.isVerticalSticking&&Math.abs(a)<=s&&Math.abs(l)<=s)return this.context.graph.translateElementBy({[o.id]:[-a,-l]},!1),!1;if(this.isHorizontalSticking&&Math.abs(l)<=s)return this.context.graph.translateElementBy({[o.id]:[0,-l]},!1),!1;if(this.isVerticalSticking&&Math.abs(a)<=s)return this.context.graph.translateElementBy({[o.id]:[-a,0]},!1),!1;this.isHorizontalSticking=!1,this.isVerticalSticking=!1,this.enableStick=!1,setTimeout(()=>{this.enableStick=!0},200)}return this.enableStick},this.calcSnaplineMetadata=(r,o)=>{const{tolerance:s,shape:a}=this.options,{min:[l,u],max:[h,p],center:[v,y]}=o;let b=null,E=null,w=null,S=null,C=null,D=null;return this.getNodes().some(k=>{if(Po(r.id,k.id))return!1;const T=kq(k,a).getRenderBounds(),{min:[I,F],max:[z,V],center:[K,Y]}=T;return null===b&&(fl(K,v)<s?b=K:fl(I,l)<s||fl(I,h)<s?b=I:(fl(z,h)<s||fl(z,l)<s)&&(b=z),null!==b&&(E=Math.min(F,u),w=Math.max(V,p))),null===S&&(fl(Y,y)<s?S=Y:fl(F,u)<s||fl(F,p)<s?S=F:(fl(V,p)<s||fl(V,u)<s)&&(S=V),null!==S&&(C=Math.min(I,l),D=Math.max(z,h))),null!==b&&null!==S}),{verticalX:b,verticalMinY:E,verticalMaxY:w,horizontalY:S,horizontalMinX:C,horizontalMaxX:D}},this.onDragStart=()=>{this.initSnapline()},this.onDrag=r=>R9(this,void 0,void 0,function*(){const{target:o}=r;if(this.options.autoSnap&&!this.enableSnap(r))return;const s=kq(o,this.options.shape).getRenderBounds(),a=this.calcSnaplineMetadata(o,s);this.hideSnapline(),(null!==a.verticalX||null!==a.horizontalY)&&this.updateSnapline(a),this.options.autoSnap&&(yield this.autoSnapToLine(o.id,s,a))}),this.onDragEnd=()=>{this.hideSnapline()},this.bindEvents()}getNodes(){var t;const{filter:i}=this.options,r=((null===(t=this.context.element)||void 0===t?void 0:t.getNodes())||[]).filter(o=>{var s;return function zk(n){return"hidden"!==na(n,["style","visibility"])}(o)&&(null===(s=this.context.viewport)||void 0===s?void 0:s.isInViewport(o.getRenderBounds()))});return i?r.filter(o=>i(o)):r}hideSnapline(){this.horizontalLine.style.visibility="hidden",this.verticalLine.style.visibility="hidden"}getLineWidth(t){const{lineWidth:i}=this.options[`${t}LineStyle`];return+(i||P9.lineWidth||1)/this.context.graph.getZoom()}updateSnapline(t){const{verticalX:i,verticalMinY:r,verticalMaxY:o,horizontalY:s,horizontalMinX:a,horizontalMaxX:l}=t,[u,h]=this.context.canvas.getSize(),{offset:p}=this.options;null!==s?Object.assign(this.horizontalLine.style,{x1:p===1/0?0:a-p,y1:s,x2:p===1/0?u:l+p,y2:s,visibility:"visible",lineWidth:this.getLineWidth("horizontal")}):this.horizontalLine.style.visibility="hidden",null!==i?Object.assign(this.verticalLine.style,{x1:i,y1:p===1/0?0:r-p,x2:i,y2:p===1/0?h:o+p,visibility:"visible",lineWidth:this.getLineWidth("vertical")}):this.verticalLine.style.visibility="hidden"}getDelta(t){const i=this.context.graph.getZoom();return fc([t.dx,t.dy],i)}bindEvents(){return R9(this,void 0,void 0,function*(){const{graph:t}=this.context;t.on(Kr.DRAG_START,this.onDragStart),t.on(Kr.DRAG,this.onDrag),t.on(Kr.DRAG_END,this.onDragEnd)})}unbindEvents(){const{graph:t}=this.context;t.off(Kr.DRAG_START,this.onDragStart),t.off(Kr.DRAG,this.onDrag),t.off(Kr.DRAG_END,this.onDragEnd)}destroyElements(){var t,i;null===(t=this.horizontalLine)||void 0===t||t.destroy(),null===(i=this.verticalLine)||void 0===i||i.destroy()}destroy(){this.destroyElements(),this.unbindEvents(),super.destroy()}}return n.defaultOptions={tolerance:5,offset:20,autoSnap:!0,shape:"key",verticalLineStyle:{stroke:"#1783FF"},horizontalLineStyle:{stroke:"#1783FF"},filter:()=>!0},n})();const fl=(n,e)=>Math.abs(n-e),kq=(n,e)=>"function"==typeof e?e(n):n.getShape(e);const syt=["timestamp","time","date","datetime"];let ayt=(()=>{class n extends $s{get padding(){return Dd(this.options.padding)}constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.backup(),this.upsertTimebar()}play(){var t;null===(t=this.timebar)||void 0===t||t.play()}pause(){var t;null===(t=this.timebar)||void 0===t||t.pause()}forward(){var t;null===(t=this.timebar)||void 0===t||t.forward()}backward(){var t;null===(t=this.timebar)||void 0===t||t.backward()}reset(){var t;null===(t=this.timebar)||void 0===t||t.reset()}update(t){super.update(t),this.backup(),Object.keys(t).forEach(i=>{"position"===i?this.upsertWrapper():this.upsertTimebar()})}backup(){this.originalData=Iq(this.context.graph.getData())}upsertTimebar(){const{canvas:t}=this.context,i=this.options,{onChange:r,timebarType:o,data:s,width:u,height:h}=i,v=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["onChange","timebarType","data","x","y","width","height","mode"]),y=t.getSize(),[b]=this.padding;this.upsertCanvas().ready.then(()=>{var E;const w=Object.assign(Object.assign({x:y[0]/2-u/2,y:b,onChange:S=>{const C=(Hi(S)?S:[S,S]).map(D=>LD(D)?D.getTime():D);"modify"===this.options.mode?this.filterElements(C):this.hiddenElements(C),r?.(C)}},v),{data:s.map(S=>Zn(S)?{time:S,value:0}:S),width:u,height:h,type:o});this.timebar?this.timebar.update(w):(this.timebar=new tyt({style:w}),null===(E=this.canvas)||void 0===E||E.appendChild(this.timebar))})}upsertWrapper(){var t;if(!this.wrapper){const a=document.createElement("div");a.style.position="absolute",this.wrapper=a}const{x:i,y:r,className:o,position:s}=this.options;return o&&(this.wrapper.className=o),Zn(i)||Zn(r)?Object.assign(this.wrapper.style,{left:`${i??0}px`,top:`${r??0}px`}):Object.assign(this.wrapper.style,{["top"===s?"bottom":"top"]:"unset",["top"===s?"top":"bottom"]:"0px"}),null===(t=this.context.canvas.getContainer())||void 0===t||t.appendChild(this.wrapper),this.wrapper}upsertCanvas(){var t,i;const r=this.upsertWrapper();if(this.canvas)return this.canvas;const{height:o}=this.options,[s]=this.context.canvas.getSize(),[a,,l]=this.padding;return this.canvas=new ai.Canvas({container:r,width:s,height:o+a+l,renderer:(null===(i=(t=this.context.options).renderer)||void 0===i?void 0:i.call(t,"main"))||new Qh,supportsMutipleCanvasesInOneContainer:!0}),this.canvas}filterElements(t){return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){var i;if(!this.originalData)return;const{elementTypes:r,getTime:o}=this.options,{graph:s,element:a}=this.context,l=Iq(this.originalData);r.forEach(h=>{const p=`${h}s`;l[p]=(this.originalData[p]||[]).filter(v=>{const y=o(v);return!!Rq(y,t)})});const u=[...l.nodes,...l.combos].map(h=>Ge(h));l.edges=l.edges.filter(h=>{const v=h.target;return u.includes(h.source)&&u.includes(v)}),s.setData(l),yield null===(i=a.draw({animation:!1,silence:!0}))||void 0===i?void 0:i.finished})}hiddenElements(t){const{graph:i}=this.context,{elementTypes:r,getTime:o}=this.options,s=[],a=[];r.forEach(l=>{var u;((null===(u=this.originalData)||void 0===u?void 0:u[`${l}s`])||[]).forEach(p=>{const v=Ge(p),y=o(p);Rq(y,t)?a.push(v):s.push(v)})}),i.hideElement(s,!1),i.showElement(a,!1)}destroy(){var t,i,r;const{graph:o}=this.context;this.originalData&&o.setData(Object.assign({},this.originalData)),null===(t=this.timebar)||void 0===t||t.destroy(),null===(i=this.canvas)||void 0===i||i.destroy(),null===(r=this.wrapper)||void 0===r||r.remove(),this.originalData=void 0,this.wrapper=void 0,this.timebar=void 0,this.canvas=void 0,super.destroy()}}return n.defaultOptions={position:"bottom",enable:!0,timebarType:"time",className:"g6-timebar",width:450,height:60,zIndex:3,elementTypes:["node"],padding:10,mode:"modify",getTime:e=>lyt(e,syt,void 0),loop:!1},n})();const Iq=n=>{const{nodes:e=[],edges:t=[],combos:i=[]}=n;return{nodes:[...e],edges:[...t],combos:[...i]}},Rq=(n,e)=>{if(Zn(e))return n===e;const[t,i]=e;return n>=t&&n<=i},lyt=(n,e,t)=>{var i;for(let r=0;r<e.length;r++){const s=null===(i=n.data)||void 0===i?void 0:i[e[r]];if(s)return s}return t};var Pq=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let hyt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.$element=LC("toolbar",!1),this.onToolbarItemClick=o=>{const{onClick:s}=this.options;if(o.target instanceof Element&&o.target.className.includes("g6-toolbar-item")){const a=o.target.getAttribute("value");s?.(a,o.target)}};const r=this.context.canvas.getContainer();this.$element.style.display="flex",r.appendChild(this.$element),QV("g6-toolbar-css","style",{},"\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",document.head),QV("g6-toolbar-svgicon","div",{display:"none"},'\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n'),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(i)}update(t){const i=Object.create(null,{update:{get:()=>super.update}});return Pq(this,void 0,void 0,function*(){i.update.call(this,t);const{className:r,position:o,style:s}=this.options;this.$element.className=`g6-toolbar ${r||""}`,Object.assign(this.$element.style,s,function cyt(n){const e={top:"unset",right:"unset",bottom:"unset",left:"unset"};return n.split("-").forEach(t=>{e[t]="8px"}),e.flexDirection=n.startsWith("top")||n.startsWith("bottom")?"row":"column",e}(o)),this.$element.innerHTML=yield this.getDOMContent()})}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){return Pq(this,void 0,void 0,function*(){return(yield this.options.getItems()).map(t=>`\n          <div class="g6-toolbar-item" value="${t.value}">\n            <svg aria-hidden="true" focusable="false">\n              <use xlink:href="#${t.id}"></use>\n            </svg>\n          </div>`).join("")})}}return n.defaultOptions={position:"top-left"},n})(),fyt=(()=>{class n extends $s{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.currentTarget=null,this.tooltipElement=null,this.container=null,this.isEnable=r=>{const{enable:o}=this.options;return"function"==typeof o?o(r):o},this.onClick=r=>{const{target:{id:o}}=r;this.currentTarget===o?(this.hide(r),this.currentTarget=null):(this.currentTarget=o,this.show(r))},this.onPointerMove=r=>{const{target:o}=r;!this.currentTarget||o.id===this.currentTarget||this.show(r)},this.onPointerLeave=r=>{this.hide(r),this.currentTarget=null},this.onCanvasMove=r=>{this.hide(r),this.currentTarget=null},this.onPointerEnter=r=>{this.show(r)},this.showById=r=>{this.show({target:{id:r}})},this.getElementData=(r,o)=>{const{model:s}=this.context;switch(o){case"node":return s.getNodeData([r]);case"edge":return s.getEdgeData([r]);case"combo":return s.getComboData([r]);default:return[]}},this.show=r=>{const{client:o,target:{id:s}}=r;if(t1(r.target)||!this.tooltipElement||!this.isEnable(r))return;const a=this.context.graph.getElementType(s),{getContent:l,title:u}=this.options;this.currentTarget=s;const h=this.getElementData(s,a);let p,v;if(o)p=o.x,v=o.y;else{const b=na(h,"0.style",{x:0,y:0});p=b.x,v=b.y}let y={};if(l)y.content=l(r,h);else{const b=this.context.graph.getElementRenderStyle(s),E="node"===a?b.fill:b.stroke;y={title:u||a,data:h.map(w=>({name:"ID",value:w.id||`${w.source} -> ${w.target}`,color:E}))}}this.tooltipElement.update(Object.assign(Object.assign(Object.assign({},this.tooltipStyleProps),{x:p,y:v,style:{".tooltip":{visibility:"visible"}}}),y))},this.hide=r=>{var o;if(!r)return void(null===(o=this.tooltipElement)||void 0===o||o.hide());if(!this.tooltipElement||!this.currentTarget)return;const{client:{x:s,y:a}}=r;this.tooltipElement.hide(s,a)},this.initTooltip=()=>{var r;const o=new P0t({className:"tooltip",style:this.tooltipStyleProps});return null===(r=this.container)||void 0===r||r.appendChild(o.HTMLTooltipElement),o},this.render(),this.bindEvents()}getEvents(){return"click"===this.options.trigger?{"node:click":this.onClick,"edge:click":this.onClick,"combo:click":this.onClick,"canvas:click":this.onPointerLeave,contextmenu:this.onPointerLeave,drag:this.onPointerLeave}:{"node:pointerenter":this.onPointerEnter,"node:pointermove":this.onPointerMove,"canvas:pointermove":this.onCanvasMove,"edge:pointerenter":this.onPointerEnter,"edge:pointermove":this.onPointerMove,"combo:pointerenter":this.onPointerEnter,"combo:pointermove":this.onPointerMove,contextmenu:this.onPointerLeave,"node:drag":this.onPointerLeave}}update(t){var i;this.unbindEvents(),super.update(t),this.tooltipElement&&(null===(i=this.container)||void 0===i||i.removeChild(this.tooltipElement.HTMLTooltipElement)),this.tooltipElement=this.initTooltip(),this.bindEvents()}render(){const{canvas:t}=this.context,i=t.getContainer();i&&(this.container=i,this.tooltipElement=this.initTooltip())}unbindEvents(){const{graph:t}=this.context,i=this.getEvents();Object.keys(i).forEach(r=>{t.off(r,i[r])})}bindEvents(){const{graph:t}=this.context,i=this.getEvents();Object.keys(i).forEach(r=>{t.on(r,i[r])})}get tooltipStyleProps(){const{canvas:t}=this.context,{center:i}=t.getBounds(),r=t.getContainer(),{top:o,left:s}=r.getBoundingClientRect(),{style:a,position:l,enterable:u,container:h={x:-s,y:-o},title:p,offset:v}=this.options,[y,b]=i,[E,w]=t.getSize();return{x:y,y:b,container:h,title:p,bounding:{x:0,y:0,width:E,height:w},position:l,enterable:u,offset:v,style:a}}destroy(){var t;this.unbindEvents(),this.tooltipElement&&(null===(t=this.container)||void 0===t||t.removeChild(this.tooltipElement.HTMLTooltipElement)),super.destroy()}}return n.defaultOptions={trigger:"hover",position:"top-right",enterable:!1,enable:!0,offset:[10,10],style:{".tooltip":{visibility:"hidden"}}},n})();var Nq=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let P1;function Lq(n,e){return P1||(P1=document.createElement("canvas")),P1.width=n,P1.height=e,P1.getContext("2d").clearRect(0,0,n,e),P1}class PR extends $s{constructor(e,t){super(e,Object.assign({},PR.defaultOptions,t)),this.$element=LC("watermark"),this.context.canvas.getContainer().appendChild(this.$element),this.update(t)}update(e){const t=Object.create(null,{update:{get:()=>super.update}});return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){t.update.call(this,e);const i=this.options,{width:r,height:o,text:s,imageURL:a}=i,l=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(i,["width","height","text","imageURL"]);Object.keys(l).forEach(h=>{h.startsWith("background")&&(this.$element.style[h]=e[h])});const u=a?yield function myt(n,e,t,i){return Nq(this,void 0,void 0,function*(){const r=Lq(n,e),o=r.getContext("2d"),{rotate:s,opacity:a}=i;s&&o.rotate(s),a&&(o.globalAlpha=a);const l=new Image;return l.crossOrigin="anonymous",l.src=t,new Promise(u=>{l.onload=function(){const h=n>l.width?(n-l.width)/2:0,p=e>l.height?(e-l.height)/2:0;o.drawImage(l,0,0,l.width,l.height,h,p,n-2*h,e-2*p),u(r.toDataURL())}})})}(r,o,a,l):yield function pyt(n,e,t,i){return Nq(this,void 0,void 0,function*(){const r=Lq(n,e),o=r.getContext("2d"),{rotate:s,opacity:a,textFill:l,textFontSize:u,textFontFamily:h,textFontVariant:p,textFontWeight:v,textAlign:y,textBaseline:b}=i;return o.textAlign=y,o.textBaseline=b,o.translate(n/2,e/2),o.font=`${u}px ${h} ${p} ${v}`,s&&o.rotate(s),a&&(o.globalAlpha=a),l&&(o.fillStyle=l,o.fillText(`${t}`,0,0)),r.toDataURL()})}(r,o,s,l);this.$element.style.backgroundImage=`url(${u})`})}destroy(){super.destroy(),this.$element.remove()}}PR.defaultOptions={width:200,height:100,opacity:.2,rotate:Math.PI/12,text:"",textFill:"#000",textFontSize:16,textAlign:"center",textBaseline:"middle",backgroundRepeat:"repeat"};const yyt=["#7E92B5","#F4664A","#FFBE3A"],byt={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},_yt={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};function Fq(n){const{bgColor:e,textColor:t,nodeColor:i,nodeColorDisabled:r,nodeStroke:o,nodeHaloStrokeOpacityActive:s=.15,nodeHaloStrokeOpacitySelected:a=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:h=.25,nodeBadgePalette:p=yyt,nodePaletteOptions:v=byt,edgeColor:y,edgeColorDisabled:b,edgePaletteOptions:E=_yt,comboColor:w,comboColorDisabled:S,comboStroke:C,comboStrokeDisabled:D,edgeColorInactive:k}=n;return{background:e,node:{palette:v,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:p,fill:i,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:t,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:i,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:a,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:s},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:h,donutOpacity:h,fillOpacity:h,iconOpacity:u,labelFill:t,labelFillOpacity:h,strokeOpacity:h},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:r,fillOpacity:l,iconFill:r,iconOpacity:.25,labelFill:t,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:E,style:{badgeBackgroundFill:y,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:y,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:k,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:b,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:e,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:w,halo:!1,haloLineWidth:12,haloStroke:C,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:C},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:S,fillOpacity:.25,labelOpacity:.25,stroke:D,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}}const xyt=Fq({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"}),Myt=Fq({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"});class kg extends S_{beforeDraw(e,t){return e}afterLayout(){}}function Jc(n,e,t,i,r){const o=Ge(i),s=`${t}s`,a=r?i:n.add[s].get(o)||n.update[s].get(o)||n.remove[s].get(o)||i;Object.entries(n).forEach(([l,u])=>{e===l?u[s].set(o,a):u[s].delete(o)})}function NR(n,e){return Object.keys(n).every(t=>n[t]===e[t])}const Bq=(n,e,t,i)=>{const r=`${t}s`,o=Ge(i);!n.add[r].has(o)&&!n.update[r].has(o)&&n[e][r].set(Ge(i),i)};function jl(n,e,t,i=!1){const r=e2[n][e];!i&&r?r!==t&&Pu.warn(`The extension ${e} of ${n} has been registered before.`):Object.assign(e2[n],{[e]:t})}class LR{constructor(e){this.type=e}}class Ca extends LR{constructor(e,t){super(e),this.data=t}}class Hu extends LR{constructor(e,t,i,r){super(e),this.animationType=t,this.animation=i,this.data=r}}class N1 extends LR{constructor(e,t,i){super(e),this.elementType=t,this.data=i}}class FR extends LR{constructor(e,t){super(e),this.data=t}}function za(n,e){n.emit(e.type,e)}const qC="cachedStyle",N9=n=>`__${n}__`;function jq(n,e){return na(n,[qC,N9(e)])}class Iyt{constructor(e){this.tasks=[],this.animations=new Set,this.context=e}getTasks(){const e=[...this.tasks];return this.tasks=[],e}add(e,t){this.tasks.push([e,t])}animate(e,t,i){var r,o,s;null===(r=t?.before)||void 0===r||r.call(t);const a=this.getTasks().map(([u,h])=>{var p,v,y;const{element:b,elementType:E,stage:w}=u,S=function M0(n,e,t,i){var r,o;const{animation:s}=n,a=null===(r=n?.[e])||void 0===r?void 0:r.animation;if(!1===a)return[];const l=a?.[t];if(!1===l)return[];if(!1===s||!1===i)return[];const u=null===(o=sA(n)[e])||void 0===o?void 0:o.animation,h=(v=[])=>function lA(n){return"string"==typeof n?dc(ts.ANIMATION,n)||(Pu.warn(`The animation of ${n} is not registered.`),[]):n}(v).map(y=>Object.assign(Object.assign(Object.assign(Object.assign({},XL),Dr(s)&&s),y),Dr(i)&&i));if(l)return h(l);if(!u)return[];const p=u[t];return!1===p?[]:h(p)}(this.context.options,E,w,e);null===(p=h?.before)||void 0===p||p.call(h);const C=((n,e,t)=>{if(!t.length)return null;const[i,r]=e;let s;const a=t.map(u=>{var{fields:h,shape:p}=u,y=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(u,["fields","shape","states"]);const b=(u=>{var h;if(u){const p=n.getShape(u);if(!p)return null;const v=`get${Df(u)}Style`,y=(null===(h=n?.[v])||void 0===h?void 0:h.bind(n))||(w=>w);return{shape:p,fromStyle:y?.(i)||{},toStyle:y?.(r)||{}}}return{shape:n,fromStyle:i,toStyle:r}})(p);if(!b)return null;const{shape:E,fromStyle:w,toStyle:S}=b,C=[{},{}];if(h.forEach(k=>{var T,I;Object.assign(C[0],{[k]:null!==(T=w[k])&&void 0!==T?T:C0(k)}),Object.assign(C[1],{[k]:null!==(I=S[k])&&void 0!==I?I:C0(k)})}),C.some(k=>Object.keys(k).some(T=>["x","y","z"].includes(T)))){const{x:k=0,y:T=0,z:I=0,transform:F=""}=E.attributes||{};C.forEach(z=>{z.transform=cA(z.x||k,z.y||T,z.z||I,F)})}const D=E.animate(ip(C),y);return void 0===p&&(s=D),D}).filter(Boolean),l=s||a?.[0];return l?np(l,a.filter(u=>u!=u)):null})(b,this.inferStyle(u,i),S);return C?(null===(v=h?.beforeAnimate)||void 0===v||v.call(h,C),C.finished.then(()=>{var D,k;null===(D=h?.afterAnimate)||void 0===D||D.call(h,C),null===(k=h?.after)||void 0===k||k.call(h),this.animations.delete(C)})):null===(y=h?.after)||void 0===y||y.call(h),C}).filter(Boolean);a.forEach(u=>this.animations.add(u));const l=np(a);return l?(null===(o=t?.beforeAnimate)||void 0===o||o.call(t,l),l.finished.then(()=>{var u,h;null===(u=t?.afterAnimate)||void 0===u||u.call(t,l),null===(h=t?.after)||void 0===h||h.call(t),this.release()})):null===(s=t?.after)||void 0===s||s.call(t),l}inferStyle(e,t){var i,r;const{element:o,elementType:s,stage:a,originalStyle:l,modifiedStyle:u}=e,h={},p={};if("enter"===a)Object.assign(h,{opacity:0});else if("exit"===a)Object.assign(p,{opacity:0});else if("show"===a)Object.assign(h,{opacity:0}),Object.assign(p,{opacity:null!==(i=jq(o,"opacity"))&&void 0!==i?i:C0("opacity")});else if("hide"===a)Object.assign(h,{opacity:null!==(r=jq(o,"opacity"))&&void 0!==r?r:C0("opacity")}),Object.assign(p,{opacity:0});else if("collapse"===a){const{collapse:v}=t||{},{target:y,descendants:b,position:E}=v;if("node"===s){if(b.includes(o.id)){const[w,S,C]=E;Object.assign(p,{x:w,y:S,z:C})}}else if("combo"===s){if(o.id===y||b.includes(o.id)){const[w,S]=E;Object.assign(p,{x:w,y:S,childrenNode:l.childrenNode})}}else"edge"===s&&Object.assign(p,{sourceNode:u.sourceNode,targetNode:u.targetNode})}else if("expand"===a){const{expand:v}=t||{},{target:y,descendants:b,position:E}=v;if("node"===s){if(o.id===y||b.includes(o.id)){const[w,S,C]=E;Object.assign(h,{x:w,y:S,z:C})}}else if("combo"===s){if(o.id===y||b.includes(o.id)){const[w,S,C]=E;Object.assign(h,{x:w,y:S,z:C,childrenNode:u.childrenNode})}}else"edge"===s&&Object.assign(h,{sourceNode:u.sourceNode,targetNode:u.targetNode})}return[Object.keys(h).length>0?Object.assign({},l,h):l,Object.keys(p).length>0?Object.assign({},u,p):u]}stop(){this.animations.forEach(e=>e.cancel())}clear(){this.tasks=[]}release(){var e,t;const{canvas:i}=this.context,r=null===(t=null===(e=i.document)||void 0===e?void 0:e.timeline)||void 0===t?void 0:t.animationsWithPromises;r&&(i.document.timeline.animationsWithPromises=r.filter(o=>"finished"!==o.playState))}destroy(){this.stop(),this.animations.clear(),this.tasks=[]}}class Ryt{constructor(e){this.batchCount=0,this.context=e}emit(e){const{graph:t}=this.context;t.emit(e.type,e)}startBatch(e=!0){this.batchCount++,1===this.batchCount&&this.emit(new Ca(An.BATCH_START,{initiate:e}))}endBatch(){this.batchCount--,0===this.batchCount&&this.emit(new Ca(An.BATCH_END))}get isBatching(){return this.batchCount>0}destroy(){this.context=null}}class Pyt extends p2{constructor(e){super(e),this.currentTarget=null,this.currentTargetType=null,this.category="behavior",this.forwardCanvasEvents=t=>{const{target:i}=t,r=function Tyt(n){if(!n)return null;if(n instanceof ai.Document)return{type:"canvas",element:n};let e=n;for(;e;){if(z0(e))return{type:"node",element:e};if(C4(e))return{type:"edge",element:e};if(Fk(e))return{type:"combo",element:e};e=e.parentElement}return null}(i);if(!r)return;const{graph:o,canvas:s}=this.context,{type:a,element:l}=r;if("destroyed"in l&&(t1(l)||l.destroyed))return;const{type:u,detail:h,button:p}=t,v=Object.assign(Object.assign({},t),{target:l,targetType:a,originalTarget:i});u===pn.POINTER_MOVE&&(this.currentTarget!==l&&(this.currentTarget&&o.emit(`${this.currentTargetType}:${pn.POINTER_LEAVE}`,Object.assign(Object.assign({},v),{type:pn.POINTER_LEAVE,target:this.currentTarget,targetType:this.currentTargetType})),l&&(Object.assign(v,{type:pn.POINTER_ENTER}),o.emit(`${a}:${pn.POINTER_ENTER}`,v))),this.currentTarget=l,this.currentTargetType=a),u===pn.CLICK&&2===p||(o.emit(`${a}:${u}`,v),o.emit(u,v)),u===pn.CLICK&&2===h&&(Object.assign(v,{type:pn.DBLCLICK}),o.emit(`${a}:${pn.DBLCLICK}`,v),o.emit(pn.DBLCLICK,v)),u===pn.POINTER_DOWN&&2===p&&(Object.assign(v,{type:pn.CONTEXT_MENU,preventDefault:()=>{var y;null===(y=s.getContainer())||void 0===y||y.addEventListener(pn.CONTEXT_MENU,b=>b.preventDefault(),{once:!0})}}),o.emit(`${a}:${pn.CONTEXT_MENU}`,v),o.emit(pn.CONTEXT_MENU,v))},this.forwardContainerEvents=t=>{this.context.graph.emit(t.type,t)},this.forwardEvents(),this.setBehaviors(this.context.options.behaviors||[])}setBehaviors(e){this.setExtensions(e)}forwardEvents(){const e=this.context.canvas.getContainer();e&&[ep.KEY_DOWN,ep.KEY_UP].forEach(i=>{e.addEventListener(i,this.forwardContainerEvents)});const t=this.context.canvas.document;t&&[pn.CLICK,pn.DBLCLICK,pn.POINTER_OVER,pn.POINTER_LEAVE,pn.POINTER_ENTER,pn.POINTER_MOVE,pn.POINTER_OUT,pn.POINTER_DOWN,pn.POINTER_UP,pn.CONTEXT_MENU,pn.DRAG_START,pn.DRAG,pn.DRAG_END,pn.DRAG_ENTER,pn.DRAG_OVER,pn.DRAG_LEAVE,pn.DROP,pn.WHEEL].forEach(i=>{t.addEventListener(i,this.forwardCanvasEvents)})}destroy(){const e=this.context.canvas.getContainer();e&&[ep.KEY_DOWN,ep.KEY_UP].forEach(t=>{e.removeEventListener(t,this.forwardContainerEvents)}),this.context.canvas.document.removeAllEventListeners(),super.destroy()}}var Vq=function(){function n(e){un(this,n),this.dragndropPluginOptions=e}return fn(n,[{key:"apply",value:function(e){var t=this,i=e.renderingService,o=e.renderingContext.root.ownerDocument,s=o.defaultView,a=function(l){var u=l.target,h=u===o,p=h&&t.dragndropPluginOptions.isDocumentDraggable?o:u.closest&&u.closest("[draggable=true]");if(p){var v=!1,y=l.timeStamp,b=[l.clientX,l.clientY],E=null,w=[l.clientX,l.clientY],S=function(){var D=wd(cs().mark(function k(T){var I,F,z,V,K,Y;return cs().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(v){Q.next=8;break}if(I=T.timeStamp-y,F=Na([T.clientX,T.clientY],b),!(I<=t.dragndropPluginOptions.dragstartTimeThreshold||F<=t.dragndropPluginOptions.dragstartDistanceThreshold)){Q.next=5;break}return Q.abrupt("return");case 5:T.type="dragstart",p.dispatchEvent(T),v=!0;case 8:if(T.type="drag",T.dx=T.clientX-w[0],T.dy=T.clientY-w[1],p.dispatchEvent(T),w=[T.clientX,T.clientY],h){Q.next=21;break}return z="pointer"===t.dragndropPluginOptions.overlap?[T.canvasX,T.canvasY]:u.getBounds().center,Q.next=17,o.elementsFromPoint(z[0],z[1]);case 17:K=(V=Q.sent)[V.indexOf(u)+1],Y=K?.closest("[droppable=true]")||(t.dragndropPluginOptions.isDocumentDroppable?o:null),E!==Y&&(E&&(T.type="dragleave",T.target=E,E.dispatchEvent(T)),Y&&(T.type="dragenter",T.target=Y,Y.dispatchEvent(T)),(E=Y)&&(T.type="dragover",T.target=E,E.dispatchEvent(T)));case 21:case"end":return Q.stop()}},k)}));return function(k){return D.apply(this,arguments)}}();s.addEventListener("pointermove",S);var C=function(D){if(v){D.detail={preventClick:!0};var k=D.clone();E&&(k.type="drop",k.target=E,E.dispatchEvent(k)),k.type="dragend",p.dispatchEvent(k),v=!1}s.removeEventListener("pointermove",S)};u.addEventListener("pointerup",C,{once:!0}),u.addEventListener("pointerupoutside",C,{once:!0})}};i.hooks.init.tap(n.tag,function(){s.addEventListener("pointerdown",a)}),i.hooks.destroy.tap(n.tag,function(){s.removeEventListener("pointerdown",a)})}}])}();Vq.tag="Dragndrop";var Nyt=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),(t=Ei(this,e)).name="dragndrop",t.options=i,t}return zi(e,n),fn(e,[{key:"init",value:function(){this.addRenderingPlugin(new Vq(nr({overlap:"pointer",isDocumentDraggable:!1,isDocumentDroppable:!1,dragstartDistanceThreshold:0,dragstartTimeThreshold:0},this.options)))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}},{key:"setOptions",value:function(t){Object.assign(this.plugins[0].dragndropPluginOptions,t)}}])}(il),zq=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},Uq=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const Gq=["background","main","label","transient"];class Hq{getConfig(){return this.config}getLayer(e="main"){return this.extends.layers[e]}getLayers(){return this.extends.layers}getRenderer(e){return this.extends.renderers[e]}getCamera(e="main"){return this.getLayer(e).getCamera()}getRoot(e="main"){return this.getLayer(e).getRoot()}getContextService(e="main"){return this.getLayer(e).getContextService()}setCursor(e){this.config.cursor=e,this.getLayer().setCursor(e)}get document(){return this.getLayer().document}get context(){return this.getLayer().context}constructor(e){this.config=e;const{renderer:t,background:i}=e,o=Uq(e,["renderer","background","cursor"]),s=$q(t),a=Object.fromEntries(Gq.map(l=>[l,new ai.Canvas(Object.assign(Object.assign({},o),{supportsMutipleCanvasesInOneContainer:!0,renderer:s[l],background:"background"===l?i:void 0}))]));Wq(a),this.extends={config:e,renderer:t,renderers:s,layers:a}}get ready(){return Promise.all(Object.entries(this.getLayers()).map(([,e])=>e.ready))}resize(e,t){Object.assign(this.extends.config,{width:e,height:t}),Object.values(this.getLayers()).forEach(i=>{const r=i.getCamera(),o=r.getPosition(),s=r.getFocalPoint();i.resize(e,t),r.setPosition(o),r.setFocalPoint(s)})}getBounds(e){return w_(Object.values(this.getLayers()).map(t=>e?t.getRoot().childNodes.find(i=>i.classList.includes(e)):t.getRoot()).filter(t=>t?.childNodes.length>0).map(t=>t.getBounds()))}getContainer(){const e=this.extends.config.container;return"string"==typeof e?document.getElementById(e):e}getSize(){return[this.extends.config.width||0,this.extends.config.height||0]}appendChild(e,t){var i;const r=(null===(i=e.style)||void 0===i?void 0:i.$layer)||"main";return this.getLayer(r).appendChild(e,t)}setRenderer(e){if(e===this.extends.renderer)return;const t=$q(e);this.extends.renderers=t,Object.entries(t).forEach(([i,r])=>this.getLayer(i).setRenderer(r)),Wq(this.getLayers())}getCanvasByViewport(e){return sa(this.getLayer().viewport2Canvas(pc(e)))}getViewportByCanvas(e){return sa(this.getLayer().canvas2Viewport(pc(e)))}getViewportByClient(e){return sa(this.getLayer().client2Viewport(pc(e)))}getClientByViewport(e){return sa(this.getLayer().viewport2Client(pc(e)))}getClientByCanvas(e){return this.getClientByViewport(this.getViewportByCanvas(e))}getCanvasByClient(e){const t=this.getLayer(),i=t.client2Viewport(pc(e));return sa(t.viewport2Canvas(i))}toDataURL(){return zq(this,arguments,void 0,function*(e={}){const t=window.devicePixelRatio||1,{mode:i="viewport"}=e,r=Uq(e,["mode"]);let[o,s,a,l]=[0,0,0,0];if("viewport"===i)[a,l]=this.getSize();else if("overall"===i){const S=this.getBounds(),C=Uh(S);[o,s]=S.min,[a,l]=C}const u=pb('<div id="virtual-image"></div>'),h=new ai.Canvas({width:a,height:l,renderer:new Qh,devicePixelRatio:t,container:u,background:this.extends.config.background});yield h.ready,h.appendChild(this.getLayer("background").getRoot().cloneNode(!0)),h.appendChild(this.getRoot().cloneNode(!0));const p=this.getLayer("label").getRoot().cloneNode(!0),v=h.viewport2Canvas({x:0,y:0}),y=this.getCanvasByViewport([0,0]);p.translate([y[0]-v.x,y[1]-v.y]),p.scale(1/this.getCamera().getZoom()),h.appendChild(p),h.appendChild(this.getLayer("transient").getRoot().cloneNode(!0));const b=this.getCamera(),E=h.getCamera();if("viewport"===i)E.setZoom(b.getZoom()),E.setPosition(b.getPosition()),E.setFocalPoint(b.getFocalPoint());else if("overall"===i){const[S,C,D]=E.getPosition(),[k,T,I]=E.getFocalPoint();E.setPosition([S+o,C+s,D]),E.setFocalPoint([k+o,T+s,I])}const w=h.getContextService();return new Promise(S=>{h.addEventListener(ai.CanvasEvent.RERENDER,()=>zq(this,void 0,void 0,function*(){yield new Promise(D=>setTimeout(D,300));const C=yield w.toDataURL(r);S(C)}))})})}destroy(){Object.values(this.getLayers()).forEach(e=>{e.getCamera().cancelLandmarkAnimation(),e.destroy()})}}function $q(n){return Object.fromEntries(Gq.map(e=>{const t=n?.(e)||new Qh;return"main"===e?t.registerPlugin(new Nyt({isDocumentDraggable:!0,isDocumentDroppable:!0,dragstartDistanceThreshold:10,dragstartTimeThreshold:100})):t.unregisterPlugin(t.getPlugin("dom-interaction")),[e,t]}))}function Wq(n){Object.entries(n).forEach(([e,t])=>{const i=t.getContextService().getDomElement();i.style.position="absolute",i.style.outline="none",i.tabIndex=1,"main"!==e&&(i.style.pointerEvents="none")})}var JC=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};function Ig(n,e){const{data:t,style:i}=n,r=JC(n,["data","style"]),{data:o,style:s}=e,a=JC(e,["data","style"]),l=Object.assign(Object.assign({},r),a);return(t||o)&&Object.assign(l,{data:Object.assign(Object.assign({},t),o)}),(i||s)&&Object.assign(l,{style:Object.assign(Object.assign({},i),s)}),l}function L9(n){const{data:e,style:t}=n,i=JC(n,["data","style"]);return e&&(i.data=Object.assign({},e)),t&&(i.style=Object.assign({},t)),i}function L1(n={},e={}){const{states:t=[],data:i={},style:r={},children:o=[]}=n,s=JC(n,["states","data","style","children"]),{states:a=[],data:l={},style:u={},children:h=[]}=e,v=(b,E)=>b.length===E.length&&b.every((w,S)=>w===E[S]),y=(b,E)=>{const w=Object.keys(b),S=Object.keys(E);return w.length===S.length&&w.every(C=>b[C]===E[C])};return!!(y(s,JC(e,["states","data","style","children"]))&&v(o,h)&&v(t,a)&&y(i,l)&&y(r,u))}function F9(n){const{id:e=Ge(n),style:t,data:i}=n,r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(n,["id","style","data"]),o=Object.assign(Object.assign({},n),{style:Object.assign({},t),data:Object.assign({},i)});return function ZU(n){return"source"in n&&"target"in n}(n)?Object.assign({id:e,data:o},r):{id:e,data:o}}function Ma(n){return n.data}class Byt{constructor(){this.latestRemovedComboIds=new Set,this.comboIds=new Set,this.changes=[],this.batchCount=0,this.isTraceless=!1,this.enableUpdateNodeLikeHierarchy=!0,this.model=new Gs}pushChange(e){if(this.isTraceless)return;const{type:t}=e;if(t===Fo.NodeUpdated||t===Fo.EdgeUpdated||t===Fo.ComboUpdated){const{value:i,original:r}=e;this.changes.push({value:L9(i),original:L9(r),type:t})}else this.changes.push({value:L9(e.value),type:t})}getChanges(){return this.changes}clearChanges(){this.changes=[]}batch(e){this.batchCount++,this.model.batch(e),this.batchCount--}silence(e){this.isTraceless=!0,e(),this.isTraceless=!1}isCombo(e){return this.comboIds.has(e)||this.latestRemovedComboIds.has(e)}getData(){return{nodes:this.getNodeData(),edges:this.getEdgeData(),combos:this.getComboData()}}getNodeData(e){return this.model.getAllNodes().reduce((t,i)=>{const r=Ma(i);return this.isCombo(Ge(r))||(void 0===e||e.includes(Ge(r)))&&t.push(r),t},[])}getEdgeDatum(e){return Ma(this.model.getEdge(e))}getEdgeData(e){return this.model.getAllEdges().reduce((t,i)=>{const r=Ma(i);return(void 0===e||e.includes(Ge(r)))&&t.push(r),t},[])}getComboData(e){return this.model.getAllNodes().reduce((t,i)=>{const r=Ma(i);return this.isCombo(Ge(r))&&(void 0===e||e.includes(Ge(r)))&&t.push(r),t},[])}getRootsData(e=jc){return this.model.getRoots(e).map(Ma)}getAncestorsData(e,t){const{model:i}=this;return i.hasNode(e)&&i.hasTreeStructure(t)?i.getAncestors(e,t).map(Ma):[]}getDescendantsData(e){const t=this.getElementDataById(e),i=[];return Rd(t,r=>{r!==t&&i.push(r)},r=>this.getChildrenData(Ge(r)),"TB"),i}getParentData(e,t){const{model:i}=this;if(!t)return void Pu.warn("The hierarchy structure key is not specified");if(!i.hasNode(e)||!i.hasTreeStructure(t))return;const r=i.getParent(e,t);return r?Ma(r):void 0}getChildrenData(e){const t="node"===this.getElementType(e)?jc:yo,{model:i}=this;return i.hasNode(e)&&i.hasTreeStructure(t)?i.getChildren(e,t).map(Ma):[]}getElementsDataByType(e){return"node"===e?this.getNodeData():"edge"===e?this.getEdgeData():"combo"===e?this.getComboData():[]}getElementDataById(e){return"edge"===this.getElementType(e)?this.getEdgeDatum(e):this.getNodeLikeDatum(e)}getNodeLikeDatum(e){return Ma(this.model.getNode(e))}getNodeLikeData(e){return this.model.getAllNodes().reduce((t,i)=>{const r=Ma(i);return e?e.includes(Ge(r))&&t.push(r):t.push(r),t},[])}getElementDataByState(e,t){return this.getElementsDataByType(e).filter(i=>{var r;return null===(r=i.states)||void 0===r?void 0:r.includes(t)})}getElementState(e){var t;return(null===(t=this.getElementDataById(e))||void 0===t?void 0:t.states)||[]}hasNode(e){return this.model.hasNode(e)&&!this.isCombo(e)}hasEdge(e){return this.model.hasEdge(e)}hasCombo(e){return this.model.hasNode(e)&&this.isCombo(e)}getRelatedEdgesData(e,t="both"){return this.model.getRelatedEdges(e,t).map(Ma)}getNeighborNodesData(e){return this.model.getNeighbors(e).map(Ma)}setData(e){const{nodes:t=[],edges:i=[],combos:r=[]}=e,{nodes:o,edges:s,combos:a}=this.getData(),l=op(o,t,p=>Ge(p),L1),u=op(s,i,p=>Ge(p),L1),h=op(a,r,p=>Ge(p),L1);this.batch(()=>{this.addData({nodes:l.enter,edges:u.enter,combos:h.enter}),this.updateData({nodes:l.update,edges:u.update,combos:h.update}),this.removeData({nodes:l.exit.map(Ge),edges:u.exit.map(Ge),combos:h.exit.map(Ge)})})}addData(e){const{nodes:t,edges:i,combos:r}=e;this.batch(()=>{this.addComboData(r),this.addNodeData(t),this.addEdgeData(i)})}addNodeData(e=[]){e.length&&(this.model.addNodes(e.map(t=>(this.pushChange({value:t,type:Fo.NodeAdded}),F9(t)))),this.updateNodeLikeHierarchy(e))}addEdgeData(e=[]){e.length&&this.model.addEdges(e.map(t=>(this.pushChange({value:t,type:Fo.EdgeAdded}),F9(t))))}addComboData(e=[]){if(!e.length)return;const{model:t}=this;t.hasTreeStructure(yo)||t.attachTreeStructure(yo),t.addNodes(e.map(i=>(this.comboIds.add(Ge(i)),this.pushChange({value:i,type:Fo.ComboAdded}),F9(i)))),this.updateNodeLikeHierarchy(e)}addChildrenData(e,t){const i=this.getNodeLikeDatum(e),r=t.map(Ge);this.addNodeData(t),this.updateNodeData([{id:e,children:[...i.children||[],...r]}]),this.addEdgeData(r.map(o=>({source:e,target:o})))}updateNodeLikeHierarchy(e){if(!this.enableUpdateNodeLikeHierarchy)return;const{model:t}=this;e.forEach(i=>{const r=Ge(i);M_(i)&&(t.hasTreeStructure(yo)||t.attachTreeStructure(yo),this.setParent(r,M_(i),yo));const o=i.children||[];if(o.length){t.hasTreeStructure(jc)||t.attachTreeStructure(jc);const s=o.filter(a=>t.hasNode(a));s.forEach(a=>this.setParent(a,r,jc)),s.length!==o.length&&this.updateNodeData([{id:r,children:s}])}})}preventUpdateNodeLikeHierarchy(e){this.enableUpdateNodeLikeHierarchy=!1,e(),this.enableUpdateNodeLikeHierarchy=!0}updateData(e){const{nodes:t,edges:i,combos:r}=e;this.batch(()=>{this.updateNodeData(t),this.updateComboData(r),this.updateEdgeData(i)})}updateNodeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch(()=>{const i=[];e.forEach(r=>{const o=Ge(r),s=Ma(t.getNode(o));if(L1(s,r))return;const a=Ig(s,r);this.pushChange({value:a,original:s,type:Fo.NodeUpdated}),t.mergeNodeData(o,a),i.push(a)}),this.updateNodeLikeHierarchy(i)})}refreshData(){const{nodes:e,edges:t,combos:i}=this.getData();e.forEach(r=>{this.pushChange({value:r,original:r,type:Fo.NodeUpdated})}),t.forEach(r=>{this.pushChange({value:r,original:r,type:Fo.EdgeUpdated})}),i.forEach(r=>{this.pushChange({value:r,original:r,type:Fo.ComboUpdated})})}syncNodeDatum(e){const{model:t}=this,i=Ge(e),o=Ig(Ma(t.getNode(i)),e);t.mergeNodeData(i,o)}updateEdgeData(e=[]){if(!e.length)return;const{model:t}=this;this.batch(()=>{e.forEach(i=>{const r=Ge(i),o=Ma(t.getEdge(r));if(L1(o,i))return;i.source&&o.source!==i.source&&t.updateEdgeSource(r,i.source),i.target&&o.target!==i.target&&t.updateEdgeTarget(r,i.target);const s=Ig(o,i);this.pushChange({value:s,original:o,type:Fo.EdgeUpdated}),t.mergeEdgeData(r,s)})})}updateComboData(e=[]){if(!e.length)return;const{model:t}=this;t.batch(()=>{const i=[];e.forEach(r=>{const o=Ge(r),s=Ma(t.getNode(o));if(L1(s,r))return;const a=Ig(s,r);this.pushChange({value:a,original:s,type:Fo.ComboUpdated}),t.mergeNodeData(o,a),i.push(a)}),this.updateNodeLikeHierarchy(i)})}setParent(e,t,i,r=!0){var o;if(e===t)return;const s=this.getNodeLikeDatum(e),a=M_(s);if(t){const l=this.getNodeLikeDatum(t);if(void 0!==(null===(o=l.style)||void 0===o?void 0:o.zIndex)){const u=na(l,["style","zIndex"],0)+(this.isCombo(t)?1:0);Tf(s,["style","zIndex"],u)}}if(a!==t&&i===yo){const l={id:e,combo:t};this.isCombo(e)?this.syncComboDatum(l):this.syncNodeDatum(l)}this.model.setParent(e,t,i),r&&i===yo&&rm([a,t]).forEach(l=>{void 0!==l&&this.refreshComboData(l)})}refreshComboData(e){const t=this.getComboData([e])[0],i=this.getAncestorsData(e,yo);t&&this.pushChange({value:t,original:t,type:Fo.ComboUpdated}),i.forEach(r=>{this.pushChange({value:r,original:r,type:Fo.ComboUpdated})})}syncComboDatum(e){const{model:t}=this,i=Ge(e);if(!t.hasNode(i))return;const o=Ig(Ma(t.getNode(i)),e);t.mergeNodeData(i,o)}getElementPosition(e){return oa(this.getElementDataById(e))}translateNodeLikeBy(e,t){this.isCombo(e)?this.translateComboBy(e,t):this.translateNodeBy(e,t)}translateNodeLikeTo(e,t){this.isCombo(e)?this.translateComboTo(e,t):this.translateNodeTo(e,t)}translateNodeBy(e,t){const r=Qi(this.getElementPosition(e),[...t,0].slice(0,3));this.translateNodeTo(e,r)}translateNodeTo(e,t){const[i=0,r=0,o=0]=t;this.preventUpdateNodeLikeHierarchy(()=>{this.updateNodeData([{id:e,style:{x:i,y:r,z:o}}])})}translateComboBy(e,t){const[i=0,r=0,o=0]=t;if([i,r,o].some(isNaN)||[i,r,o].every(l=>0===l))return;const s=this.getComboData([e])[0];if(!s)return;const a=new Set;Rd(s,l=>{const u=Ge(l);if(a.has(u))return;a.add(u);const[h,p,v]=oa(l),y=Ig(l,{style:{x:h+i,y:p+r,z:v+o}});this.pushChange({value:y,original:l,type:this.isCombo(u)?Fo.ComboUpdated:Fo.NodeUpdated}),this.model.mergeNodeData(u,y)},l=>this.getChildrenData(Ge(l)),"BT")}translateComboTo(e,t){var i;if(t.some(isNaN))return;const[r=0,o=0,s=0]=t,a=null===(i=this.getComboData([e]))||void 0===i?void 0:i[0];if(!a)return;const[l,u,h]=oa(a),p=r-l,v=o-u,y=s-h;Rd(a,b=>{const E=Ge(b),[w,S,C]=oa(b),D=Ig(b,{style:{x:w+p,y:S+v,z:C+y}});this.pushChange({value:D,original:b,type:this.isCombo(E)?Fo.ComboUpdated:Fo.NodeUpdated}),this.model.mergeNodeData(E,D)},b=>this.getChildrenData(Ge(b)),"BT")}removeData(e){const{nodes:t,edges:i,combos:r}=e;this.batch(()=>{this.removeEdgeData(i),this.removeNodeData(t),this.removeComboData(r),this.latestRemovedComboIds=new Set(r)})}removeNodeData(e=[]){e.length&&this.batch(()=>{e.forEach(t=>{this.removeEdgeData(this.getRelatedEdgesData(t).map(Ge)),this.pushChange({value:this.getNodeData([t])[0],type:Fo.NodeRemoved}),this.removeNodeLikeHierarchy(t)}),this.model.removeNodes(e)})}removeEdgeData(e=[]){e.length&&(e.forEach(t=>this.pushChange({value:this.getEdgeData([t])[0],type:Fo.EdgeRemoved})),this.model.removeEdges(e))}removeComboData(e=[]){e.length&&this.batch(()=>{e.forEach(t=>{this.pushChange({value:this.getComboData([t])[0],type:Fo.ComboRemoved}),this.removeNodeLikeHierarchy(t),this.comboIds.delete(t)}),this.model.removeNodes(e)})}removeNodeLikeHierarchy(e){if(this.model.hasTreeStructure(yo)){const t=M_(this.getNodeLikeDatum(e));this.setParent(e,void 0,yo,!1),this.model.getChildren(e,yo).forEach(i=>{const r=Ma(i),o=Ge(r);this.setParent(Ge(r),t,yo,!1);const s=Ig(r,{id:Ge(r),combo:t});this.pushChange({value:s,original:r,type:this.isCombo(o)?Fo.ComboUpdated:Fo.NodeUpdated}),this.model.mergeNodeData(Ge(r),s)}),vi(t)||this.refreshComboData(t)}}getElementType(e){if(this.model.hasNode(e))return this.isCombo(e)?"combo":"node";if(this.model.hasEdge(e))return"edge";throw new Error(Ru(`Unknown element type of id: ${e}`))}destroy(){const{model:e}=this,t=e.getAllNodes(),i=e.getAllEdges();e.removeEdges(i.map(r=>r.id)),e.removeNodes(t.map(r=>r.id)),this.context={}}}var BR=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class jyt{constructor(e){this.elementMap={},this.shapeTypeMap={},this.paletteStyle={},this.defaultStyle={},this.stateStyle={},this.visibilityCache=new WeakMap,this.context=e}init(){if(!this.container){const{canvas:e}=this.context;this.container=e.appendChild(new ai.Group({className:"elements"}))}}emit(e,t){t.silence||za(this.context.graph,e)}forEachElementData(e){Kh.forEach(t=>{const i=this.context.model.getElementsDataByType(t);e(t,i)})}getElementType(e,t){var i;const{options:r,graph:o}=this.context,s=(null===(i=r[e])||void 0===i?void 0:i.type)||t.type;return s?"string"==typeof s?s:s.call(o,t):"edge"===e?"line":"circle"}getTheme(e){return sA(this.context.options)[e]||{}}getThemeStyle(e){return this.getTheme(e).style||{}}getThemeStateStyle(e,t){const{state:i={}}=this.getTheme(e);return Object.assign({},...t.map(r=>i[r]||{}))}computePaletteStyle(){const{options:e}=this.context;this.paletteStyle={},this.forEachElementData((t,i)=>{var r,o;const s=Object.assign({},BA(null===(r=this.getTheme(t))||void 0===r?void 0:r.palette),BA(null===(o=e[t])||void 0===o?void 0:o.palette));null!=s&&s.field&&Object.assign(this.paletteStyle,function jA(n,e){if(!e)return{};const{type:t,color:i,field:r,invert:o}=e,s=l=>{const u="string"==typeof i?dc("palette",i):i;if("function"==typeof u){const h={};return l.forEach(([p,v])=>{h[p]=u(o?1-v:v)}),h}if(Array.isArray(u)){const h=o?[...u].reverse():u,p={};return l.forEach(([v,y])=>{p[v]=h[y%u.length]}),p}return{}},a=(l,u)=>{var h;return"string"==typeof l?null===(h=u.data)||void 0===h?void 0:h[l]:l?.(u)};if("group"===t){const l=sm(n,v=>{if(!r)return"default";const y=a(r,v);return y?String(y):"default"}),h=s(Object.keys(l).map((v,y)=>[v,y])),p={};return Object.entries(l).forEach(([v,y])=>{y.forEach(b=>{p[Ge(b)]=h[v]})}),p}if("value"===t){const[l,u]=n.reduce(([p,v],y)=>{const b=a(r,y);if("number"!=typeof b)throw new Error(Ru(`Palette field ${r} is not a number`));return[Math.min(p,b),Math.max(v,b)]},[1/0,-1/0]),h=u-l;return s(n.map(p=>[p.id,(a(r,p)-l)/h]))}}(i,s))})}getPaletteStyle(e,t){const i=this.paletteStyle[t];return i?"edge"===e?{stroke:i}:{fill:i}:{}}computeElementDefaultStyle(e,t){var i;const{options:r}=this.context,o=(null===(i=r[e])||void 0===i?void 0:i.style)||{};"transform"in o&&Array.isArray(o.transform)&&(o.transform=[...o.transform]),this.defaultStyle[Ge(t.datum)]=T2(o,t)}computeElementsDefaultStyle(e){const{graph:t}=this.context;this.forEachElementData((i,r)=>{const o=r.length;for(let s=0;s<o;s++){const a=r[s];(void 0===e||e.includes(Ge(a)))&&this.computeElementDefaultStyle(i,{datum:a,graph:t})}})}getDefaultStyle(e){return this.defaultStyle[e]||{}}getElementState(e){try{const{model:t}=this.context;return t.getElementState(e)}catch{return[]}}getElementStateStyle(e,t,i){var r,o;const{options:s}=this.context;return T2((null===(o=null===(r=s[e])||void 0===r?void 0:r.state)||void 0===o?void 0:o[t])||{},i)}computeElementStatesStyle(e,t,i){this.stateStyle[Ge(i.datum)]=Object.assign({},...t.map(r=>this.getElementStateStyle(e,r,i)))}computeElementsStatesStyle(e){const{graph:t}=this.context;this.forEachElementData((i,r)=>{const o=r.length;for(let s=0;s<o;s++){const a=r[s];if(void 0===e||e.includes(Ge(a))){const l=this.getElementState(Ge(a));this.computeElementStatesStyle(i,l,{datum:a,graph:t})}}})}getStateStyle(e){return this.stateStyle[e]||{}}computeStyle(e,t){e&&["translate","zIndex"].includes(e)||(this.computePaletteStyle(),this.computeElementsDefaultStyle(t),this.computeElementsStatesStyle(t))}getElement(e){return this.elementMap[e]}getElementZIndex(e){var t;const i=this.getElement(e);return i&&null!==(t=i.style.zIndex)&&void 0!==t?t:0}getNodes(){return this.context.model.getNodeData().map(({id:e})=>this.elementMap[e])}getEdges(){return this.context.model.getEdgeData().map(e=>this.elementMap[Ge(e)])}getCombos(){return this.context.model.getComboData().map(({id:e})=>this.elementMap[e])}getElementComputedStyle(e,t){const i=Ge(t),r=this.getThemeStyle(e),o=this.getPaletteStyle(e,i),s=t.style||{},a=this.getDefaultStyle(i),l=this.getThemeStateStyle(e,this.getElementState(i)),u=this.getStateStyle(i),h=Object.assign({},r,o,s,a,l,u);if("combo"===e){const p=this.context.model.getChildrenData(i),v=h.collapsed?[]:p.map(Ge).filter(y=>this.getElement(y));Object.assign(h,{childrenNode:v,childrenData:p})}return h}draw(e={animation:!0}){this.init();const t=this.computeChangesAndDrawData(e);if(!t)return null;const{dataChanges:i,drawData:r}=t;this.markDestroyElement(r),this.computeStyle(e.stage);const{add:o,update:s,remove:a}=r;this.destroyElements(a,e),this.createElements(o,e),this.updateElements(s,e);const{animation:l,silence:u}=e,{type:h="draw"}=e;return this.context.animation.animate(l,u?{}:{before:()=>this.emit(new Ca(An.BEFORE_DRAW,{dataChanges:i,animation:l,render:"render"===h}),e),beforeAnimate:p=>this.emit(new Hu(An.BEFORE_ANIMATE,Ps.DRAW,p,r),e),afterAnimate:p=>this.emit(new Hu(An.AFTER_ANIMATE,Ps.DRAW,p,r),e),after:()=>this.emit(new Ca(An.AFTER_DRAW,{dataChanges:i,animation:l,render:"render"===h}),e)})}computeChangesAndDrawData(e){const{model:t}=this.context,i=t.getChanges(),r=e9(i);if(0===r.length)return null;const{NodeAdded:o=[],NodeUpdated:s=[],NodeRemoved:a=[],EdgeAdded:l=[],EdgeUpdated:u=[],EdgeRemoved:h=[],ComboAdded:p=[],ComboUpdated:v=[],ComboRemoved:y=[]}=sm(r,S=>S.type),b=S=>new Map(S.map(C=>{const D=C.value;return[Ge(D),D]})),E={add:{nodes:b(o),edges:b(l),combos:b(p)},update:{nodes:b(s),edges:b(u),combos:b(v)},remove:{nodes:b(a),edges:b(h),combos:b(y)}},w=this.transformData(E,e);return t.clearChanges(),{dataChanges:i,drawData:w}}transformData(e,t){const i=this.context.transform.getTransformInstance();return Object.values(i).reduce((r,o)=>o.beforeDraw(r,t),e)}createElement(e,t,i){var r,o;const s=Ge(t);if(this.getElement(s))return;const a=this.getElementType(e,t),l=this.getElementComputedStyle(e,t),u=dc(e,a);if(!u)return Pu.warn(`The element ${a} of ${e} is not registered.`);if(this.emit(new N1(An.BEFORE_ELEMENT_CREATE,e,t),i),"expand"===i.stage){const v=this.getElementZIndex(i.target);(!l.zIndex||l.zIndex<v)&&(l.zIndex=v+(null!==(r=l.zIndex)&&void 0!==r?r:0))}const h=this.container.appendChild(new u({id:s,style:Object.assign({context:this.context},l)}));this.shapeTypeMap[s]=a,this.elementMap[s]=h;const{stage:p="enter"}=i;null===(o=this.context.animation)||void 0===o||o.add({element:h,elementType:e,stage:p,originalStyle:Object.assign({},h.attributes),modifiedStyle:Object.assign(Object.assign({},h.attributes),l)},{after:()=>{var v;this.emit(new N1(An.AFTER_ELEMENT_CREATE,e,t),i),null===(v=h.onCreate)||void 0===v||v.call(h)}})}createElements(e,t){const{nodes:i,edges:r,combos:o}=e;[["node",i],["combo",o],["edge",r]].forEach(([s,a])=>{a.forEach(l=>this.createElement(s,l,t))})}getUpdateStageStyle(e,t,i){const{stage:r="update"}=i;if("translate"===r){if("node"===e||"combo"===e){const{style:{x:o=0,y:s=0,z:a=0}={}}=t;return{x:o,y:s,z:a}}return{}}return this.getElementComputedStyle(e,t)}updateElement(e,t,i){var r;const o=Ge(t),{stage:s="update"}=i,a=this.getElement(o);if(!a)return()=>null;this.emit(new N1(An.BEFORE_ELEMENT_UPDATE,e,t),i);const l=this.getElementType(e,t),u=this.getUpdateStageStyle(e,t,i);this.shapeTypeMap[o]!==l&&(a.destroy(),delete this.shapeTypeMap[o],delete this.elementMap[o],this.createElement(e,t,{animation:!1,silence:!0}));const h="visibility"!==s?s:"hidden"===u.visibility?"hide":"show";"hide"===h&&delete u.visibility,null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:h,originalStyle:Object.assign({},a.attributes),modifiedStyle:Object.assign(Object.assign({},a.attributes),u)},{before:()=>{const p=this.elementMap[o];"collapse"!==s&&lC(p,u),"visibility"===s&&(function kyt(n,e){return N9(e)in(na(n,qC)||{})}(p,"opacity")||function Ayt(n,e){const t=Array.isArray(e)?e:[e];na(n,qC)||Tf(n,qC,{}),t.forEach(i=>{Tf(na(n,qC),N9(i),n.attributes[i])})}(p,"opacity"),this.visibilityCache.set(p,"show"===h?"visible":"hidden"),"show"===h&&sp(p,"visible"))},after:()=>{var p;const v=this.elementMap[o];"collapse"===s&&lC(v,u),"hide"===h&&sp(v,this.visibilityCache.get(v)),this.emit(new N1(An.AFTER_ELEMENT_UPDATE,e,t),i),null===(p=v.onUpdate)||void 0===p||p.call(v)}})}updateElements(e,t){const{nodes:i,edges:r,combos:o}=e;[["node",i],["combo",o],["edge",r]].forEach(([s,a])=>{a.forEach(l=>this.updateElement(s,l,t))})}markDestroyElement(e){Object.values(e.remove).forEach(t=>{t.forEach(i=>{const r=Ge(i),o=this.getElement(r);o&&function S4(n){Tf(n,"__to_be_destroyed__",!0)}(o)})})}destroyElement(e,t,i){var r;const{stage:o="exit"}=i,s=Ge(t),a=this.elementMap[s];if(!a)return()=>null;this.emit(new N1(An.BEFORE_ELEMENT_DESTROY,e,t),i),null===(r=this.context.animation)||void 0===r||r.add({element:a,elementType:e,stage:o,originalStyle:Object.assign({},a.attributes),modifiedStyle:Object.assign({},a.attributes)},{after:()=>{var l;this.clearElement(s),a.destroy(),null===(l=a.onDestroy)||void 0===l||l.call(a),this.emit(new N1(An.AFTER_ELEMENT_DESTROY,e,t),i)}})}destroyElements(e,t){const{nodes:i,edges:r,combos:o}=e;[["combo",o],["edge",r],["node",i]].forEach(([s,a])=>{a.forEach(l=>this.destroyElement(s,l,t))})}clearElement(e){delete this.paletteStyle[e],delete this.defaultStyle[e],delete this.stateStyle[e],delete this.elementMap[e],delete this.shapeTypeMap[e]}collapseNode(e,t){return BR(this,void 0,void 0,function*(){var i;const{model:r,layout:o}=this.context,s=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!s)return;this.markDestroyElement(s.drawData);const a=yield o.simulate();r.updateData(a);const l=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!l)return;const{drawData:u}=l,{add:h,remove:p,update:v}=u;this.markDestroyElement(u);const y={animation:t,stage:"collapse",data:u};this.destroyElements(p,y),this.createElements(h,y),this.updateElements(v,y),yield null===(i=this.context.animation.animate(t,{beforeAnimate:b=>this.emit(new Hu(An.BEFORE_ANIMATE,Ps.COLLAPSE,b,u),y),afterAnimate:b=>this.emit(new Hu(An.AFTER_ANIMATE,Ps.COLLAPSE,b,u),y)},{collapse:{target:e,descendants:Array.from(p.nodes).map(([,b])=>Ge(b)),position:oa(v.nodes.get(e))}}))||void 0===i?void 0:i.finished})}expandNode(e,t){return BR(this,void 0,void 0,function*(){var i;const{model:r,layout:o}=this.context;if(!r.getAncestorsData(e,yo).every(b=>ja(b)))return;const s=oa(r.getNodeData([e])[0]),a=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!a)return;const{drawData:{add:l}}=a;this.createElements(l,{animation:!1,stage:"expand",target:e}),this.context.animation.clear();const u=yield o.simulate();r.updateData(u),this.computeStyle("expand");const h=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!h)return;const{drawData:p}=h,{update:v}=p,y={animation:t,stage:"expand",data:p};l.edges.forEach(b=>v.edges.set(Ge(b),b)),l.nodes.forEach(b=>v.nodes.set(Ge(b),b)),this.updateElements(v,y),yield null===(i=this.context.animation.animate(t,{beforeAnimate:b=>this.emit(new Hu(An.BEFORE_ANIMATE,Ps.EXPAND,b,p),y),afterAnimate:b=>this.emit(new Hu(An.AFTER_ANIMATE,Ps.EXPAND,b,p),y)},{expand:{target:e,descendants:Array.from(l.nodes).map(([,b])=>Ge(b)),position:s}}))||void 0===i?void 0:i.finished})}collapseCombo(e,t){return BR(this,void 0,void 0,function*(){var i;const{model:r,element:o}=this.context;if(r.getAncestorsData(e,yo).some(E=>ja(E)))return;const s=o.getElement(e),a=s.getComboPosition(Object.assign(Object.assign({},s.attributes),{collapsed:!0})),l=this.computeChangesAndDrawData({stage:"collapse",animation:t});if(!l)return;const{dataChanges:u,drawData:h}=l;this.markDestroyElement(h);const{update:p,remove:v}=h,y={animation:t,stage:"collapse",data:h};this.destroyElements(v,y),this.updateElements(p,y);const b=E=>Array.from(E).map(([,w])=>Ge(w));yield null===(i=this.context.animation.animate(t,{before:()=>this.emit(new Ca(An.BEFORE_DRAW,{dataChanges:u,animation:t}),y),beforeAnimate:E=>this.emit(new Hu(An.BEFORE_ANIMATE,Ps.COLLAPSE,E,h),y),afterAnimate:E=>this.emit(new Hu(An.AFTER_ANIMATE,Ps.COLLAPSE,E,h),y),after:()=>this.emit(new Ca(An.AFTER_DRAW,{dataChanges:u,animation:t}),y)},{collapse:{target:e,descendants:[...b(v.nodes),...b(v.combos)],position:a}}))||void 0===i?void 0:i.finished})}expandCombo(e,t){return BR(this,void 0,void 0,function*(){var i;const{model:r}=this.context,o=oa(r.getComboData([e])[0]);this.computeStyle("expand");const s=this.computeChangesAndDrawData({stage:"expand",animation:t});if(!s)return;const{dataChanges:a,drawData:l}=s,{add:u,update:h}=l,p={animation:t,stage:"expand",data:l,target:e};this.createElements(u,p),this.updateElements(h,p);const v=y=>Array.from(y).map(([,b])=>Ge(b));yield null===(i=this.context.animation.animate(t,{before:()=>this.emit(new Ca(An.BEFORE_DRAW,{dataChanges:a,animation:t}),p),beforeAnimate:y=>this.emit(new Hu(An.BEFORE_ANIMATE,Ps.EXPAND,y,l),p),afterAnimate:y=>this.emit(new Hu(An.AFTER_ANIMATE,Ps.EXPAND,y,l),p),after:()=>this.emit(new Ca(An.AFTER_DRAW,{dataChanges:a,animation:t}),p)},{expand:{target:e,descendants:[...v(u.nodes),...v(u.combos)],position:o}}))||void 0===i?void 0:i.finished})}getFrontZIndex(e){const{model:t}=this.context,i=t.getElementType(e),r=t.getElementDataById(e),o=t.getData();if(Object.assign(o,{[`${i}s`]:o[`${i}s`].filter(s=>Ge(s)!==e)}),"combo"===i&&!ja(r)){const s=t.getAncestorsData(e,yo).map(Ge);o.nodes=o.nodes.filter(a=>!s.includes(Ge(a))),o.combos=o.combos.filter(a=>!s.includes(Ge(a))),o.edges=o.edges.filter(({source:a,target:l})=>s.includes(a)&&s.includes(l))}return Math.max(0,...Object.values(o).flat().map(s=>{const a=Ge(s);return this.getElementZIndex(a)}))+1}destroy(){this.container.destroy(),this.elementMap={},this.shapeTypeMap={},this.defaultStyle={},this.stateStyle={},this.paletteStyle={},this.context={}}}var tM=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class zyt{get presetOptions(){return{animation:!!aA(this.context.options,!0)}}get options(){const{options:e}=this.context;return e.layout}constructor(e){this.instances=[],this.context=e}getLayoutInstance(){return this.instances}layout(){return tM(this,void 0,void 0,function*(){if(!this.options)return;const e=Array.isArray(this.options)?this.options:[this.options],{graph:t}=this.context;za(t,new Ca(An.BEFORE_LAYOUT));for(const i of e){const r=e.indexOf(i),o=this.getLayoutData(i),s=Object.assign(Object.assign({},this.presetOptions),i);za(t,new Ca(An.BEFORE_STAGE_LAYOUT,{options:s,index:r}));const a=yield this.stepLayout(o,s,r);za(t,new Ca(An.AFTER_STAGE_LAYOUT,{options:s,index:r})),i.animation||this.updateElementPosition(a,!1)}za(t,new Ca(An.AFTER_LAYOUT)),this.transformDataAfterLayout()})}transformDataAfterLayout(){const e=this.context.transform.getTransformInstance();Object.values(e).forEach(t=>t.afterLayout())}simulate(){return tM(this,void 0,void 0,function*(){if(!this.options)return{};const e=Array.isArray(this.options)?this.options:[this.options];let t={};for(const i of e){const r=e.indexOf(i),o=this.getLayoutData(i);t=yield this.stepLayout(o,Object.assign(Object.assign(Object.assign({},this.presetOptions),i),{animation:!1}),r)}return t})}stepLayout(e,t,i){return tM(this,void 0,void 0,function*(){return function a1(n){const{type:e}=n;return["compact-box","mindmap","dendrogram","indented"].includes(e)}(t)?yield this.treeLayout(e,t,i):yield this.graphLayout(e,t,i)})}graphLayout(e,t,i){return tM(this,void 0,void 0,function*(){const{animation:r,enableWorker:o,iterations:s=300}=t,a=this.initGraphLayout(t);if(!a)return{};if(this.instances[i]=a,this.instance=a,o){const u=a;return this.supervisor=new lpt(u.graphData2LayoutModel(e),u.instance,{iterations:s}),$0(yield this.supervisor.execute())}if(A6(a))return r?yield a.execute(e,{onTick:u=>{this.updateElementPosition(u,!1)}}):(a.execute(e),a.stop(),a.tick(s));const l=yield a.execute(e);if(r){const u=this.updateElementPosition(l,r);yield u?.finished}return l})}treeLayout(e,t,i){return tM(this,void 0,void 0,function*(){const{type:r,animation:o}=t,s=dc("layout",r);if(!s)return{};const{nodes:a=[],edges:l=[]}=e,u=new Gs({nodes:a.map(y=>({id:Ge(y),data:y.data||{}})),edges:l.map(y=>({id:Ge(y),source:y.source,target:y.target,data:y.data||{}}))});!function Fyt(n){if(n.hasTreeStructure(jc))return;n.attachTreeStructure(jc);const e=n.getAllEdges();for(const t of e){const{source:i,target:r}=t;n.setParent(r,i,jc)}}(u);const h={nodes:[],edges:[]},p={nodes:[],edges:[]};u.getRoots(jc).forEach(y=>{Rd(y,C=>{C.children=u.getSuccessors(C.id)},C=>u.getSuccessors(C.id),"TB");const b=s(y,t),{x:E,y:w,z:S=0}=b;Rd(b,C=>{const{id:D,x:k,y:T,z:I=0}=C;h.nodes.push({id:D,style:{x:E,y:w,z:S}}),p.nodes.push({id:D,style:{x:k,y:T,z:I}})},C=>C.children,"TB")});const v=this.inferTreeLayoutOffset(p);if(Kq(p,v),o){Kq(h,v),this.updateElementPosition(h,!1);const y=this.updateElementPosition(p,o);yield y?.finished}return p})}inferTreeLayoutOffset(e){var t;let[i,r]=[1/0,-1/0],[o,s]=[1/0,-1/0];null===(t=e.nodes)||void 0===t||t.forEach(E=>{const{x:w=0,y:S=0}=E.style||{};i=Math.min(i,w),r=Math.max(r,w),o=Math.min(o,S),s=Math.max(s,S)});const{canvas:a}=this.context,l=a.getSize(),[u,h]=a.getCanvasByViewport([0,0]),[p,v]=a.getCanvasByViewport(l);return i>=u&&r<=p&&o>=h&&s<=v?[0,0]:[(u+p)/2-(i+r)/2,(h+v)/2-(o+s)/2]}stopLayout(){this.instance&&A6(this.instance)&&(this.instance.stop(),this.instance=void 0),this.supervisor&&(this.supervisor.stop(),this.supervisor=void 0),this.animationResult&&(this.animationResult.finish(),this.animationResult=void 0)}getLayoutData(e){const{nodeFilter:t=()=>!0}=e,{nodes:i,edges:r,combos:o}=this.context.model.getData(),s=h=>this.context.element.getElement(h),a=i.filter(h=>{const p=Ge(h),v=s(p);return!(!v||t1(v))&&t(h)}),l=new Map(a.map(h=>[Ge(h),h]));return{nodes:a,edges:r.filter(h=>{const{source:p,target:v}=h;return!(!l.has(p)||!l.has(v))}),combos:o}}initGraphLayout(e){var t;const{element:i,viewport:r}=this.context,{type:o}=e,u=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["type","enableWorker","animation","iterations"]),[h,p]=r.getCanvasSize(),v=[h/2,p/2],y=null!==(t=e?.nodeSize)&&void 0!==t?t:C=>{const D=i?.getElement(C.id),{size:k}=D?.attributes||{};return Math.max(...Pl(k))},b=dc("layout",o);if(!b)return Pu.warn(`The layout of ${o} is not registered.`);const w=new(Object.getPrototypeOf(b.prototype)===fs.prototype?b:C7(b,this.context))(this.context),S={nodeSize:y,width:h,height:p,center:v};switch(w.id){case"d3-force":case"d3-force-3d":Object.assign(S,{center:{x:h/2,y:p/2,z:0}})}return ya(w.options,S,u),w}updateElementPosition(e,t){const{model:i,element:r}=this.context;return r?(i.updateData(e),r.draw({animation:t,silence:!0})):null}destroy(){var e;this.stopLayout(),this.context={},null===(e=this.supervisor)||void 0===e||e.kill(),this.supervisor=void 0,this.instance=void 0,this.instances=[],this.animationResult=void 0}}const Kq=(n,e)=>{var t;const[i,r]=e;null===(t=n.nodes)||void 0===t||t.forEach(o=>{if(o.style){const{x:s=0,y:a=0}=o.style;o.style.x=s+i,o.style.y=a+r}else o.style={x:i,y:r}})};class Uyt extends p2{constructor(e){super(e),this.category="plugin",this.setPlugins(this.context.options.plugins||[])}setPlugins(e){this.setExtensions(e)}getPluginInstance(e){const t=this.extensionMap[e];if(t)return t;Pu.warn(`Cannot find the plugin ${e}, will try to find it by type.`);const i=this.extensions.find(r=>r.type===e);return i?this.extensionMap[i.key]:void 0}}const jR=["update-related-edges","collapse-expand-node","collapse-expand-combo","get-edge-actual-ends","arrange-draw-order"];class Gyt extends p2{constructor(e){super(e),this.category="transform",this.setTransforms(this.context.options.transforms||[])}getTransforms(){}setTransforms(e){this.setExtensions([...jR.slice(0,jR.length-1),...e,jR[jR.length-1]])}getTransformInstance(e){return e?this.extensionMap[e]:this.extensionMap}}var eM=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Hyt{get padding(){return Dd(this.context.options.padding)}get paddingOffset(){const[e,t,i,r]=this.padding,[o,s,a]=[(r-t)/2,(e-i)/2,0];return[o,s,a]}constructor(e){this.landmarkCounter=0,this.context=e;const[t,i]=this.paddingOffset,{zoom:r,rotation:o,x:s=t,y:a=i}=e.options;this.transform({mode:"absolute",scale:r,translate:[s,a],rotate:o},!1)}get camera(){const{canvas:e}=this.context;return new Proxy(e.getCamera(),{get:(t,i)=>{const r=Object.entries(e.getLayers()).filter(([s])=>!["main"].includes(s)).map(([,s])=>s.getCamera()),o=t[i];if("function"==typeof o)return(...s)=>{const a=o.apply(t,s);return r.forEach(l=>{l[i].apply(l,s)}),a}}})}createLandmark(e){return this.camera.createLandmark("landmark-"+this.landmarkCounter++,e)}getAnimation(e){const t=aA(this.context.options,e);return!!t&&xh(Object.assign({},t),["easing","duration"])}getCanvasSize(){const{canvas:e}=this.context,{width:t=0,height:i=0}=e.getConfig();return[t,i]}getCanvasCenter(){const{canvas:e}=this.context,{width:t=0,height:i=0}=e.getConfig();return[t/2,i/2,0]}getViewportCenter(){const[e,t]=this.camera.getPosition();return[e,t,0]}getGraphCenter(){return this.context.graph.getViewportByCanvas(this.getCanvasCenter())}getZoom(){return this.camera.getZoom()}getRotation(){return this.camera.getRoll()}getTranslateOptions(e){const{camera:t}=this,{mode:i,translate:r=[]}=e,o=this.getZoom(),s=t.getPosition(),a=t.getFocalPoint(),[l,u]=this.getCanvasCenter(),[h=0,p=0,v=0]=r,y=fc([-h,-p,-v],o);return"relative"===i?{position:Qi(s,y),focalPoint:Qi(a,y)}:{position:Qi([l,u,s[2]],y),focalPoint:Qi([l,u,a[2]],y)}}getRotateOptions(e){const{mode:t,rotate:i=0}=e;return{roll:"relative"===t?this.camera.getRoll()+i:i}}getZoomOptions(e){const{zoomRange:t}=this.context.options,i=this.camera.getZoom(),{mode:r,scale:o=1}=e;return Mo("relative"===r?i*o:o,...t)}transform(e,t){return eM(this,void 0,void 0,function*(){const{graph:i}=this.context,{translate:r,rotate:o,scale:s,origin:a}=e;this.cancelAnimation();const l=this.getAnimation(t);if(za(i,new FR(An.BEFORE_TRANSFORM,e)),!o&&s&&!r&&a&&!l)return this.camera.setZoomByViewportPoint(this.getZoomOptions(e),a),void za(i,new FR(An.AFTER_TRANSFORM,e));const u={};if(r&&Object.assign(u,this.getTranslateOptions(e)),Zn(o)&&Object.assign(u,this.getRotateOptions(e)),Zn(s)&&Object.assign(u,{zoom:this.getZoomOptions(e)}),l)return za(i,new Hu(An.BEFORE_ANIMATE,Ps.TRANSFORM,null,e)),new Promise(h=>{this.transformResolver=h,this.camera.gotoLandmark(this.createLandmark(u),Object.assign(Object.assign({},l),{onfinish:()=>{za(i,new Hu(An.AFTER_ANIMATE,Ps.TRANSFORM,null,e)),za(i,new FR(An.AFTER_TRANSFORM,e)),this.transformResolver=void 0,h()}}))});this.camera.gotoLandmark(this.createLandmark(u),{duration:0}),za(i,new FR(An.AFTER_TRANSFORM,e))})}fitView(e,t){return eM(this,void 0,void 0,function*(){const[i,r,o,s]=this.padding,{when:a="always",direction:l="both"}=e||{},[u,h]=this.context.canvas.getSize(),p=u-s-r,v=h-i-o,y=this.context.canvas.getBounds(),b=this.getBBoxInViewport(y),[E,w]=Uh(b);if("overflow"===a&&!("x"===l&&E>=p||"y"===l&&w>=v||"both"===l&&E>=p&&w>=v))return yield this.fitCenter(t);const C=p/E,D=v/w,k="x"===l?C:"y"===l?D:Math.min(C,D),T=this.getAnimation(t);yield this.transform({mode:"relative",scale:k,translate:Qi(ro(this.getCanvasCenter(),this.getBBoxInViewport(y).center),fc(this.paddingOffset,k))},T)})}fitCenter(e){return eM(this,void 0,void 0,function*(){const t=this.context.canvas.getBounds();yield this.focus(t,e)})}focusElements(e,t){return eM(this,void 0,void 0,function*(){const{element:i}=this.context;if(!i)return;const r=w_(e.map(o=>i.getElement(o).getRenderBounds()));yield this.focus(r,t)})}focus(e,t){return eM(this,void 0,void 0,function*(){const i=this.context.graph.getViewportByCanvas(e.center),o=ro(this.getCanvasCenter(),i);yield this.transform({mode:"relative",translate:Qi(o,this.paddingOffset)},t)})}getBBoxInViewport(e){const{min:t,max:i}=e,{graph:r}=this.context,[o,s]=r.getViewportByCanvas(t),[a,l]=r.getViewportByCanvas(i),u=new ai.AABB;return u.setMinMax([o,s,0],[a,l,0]),u}isInViewport(e,t=!1,i=0){const{graph:r}=this.context,o=this.getCanvasSize(),[s,a]=r.getCanvasByViewport([0,0]),[l,u]=r.getCanvasByViewport(o);let h=new ai.AABB;return h.setMinMax([s,a,0],[l,u,0]),i&&(h=Hh(h,i)),rp(e)?hc(e,h):t?function eF(n,e){const[t,i]=n.min,[r,o]=n.max,[s,a]=e.min,[l,u]=e.max;return t>=s&&r<=l&&i>=a&&o<=u}(e,h):h.intersects(e)}cancelAnimation(){var e,t;!(null===(e=this.camera.landmarks)||void 0===e)&&e.length&&this.camera.cancelLandmarkAnimation(),null===(t=this.transformResolver)||void 0===t||t.call(this)}}var jo=function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let $yt=(()=>{class n extends o1{constructor(t){super(),this.destroyed=!1,this.context={model:new Byt},this.isCollapsingExpanding=!1,this.onResize=Of(()=>{this.resize()},300),this.options=Object.assign({},n.defaultOptions,t),this._setOptions(this.options,!0),this.context.graph=this,this.options.autoResize&&window.addEventListener("resize",this.onResize)}getOptions(){return this.options}setOptions(t){this._setOptions(t,!1)}_setOptions(t,i){if(this.updateCanvas(t),i){const{data:y}=t;return void(y&&this.addData(y))}Object.assign(this.options,t);const{behaviors:r,combo:o,data:s,edge:a,layout:l,node:u,plugins:h,theme:p,transforms:v}=t;r&&this.setBehaviors(r),s&&this.setData(s),u&&this.setNode(u),a&&this.setEdge(a),o&&this.setCombo(o),l&&this.setLayout(l),p&&this.setTheme(p),h&&this.setPlugins(h),v&&this.setTransforms(v)}getSize(){return this.context.canvas?this.context.canvas.getSize():[this.options.width||0,this.options.height||0]}setSize(t,i){var r;Object.assign(this.options,{width:t,height:i}),null===(r=this.context.canvas)||void 0===r||r.resize(t,i)}setZoomRange(t){this.options.zoomRange=t}getZoomRange(){return this.options.zoomRange}setNode(t){this.options.node=t,this.context.model.refreshData()}setEdge(t){this.options.edge=t,this.context.model.refreshData()}setCombo(t){this.options.combo=t,this.context.model.refreshData()}getTheme(){return this.options.theme}setTheme(t){this.options.theme=$n(t)?t(this.getTheme()):t}setLayout(t){this.options.layout=$n(t)?t(this.getLayout()):t}getLayout(){return this.options.layout}setBehaviors(t){var i;this.options.behaviors=$n(t)?t(this.getBehaviors()):t,null===(i=this.context.behavior)||void 0===i||i.setBehaviors(this.options.behaviors)}updateBehavior(t){this.setBehaviors(i=>i.map(r=>"object"==typeof r&&r.key===t.key?Object.assign(Object.assign({},r),t):r))}getBehaviors(){return this.options.behaviors||[]}setPlugins(t){var i;this.options.plugins=$n(t)?t(this.getPlugins()):t,null===(i=this.context.plugin)||void 0===i||i.setPlugins(this.options.plugins)}updatePlugin(t){this.setPlugins(i=>i.map(r=>"object"==typeof r&&r.key===t.key?Object.assign(Object.assign({},r),t):r))}getPlugins(){return this.options.plugins||[]}getPluginInstance(t){return this.context.plugin.getPluginInstance(t)}setTransforms(t){var i;this.options.transforms=$n(t)?t(this.getTransforms()):t,null===(i=this.context.transform)||void 0===i||i.setTransforms(this.options.transforms)}updateTransform(t){this.setTransforms(i=>i.map(r=>"object"==typeof r&&r.key===t.key?Object.assign(Object.assign({},r),t):r)),this.context.model.refreshData()}getTransforms(){return this.options.transforms||[]}getData(){return this.context.model.getData()}getElementData(t){return Array.isArray(t)?t.map(i=>this.context.model.getElementDataById(i)):this.context.model.getElementDataById(t)}getNodeData(t){var i;return void 0===t?this.context.model.getNodeData():Array.isArray(t)?this.context.model.getNodeData(t):null===(i=this.context.model.getNodeData([t]))||void 0===i?void 0:i[0]}getEdgeData(t){var i;return void 0===t?this.context.model.getEdgeData():Array.isArray(t)?this.context.model.getEdgeData(t):null===(i=this.context.model.getEdgeData([t]))||void 0===i?void 0:i[0]}getComboData(t){var i;return void 0===t?this.context.model.getComboData():Array.isArray(t)?this.context.model.getComboData(t):null===(i=this.context.model.getComboData([t]))||void 0===i?void 0:i[0]}setData(t){this.context.model.setData($n(t)?t(this.getData()):t)}addData(t){this.context.model.addData($n(t)?t(this.getData()):t)}addNodeData(t){this.context.model.addNodeData($n(t)?t(this.getNodeData()):t)}addEdgeData(t){this.context.model.addEdgeData($n(t)?t(this.getEdgeData()):t)}addComboData(t){this.context.model.addComboData($n(t)?t(this.getComboData()):t)}addChildrenData(t,i){this.context.model.addChildrenData(t,i)}updateData(t){this.context.model.updateData($n(t)?t(this.getData()):t)}updateNodeData(t){this.context.model.updateNodeData($n(t)?t(this.getNodeData()):t)}updateEdgeData(t){this.context.model.updateEdgeData($n(t)?t(this.getEdgeData()):t)}updateComboData(t){this.context.model.updateComboData($n(t)?t(this.getComboData()):t)}removeData(t){this.context.model.removeData($n(t)?t(this.getData()):t)}removeNodeData(t){this.context.model.removeNodeData($n(t)?t(this.getNodeData()):t)}removeEdgeData(t){this.context.model.removeEdgeData($n(t)?t(this.getEdgeData()):t)}removeComboData(t){this.context.model.removeComboData($n(t)?t(this.getComboData()):t)}getElementType(t){return this.context.model.getElementType(t)}getRelatedEdgesData(t,i="both"){return this.context.model.getRelatedEdgesData(t,i)}getNeighborNodesData(t){return this.context.model.getNeighborNodesData(t)}getAncestorsData(t,i){return this.context.model.getAncestorsData(t,i)}getParentData(t,i){return this.context.model.getParentData(t,i)}getChildrenData(t){return this.context.model.getChildrenData(t)}getDescendantsData(t){return this.context.model.getDescendantsData(t)}getElementDataByState(t,i){return this.context.model.getElementDataByState(t,i)}initCanvas(){return jo(this,void 0,void 0,function*(){var t;if(this.context.canvas)return yield this.context.canvas.ready;const{container:i="container",width:r,height:o,renderer:s,cursor:a,background:l,devicePixelRatio:u=(null!==(t=window.devicePixelRatio)&&void 0!==t?t:1)}=this.options;if(i instanceof Hq)this.context.canvas=i,a&&i.setCursor(a),s&&i.setRenderer(s),yield i.ready;else{const h=Li(i)?document.getElementById(i):i,p=BZ(h);this.emit(An.BEFORE_CANVAS_INIT,{container:h,width:r,height:o});const v=new Hq({container:h,width:r||p[0],height:o||p[1],background:l,renderer:s,cursor:a,devicePixelRatio:u});this.context.canvas=v,yield v.ready,this.emit(An.AFTER_CANVAS_INIT,{canvas:v})}})}updateCanvas(t){var i,r;const{renderer:o,cursor:s,height:a,width:l}=t,u=this.context.canvas;u&&(o&&(this.emit(An.BEFORE_RENDERER_CHANGE,{renderer:this.options.renderer}),u.setRenderer(o),this.emit(An.AFTER_RENDERER_CHANGE,{renderer:o})),s&&u.setCursor(s),(Zn(l)||Zn(a))&&this.setSize(null!==(i=l??this.options.width)&&void 0!==i?i:0,null!==(r=a??this.options.height)&&void 0!==r?r:0))}initRuntime(){this.context.options=this.options,this.context.batch||(this.context.batch=new Ryt(this.context)),this.context.plugin||(this.context.plugin=new Uyt(this.context)),this.context.viewport||(this.context.viewport=new Hyt(this.context)),this.context.transform||(this.context.transform=new Gyt(this.context)),this.context.element||(this.context.element=new jyt(this.context)),this.context.animation||(this.context.animation=new Iyt(this.context)),this.context.layout||(this.context.layout=new zyt(this.context)),this.context.behavior||(this.context.behavior=new Pyt(this.context))}prepare(){return jo(this,void 0,void 0,function*(){if(yield Promise.resolve(),this.destroyed)throw new Error(Ru("The graph instance has been destroyed"));yield this.initCanvas(),this.initRuntime()})}render(){return jo(this,void 0,void 0,function*(){yield this.prepare(),za(this,new Ca(An.BEFORE_RENDER));const t=this.context.element.draw({type:"render"});yield Promise.all([t?.finished,this.context.layout.layout()]),yield this.autoFit(),za(this,new Ca(An.AFTER_RENDER))})}draw(){return jo(this,void 0,void 0,function*(){var t;yield this.prepare(),yield null===(t=this.context.element.draw())||void 0===t?void 0:t.finished})}layout(){return jo(this,void 0,void 0,function*(){yield this.context.layout.layout()})}stopLayout(){this.context.layout.stopLayout()}clear(){return jo(this,void 0,void 0,function*(){this.context.model.setData({}),yield this.draw()})}destroy(){za(this,new Ca(An.BEFORE_DESTROY));const{layout:t,animation:i,element:r,model:o,canvas:s,behavior:a,plugin:l}=this.context;l?.destroy(),a?.destroy(),t?.destroy(),i?.destroy(),r?.destroy(),o.destroy(),s?.destroy(),this.options={},this.context={},this.off(),window.removeEventListener("resize",this.onResize),this.destroyed=!0,za(this,new Ca(An.AFTER_DESTROY))}getCanvas(){return this.context.canvas}resize(t,i){const r=t&&i?[t,i]:BZ(this.context.canvas.getContainer());Po(r,this.getSize())||(za(this,new Ca(An.BEFORE_SIZE_CHANGE,{size:r})),this.context.canvas.resize(...r),za(this,new Ca(An.AFTER_SIZE_CHANGE,{size:r})))}fitView(t,i){return jo(this,void 0,void 0,function*(){var r;yield null===(r=this.context.viewport)||void 0===r?void 0:r.fitView(t,i)})}fitCenter(t){return jo(this,void 0,void 0,function*(){var i;yield null===(i=this.context.viewport)||void 0===i?void 0:i.fitCenter(t)})}autoFit(){return jo(this,void 0,void 0,function*(){const{autoFit:t}=this.context.options;if(t)if(Li(t))"view"===t?yield this.fitView():"center"===t&&(yield this.fitCenter());else{const{type:i,animation:r}=t;"view"===i?yield this.fitView(t.options,r):"center"===i&&(yield this.fitCenter(r))}})}focusElement(t,i){return jo(this,void 0,void 0,function*(){var r;yield null===(r=this.context.viewport)||void 0===r?void 0:r.focusElements(Array.isArray(t)?t:[t],i)})}zoomBy(t,i,r){return jo(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",scale:t,origin:r},i)})}zoomTo(t,i,r){return jo(this,void 0,void 0,function*(){this.context.viewport.transform({mode:"absolute",scale:t,origin:r},i)})}getZoom(){return this.context.viewport.getZoom()}rotateBy(t,i,r){return jo(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",rotate:t,origin:r},i)})}rotateTo(t,i,r){return jo(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",rotate:t,origin:r},i)})}getRotation(){return this.context.viewport.getRotation()}translateBy(t,i){return jo(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"relative",translate:t},i)})}translateTo(t,i){return jo(this,void 0,void 0,function*(){yield this.context.viewport.transform({mode:"absolute",translate:t},i)})}getPosition(){return ro([0,0],this.getCanvasByViewport([0,0]))}translateElementBy(t,i){return jo(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,h]=Dr(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s];Object.entries(u).forEach(([p,v])=>this.context.model.translateNodeLikeBy(p,v)),yield null===(l=this.context.element.draw({animation:h,stage:"translate"}))||void 0===l?void 0:l.finished})}translateElementTo(t,i){return jo(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,h]=Dr(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s];Object.entries(u).forEach(([p,v])=>this.context.model.translateNodeLikeTo(p,v)),yield null===(l=this.context.element.draw({animation:h,stage:"translate"}))||void 0===l?void 0:l.finished})}getElementPosition(t){return this.context.model.getElementPosition(t)}getElementRenderStyle(t){return ob(this.context.element.getElement(t).attributes,["context"])}setElementVisibility(t,i){return jo(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,h]=Dr(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s],p={nodes:[],edges:[],combos:[]};Object.entries(u).forEach(([b,E])=>{const w=this.getElementType(b);p[`${w}s`].push({id:b,style:{visibility:E}})});const{model:v,element:y}=this.context;v.preventUpdateNodeLikeHierarchy(()=>{v.updateData(p)}),yield null===(l=y.draw({animation:h,stage:"visibility"}))||void 0===l?void 0:l.finished})}showElement(t,i){return jo(this,void 0,void 0,function*(){const r=Array.isArray(t)?t:[t];yield this.setElementVisibility(Object.fromEntries(r.map(o=>[o,"visible"])),i)})}hideElement(t,i){return jo(this,void 0,void 0,function*(){const r=Array.isArray(t)?t:[t];yield this.setElementVisibility(Object.fromEntries(r.map(o=>[o,"hidden"])),i)})}getElementVisibility(t){var i,r;const o=this.context.element.getElement(t);return null!==(r=null===(i=o?.style)||void 0===i?void 0:i.visibility)&&void 0!==r?r:"visible"}setElementZIndex(t,i){return jo(this,void 0,void 0,function*(){var r;const o={nodes:[],edges:[],combos:[]},s=Dr(t)?t:{[t]:i};Object.entries(s).forEach(([u,h])=>{const p=this.getElementType(u);o[`${p}s`].push({id:u,style:{zIndex:h}})});const{model:a,element:l}=this.context;a.preventUpdateNodeLikeHierarchy(()=>a.updateData(o)),yield null===(r=l.draw({animation:!1,stage:"zIndex"}))||void 0===r?void 0:r.finished})}frontElement(t){return jo(this,void 0,void 0,function*(){const i=Array.isArray(t)?t:[t],{model:r,element:o}=this.context,s={};i.map(a=>{const l=o.getFrontZIndex(a);if("combo"===r.getElementType(a)){const u=r.getAncestorsData(a,yo).at(-1)||this.getComboData(a),h=[u,...r.getDescendantsData(Ge(u))],p=l-o.getElementZIndex(a);h.forEach(y=>{s[Ge(y)]=this.getElementZIndex(Ge(y))+p});const{internal:v}=Ik(h.map(Ge),y=>r.getRelatedEdgesData(y));v.forEach(y=>{const b=Ge(y);s[b]=this.getElementZIndex(b)+p})}else s[a]=l}),yield this.setElementZIndex(s)})}getElementZIndex(t){var i,r,o;const{model:s,element:a}=this.context;return null!==(o=null===(r=null===(i=s.getElementDataById(t))||void 0===i?void 0:i.style)||void 0===r?void 0:r.zIndex)&&void 0!==o?o:a.getElementZIndex(t)}setElementState(t,i){return jo(this,arguments,void 0,function*(r,o,s=!0){var a,l;const[u,h]=Dr(r)?[r,null===(a=o)||void 0===a||a]:[{[r]:o},s],p=y=>y?Array.isArray(y)?y:[y]:[],v={nodes:[],edges:[],combos:[]};Object.entries(u).forEach(([y,b])=>{const E=this.getElementType(y);v[`${E}s`].push({id:y,states:p(b)})}),this.updateData(v),yield null===(l=this.context.element.draw({animation:h}))||void 0===l?void 0:l.finished})}getElementState(t){return this.context.model.getElementState(t)}getElementRenderBounds(t){return this.context.element.getElement(t).getRenderBounds()}collapseElement(t){return jo(this,arguments,void 0,function*(i,r=!0){const{model:o,element:s}=this.context;if(ja(o.getNodeLikeData([i])[0])||this.isCollapsingExpanding)return;const a=o.getElementType(i);yield this.frontElement(i),this.isCollapsingExpanding=!0,this.setElementCollapsibility(i,!0),"node"===a?yield s.collapseNode(i,r):"combo"===a&&(yield s.collapseCombo(i,r)),this.isCollapsingExpanding=!1})}expandElement(t){return jo(this,arguments,void 0,function*(i,r=!0){const{model:o,element:s}=this.context;if(!ja(o.getNodeLikeData([i])[0])||this.isCollapsingExpanding)return;const a=o.getElementType(i);this.isCollapsingExpanding=!0,this.setElementCollapsibility(i,!1),"node"===a?yield s.expandNode(i,r):"combo"===a&&(yield s.expandCombo(i,r)),this.isCollapsingExpanding=!1})}setElementCollapsibility(t,i){const r=this.getElementType(t);"node"===r?this.updateNodeData([{id:t,style:{collapsed:i}}]):"combo"===r&&this.updateComboData([{id:t,style:{collapsed:i}}])}toDataURL(){return jo(this,arguments,void 0,function*(t={}){return this.context.canvas.toDataURL(t)})}getCanvasByViewport(t){return this.context.canvas.getCanvasByViewport(t)}getViewportByCanvas(t){return this.context.canvas.getViewportByCanvas(t)}getClientByCanvas(t){return this.context.canvas.getClientByCanvas(t)}getCanvasByClient(t){return this.context.canvas.getCanvasByClient(t)}getViewportCenter(){return this.context.viewport.getViewportCenter()}getCanvasCenter(){return this.context.viewport.getCanvasCenter()}on(t,i,r){return super.on(t,i,r)}once(t,i){return super.once(t,i)}off(t,i){return super.off(t,i)}}return n.defaultOptions={autoResize:!1,theme:"light",rotation:0,zoom:1,zoomRange:[.01,10]},n})();var Wyt=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};const Xq=(n,e)=>{const{source:t,target:i}=e,r=n.getElementDataById(t),o=n.getElementDataById(i),s=h4(r,p=>n.getParentData(p,yo)),a=h4(o,p=>n.getParentData(p,yo)),h={sourceNode:Ge(s),targetNode:Ge(a)};return e.style?Object.assign(e.style,h):e.style=h,e};let Jyt=(()=>{class n extends kg{constructor(t,i){super(t,ya({},n.defaultOptions,i)),this.assignSizeByCentrality=(r,o,s,a,l,u)=>{const h=[o,s],v=[a[1],l[1]],y=[a[2],l[2]],b=(E,w)=>{if("function"==typeof u)return u(E,h,w);switch(u){case"linear":return((n,e,t)=>{const[i,r]=e,[o,s]=t;return r===i?o:o+(n-i)/(r-i)*(s-o)})(E,h,w);case"log":return((n,e,t)=>{const[i,r]=e,[o,s]=t;return o+Math.log(n-i+1)/Math.log(r-i+1)*(s-o)})(E,h,w);case"pow":return((n,e,t,i=2)=>{const[r,o]=e,[s,a]=t;return s+Math.pow((n-r)/(o-r),i)*(a-s)})(E,h,w,2);case"sqrt":return((n,e,t)=>{const[i,r]=e,[o,s]=t;return o+Math.sqrt((n-i)/(r-i))*(s-o)})(E,h,w);default:return w[0]}};return[b(r,[a[0],l[0]]),b(r,v),b(r,y)]}}beforeDraw(t){const{model:i}=this.context,r=i.getNodeData(),o=Pl(this.options.maxSize),s=Pl(this.options.minSize),a=this.getCentralities(this.options.centrality),l=a.size>0?Math.max(...a.values()):0,u=a.size>0?Math.min(...a.values()):0;return r.forEach(h=>{var p;const v=this.assignSizeByCentrality(a.get(Ge(h))||0,u,l,s,o,this.options.scale),y=null===(p=this.context.element)||void 0===p?void 0:p.getElement(Ge(h)),b={size:v};this.assignLabelStyle(b,v,h,y),(!y||!NR(b,y.attributes))&&Jc(t,y?"update":"add","node",ya(h,{style:b}),!0)}),t}assignLabelStyle(t,i,r,o){var s;const a=o?o.config.style:null===(s=this.context.element)||void 0===s?void 0:s.getElementComputedStyle("node",r);if(Object.assign(t,xh(a,["labelFontSize","labelLineHeight"])),this.options.mapLabelSize){const l=this.getLabelSizeByNodeSize(i,1/0,Number(t.labelFontSize));Object.assign(t,{labelFontSize:l,labelLineHeight:l+tF(t.labelPadding)})}return t}getLabelSizeByNodeSize(t,i,r){const o=Math.min(...t)/2,[s,a]=Array.isArray(this.options.mapLabelSize)?this.options.mapLabelSize:[r,i];return Math.min(a,Math.max(o,s))}getCentralities(t){const{model:i}=this.context,r=i.getData();if("function"==typeof t)return t(r);const o=i.getRelatedEdgesData.bind(i);return c2(r,o,t)}}return n.defaultOptions={centrality:{type:"degree"},maxSize:80,minSize:20,scale:"linear",mapLabelSize:!1},n})(),tbt=(()=>{class n extends kg{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i))}get ref(){return this.context.model.getRootsData()[0]}afterLayout(){var t;const i=oa(this.ref),{graph:r,model:o}=this.context;null===(t=o.getData().nodes)||void 0===t||t.forEach(s=>{if(Ge(s)===Ge(this.ref))return;const a=OA(ro(oa(s),i)),l=Math.abs(a)>Math.PI/2,u=!s.children||0===s.children.length,p=(u?1:-1)*(Pl(r.getElementRenderStyle(Ge(s)).size)[0]/2+this.options.offset),v=[["translate",p*Math.cos(a),p*Math.sin(a)],["rotate",l?ai.rad2deg(a)+180:ai.rad2deg(a)]];o.updateNodeData([{id:Ge(s),style:{labelTextAlign:l===u?"right":"left",labelTextBaseline:"middle",labelTransform:v}}])}),r.draw()}}return n.defaultOptions={offset:5},n})();const Yq=["top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];let nbt=(()=>{class n extends kg{constructor(t,i){super(t,Object.assign({},n.defaultOptions,i)),this.cacheMergeStyle=new Map,this.getAffectedParallelEdges=r=>{const{add:{edges:o},update:{nodes:s,edges:a,combos:l},remove:{edges:u}}=r,{model:h}=this.context,p=new Map,v=(E,w)=>{h.getRelatedEdgesData(w).forEach(S=>!p.has(Ge(S))&&p.set(Ge(S),S))};s.forEach(v),l.forEach(v);const y=E=>{const w=h.getEdgeData().map(S=>Xq(h,S));ibt(E,w).forEach(S=>!p.has(Ge(S))&&p.set(Ge(S),S))};if(u.size&&u.forEach(y),o.size&&o.forEach(y),a.size){const E=eQ(e9(h.getChanges())).update.edges;a.forEach(w=>{var S;y(w);const C=null===(S=E.find(D=>Ge(D.value)===Ge(w)))||void 0===S?void 0:S.original;C&&!B9(w,C)&&y(C)})}_u(this.options.edges)||p.forEach((E,w)=>!this.options.edges.includes(w)&&p.delete(w));const b=h.getEdgeData().map(Ge);return new Map([...p].sort((E,w)=>b.indexOf(E[0])-b.indexOf(w[0])))},this.applyBundlingStyle=(r,o,s)=>{const{edgeMap:a,reverses:l}=Zq(o);a.forEach(u=>{u.forEach((h,p,v)=>{var y;const b=v.length,E=h.style||{};if(h.source===h.target){const C=Yq.length;E.loopPlacement=Yq[p%C],E.loopDist=Math.floor(p/C)*s+50}else if(1===b)E.curveOffset=0;else{const C=(p%2==0?1:-1)*(l[`${h.source}|${h.target}|${p}`]?-1:1);E.curveOffset=b%2==1?C*Math.ceil(p/2)*s*2:C*(Math.floor(p/2)*s*2+s)}const w=Object.assign(h,{type:"quadratic",style:E}),S=null===(y=this.context.element)||void 0===y?void 0:y.getElement(Ge(h));(!S||!NR(w.style,S.attributes))&&Jc(r,S?"update":"add","edge",w,!0)})})},this.resetEdgeStyle=r=>{const o=r.style||{},s=this.cacheMergeStyle.get(Ge(r))||{};return Object.keys(s).forEach(a=>{Po(o[a],s[a])&&(r[a]?o[a]=r[a]:delete o[a])}),Object.assign(r,{style:o})},this.applyMergingStyle=(r,o)=>{const{edgeMap:s,reverses:a}=Zq(o);s.forEach(l=>{var u;if(1===l.length){const p=l[0],v=null===(u=this.context.element)||void 0===u?void 0:u.getElement(Ge(p)),y=this.resetEdgeStyle(p);return void((!v||!NR(y,v.attributes))&&Jc(r,v?"update":"add","edge",y))}const h=l.map(({source:p,target:v,style:y={}},b)=>{const{startArrow:E,endArrow:w}=y,S={},[C,D]=a[`${p}|${v}|${b}`]?["endArrow","startArrow"]:["startArrow","endArrow"];return dm(E)&&(S[C]=E),dm(w)&&(S[D]=w),S}).reduce((p,v)=>Object.assign(Object.assign({},p),v),{});l.forEach((p,v,y)=>{var b;if(0!==v)return void Jc(r,"remove","edge",p);const E=Object.assign({},$n(this.options.style)?this.options.style(y):this.options.style,{childrenData:y});this.cacheMergeStyle.set(Ge(p),E);const w=Object.assign(Object.assign({},p),{type:"line",style:Object.assign(Object.assign(Object.assign({},p.style),h),E)}),S=null===(b=this.context.element)||void 0===b?void 0:b.getElement(Ge(p));(!S||!NR(w.style,S.attributes))&&Jc(r,S?"update":"add","edge",w,!0)})})}}beforeDraw(t){const i=this.getAffectedParallelEdges(t);return 0===i.size||("bundle"===this.options.mode?this.applyBundlingStyle(t,i,this.options.distance):this.applyMergingStyle(t,i)),t}}return n.defaultOptions={mode:"bundle",distance:15},n})();const Zq=n=>{const e=new Map,t=new Set,i={};for(const[r,o]of n){if(t.has(r))continue;const{source:s,target:a}=o,l=`${s}-${a}`;e.has(l)||e.set(l,[]),e.get(l).push(o),t.add(r);for(const[u,h]of n)t.has(u)||B9(o,h)&&(e.get(l).push(h),t.add(u),s===h.target&&a===h.source&&(i[`${h.source}|${h.target}|${e.get(l).length-1}`]=!0))}return{edgeMap:e,reverses:i}},ibt=(n,e,t)=>e.filter(i=>B9(i,n)),B9=(n,e)=>{const{sourceNode:t,targetNode:i}=n.style||{},{sourceNode:r,targetNode:o}=e.style||{};return t===r&&i===o||t===o&&i===r},obt={animation:{"combo-collapse":JL,"combo-expand":YU,"node-collapse":n2,"node-expand":QL,"path-in":r2,"path-out":qL,fade:[{fields:["opacity"]}],translate:[{fields:["x","y"]}]},behavior:{"brush-select":M2,"click-select":S2,"collapse-expand":U0,"create-edge":Gk,"drag-canvas":w7,"drag-element-force":class hC extends r1{get forceLayoutInstance(){return this.context.layout.getLayoutInstance().find(e=>["d3-force","d3-force-3d"].includes(e?.id))}validate(e){return!!this.context.layout&&(this.forceLayoutInstance?super.validate(e):(Pu.warn("DragElementForce only works with d3-force or d3-force-3d layout"),!1))}moveElement(e,t){return function(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(h){try{u(i.next(h))}catch(p){s(p)}}function l(h){try{u(i.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const i=this.forceLayoutInstance;this.context.graph.getNodeData(e).forEach((r,o)=>{const{x:s=0,y:a=0}=r.style||{};i&&dC(i,"setFixedPosition",e[o],[...Qi([+s,+a],t)])})})}onDragStart(e){if(this.enable=this.validate(e),!this.enable)return;this.target=this.getSelectedNodeIDs([e.target.id]),this.hideEdge(),this.context.graph.frontElement(this.target);const t=this.forceLayoutInstance;t&&A4(t,"simulation").alphaTarget(.3).restart(),this.context.graph.getNodeData(this.target).forEach(i=>{const{x:r=0,y:o=0}=i.style||{};t&&dC(t,"setFixedPosition",Ge(i),[+r,+o])})}onDrag(e){if(!this.enable)return;const t=this.getDelta(e);this.moveElement(this.target,t)}onDragEnd(){const e=this.forceLayoutInstance;e&&A4(e,"simulation").alphaTarget(0),this.context.graph.getNodeData(this.target).forEach(t=>{e&&dC(e,"setFixedPosition",Ge(t),[null,null,null])})}},"drag-element":r1,"fix-element-size":Wk,"focus-element":Xk,"hover-activate":Yk,"lasso-select":class k4 extends M2{onPointerDown(e){if(!super.validate(e)||!super.isKeydown()||this.points)return;const{canvas:t}=this.context;this.pathShape=new ai.Path({id:"g6-lasso-select",style:this.options.style}),t.appendChild(this.pathShape),this.points=[A0(e)]}onPointerMove(e){var t;if(!this.points)return;const{immediately:i,mode:r}=this.options;this.points.push(A0(e)),null===(t=this.pathShape)||void 0===t||t.setAttribute("d",function SF(n,e=!0){const t=[];return n.forEach((i,r)=>{t.push([0===r?"M":"L",...i])}),e&&t.push(["Z"]),t}(this.points)),i&&"default"===r&&this.points.length>2&&super.updateElementsStates(this.points)}onPointerUp(){if(this.points){if(this.points.length<2)return void this.clearLasso();super.updateElementsStates(this.points),this.clearLasso()}}clearLasso(){var e;null===(e=this.pathShape)||void 0===e||e.remove(),this.pathShape=void 0,this.points=void 0}},"auto-adapt-label":CA,"optimize-viewport-transform":I4,"scroll-canvas":R4,"zoom-canvas":l1},combo:{circle:r4,rect:class o4 extends Z2{constructor(e){super(e)}drawKeyShape(e,t){return this.upsert("key",ai.Rect,this.getKeyStyle(e),t)}getKeyStyle(e){const t=super.getKeyStyle(e),[i,r]=this.getKeySize(e);return Object.assign(Object.assign(Object.assign({},t),e.collapsed&&Hr(t,"collapsed")),{width:i,height:r,x:-i/2,y:-r/2})}}},edge:{cubic:Hc,line:iC,polyline:oC,quadratic:Lk,"cubic-horizontal":Pk,"cubic-radial":v4,"cubic-vertical":h7},layout:{"antv-dagre":class dot{constructor(e={}){this.options=e,this.id="antv-dagre",this.options=Object.assign(Object.assign({},uot),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericDagreLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericDagreLayout(!0,e,t)})}genericDagreLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{nodeSize:o,align:s,rankdir:a="TB",ranksep:l,nodesep:u,ranksepFunc:h,nodesepFunc:p,edgeLabelSpace:v,ranker:y,nodeOrder:b,begin:E,controlPoints:w,radial:S,sortByCombo:C,preset:D}=r,k=new Gs({tree:[]}),T=vg(l||50,h),I=vg(u||50,p);let F=I,z=T;("LR"===a||"RL"===a)&&(F=T,z=I);const V=gG(o,void 0),K=t.getAllNodes(),Y=t.getAllEdges();let Q;K.forEach(ot=>{const rt=V(ot),Nt=z(ot),$e=rt+2*F(ot),ye=rt+2*Nt,ln=ot.data.layer;Zn(ln)?k.addNode({id:ot.id,data:{width:$e,height:ye,layer:ln}}):k.addNode({id:ot.id,data:{width:$e,height:ye}})}),C&&(k.attachTreeStructure("combo"),K.forEach(ot=>{const{parentId:rt}=ot.data;void 0!==rt&&k.hasNode(rt)&&k.setParent(ot.id,rt,"combo")})),Y.forEach(ot=>{k.addEdge({id:ot.id,source:ot.source,target:ot.target,data:{weight:ot.data.weight||1}})}),null!=D&&D.length&&(Q=new Gs({nodes:D})),((n,e)=>{const{edgeLabelSpace:t,keepNodeOrder:i,prevGraph:r,rankdir:o,ranksep:s}=e;!i&&r&&((n,e)=>{n.getAllNodes().forEach(t=>{const i=n.getNode(t.id);if(e.hasNode(t.id)){const r=e.getNode(t.id);i.data.fixorder=r.data._order,delete r.data._order}else delete i.data.fixorder})})(n,r);const a=(n=>{const e=new Gs({tree:[]});return n.getAllNodes().forEach(t=>{const i=dG(n.getNode(t.id).data),r=Object.assign(Object.assign({},Wrt),i),o=uG(r,$rt);e.hasNode(t.id)||e.addNode({id:t.id,data:Object.assign({},o)});const s=n.hasTreeStructure("combo")?n.getParent(t.id,"combo"):n.getParent(t.id);Ri(s)||(e.hasNode(s.id)||e.addNode(Object.assign({},s)),e.setParent(t.id,s.id))}),n.getAllEdges().forEach(t=>{const i=dG(n.getEdge(t.id).data),r={};cG?.forEach(o=>{void 0!==i[o]&&(r[o]=i[o])}),e.addEdge({id:t.id,source:t.source,target:t.target,data:Object.assign({},Xrt,uG(i,Krt),r)})}),e})(n);let l;t&&(e.ranksep=((n,e)=>{const{ranksep:t=0,rankdir:i}=e;return n.getAllNodes().forEach(r=>{isNaN(r.data.layer)||r.data.layer||(r.data.layer=0)}),n.getAllEdges().forEach(r=>{var o;r.data.minlen*=2,"c"!==(null===(o=r.data.labelpos)||void 0===o?void 0:o.toLowerCase())&&("TB"===i||"BT"===i?r.data.width+=r.data.labeloffset:r.data.height+=r.data.labeloffset)}),t/2})(a,{rankdir:o,ranksep:s}));try{l=Urt(a,e)}catch(u){if("Not possible to find intersection inside of the rectangle"===u.message)return void console.error("The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",u);throw u}((n,e)=>{n.getAllNodes().forEach(t=>{var i;const r=n.getNode(t.id);if(r){const o=e.getNode(t.id);r.data.x=o.data.x,r.data.y=o.data.y,r.data._order=o.data.order,r.data._rank=o.data.rank,null!==(i=e.getChildren(t.id))&&void 0!==i&&i.length&&(r.data.width=o.data.width,r.data.height=o.data.height)}}),n.getAllEdges().forEach(t=>{const i=n.getEdge(t.id),r=e.getEdge(t.id);i.data.points=r?r.data.points:[],r&&r.data.hasOwnProperty("x")&&(i.data.x=r.data.x,i.data.y=r.data.y)})})(n,a)})(k,{prevGraph:Q,edgeLabelSpace:v,keepNodeOrder:!!b,nodeOrder:b||[],acyclicer:"greedy",ranker:y,rankdir:a,nodesep:u,align:s});const at=[0,0];if(E){let ot=1/0,rt=1/0;k.getAllNodes().forEach(Nt=>{ot>Nt.data.x&&(ot=Nt.data.x),rt>Nt.data.y&&(rt=Nt.data.y)}),k.getAllEdges().forEach(Nt=>{var ie;null===(ie=Nt.data.points)||void 0===ie||ie.forEach($e=>{ot>$e.x&&(ot=$e.x),rt>$e.y&&(rt=$e.y)})}),at[0]=E[0]-ot,at[1]=E[1]-rt}const It="LR"===a||"RL"===a;if(!S){const ot=new Set,rt="BT"===a||"RL"===a?(ye,ln)=>ln-ye:(ye,ln)=>ye-ln;k.getAllNodes().forEach(ye=>{ye.data.x=ye.data.x+at[0],ye.data.y=ye.data.y+at[1],ot.add(It?ye.data.x:ye.data.y)});const Nt=Array.from(ot).sort(rt),ie=It?(ye,ln)=>ye.x!==ln.x:(ye,ln)=>ye.y!==ln.y,$e=It?(ye,ln,kn)=>{const oi=Math.max(ln.y,kn.y),Un=Math.min(ln.y,kn.y);return ye.filter(fi=>fi.y<=oi&&fi.y>=Un)}:(ye,ln,kn)=>{const oi=Math.max(ln.x,kn.x),Un=Math.min(ln.x,kn.x);return ye.filter(fi=>fi.x<=oi&&fi.x>=Un)};k.getAllEdges().forEach((ye,ln)=>{var kn;v&&w&&"loop"!==ye.data.type&&(ye.data.controlPoints=((n,e,t,i,r,o,s)=>{let a=n?.slice(1,n.length-1)||[];if(e&&t){let{x:l,y:u}=e.data,{x:h,y:p}=t.data;if(r&&(l=e.data.y,u=e.data.x,h=t.data.y,p=t.data.x),p!==u&&l!==h){const v=i.indexOf(u),y=i[v+1];if(y){const w=a[0],S=r?{x:(u+y)/2,y:w?.y||h}:{x:w?.x||h,y:(u+y)/2};(!w||o(w,S))&&a.unshift(S)}const b=i.indexOf(p),E=Math.abs(b-v);if(1===E)a=s(a,e.data,t.data),a.length||a.push(r?{x:(u+p)/2,y:l}:{x:l,y:(u+p)/2});else if(E>1){const w=i[b-1];if(w){const S=a[a.length-1],C=r?{x:(p+w)/2,y:S?.y||h}:{x:S?.x||l,y:(p+w)/2};(!S||o(S,C))&&a.push(C)}}}}return a})(null===(kn=ye.data.points)||void 0===kn?void 0:kn.map(({x:oi,y:Un})=>({x:oi+at[0],y:Un+at[1]})),k.getNode(ye.source),k.getNode(ye.target),Nt,It,ie,$e))})}let Pt=[];Pt=k.getAllNodes().map(ot=>Kc(ot));const ct=k.getAllEdges();return e&&(Pt.forEach(ot=>{t.mergeNodeData(ot.id,{x:ot.data.x,y:ot.data.y})}),ct.forEach(ot=>{t.mergeEdgeData(ot.id,{controlPoints:ot.data.controlPoints})})),{nodes:Pt,edges:ct}})}},"combo-combined":class dat{constructor(e={}){this.options=e,this.id="comboCombined",this.options=Object.assign(Object.assign({},uat),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericComboCombinedLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericComboCombinedLayout(!0,e,t)})}genericComboCombinedLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=this.initVals(Object.assign(Object.assign({},this.options),i)),{center:o,treeKey:s,outerLayout:a}=r,l=t.getAllNodes().filter(F=>!F.data._isCombo),u=t.getAllNodes().filter(F=>F.data._isCombo),h=t.getAllEdges(),p=l?.length;if(!p||1===p)return X0(t,e,o);const v=[],y=new Map;l.forEach(F=>{y.set(F.id,F)});const b=new Map;u.forEach(F=>{b.set(F.id,F)});const E=new Map,w=this.getInnerGraphs(t,s,y,b,h,r,E);yield Promise.all(w);const S=new Map,C=[],D=new Map;let k=!0;t.getRoots(s).forEach(F=>{const z=E.get(F.id),V=b.get(F.id)||y.get(F.id),K={id:F.id,data:Object.assign(Object.assign({},F.data),{x:z.data.x||V.data.x,y:z.data.y||V.data.y,fx:z.data.fx||V.data.fx,fy:z.data.fy||V.data.fy,mass:z.data.mass||V.data.mass,size:z.data.size})};C.push(K),S.set(F.id,!0),isNaN(K.data.x)||0===K.data.x||isNaN(K.data.y)||0===K.data.y?(K.data.x=100*Math.random(),K.data.y=100*Math.random()):k=!1,y6(t,[F],Y=>{Y.id!==F.id&&D.set(Y.id,F.id)},"TB",s)});const T=[];let I;if(h.forEach(F=>{const z=D.get(F.source)||F.source,V=D.get(F.target)||F.target;z!==V&&S.has(z)&&S.has(V)&&T.push({id:F.id,source:z,target:V,data:{}})}),null!=C&&C.length){if(1===C.length)C[0].data.x=o[0],C[0].data.y=o[1];else{const F=new Gs({nodes:C,edges:T}),z=a||new xG;k&&cat[z.id]&&(yield(C.length<100?new BG:new _6).assign(F));const V=Object.assign({center:o,kg:5,preventOverlap:!0,animate:!1},"force"===z.id?{gravity:1,factor:4,linkDistance:(K,Y,Q)=>(Math.max(...Y.data.size)||32)/2+(Math.max(...Q.data.size)||32)/2+200}:{});I=yield jG(z,F,V)}E.forEach(F=>{var z;const V=I.nodes.find(Q=>Q.id===F.id);if(V){const{x:Q,y:at}=V.data;F.data.visited=!0,F.data.x=Q,F.data.y=at,v.push({id:F.id,data:{x:Q,y:at}})}const{x:K,y:Y}=F.data;null===(z=F.data.nodes)||void 0===z||z.forEach(Q=>{v.push({id:Q.id,data:{x:Q.data.x+K,y:Q.data.y+Y}})})}),E.forEach(({data:F})=>{const{x:z,y:V,visited:K,nodes:Y}=F;Y?.forEach(Q=>{if(!K){const at=v.find(It=>It.id===Q.id);at.data.x+=z||0,at.data.y+=V||0}})})}return e&&v.forEach(F=>{t.mergeNodeData(F.id,{x:F.data.x,y:F.data.y})}),{nodes:v,edges:h}})}initVals(e){const t=Object.assign({},e),{nodeSize:i,spacing:r,comboPadding:o}=e;let s,a,l;if(a=Zn(r)?()=>r:$n(r)?r:()=>0,t.spacing=a,i)if($n(i))s=u=>{const h=i(u),p=a(u);return Nl(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+p)/2:((h||32)+p)/2};else if(Nl(i)){const u=(i[0]>i[1]?i[0]:i[1])/2;s=h=>u+a(h)/2}else{const u=i/2;s=h=>u+a(h)/2}else s=u=>{const h=a(u);return u.size?Nl(u.size)?((u.size[0]>u.size[1]?u.size[0]:u.size[1])+h)/2:Dr(u.size)?((u.size.width>u.size.height?u.size.width:u.size.height)+h)/2:(u.size+h)/2:32+h/2};return t.nodeSize=s,l=Zn(o)?()=>o:Nl(o)?()=>Math.max.apply(null,o):$n(o)?o:()=>0,t.comboPadding=l,t}getInnerGraphs(e,t,i,r,o,s,a){const{nodeSize:l,comboPadding:u,spacing:h,innerLayout:p}=s,v=p||new _6({}),y={center:[0,0],preventOverlap:!0,nodeSpacing:h},b=[],E=w=>{let S=u?.(w)||10;return Nl(S)&&(S=Math.max(...S)),{size:S?[2*S,2*S]:[30,30],padding:S}};return e.getRoots(t).forEach(w=>{a.set(w.id,{id:w.id,data:{nodes:[],size:E(w).size}});let S=Promise.resolve();y6(e,[w],C=>{var D;if(!C.data._isCombo)return;const{size:k,padding:T}=E(C);if(null!==(D=e.getChildren(C.id,t))&&void 0!==D&&D.length){const I=a.get(C.id);a.set(C.id,{id:C.id,data:Object.assign({nodes:[]},I?.data)});const F=new Map,z=e.getChildren(C.id,t).map(Y=>{if(Y.data._isCombo)return a.has(Y.id)||a.set(Y.id,{id:Y.id,data:Object.assign({},Y.data)}),F.set(Y.id,!0),a.get(Y.id);const Q=i.get(Y.id)||r.get(Y.id);return F.set(Y.id,!0),{id:Y.id,data:Object.assign(Object.assign({},Q.data),Y.data)}}),V={nodes:z,edges:o.filter(Y=>F.has(Y.source)&&F.has(Y.target))};let K=1/0;z.forEach(Y=>{var Q;let{size:at}=Y.data;at||(at=(null===(Q=a.get(Y.id))||void 0===Q?void 0:Q.data.size)||l?.(Y)||[30,30]),Zn(at)&&(at=[at,at]);const[It,Pt]=at;K>It&&(K=It),K>Pt&&(K=Pt),Y.data.size=at}),S=S.then(()=>ir(this,void 0,void 0,function*(){const Y=new Gs(V);yield jG(v,Y,y,!0);const{minX:Q,minY:at,maxX:It,maxY:Pt}=(n=>{let e=1/0,t=1/0,i=-1/0,r=-1/0;return n.forEach(o=>{let s=o.data.size;Nl(s)?1===s.length&&(s=[s[0],s[0]]):Zn(s)?s=[s,s]:(void 0===s||isNaN(s))&&(s=[30,30]);const a=[s[0]/2,s[1]/2],l=o.data.x-a[0],u=o.data.x+a[0],h=o.data.y-a[1],p=o.data.y+a[1];e>l&&(e=l),t>h&&(t=h),i<u&&(i=u),r<p&&(r=p)}),{minX:e,minY:t,maxX:i,maxY:r}})(z),ct_x=(It+Q)/2,ct_y=(Pt+at)/2;V.nodes.forEach(rt=>{rt.data.x-=ct_x,rt.data.y-=ct_y});const ot=[Math.max(It-Q,K)+2*T,Math.max(Pt-at,K)+2*T];a.get(C.id).data.size=ot,a.get(C.id).data.nodes=z}))}else a.set(C.id,{id:C.id,data:Object.assign(Object.assign({},C.data),{size:k})});return!0},"BT",t),b.push(S)}),b}},"compact-box":p1.compactBox,"force-atlas2":class Tft{constructor(e={}){this.options=e,this.id="forceAtlas2",this.options=Object.assign(Object.assign({},Oft),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericForceAtlas2Layout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericForceAtlas2Layout(!0,e,t)})}genericForceAtlas2Layout(e,t,i){return ir(this,void 0,void 0,function*(){const r=t.getAllEdges(),o=t.getAllNodes(),s=this.formatOptions(i,o.length),{width:a,height:l,prune:u,maxIteration:h,nodeSize:p,center:v}=s;if(null==o||!o.length||1===o.length)return X0(t,e,v);const y=o.map(S=>Kc(S,[a,l])),b=r.filter(S=>{const{source:C,target:D}=S;return C!==D}),E=new Gs({nodes:y,edges:b}),w=this.getSizes(E,t,p);if(this.run(E,t,h,w,e,s),u){for(let C=0;C<b.length;C+=1){const{source:D,target:k}=b[C],T=E.getDegree(D),I=E.getDegree(D);if(T<=1){const F=E.getNode(k);E.mergeNodeData(D,{x:F.data.x,y:F.data.y})}else if(I<=1){const F=E.getNode(D);E.mergeNodeData(k,{x:F.data.x,y:F.data.y})}}const S=Object.assign(Object.assign({},s),{prune:!1,barnesHut:!1});this.run(E,t,100,w,e,S)}return{nodes:y,edges:r}})}getSizes(e,t,i){const r=e.getAllNodes(),o={};for(let s=0;s<r.length;s+=1){const{id:a,data:l}=r[s];if(o[a]=10,Zn(l.size))o[a]=l.size;else if(Nl(l.size))isNaN(l.size[0])||(o[a]=Math.max(l.size[0])),isNaN(l.size[1])||(o[a]=Math.max(l.size[1]));else if(Dr(l.size))o[a]=Math.max(l.size.width,l.size.height);else if($n(i)){const h=i(t.getNode(a));o[a]=Nl(h)?Math.max(...h):h}else Nl(i)?o[a]=Math.max(...i):Zn(i)&&(o[a]=i)}return o}formatOptions(e={},t){const i=Object.assign(Object.assign({},this.options),e),{center:r,width:o,height:s,barnesHut:a,prune:l,maxIteration:u,kr:h,kg:p}=i;return i.width=!o&&typeof window<"u"?window.innerWidth:o,i.height=!s&&typeof window<"u"?window.innerHeight:s,i.center=r||[i.width/2,i.height/2],void 0===a&&t>250&&(i.barnesHut=!0),void 0===l&&t>100&&(i.prune=!0),0!==u||l?0===u&&l&&(i.maxIteration=100,t<=200&&t>100?i.maxIteration=500:t>200&&(i.maxIteration=950)):(i.maxIteration=250,t<=200&&t>100?i.maxIteration=1e3:t>200&&(i.maxIteration=1200)),h||(i.kr=50,t>100&&t<=500?i.kr=20:t>500&&(i.kr=1)),p||(i.kg=20,t>100&&t<=500?i.kg=10:t>500&&(i.kg=1)),i}run(e,t,i,r,o,s){const{kr:a,barnesHut:l,onTick:u}=s,h=e.getAllNodes();let p=0,v=i;const y={},b={},E={};for(let w=0;w<h.length;w+=1){const{data:S,id:C}=h[w];if(y[C]=[0,0],l){const D={id:w,rx:S.x,ry:S.y,mass:1,g:a,degree:e.getDegree(C)};E[C]=new KV(D)}}for(;v>0;)p=this.oneStep(e,{iter:v,preventOverlapIters:50,krPrime:100,sg:p,forces:y,preForces:b,bodies:E,sizes:r},s),v--,u?.({nodes:h,edges:t.getAllEdges()});return e}oneStep(e,t,i){const{iter:r,preventOverlapIters:o,krPrime:s,sg:a,preForces:l,bodies:u,sizes:h}=t;let{forces:p}=t;const{preventOverlap:v,barnesHut:y}=i,b=e.getAllNodes();for(let E=0;E<b.length;E+=1){const{id:w}=b[E];l[w]=[...p[w]],p[w]=[0,0]}return p=this.getAttrForces(e,r,o,h,p,i),p=y&&(v&&r>o||!v)?this.getOptRepGraForces(e,p,u,i):this.getRepGraForces(e,r,o,p,s,h,i),this.updatePos(e,p,l,a,i)}getAttrForces(e,t,i,r,o,s){const{preventOverlap:a,dissuadeHubs:l,mode:u,prune:h}=s,p=e.getAllEdges();for(let v=0;v<p.length;v+=1){const{source:y,target:b}=p[v],E=e.getNode(y),w=e.getNode(b),S=e.getDegree(y),C=e.getDegree(b);if(h&&(S<=1||C<=1))continue;const D=[w.data.x-E.data.x,w.data.y-E.data.y];let k=Math.hypot(D[0],D[1]);k=k<1e-4?1e-4:k,D[0]=D[0]/k,D[1]=D[1]/k,a&&t<i&&(k=k-r[y]-r[b]);let T=k,I=T;"linlog"===u&&(T=Math.log(1+k),I=T),l&&(T=k/S,I=k/C),a&&t<i&&k<=0?(T=0,I=0):a&&t<i&&k>0&&(T=k,I=k),o[y][0]+=T*D[0],o[b][0]-=I*D[0],o[y][1]+=T*D[1],o[b][1]-=I*D[1]}return o}getOptRepGraForces(e,t,i,r){const{kg:o,center:s,prune:a}=r,l=e.getAllNodes(),u=l.length;let h=9e10,p=-9e10,v=9e10,y=-9e10;for(let C=0;C<u;C+=1){const{id:D,data:k}=l[C];a&&e.getDegree(D)<=1||(i[D].setPos(k.x,k.y),k.x>=p&&(p=k.x),k.x<=h&&(h=k.x),k.y>=y&&(y=k.y),k.y<=v&&(v=k.y))}const b=Math.max(p-h,y-v),w=new M1({xmid:(p+h)/2,ymid:(y+v)/2,length:b,massCenter:s,mass:u}),S=new S1(w);for(let C=0;C<u;C+=1){const{id:D}=l[C];a&&e.getDegree(D)<=1||i[D].in(w)&&S.insert(i[D])}for(let C=0;C<u;C+=1){const{id:D,data:k}=l[C],T=e.getDegree(D);if(a&&T<=1)continue;i[D].resetForce(),S.updateForce(i[D]),t[D][0]-=i[D].fx,t[D][1]-=i[D].fy;const I=[k.x-s[0],k.y-s[1]];let F=Math.hypot(I[0],I[1]);F=F<1e-4?1e-4:F,I[0]=I[0]/F,I[1]=I[1]/F;const z=o*(T+1);t[D][0]-=z*I[0],t[D][1]-=z*I[1]}return t}getRepGraForces(e,t,i,r,o,s,a){const{preventOverlap:l,kr:u,kg:h,center:p,prune:v}=a,y=e.getAllNodes(),b=y.length;for(let E=0;E<b;E+=1){const w=y[E],S=e.getDegree(w.id);for(let T=E+1;T<b;T+=1){const I=y[T],F=e.getDegree(I.id);if(v&&(S<=1||F<=1))continue;const z=[I.data.x-w.data.x,I.data.y-w.data.y];let V=Math.hypot(z[0],z[1]);V=V<1e-4?1e-4:V,z[0]=z[0]/V,z[1]=z[1]/V,l&&t<i&&(V=V-s[w.id]-s[I.id]);let K=u*(S+1)*(F+1)/V;l&&t<i&&V<0?K=o*(S+1)*(F+1):l&&t<i&&0===V?K=0:l&&t<i&&V>0&&(K=u*(S+1)*(F+1)/V),r[w.id][0]-=K*z[0],r[I.id][0]+=K*z[0],r[w.id][1]-=K*z[1],r[I.id][1]+=K*z[1]}const C=[w.data.x-p[0],w.data.y-p[1]],D=Math.hypot(C[0],C[1]);C[0]=C[0]/D,C[1]=C[1]/D;const k=h*(S+1);r[w.id][0]-=k*C[0],r[w.id][1]-=k*C[1]}return r}updatePos(e,t,i,r,o){const{ks:s,tao:a,prune:l,ksmax:u}=o,h=e.getAllNodes(),p=h.length,v=[],y=[];let b=0,E=0,w=r;for(let C=0;C<p;C+=1){const{id:D}=h[C],k=e.getDegree(D);if(l&&k<=1)continue;const T=[t[D][0]-i[D][0],t[D][1]-i[D][1]],I=Math.hypot(T[0],T[1]),F=[t[D][0]+i[D][0],t[D][1]+i[D][1]],z=Math.hypot(F[0],F[1]);v[C]=I,y[C]=z/2,b+=(k+1)*v[C],E+=(k+1)*y[C]}const S=w;w=a*E/b,0!==S&&(w=w>1.5*S?1.5*S:w);for(let C=0;C<p;C+=1){const{id:D,data:k}=h[C],T=e.getDegree(D);if(l&&T<=1||Zn(k.fx)&&Zn(k.fy))continue;let I=s*w/(1+w*Math.sqrt(v[C])),F=Math.hypot(t[D][0],t[D][1]);F=F<1e-4?1e-4:F;const z=u/F;I=I>z?z:I,e.mergeNodeData(D,{x:k.x+I*t[D][0],y:k.y+I*t[D][1]})}return w}},circular:class pot{constructor(e={}){this.options=e,this.id="circular",this.options=Object.assign(Object.assign({},fot),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericCircularLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericCircularLayout(!0,e,t)})}genericCircularLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{width:o,height:s,center:a,divisions:l,startAngle:u=0,endAngle:h=2*Math.PI,angleRatio:p,ordering:v,clockwise:y,nodeSpacing:b,nodeSize:E}=r,w=t.getAllNodes(),S=t.getAllEdges(),[C,D,k]=((n,e,t)=>{let i=n,r=e,o=t;return!i&&typeof window<"u"&&(i=window.innerWidth),!r&&typeof window<"u"&&(r=window.innerHeight),o||(o=[i/2,r/2]),[i,r,o]})(o,s,a),T=w?.length;if(!T||1===T)return X0(t,e,k);const I=(h-u)/T;let{radius:F,startRadius:z,endRadius:V}=r;if(b){const at=vg(10,b),It=mG(10,E);let Pt=-1/0;w.forEach(ot=>{const rt=It(ot);Pt<rt&&(Pt=rt)});let ct=0;w.forEach((ot,rt)=>{ct+=0===rt?Pt||10:(at(ot)||0)+(Pt||10)}),F=ct/(2*Math.PI)}else F||z||V?!z&&V?z=V:z&&!V&&(V=z):F=Math.min(D,C)/2;const K=I*p;let Y=[];Y="topology"===v?vG(t,w):"topology-directed"===v?vG(t,w,!0):"degree"===v?function mot(n,e){const t=[];return e.forEach((i,r)=>{t.push(Kc(i))}),t.sort((i,r)=>n.getDegree(i.id,"both")-n.getDegree(r.id,"both")),t}(t,w):w.map(at=>Kc(at));const Q=Math.ceil(T/l);for(let at=0;at<T;++at){let It=F;!It&&null!==z&&null!==V&&(It=z+at*(V-z)/(T-1)),It||(It=10+100*at/(T-1));let Pt=u+at%Q*K+2*Math.PI/l*Math.floor(at/Q);y||(Pt=h-at%Q*K-2*Math.PI/l*Math.floor(at/Q)),Y[at].data.x=k[0]+Math.cos(Pt)*It,Y[at].data.y=k[1]+Math.sin(Pt)*It}return e&&Y.forEach(at=>{t.mergeNodeData(at.id,{x:at.data.x,y:at.data.y})}),{nodes:Y,edges:S}})}},concentric:_6,"d3-force":class Fat{constructor(e){this.id="d3-force",this.config={inputNodeAttrs:["x","y","vx","vy","fx","fy"],outputNodeAttrs:["x","y","vx","vy"],simulationAttrs:["alpha","alphaMin","alphaDecay","alphaTarget","velocityDecay","randomSource"]},this.forceMap={link:vat,manyBody:Rat,center:hat,collide:mat,radial:Pat,x:Nat,y:Lat},this.options={link:{id:t=>t.id},manyBody:{},center:{x:0,y:0}},this.context={options:{},assign:!1,nodes:[],edges:[]},ya(this.options,e),this.options.forceSimulation&&(this.simulation=this.options.forceSimulation)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericLayout(!0,e,t)})}stop(){this.simulation.stop()}tick(e){return this.simulation.tick(e),this.getResult()}restart(){this.simulation.restart()}setFixedPosition(e,t){const i=this.context.nodes.find(r=>r.id===e);i&&t.forEach((r,o)=>{"number"!=typeof r&&null!==r||(i[["fx","fy","fz"][o]]=r)})}getOptions(e){var t,i;const r=ya({},this.options,e);return r.collide&&void 0===(null===(t=r.collide)||void 0===t?void 0:t.radius)&&(r.collide=r.collide||{},r.collide.radius=null!==(i=r.nodeSize)&&void 0!==i?i:10),void 0===r.iterations&&(r.link&&void 0===r.link.iterations&&(r.iterations=r.link.iterations),r.collide&&void 0===r.collide.iterations&&(r.iterations=r.collide.iterations)),this.context.options=r,r}genericLayout(e,t,i){var r;return ir(this,void 0,void 0,function*(){const o=this.getOptions(i),s=t.getAllNodes().map(({id:h,data:p})=>Object.assign(Object.assign({id:h},p),xh(p.data,this.config.inputNodeAttrs))),a=t.getAllEdges().map(h=>Object.assign({},h));Object.assign(this.context,{assign:e,nodes:s,edges:a,graph:t});const l=new Promise(h=>{this.resolver=h}),u=this.setSimulation(o);return u.nodes(s),null===(r=u.force("link"))||void 0===r||r.links(a),l})}getResult(){const{assign:e,nodes:t,edges:i,graph:r}=this.context,o=t.map(a=>({id:a.id,data:Object.assign(Object.assign({},a.data),xh(a,this.config.outputNodeAttrs))})),s=i.map(({id:a,source:l,target:u,data:h})=>({id:a,source:"object"==typeof l?l.id:l,target:"object"==typeof u?u.id:u,data:h}));return e&&o.forEach(a=>r.mergeNodeData(a.id,a.data)),{nodes:o,edges:s}}initSimulation(){return function Iat(n){var e,t=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=new Map,l=WG(p),u=zG("tick","end"),h=function Dat(){let n=1;return()=>(n=(1664525*n+1013904223)%XG)/XG}();function p(){v(),u.call("tick",e),t<i&&(l.stop(),u.call("end",e))}function v(E){var w,C,S=n.length;void 0===E&&(E=1);for(var D=0;D<E;++D)for(t+=(o-t)*r,a.forEach(function(k){k(t)}),w=0;w<S;++w)null==(C=n[w]).fx?C.x+=C.vx*=s:(C.x=C.fx,C.vx=0),null==C.fy?C.y+=C.vy*=s:(C.y=C.fy,C.vy=0);return e}function y(){for(var S,E=0,w=n.length;E<w;++E){if((S=n[E]).index=E,null!=S.fx&&(S.x=S.fx),null!=S.fy&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var C=10*Math.sqrt(.5+E),D=E*kat;S.x=C*Math.cos(D),S.y=C*Math.sin(D)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function b(E){return E.initialize&&E.initialize(n,h),E}return null==n&&(n=[]),y(),e={tick:v,restart:function(){return l.restart(p),e},stop:function(){return l.stop(),e},nodes:function(E){return arguments.length?(n=E,y(),a.forEach(b),e):n},alpha:function(E){return arguments.length?(t=+E,e):t},alphaMin:function(E){return arguments.length?(i=+E,e):i},alphaDecay:function(E){return arguments.length?(r=+E,e):+r},alphaTarget:function(E){return arguments.length?(o=+E,e):o},velocityDecay:function(E){return arguments.length?(s=1-E,e):1-s},randomSource:function(E){return arguments.length?(h=E,a.forEach(b),e):h},force:function(E,w){return arguments.length>1?(null==w?a.delete(E):a.set(E,b(w)),e):a.get(E)},find:function(E,w,S){var k,T,I,F,z,C=0,D=n.length;for(null==S?S=1/0:S*=S,C=0;C<D;++C)(I=(k=E-(F=n[C]).x)*k+(T=w-F.y)*T)<S&&(z=F,S=I);return z},on:function(E,w){return arguments.length>1?(u.on(E,w),e):u.on(E)}}}()}setSimulation(e){const t=this.simulation||this.options.forceSimulation||this.initSimulation();return this.simulation||(this.simulation=t.on("tick",()=>{var i;return null===(i=e.onTick)||void 0===i?void 0:i.call(e,this.getResult())}).on("end",()=>{var i;return null===(i=this.resolver)||void 0===i?void 0:i.call(this,this.getResult())})),YG(t,this.config.simulationAttrs.map(i=>[i,e[i]])),Object.entries(this.forceMap).forEach(([i,r])=>{const o=i;if(e[i]){let s=t.force(o);s||(s=r(),t.force(o,s)),YG(s,Object.entries(e[o]))}else t.force(o,null)}),t}},dagre:Dft,dendrogram:p1.dendrogram,force:xG,fruchterman:class Ift{constructor(e={}){this.options=e,this.id="fruchterman",this.timeInterval=0,this.running=!1,this.options=Object.assign(Object.assign({},Aft),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericFruchtermanLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericFruchtermanLayout(!0,e,t)})}stop(){this.timeInterval&&typeof window<"u"&&window.clearInterval(this.timeInterval),this.running=!1}tick(e=this.options.maxIteration||1){if(this.lastResult)return this.lastResult;for(let i=0;i<e;i++)this.runOneStep(this.lastGraph,this.lastClusterMap,this.lastOptions);const t={nodes:this.lastLayoutNodes,edges:this.lastLayoutEdges};return this.lastAssign&&t.nodes.forEach(i=>this.lastGraph.mergeNodeData(i.id,{x:i.data.x,y:i.data.y,z:3===this.options.dimensions?i.data.z:void 0})),t}genericFruchtermanLayout(e,t,i){return ir(this,void 0,void 0,function*(){if(this.running)return;const r=this.formatOptions(i),{dimensions:o,width:s,height:a,center:l,clustering:u,nodeClusterBy:h,maxIteration:p,onTick:v}=r,y=t.getAllNodes(),b=t.getAllEdges();if(null==y||!y.length){const D={nodes:[],edges:b};return this.lastResult=D,D}if(1===y.length){e&&t.mergeNodeData(y[0].id,{x:l[0],y:l[1],z:3===o?l[2]:void 0});const D={nodes:[Object.assign(Object.assign({},y[0]),{data:Object.assign(Object.assign({},y[0].data),{x:l[0],y:l[1],z:3===o?l[2]:void 0})})],edges:b};return this.lastResult=D,D}const E=y.map(D=>Kc(D,[s,a])),w=new Gs({nodes:E,edges:b}),S={};if(u&&E.forEach(D=>{const k=D.data[h];S[k]||(S[k]={name:k,cx:0,cy:0,count:0})}),this.lastLayoutNodes=E,this.lastLayoutEdges=b,this.lastAssign=e,this.lastGraph=w,this.lastOptions=r,this.lastClusterMap=S,typeof window>"u")return;let C=0;return new Promise(D=>{this.timeInterval=window.setInterval(()=>{this.running?(this.runOneStep(w,S,r),e&&E.forEach(({id:k,data:T})=>t.mergeNodeData(k,{x:T.x,y:T.y,z:3===o?T.z:void 0})),v?.({nodes:E,edges:b}),C++,C>=p&&(window.clearInterval(this.timeInterval),D({nodes:E,edges:b}))):D({nodes:E,edges:b})},0),this.running=!0})})}formatOptions(e={}){const t=Object.assign(Object.assign({},this.options),e),{clustering:i,nodeClusterBy:r}=t,{center:o,width:s,height:a}=t;return t.width=!s&&typeof window<"u"?window.innerWidth:s,t.height=!a&&typeof window<"u"?window.innerHeight:a,t.center=o||[t.width/2,t.height/2],t.clustering=i&&!!r,t}runOneStep(e,t,i){const{dimensions:r,height:o,width:s,gravity:a,center:l,speed:u,clustering:h,nodeClusterBy:p,clusterGravity:v}=i,y=o*s,b=Math.sqrt(y)/10,E=e.getAllNodes(),w=y/(E.length+1),S=Math.sqrt(w),C={};if(this.applyCalculate(e,C,S,w),h){for(const k in t)t[k].cx=0,t[k].cy=0,t[k].count=0;E.forEach(k=>{const{data:T}=k,I=t[T[p]];Zn(T.x)&&(I.cx+=T.x),Zn(T.y)&&(I.cy+=T.y),I.count++});for(const k in t)t[k].cx/=t[k].count,t[k].cy/=t[k].count;const D=v||a;E.forEach((k,T)=>{const{id:I,data:F}=k;if(!Zn(F.x)||!Zn(F.y))return;const z=t[F[p]],V=Math.sqrt((F.x-z.cx)*(F.x-z.cx)+(F.y-z.cy)*(F.y-z.cy)),K=S*D;C[I].x-=K*(F.x-z.cx)/V,C[I].y-=K*(F.y-z.cy)/V})}E.forEach((D,k)=>{const{id:T,data:I}=D;if(!Zn(I.x)||!Zn(I.y))return;const F=.01*S*a;C[T].x-=F*(I.x-l[0]),C[T].y-=F*(I.y-l[1]),3===r&&(C[T].z-=F*(I.z-l[2]))}),E.forEach((D,k)=>{const{id:T,data:I}=D;if(Zn(I.fx)&&Zn(I.fy))return I.x=I.fx,I.y=I.fy,void(3===r&&(I.z=I.fz));if(!Zn(I.x)||!Zn(I.y))return;const F=Math.sqrt(C[T].x*C[T].x+C[T].y*C[T].y+(3===r?C[T].z*C[T].z:0));if(F>0){const z=Math.min(b*(u/800),F);e.mergeNodeData(T,{x:I.x+C[T].x/F*z,y:I.y+C[T].y/F*z,z:3===r?I.z+C[T].z/F*z:void 0})}})}applyCalculate(e,t,i,r){this.calRepulsive(e,t,r),this.calAttractive(e,t,i)}calRepulsive(e,t,i){const r=e.getAllNodes();r.forEach(({data:o,id:s},a)=>{t[s]={x:0,y:0,z:0},r.forEach(({data:l,id:u},h)=>{if(a<=h||!Zn(o.x)||!Zn(l.x)||!Zn(o.y)||!Zn(l.y))return;let p=o.x-l.x,v=o.y-l.y,y=3===this.options.dimensions?o.z-l.z:0,b=p*p+v*v+y*y;0===b&&(b=1,p=.01,v=.01,y=.01);const E=i/b,w=p*E,S=v*E,C=y*E;t[s].x+=w,t[s].y+=S,t[u].x-=w,t[u].y-=S,3===this.options.dimensions&&(t[s].z+=C,t[u].z-=C)})})}calAttractive(e,t,i){e.getAllEdges().forEach(r=>{const{source:o,target:s}=r;if(!o||!s||o===s)return;const{data:a}=e.getNode(o),{data:l}=e.getNode(s);if(!(Zn(l.x)&&Zn(a.x)&&Zn(l.y)&&Zn(a.y)))return;const u=l.x-a.x,h=l.y-a.y,p=3===this.options.dimensions?l.z-a.z:0,v=Math.sqrt(u*u+h*h+p*p)/i,y=u*v,b=h*v,E=p*v;t[o].x+=y,t[o].y+=b,t[s].x-=y,t[s].y-=b,3===this.options.dimensions&&(t[o].z+=E,t[s].z-=E)})}},grid:class Pft{constructor(e={}){this.options=e,this.id="grid",this.options=Object.assign(Object.assign({},Rft),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericGridLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericGridLayout(!0,e,t)})}genericGridLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{begin:o=[0,0],condense:s,preventOverlapPadding:a,preventOverlap:l,rows:u,cols:h,nodeSpacing:p,nodeSize:v,width:y,height:b,position:E}=r;let{sortBy:w}=r;const S=t.getAllNodes(),C=t.getAllEdges(),D=S?.length;if(!D||1===D)return X0(t,e,o);const k=S.map(Pt=>Kc(Pt));"id"!==w&&(!Li(w)||void 0===k[0].data[w])&&(w="degree"),k.sort("degree"===w?(Pt,ct)=>t.getDegree(ct.id,"both")-t.getDegree(Pt.id,"both"):"id"===w?(Pt,ct)=>Zn(ct.id)&&Zn(Pt.id)?ct.id-Pt.id:`${Pt.id}`.localeCompare(`${ct.id}`):(Pt,ct)=>ct.data[w]-Pt.data[w]);const T=!y&&typeof window<"u"?window.innerWidth:y,I=!b&&typeof window<"u"?window.innerHeight:b,F=D,z={rows:u,cols:h};if(null!=u&&null!=h)z.rows=u,z.cols=h;else if(null!=u&&null==h)z.rows=u,z.cols=Math.ceil(F/z.rows);else if(null==u&&null!=h)z.cols=h,z.rows=Math.ceil(F/z.cols);else{const Pt=Math.sqrt(F*I/T);z.rows=Math.round(Pt),z.cols=Math.round(T/I*Pt)}if(z.rows=Math.max(z.rows,1),z.cols=Math.max(z.cols,1),z.cols*z.rows>F){const Pt=rR(z),ct=oR(z);(Pt-1)*ct>=F?rR(z,Pt-1):(ct-1)*Pt>=F&&oR(z,ct-1)}else for(;z.cols*z.rows<F;){const Pt=rR(z),ct=oR(z);(ct+1)*Pt>=F?oR(z,ct+1):rR(z,Pt+1)}let V=s?0:T/z.cols,K=s?0:I/z.rows;if(l||p){const Pt=vg(10,p),ct=mG(30,v,!1);k.forEach(ot=>{(!ot.data.x||!ot.data.y)&&(ot.data.x=0,ot.data.y=0);const rt=t.getNode(ot.id),Nt=ct(rt)||30;let ie,$e;Nl(Nt)?(ie=Nt[0],$e=Nt[1]):(ie=Nt,$e=Nt);const ye=void 0!==Pt?Pt(ot):a,kn=$e+ye;V=Math.max(V,ie+ye),K=Math.max(K,kn)})}const Y={},Q={row:0,col:0},at={};for(let Pt=0;Pt<k.length;Pt++){const ct=k[Pt];let ot;if(E&&(ot=E(t.getNode(ct.id))),ot&&(void 0!==ot.row||void 0!==ot.col)){const rt={row:ot.row,col:ot.col};if(void 0===rt.col)for(rt.col=0;XV(Y,rt);)rt.col++;else if(void 0===rt.row)for(rt.row=0;XV(Y,rt);)rt.row++;at[ct.id]=rt,SZ(Y,rt)}Nft(ct,o,V,K,at,z,Q,Y)}const It={nodes:k,edges:C};return e&&k.forEach(Pt=>{t.mergeNodeData(Pt.id,{x:Pt.data.x,y:Pt.data.y})}),It})}},indented:p1.indented,mds:BG,mindmap:p1.mindmap,radial:class Gft{constructor(e={}){this.options=e,this.id="radial",this.options=Object.assign(Object.assign({},Uft),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericRadialLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericRadialLayout(!0,e,t)})}genericRadialLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{width:o,height:s,center:a,focusNode:l,unitRadius:u,nodeSize:h,nodeSpacing:p,strictRadial:v,preventOverlap:y,maxPreventOverlapIteration:b,sortBy:E,linkDistance:w=50,sortStrength:S=10,maxIteration:C=1e3}=r,D=t.getAllNodes(),k=t.getAllEdges(),T=!o&&typeof window<"u"?window.innerWidth:o,I=!s&&typeof window<"u"?window.innerHeight:s,F=a||[T/2,I/2];if(null==D||!D.length||1===D.length)return X0(t,e,F);let z=D[0];if(Li(l)){for(let Un=0;Un<D.length;Un++)if(D[Un].id===l){z=D[Un];break}}else z=l||D[0];const V=((n,e)=>{let t=-1;return n.forEach((i,r)=>{i.id===e&&(t=r)}),Math.max(t,0)})(D,z.id),K=fG({nodes:D,edges:k}),Y=hG(K),Q=((n,e)=>{let t=0;for(let i=0;i<n[e].length;i++)n[e][i]!==1/0&&(t=n[e][i]>t?n[e][i]:t);return t})(Y,V);((n,e,t)=>{const i=n.length;for(let r=0;r<i;r++)if(n[e][r]===1/0){n[e][r]=t,n[r][e]=t;for(let o=0;o<i;o++)n[r][o]!==1/0&&n[e][o]===1/0&&(n[e][o]=t+n[r][o],n[o][e]=t+n[r][o])}for(let r=0;r<i;r++)if(r!==e)for(let o=0;o<i;o++)if(n[r][o]===1/0){let s=Math.abs(n[e][r]-n[e][o]);s=0===s?1:s,n[r][o]=s}})(Y,V,Q+1);const at=Y[V];let It=T-F[0]>F[0]?F[0]:T-F[0],Pt=I-F[1]>F[1]?F[1]:I-F[1];0===It&&(It=T/2),0===Pt&&(Pt=I/2);const ct=Math.min(It,Pt),ot=Math.max(...at),rt=[],Nt=u||ct/ot;at.forEach((Un,fi)=>{rt[fi]=Un*Nt});const ie=((n,e,t,i,r,o,s)=>{if(!n)return[];const a=[];if(e){const l={};e.forEach((u,h)=>{const p=[];u.forEach((v,y)=>{var b,E;if(h===y)p.push(0);else if(i[h]===i[y])if("data"===o)p.push(v*(Math.abs(h-y)*s)/(i[h]/r));else if(o){let w,S;if(l[n[h].id])w=l[n[h].id];else{const C=("id"===o?n[h].id:null===(b=n[h].data)||void 0===b?void 0:b[o])||0;w=Li(C)?C.charCodeAt(0):C,l[n[h].id]=w}if(l[n[y].id])S=l[n[y].id];else{const C=("id"===o?n[y].id:null===(E=n[y].data)||void 0===E?void 0:E[o])||0;S=Li(C)?C.charCodeAt(0):C,l[n[y].id]=S}p.push(v*(Math.abs(w-S)*s)/(i[h]/r))}else p.push(v*t/(i[h]/r));else p.push(v*((t+r)/2))}),a.push(p)})}return a})(D,Y,w,rt,Nt,E,S),$e=(n=>{const e=n.length,t=n[0].length,i=[];for(let r=0;r<e;r++){const o=[];for(let s=0;s<t;s++)o.push(0!==n[r][s]?1/(n[r][s]*n[r][s]):0);i.push(o)}return i})(ie),ye=((n,e,t)=>{try{const i=yg.mul(yg.pow(e,2),-.5),r=i.mean("row"),o=i.mean("column"),s=i.mean();i.add(s).subRowVector(r).subColumnVector(o);const a=new FG(i),l=yg.sqrt(a.diagonalMatrix).diagonal();return a.leftSingularVectors.toJSON().map(u=>yg.mul([u],[l]).toJSON()[0].splice(0,n))}catch{const i=[];for(let r=0;r<e.length;r++){const o=Math.random()*t,s=Math.random()*t;i.push([o,s])}return i}})(w,ie,w);let kn,ln=ye.map(([Un,fi])=>({x:(isNaN(Un)?Math.random()*w:Un)-ye[V][0],y:(isNaN(fi)?Math.random()*w:fi)-ye[V][1]}));this.run(C,ln,$e,ie,rt,V),y&&(kn=gG(h,p),ln=((n,e)=>{const t=Object.assign(Object.assign({},Bft),e),{positions:i,iterations:r,width:o,k:s,speed:a=100,strictRadial:l,focusIdx:u,radii:h=[],nodeSizeFunc:p}=t,v=n.getAllNodes(),y=[],b=o/10;for(let E=0;E<r;E++)i.forEach((w,S)=>{y[S]={x:0,y:0}}),Vft(v,i,y,s,h,p),zft(i,y,a,l,u,b,o,h);return i})(t,{nodes:D,nodeSizeFunc:kn,positions:ln,radii:rt,height:I,width:T,strictRadial:!!v,focusIdx:V,iterations:b||200,k:ln.length/4.5}));const oi=[];return ln.forEach((Un,fi)=>{const rs=Kc(D[fi]);rs.data.x=Un.x+F[0],rs.data.y=Un.y+F[1],oi.push(rs)}),e&&oi.forEach(Un=>t.mergeNodeData(Un.id,{x:Un.data.x,y:Un.data.y})),{nodes:oi,edges:k}})}run(e,t,i,r,o,s){for(let a=0;a<=e;a++)this.oneIteration(a/e,t,o,r,i,s)}oneIteration(e,t,i,r,o,s){const a=1-e;t.forEach((l,u)=>{const h=pG(l,{x:0,y:0}),p=0===h?0:1/h;if(u===s)return;let v=0,y=0,b=0;t.forEach((w,S)=>{if(u===S)return;const C=pG(l,w),D=0===C?0:1/C,k=r[S][u];b+=o[u][S],v+=o[u][S]*(w.x+k*(l.x-w.x)*D),y+=o[u][S]*(w.y+k*(l.y-w.y)*D)});const E=0===i[u]?0:1/i[u];b*=a,b+=e*E*E,v*=a,v+=e*E*l.x*p,l.x=v/b,y*=a,y+=e*E*l.y*p,l.y=y/b})}},random:class Zft{constructor(e={}){this.options=e,this.id="random",this.options=Object.assign(Object.assign({},Yft),e)}execute(e,t){return ir(this,void 0,void 0,function*(){return this.genericRandomLayout(!1,e,t)})}assign(e,t){return ir(this,void 0,void 0,function*(){yield this.genericRandomLayout(!0,e,t)})}genericRandomLayout(e,t,i){return ir(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},this.options),i),{center:o,width:s,height:a}=r,l=t.getAllNodes(),h=!s&&typeof window<"u"?window.innerWidth:s,p=!a&&typeof window<"u"?window.innerHeight:a,v=o||[h/2,p/2],y=[];return l&&l.forEach(b=>{y.push({id:b.id,data:{x:.9*(Math.random()-.5)*h+v[0],y:.9*(Math.random()-.5)*p+v[1]}})}),e&&y.forEach(b=>t.mergeNodeData(b.id,{x:b.data.x,y:b.data.y})),{nodes:y,edges:t.getAllEdges()}})}}},node:{circle:Ns,diamond:class TF extends Pd{constructor(e){super(e)}getPoints(e){const[t,i]=this.getSize(e);return function E7(n,e){return[[0,-e/2],[n/2,0],[0,e/2],[-n/2,0]]}(t,i)}},ellipse:IF,hexagon:class XA extends Pd{constructor(e){super(e)}getOuterR(e){return e.outerR||Math.min(...this.getSize(e))/2}getPoints(e){return function M4(n){return[[0,n],[n*Math.sqrt(3)/2,n/2],[n*Math.sqrt(3)/2,-n/2],[0,-n],[-n*Math.sqrt(3)/2,-n/2],[-n*Math.sqrt(3)/2,n/2]]}(this.getOuterR(e))}getIconStyle(e){const t=super.getIconStyle(e),i=this.getOuterR(e)*zc;return!!t&&Object.assign({width:i,height:i},t)}},html:K2,image:Mk,rect:class Sk extends Yh{constructor(e){super(e)}getKeyStyle(e){const[t,i]=this.getSize(e);return Object.assign(Object.assign({},super.getKeyStyle(e)),{width:t,height:i,x:-t/2,y:-i/2})}getIconStyle(e){const t=super.getIconStyle(e),{width:i,height:r}=this.getShape("key").attributes;return!!t&&Object.assign({width:i*zc,height:r*zc},t)}drawKeyShape(e,t){return this.upsert("key",ai.Rect,this.getKeyStyle(e),t)}},star:class H_ extends Pd{constructor(e){super(e)}getInnerR(e){return e.innerR||3*this.getOuterR(e)/8}getOuterR(e){return Math.min(...this.getSize(e))/2}getPoints(e){return function aC(n,e){return[[0,-n],[e*Math.cos(3*Math.PI/10),-e*Math.sin(3*Math.PI/10)],[n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],[e*Math.cos(Math.PI/10),e*Math.sin(Math.PI/10)],[n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],[0,e],[-n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],[-e*Math.cos(Math.PI/10),e*Math.sin(Math.PI/10)],[-n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],[-e*Math.cos(3*Math.PI/10),-e*Math.sin(3*Math.PI/10)]]}(this.getOuterR(e),this.getInnerR(e))}getIconStyle(e){const t=super.getIconStyle(e),i=2*this.getInnerR(e)*zc;return!!t&&Object.assign({width:i,height:i},t)}getPortXY(e,t){const{placement:i="top"}=t,r=this.getShape("key").getLocalBounds(),o=function J_(n,e){const t={};return t.top=[0,-n],t.left=[-n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],t["left-bottom"]=[-n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],t.bottom=[0,e],t["right-bottom"]=[n*Math.cos(3*Math.PI/10),n*Math.sin(3*Math.PI/10)],t.right=t.default=[n*Math.cos(Math.PI/10),-n*Math.sin(Math.PI/10)],t}(this.getOuterR(e),this.getInnerR(e));return Z_(r,i,o,!1)}},donut:t7,triangle:a7},palette:{spectral:["rgb(158, 1, 66)","rgb(213, 62, 79)","rgb(244, 109, 67)","rgb(253, 174, 97)","rgb(254, 224, 139)","rgb(255, 255, 191)","rgb(230, 245, 152)","rgb(171, 221, 164)","rgb(102, 194, 165)","rgb(50, 136, 189)","rgb(94, 79, 162)"],tableau:["rgb(78, 121, 167)","rgb(242, 142, 44)","rgb(225, 87, 89)","rgb(118, 183, 178)","rgb(89, 161, 79)","rgb(237, 201, 73)","rgb(175, 122, 161)","rgb(255, 157, 167)","rgb(156, 117, 95)","rgb(186, 176, 171)"],oranges:["rgb(255, 245, 235)","rgb(254, 230, 206)","rgb(253, 208, 162)","rgb(253, 174, 107)","rgb(253, 141, 60)","rgb(241, 105, 19)","rgb(217, 72, 1)","rgb(166, 54, 3)","rgb(127, 39, 4)"],greens:["rgb(247, 252, 245)","rgb(229, 245, 224)","rgb(199, 233, 192)","rgb(161, 217, 155)","rgb(116, 196, 118)","rgb(65, 171, 93)","rgb(35, 139, 69)","rgb(0, 109, 44)","rgb(0, 68, 27)"],blues:["rgb(247, 251, 255)","rgb(222, 235, 247)","rgb(198, 219, 239)","rgb(158, 202, 225)","rgb(107, 174, 214)","rgb(66, 146, 198)","rgb(33, 113, 181)","rgb(8, 81, 156)","rgb(8, 48, 107)"]},theme:{dark:xyt,light:Myt},plugin:{"bubble-sets":bR,"edge-bundling":Kpt,"edge-filter-lens":tmt,"grid-line":omt,background:vpt,contextmenu:Wpt,fisheye:nmt,fullscreen:imt,history:amt,hull:Nmt,legend:nyt,minimap:Aq,snapline:iyt,timebar:ayt,toolbar:hyt,tooltip:fyt,watermark:PR},transform:{"arrange-draw-order":class Syt extends kg{beforeDraw(e){const{model:t}=this.context,r=o=>{const s=[];return o.forEach((a,l)=>{const u=t.getAncestorsData(l,"combo").map(h=>Ge(h)).reverse();s.push([l,a,u.length])}),new Map(s.sort(([,,a],[,,l])=>l-a).map(([a,l])=>[a,l]))};return e.add.combos=r(e.add.combos),e.update.combos=r(e.update.combos),e}},"collapse-expand-combo":class Dyt extends kg{beforeDraw(e,t){if("visibility"===t.stage||!this.context.model.model.hasTreeStructure(yo))return e;const{model:i}=this.context,{add:r,update:o}=e,s=[...e.update.combos.entries(),...e.add.combos.entries()];for(;s.length;){const[a,l]=s.pop();if(ja(l)){const u=i.getDescendantsData(a),h=u.map(Ge),{internal:p,external:v}=Ik(h,y=>i.getRelatedEdgesData(y));u.forEach(y=>{const b=Ge(y),E=s.findIndex(([S])=>S===b);-1!==E&&s.splice(E,1);const w=i.getElementType(b);Jc(e,"remove",w,y)}),p.forEach(y=>Jc(e,"remove","edge",y)),v.forEach(y=>{var b;const E=Ge(y);null!==(b=this.context.element)&&void 0!==b&&b.getElement(E)?o.edges.set(E,y):r.edges.set(E,y)})}else{const u=i.getChildrenData(a),h=u.map(Ge),{edges:p}=Ik(h,v=>i.getRelatedEdgesData(v));[...u,...p].forEach(v=>{var y;const b=Ge(v),E=i.getElementType(b);null!==(y=this.context.element)&&void 0!==y&&y.getElement(b)?Jc(e,"update",E,v):Jc(e,"add",E,v),"combo"===E&&s.push([b,v])})}}return e}},"collapse-expand-node":class Oyt extends kg{getElement(e){return this.context.element.getElement(e)}handleExpand(e,t){if(Bq(t,"add","node",e),ja(e))return;const i=Ge(e);Bq(t,"add","node",e),this.context.model.getRelatedEdgesData(i,"out").forEach(r=>{Jc(t,"add","edge",r)}),this.context.model.getChildrenData(i).forEach(r=>{this.handleExpand(r,t)})}beforeDraw(e){const{graph:t,model:i}=this.context;if(!i.model.hasTreeStructure(jc))return e;const{add:{nodes:r,edges:o},update:{nodes:s}}=e,a=new Map,l=new Map;r.forEach((h,p)=>{ja(h)&&a.set(p,h)}),o.forEach(h=>{if("node"!==t.getElementType(h.source))return;const p=t.getNodeData(h.source);ja(p)&&a.set(h.source,p)}),s.forEach((h,p)=>{const v=this.getElement(p);if(!v)return;const y=v.attributes.collapsed;ja(h)?y||a.set(p,h):y&&l.set(p,h)});const u=new Set;return a.forEach((h,p)=>{i.getDescendantsData(p).forEach(v=>{const y=Ge(v);u.has(y)||(Jc(e,"remove","node",v),i.getRelatedEdgesData(y).forEach(b=>{Jc(e,"remove","edge",b)}),u.add(y))})}),l.forEach((h,p)=>{i.getAncestorsData(p,jc).some(ja)?Jc(e,"remove","node",h):this.handleExpand(h,e)}),e}},"get-edge-actual-ends":class Xyt extends kg{beforeDraw(e){const{add:t,update:i}=e,{model:r}=this.context;return[...t.edges.entries(),...i.edges.entries()].forEach(([,o])=>{Xq(r,o)}),e}},"map-node-size":Jyt,"place-radial-labels":tbt,"process-parallel-edges":nbt,"update-related-edges":class rbt extends kg{beforeDraw(e,t){const{stage:i}=t;if("visibility"===i)return e;const{model:r}=this.context,{update:{nodes:o,edges:s,combos:a}}=e,l=(u,h)=>{r.getRelatedEdgesData(h).forEach(p=>!s.has(Ge(p))&&s.set(Ge(p),p))};return o.forEach(l),a.forEach(l),e}}},shape:{circle:ai.Circle,ellipse:ai.Ellipse,group:ai.Group,html:ai.HTML,image:WA,line:ai.Line,path:ai.Path,polygon:ai.Polygon,polyline:ai.Polyline,rect:ai.Rect,text:ai.Text,label:Xh,badge:I2}};!function sbt(){Object.entries(obt).forEach(([n,e])=>{Object.entries(e).forEach(([t,i])=>{jl(n,t,i)})})}();var Oo={};const Ua=fh(Dw);var Rg={};Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.isEdgeData=function abt(n){return"source"in n&&"target"in n},Rg.isVector2=function lbt(n){return 2===n.length},Rg.isVector3=function cbt(n){return 3===n.length},Rg.isPoint=function ubt(n){return n instanceof Float32Array||!(!Array.isArray(n)||2!==n.length&&3!==n.length)&&n.every(e=>"number"==typeof e)};var F1={};Object.defineProperty(F1,"__esModule",{value:!0}),F1.isBetween=function dbt(n,e,t){return n>=e&&n<=t};var ay={};function j9(n=0){if(Array.isArray(n)){const[e=0,t=e,i=e,r=t]=n;return[e,t,i,r]}return[n,n,n,n]}Object.defineProperty(ay,"__esModule",{value:!0}),ay.parsePadding=j9,ay.getVerticalPadding=function hbt(n=0){const e=j9(n);return e[0]+e[2]},ay.getHorizontalPadding=function fbt(n=0){const e=j9(n);return e[1]+e[3]},Object.defineProperty(Oo,"__esModule",{value:!0});var pbt=Oo.getBBoxWidth=Qq,mbt=Oo.getBBoxHeight=qq;Oo.getBBoxSize=V9;var gbt=Oo.getNodeBBox=function Ebt(n,e){const t=(0,bbt.isPoint)(n)?Jq(n):n.getShape("key").getBounds();return e?tJ(t,e):t};Oo.getPointBBox=Jq,Oo.getExpandedBBox=tJ;var vbt=Oo.getCombinedBBox=function wbt(n){if(0===n.length)return new VR.AABB;if(1===n.length)return n[0];const e=new VR.AABB;e.setMinMax(n[0].min,n[0].max);for(let t=1;t<n.length;t++){const i=n[t];e.setMinMax([Math.min(e.min[0],i.min[0]),Math.min(e.min[1],i.min[1]),Math.min(e.min[2],i.min[2])],[Math.max(e.max[0],i.max[0]),Math.max(e.max[1],i.max[1]),Math.max(e.max[2],i.max[2])])}return e};Oo.isBBoxInside=function xbt(n,e){const[t,i]=n.min,[r,o]=n.max,[s,a]=e.min,[l,u]=e.max;return t>=s&&r<=l&&i>=a&&o<=u},Oo.isPointInBBox=z9,Oo.isPointOnBBoxBoundary=function Cbt(n,e,t=!1){const{min:[i,r],max:[o,s]}=e,a=(n[1]===r||n[1]===s)&&(t||(0,B1.isBetween)(n[0],i,o)),l=(n[0]===i||n[0]===o)&&(t||(0,B1.isBetween)(n[1],r,s));return a||l},Oo.isPointOutsideBBox=function Mbt(n,e){return!z9(n,e)},Oo.isPointBBoxCenter=function Sbt(n,e){const{center:t}=e;return n[0]===t[0]&&n[1]===t[1]},Oo.getNearestBoundarySide=eJ,Oo.getNearestBoundaryPoint=function Dbt(n,e){const t=(0,ybt.clone)(n);if(z9(n,e))switch(eJ(n,e)){case"left":t[0]=e.min[0];break;case"right":t[0]=e.max[0];break;case"top":t[1]=e.min[1];break;case"bottom":t[1]=e.max[1]}else{const[i,r]=n,[o,s]=e.min,[a,l]=e.max;t[0]=(0,B1.isBetween)(i,o,a)?i:i<o?o:a,t[1]=(0,B1.isBetween)(r,s,l)?r:r<s?s:l}return t},Oo.getTriangleCenter=function Obt(n,e){const{center:t}=n,[i,r]=V9(n);return["up"===e||"down"===e?t[0]:"right"===e?t[0]-i/6:t[0]+i/6,"left"===e||"right"===e?t[1]:"down"===e?t[1]-r/6:t[1]+r/6]},Oo.getIncircleRadius=function Tbt(n,e){let[t,i]=V9(n);return[t,i]="up"===e||"down"===e?[t,i]:[i,t],(Math.pow(i,2)-Math.pow(Math.sqrt(Math.pow(t/2,2)+Math.pow(i,2))-t/2,2))/(2*i)},Oo.getBBoxSegments=function Abt(n){const{min:[e,t],max:[i,r]}=n,o=[e,r],s=[i,r],a=[i,t],l=[e,t];return[[o,s],[s,a],[a,l],[l,o]]};const VR=ai,ybt=Ua,bbt=Rg,B1=F1,_bt=ay;function Qq(n){return n.max[0]-n.min[0]}function qq(n){return n.max[1]-n.min[1]}function V9(n){return[Qq(n),qq(n)]}function Jq(n){const[e,t,i=0]=n,r=new VR.AABB;return r.setMinMax([e,t,i],[e,t,i]),r}function tJ(n,e){const[t,i,r,o]=(0,_bt.parsePadding)(e),[s,a,l]=n.min,[u,h,p]=n.max,v=new VR.AABB;return v.setMinMax([s-o,a-t,l],[u+i,h+r,p]),v}function z9(n,e){return(0,B1.isBetween)(n[0],e.min[0],e.max[0])&&(0,B1.isBetween)(n[1],e.min[1],e.max[1])}function eJ(n,e){const[t,i]=n,[r,o]=e.min,[s,a]=e.max,l=t-r,u=s-t,h=i-o,p=a-i,v=Math.min(l,u,h,p);return v===l?"left":v===u?"right":v===h?"top":v===p?"bottom":"left"}var nJ={},U9={};Object.defineProperty(U9,"__esModule",{value:!0}),U9.isCollapsed=function kbt(n){var e;return!(null===(e=n.style)||void 0===e||!e.collapsed)};var Eo={},iJ={},rJ={},nM={},j1={},V1={};Object.defineProperty(V1,"__esModule",{value:!0}),V1.DEFAULT_ELEMENTS_ANIMATION_OPTIONS=V1.DEFAULT_ANIMATION_OPTIONS=void 0,V1.DEFAULT_ANIMATION_OPTIONS={duration:500},V1.DEFAULT_ELEMENTS_ANIMATION_OPTIONS={duration:1e3,easing:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",iterations:1,fill:"both"};var oJ,z1={};Object.defineProperty(z1,"__esModule",{value:!0}),z1.ChangeType=z1.ChangeEvent=void 0,z1.ChangeEvent={CHANGE:"change"},function(n){n.NodeAdded="NodeAdded",n.NodeUpdated="NodeUpdated",n.NodeRemoved="NodeRemoved",n.EdgeAdded="EdgeAdded",n.EdgeUpdated="EdgeUpdated",n.EdgeRemoved="EdgeRemoved",n.ComboAdded="ComboAdded",n.ComboUpdated="ComboUpdated",n.ComboRemoved="ComboRemoved"}(oJ||(z1.ChangeType=oJ={}));var aJ,sJ={},zR={};Object.defineProperty(zR,"__esModule",{value:!0}),zR.AnimationType=void 0,function(n){n.DRAW="draw",n.COLLAPSE="collapse",n.EXPAND="expand",n.TRANSFORM="transform"}(aJ||(zR.AnimationType=aJ={}));var lJ,UR={};Object.defineProperty(UR,"__esModule",{value:!0}),UR.CanvasEvent=void 0,function(n){n.CLICK="canvas:click",n.DBLCLICK="canvas:dblclick",n.POINTER_OVER="canvas:pointerover",n.POINTER_LEAVE="canvas:pointerleave",n.POINTER_ENTER="canvas:pointerenter",n.POINTER_MOVE="canvas:pointermove",n.POINTER_OUT="canvas:pointerout",n.POINTER_DOWN="canvas:pointerdown",n.POINTER_UP="canvas:pointerup",n.CONTEXT_MENU="canvas:contextmenu",n.DRAG_START="canvas:dragstart",n.DRAG="canvas:drag",n.DRAG_END="canvas:dragend",n.DRAG_ENTER="canvas:dragenter",n.DRAG_OVER="canvas:dragover",n.DRAG_LEAVE="canvas:dragleave",n.DROP="canvas:drop",n.WHEEL="canvas:wheel"}(lJ||(UR.CanvasEvent=lJ={}));var cJ,GR={};Object.defineProperty(GR,"__esModule",{value:!0}),GR.ComboEvent=void 0,function(n){n.CLICK="combo:click",n.DBLCLICK="combo:dblclick",n.POINTER_OVER="combo:pointerover",n.POINTER_LEAVE="combo:pointerleave",n.POINTER_ENTER="combo:pointerenter",n.POINTER_MOVE="combo:pointermove",n.POINTER_OUT="combo:pointerout",n.POINTER_DOWN="combo:pointerdown",n.POINTER_UP="combo:pointerup",n.CONTEXT_MENU="combo:contextmenu",n.DRAG_START="combo:dragstart",n.DRAG="combo:drag",n.DRAG_END="combo:dragend",n.DRAG_ENTER="combo:dragenter",n.DRAG_OVER="combo:dragover",n.DRAG_LEAVE="combo:dragleave",n.DROP="combo:drop"}(cJ||(GR.ComboEvent=cJ={}));var uJ,HR={};Object.defineProperty(HR,"__esModule",{value:!0}),HR.CommonEvent=void 0,function(n){n.CLICK="click",n.DBLCLICK="dblclick",n.POINTER_OVER="pointerover",n.POINTER_LEAVE="pointerleave",n.POINTER_ENTER="pointerenter",n.POINTER_MOVE="pointermove",n.POINTER_OUT="pointerout",n.POINTER_DOWN="pointerdown",n.POINTER_UP="pointerup",n.CONTEXT_MENU="contextmenu",n.DRAG_START="dragstart",n.DRAG="drag",n.DRAG_END="dragend",n.DRAG_ENTER="dragenter",n.DRAG_OVER="dragover",n.DRAG_LEAVE="dragleave",n.DROP="drop",n.KEY_DOWN="keydown",n.KEY_UP="keyup",n.WHEEL="wheel"}(uJ||(HR.CommonEvent=uJ={}));var dJ,$R={};Object.defineProperty($R,"__esModule",{value:!0}),$R.ContainerEvent=void 0,function(n){n.KEY_DOWN="keydown",n.KEY_UP="keyup"}(dJ||($R.ContainerEvent=dJ={}));var hJ,WR={};Object.defineProperty(WR,"__esModule",{value:!0}),WR.EdgeEvent=void 0,function(n){n.CLICK="edge:click",n.DBLCLICK="edge:dblclick",n.POINTER_OVER="edge:pointerover",n.POINTER_LEAVE="edge:pointerleave",n.POINTER_ENTER="edge:pointerenter",n.POINTER_MOVE="edge:pointermove",n.POINTER_OUT="edge:pointerout",n.POINTER_DOWN="edge:pointerdown",n.POINTER_UP="edge:pointerup",n.CONTEXT_MENU="edge:contextmenu",n.DRAG_ENTER="edge:dragenter",n.DRAG_OVER="edge:dragover",n.DRAG_LEAVE="edge:dragleave",n.DROP="edge:drop"}(hJ||(WR.EdgeEvent=hJ={}));var fJ,KR={};Object.defineProperty(KR,"__esModule",{value:!0}),KR.GraphEvent=void 0,function(n){n.BEFORE_CANVAS_INIT="beforecanvasinit",n.AFTER_CANVAS_INIT="aftercanvasinit",n.BEFORE_SIZE_CHANGE="beforesizechange",n.AFTER_SIZE_CHANGE="aftersizechange",n.BEFORE_ELEMENT_CREATE="beforeelementcreate",n.AFTER_ELEMENT_CREATE="afterelementcreate",n.BEFORE_ELEMENT_UPDATE="beforeelementupdate",n.AFTER_ELEMENT_UPDATE="afterelementupdate",n.BEFORE_ELEMENT_DESTROY="beforeelementdestroy",n.AFTER_ELEMENT_DESTROY="afterelementdestroy",n.BEFORE_ELEMENT_TRANSLATE="beforeelementtranslate",n.AFTER_ELEMENT_TRANSLATE="afterelementtranslate",n.BEFORE_DRAW="beforedraw",n.AFTER_DRAW="afterdraw",n.BEFORE_RENDER="beforerender",n.AFTER_RENDER="afterrender",n.BEFORE_ANIMATE="beforeanimate",n.AFTER_ANIMATE="afteranimate",n.BEFORE_LAYOUT="beforelayout",n.AFTER_LAYOUT="afterlayout",n.BEFORE_STAGE_LAYOUT="beforestagelayout",n.AFTER_STAGE_LAYOUT="afterstagelayout",n.BEFORE_TRANSFORM="beforetransform",n.AFTER_TRANSFORM="aftertransform",n.BATCH_START="batchstart",n.BATCH_END="batchend",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.BEFORE_RENDERER_CHANGE="beforerendererchange",n.AFTER_RENDERER_CHANGE="afterrendererchange"}(fJ||(KR.GraphEvent=fJ={}));var pJ,XR={};Object.defineProperty(XR,"__esModule",{value:!0}),XR.HistoryEvent=void 0,function(n){n.UNDO="undo",n.REDO="redo",n.CANCEL="cancel",n.ADD="add",n.CLEAR="clear",n.CHANGE="change"}(pJ||(XR.HistoryEvent=pJ={}));var mJ,YR={};Object.defineProperty(YR,"__esModule",{value:!0}),YR.NodeEvent=void 0,function(n){n.CLICK="node:click",n.DBLCLICK="node:dblclick",n.POINTER_OVER="node:pointerover",n.POINTER_LEAVE="node:pointerleave",n.POINTER_ENTER="node:pointerenter",n.POINTER_MOVE="node:pointermove",n.POINTER_OUT="node:pointerout",n.POINTER_DOWN="node:pointerdown",n.POINTER_UP="node:pointerup",n.CONTEXT_MENU="node:contextmenu",n.DRAG_START="node:dragstart",n.DRAG="node:drag",n.DRAG_END="node:dragend",n.DRAG_ENTER="node:dragenter",n.DRAG_OVER="node:dragover",n.DRAG_LEAVE="node:dragleave",n.DROP="node:drop"}(mJ||(YR.NodeEvent=mJ={})),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.NodeEvent=n.HistoryEvent=n.GraphEvent=n.EdgeEvent=n.ContainerEvent=n.CommonEvent=n.ComboEvent=n.CanvasEvent=n.AnimationType=void 0;var e=zR;Object.defineProperty(n,"AnimationType",{enumerable:!0,get:function(){return e.AnimationType}});var t=UR;Object.defineProperty(n,"CanvasEvent",{enumerable:!0,get:function(){return t.CanvasEvent}});var i=GR;Object.defineProperty(n,"ComboEvent",{enumerable:!0,get:function(){return i.ComboEvent}});var r=HR;Object.defineProperty(n,"CommonEvent",{enumerable:!0,get:function(){return r.CommonEvent}});var o=$R;Object.defineProperty(n,"ContainerEvent",{enumerable:!0,get:function(){return o.ContainerEvent}});var s=WR;Object.defineProperty(n,"EdgeEvent",{enumerable:!0,get:function(){return s.EdgeEvent}});var a=KR;Object.defineProperty(n,"GraphEvent",{enumerable:!0,get:function(){return a.GraphEvent}});var l=XR;Object.defineProperty(n,"HistoryEvent",{enumerable:!0,get:function(){return l.HistoryEvent}});var u=YR;Object.defineProperty(n,"NodeEvent",{enumerable:!0,get:function(){return u.NodeEvent}})}(sJ);var U1={};Object.defineProperty(U1,"__esModule",{value:!0}),U1.TREE_KEY=U1.COMBO_KEY=void 0,U1.COMBO_KEY="combo",U1.TREE_KEY="tree";var gJ,ZR={};Object.defineProperty(ZR,"__esModule",{value:!0}),ZR.ExtensionCategory=void 0,function(n){n.NODE="node",n.EDGE="edge",n.COMBO="combo",n.THEME="theme",n.PALETTE="palette",n.LAYOUT="layout",n.BEHAVIOR="behavior",n.PLUGIN="plugin",n.ANIMATION="animation",n.TRANSFORM="transform",n.SHAPE="shape"}(gJ||(ZR.ExtensionCategory=gJ={})),function(n){var e=br&&br.__createBinding||(Object.create?function(i,r,o,s){void 0===s&&(s=o);var a=Object.getOwnPropertyDescriptor(r,o);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(i,s,a)}:function(i,r,o,s){void 0===s&&(s=o),i[s]=r[o]}),t=br&&br.__exportStar||function(i,r){for(var o in i)"default"!==o&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(V1,n),t(z1,n),t(sJ,n),t(U1,n),t(ZR,n)}(j1);var Pg={},G1={},QR={};Object.defineProperty(QR,"__esModule",{value:!0}),QR.version=void 0,QR.version="5.0.27",function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.print=void 0,n.format=i;const e=QR,t="G6";function i(r){return`[${t} v${e.version}] ${r}`}n.print={mute:!1,debug:r=>{!n.print.mute&&console.debug(i(r))},info:r=>{!n.print.mute&&console.info(i(r))},warn:r=>{!n.print.mute&&console.warn(i(r))},error:r=>{!n.print.mute&&console.error(i(r))}}}(G1),Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.idOf=qR,Pg.parentIdOf=function Rbt(n){return n.combo},Pg.idsOf=function Pbt(n,e){const t={nodes:(n.nodes||[]).map(qR),edges:(n.edges||[]).map(qR),combos:(n.combos||[]).map(qR)};return e?Object.values(t).flat():t};const Ibt=G1;function qR(n){if(void 0!==n.id)return n.id;if(void 0!==n.source&&void 0!==n.target)return`${n.source}-${n.target}`;throw new Error((0,Ibt.format)("The datum does not have available id."))}var tu={},G9={};Object.defineProperty(G9,"__esModule",{value:!0}),G9.parseAnchor=function Nbt(n){const e="string"==typeof n?n.split(" ").map(t=>parseFloat(t)):n.slice(0,2);return(0,vJ.isBetween)(e[0],0,1)&&(0,vJ.isBetween)(e[1],0,1)?e:[.5,.5]};const vJ=F1;var H9={};Object.defineProperty(H9,"__esModule",{value:!0}),H9.parsePlacement=function Lbt(n){if(Array.isArray(n))return(0,yJ.isBetween)(n[0],0,1)&&(0,yJ.isBetween)(n[1],0,1)?n:[.5,.5];const e=n.split("-");return[e.includes("left")?0:e.includes("right")?1:.5,e.includes("top")?0:e.includes("bottom")?1:.5]};const yJ=F1;Object.defineProperty(tu,"__esModule",{value:!0}),tu.getPositionByRectPoints=void 0,tu.positionOf=function jbt(n){const{x:e=0,y:t=0,z:i=0}=n.style||{};return[+e,+t,+i]},tu.hasPosition=function Vbt(n){const{x:e,y:t,z:i}=n.style||{};return void 0!==e||void 0!==t||void 0!==i},tu.getXYByRelativePlacement=$9,tu.getXYByPlacement=function zbt(n,e="center"){return $9(n,(0,Bbt.parsePlacement)(e))},tu.getXYByAnchor=function Ubt(n,e){return $9(n,(0,Fbt.parseAnchor)(e))};const Fbt=G9,Bbt=H9;function $9(n,e){const[t,i]=e,{min:r,max:o}=n;return[r[0]+t*(o[0]-r[0]),r[1]+i*(o[1]-r[1])]}tu.getPositionByRectPoints=n=>{const[e,t]=n;return{left:Math.min(e[0],t[0]),right:Math.max(e[0],t[0]),top:Math.min(e[1],t[1]),bottom:Math.max(e[1],t[1])}};var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.startsWith=JR,Ws.addPrefix=W9,Ws.removePrefix=K9,Ws.subStyleProps=function Hbt(n,e){const t=Object.entries(n).reduce((i,[r,o])=>("className"===r||"class"===r||JR(r,e)&&Object.assign(i,{[K9(r,e)]:o}),i),{});if("opacity"in n){const i=W9("opacity",e),r=n.opacity;Object.assign(t,i in n?{opacity:r*n[i]}:{opacity:r})}return t},Ws.subObject=function $bt(n,e){const t=e.length;return Object.keys(n).reduce((i,r)=>(r.startsWith(e)&&(i[r.slice(t)]=n[r]),i),{})},Ws.omitStyleProps=function Wbt(n,e){const t="string"==typeof e?[e]:e,i={};return Object.keys(n).forEach(r=>{t.find(o=>r.startsWith(o))||(i[r]=n[r])}),i},Ws.replacePrefix=function Kbt(n,e,t){return Object.entries(n).reduce((i,[r,o])=>(JR(r,e)?i[W9(K9(r,e,!1),t)]=o:i[r]=o,i),{})};const bJ=Ua;function JR(n,e){if(!n.startsWith(e))return!1;const t=n[e.length];return t>="A"&&t<="Z"}function W9(n,e){return`${e}${(0,bJ.upperFirst)(n)}`}function K9(n,e,t=!0){if(!e||!JR(n,e))return n;const i=n.slice(e.length);return t?(0,bJ.lowerFirst)(i):i}var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.parseSize=function Xbt(n=0){if("number"==typeof n)return[n,n,n];const[e,t=e,i=e]=n;return[e,t,i]};var ms={},Ybt=br&&br.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t};Object.defineProperty(ms,"__esModule",{value:!0}),ms.computeElementCallbackStyle=function Zbt(n,e){const{datum:t,graph:i}=e;return"function"==typeof n?n.call(i,t):Object.fromEntries(Object.entries(n).map(([r,o])=>"function"==typeof o?[r,o.call(i,t)]:[r,o]))},ms.mergeOptions=function Qbt(n,e){return Object.assign({},n,e,{style:Object.assign({},n?.style||{},e?.style||{})})},ms.getSubShapeStyle=function qbt(n){return Ybt(n,["x","y","z","class","className","transform","transformOrigin","context","zIndex","visibility"])};var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.add=function t_t(n,e){return n.map((t,i)=>t+e[i])},Vo.subtract=function e_t(n,e){return n.map((t,i)=>t-e[i])},Vo.multiply=EJ,Vo.divide=function n_t(n,e){return n.map("number"==typeof e?t=>t/e:(t,i)=>t/e[i])},Vo.dot=function i_t(n,e){return n.reduce((t,i,r)=>t+i*e[r],0)},Vo.cross=function r_t(n,e){const t=Y9(n),i=Y9(e);return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]},Vo.scale=function o_t(n,e){return n.map(t=>t*e)},Vo.distance=X9,Vo.manhattanDistance=function s_t(n,e){return n.reduce((t,i,r)=>t+Math.abs(i-e[r]),0)},Vo.normalize=function a_t(n){const e=n.reduce((t,i)=>t+Math.pow(i,2),0);return n.map(t=>t/Math.sqrt(e))},Vo.angle=function l_t(n,e,t=!1){const i=n[0]*e[1]-n[1]*e[0];let r=Math.acos(EJ(n,e).reduce((o,s)=>o+s,0)/(X9(n,_J)*X9(e,_J)));return t&&i<0&&(r=2*Math.PI-r),r},Vo.exactEquals=function c_t(n,e){return n.every((t,i)=>t===e[i])},Vo.perpendicular=function u_t(n,e=!0){return e?[-n[1],n[0]]:[n[1],-n[0]]},Vo.mod=function d_t(n,e){return n.map(t=>t%e)},Vo.toVector2=function h_t(n){return[n[0],n[1]]},Vo.toVector3=Y9,Vo.rad=function f_t(n){const[e,t]=n;return e||t?Math.atan2(t,e):0};const Jbt=Rg,_J=[0,0,0];function EJ(n,e){return n.map("number"==typeof e?t=>t*e:(t,i)=>t*e[i])}function X9(n,e){return Math.sqrt(n.reduce((t,i,r)=>t+Math.pow(i-e[r]||0,2),0))}function Y9(n){return(0,Jbt.isVector2)(n)?[n[0],n[1],0]:n}var iM={};Object.defineProperty(iM,"__esModule",{value:!0}),iM.effect=function p_t(n,e,t){Z9.has(n)||Z9.set(n,{});const i=Z9.get(n);return i[e]?!wJ(i[e],t)&&(i[e]=t,!0):(i[e]=t,!0)};const Z9=new WeakMap,wJ=(n,e,t=2)=>{if("object"!=typeof n||"object"!=typeof e)return n===e;const i=Object.keys(n),r=Object.keys(e);if(i.length!==r.length)return!1;for(const o of i){const s=n[o],a=e[o];if(t>1&&"object"==typeof s&&"object"==typeof a){if(!wJ(s,a,t-1))return!1}else if(s!==a)return!1}return!0};var xJ={},rM={},Q9={};Object.defineProperty(Q9,"__esModule",{value:!0}),Q9.inferIconStyle=function g_t(n,e){const t=(0,m_t.parseSize)(n);let i={};return e.text&&!e.fontSize&&(i={fontSize:.5*Math.min(...t)}),e.src&&(!e.width||!e.height)&&(i={width:.5*t[0],height:.5*t[1]}),i};const m_t=Ng;var H1={},ly={},tP={};Object.defineProperty(tP,"__esModule",{value:!0}),tP.EXTENSION_REGISTRY=void 0,tP.EXTENSION_REGISTRY={animation:{},behavior:{},combo:{},edge:{},layout:{},node:{},palette:{},theme:{},plugin:{},transform:{},shape:{}},Object.defineProperty(ly,"__esModule",{value:!0}),ly.getExtension=function v_t(n,e){var t;const i=null===(t=CJ.EXTENSION_REGISTRY[n])||void 0===t?void 0:t[e];if(i)return i},ly.getExtensions=function y_t(n){return CJ.EXTENSION_REGISTRY[n]};const CJ=tP;Object.defineProperty(H1,"__esModule",{value:!0}),H1.parsePalette=function w_t(n){if(n)return"string"==typeof n||"function"==typeof n||Array.isArray(n)?{type:"group",field:e=>e.id,color:n,invert:!1}:n},H1.assignColorByPalette=function x_t(n,e){if(!e)return{};const{type:t,color:i,field:r,invert:o}=e,s=l=>{const u="string"==typeof i?(0,MJ.getExtension)("palette",i):i;if("function"==typeof u){const h={};return l.forEach(([p,v])=>{h[p]=u(o?1-v:v)}),h}if(Array.isArray(u)){const h=o?[...u].reverse():u,p={};return l.forEach(([v,y])=>{p[v]=h[y%u.length]}),p}return{}},a=(l,u)=>{var h;return"string"==typeof l?null===(h=u.data)||void 0===h?void 0:h[l]:l?.(u)};if("group"===t){const l=(0,b_t.groupBy)(n,v=>{if(!r)return"default";const y=a(r,v);return y?String(y):"default"}),h=s(Object.keys(l).map((v,y)=>[v,y])),p={};return Object.entries(l).forEach(([v,y])=>{y.forEach(b=>{p[(0,__t.idOf)(b)]=h[v]})}),p}if("value"===t){const[l,u]=n.reduce(([p,v],y)=>{const b=a(r,y);if("number"!=typeof b)throw new Error((0,E_t.format)(`Palette field ${r} is not a number`));return[Math.min(p,b),Math.max(v,b)]},[1/0,-1/0]),h=u-l;return s(n.map(p=>[p.id,(a(r,p)-l)/h]))}},H1.getPaletteColors=function C_t(n){const e="string"==typeof n?(0,MJ.getExtension)("palette",n):n;if("function"!=typeof e)return e};const b_t=Ua,MJ=ly,__t=Pg,E_t=G1;var qr={},oM={};Object.defineProperty(oM,"__esModule",{value:!0}),oM.isLinesParallel=DJ,oM.getLinesIntersection=function M_t(n,e,t=!1){if(DJ(n,e))return;const[i,r]=n,[o,s]=e,a=((i[0]-o[0])*(o[1]-s[1])-(i[1]-o[1])*(o[0]-s[0]))/((i[0]-r[0])*(o[1]-s[1])-(i[1]-r[1])*(o[0]-s[0])),l=s[0]-o[0]?(i[0]-o[0]+a*(r[0]-i[0]))/(s[0]-o[0]):(i[1]-o[1]+a*(r[1]-i[1]))/(s[1]-o[1]);return t||(0,SJ.isBetween)(a,0,1)&&(0,SJ.isBetween)(l,0,1)?[i[0]+a*(r[0]-i[0]),i[1]+a*(r[1]-i[1])]:void 0};const SJ=F1,q9=Vo;function DJ(n,e){const[t,i]=n,[r,o]=e,s=(0,q9.subtract)(t,i),a=(0,q9.subtract)(r,o);return(0,q9.cross)(s,a).every(l=>0===l)}Object.defineProperty(qr,"__esModule",{value:!0});var cy=qr.parsePoint=function D_t(n){var e;return[n.x,n.y,null!==(e=n.z)&&void 0!==e?e:0]};qr.toPointObject=function O_t(n){var e;return{x:n[0],y:n[1],z:null!==(e=n[2])&&void 0!==e?e:0}},qr.sortByX=function T_t(n){return n.sort((e,t)=>e[0]-t[0]||e[1]-t[1])},qr.deduplicate=function A_t(n){const e=new Set;return n.filter(t=>{const i=t.join(",");return!e.has(i)&&(e.add(i),!0)})},qr.round=function k_t(n,e=0){return n.map(t=>parseFloat(t.toFixed(e)))},qr.moveTo=function I_t(n,e,t,i=!1){if((0,S_t.isEqual)(n,e))return n;const r=i?(0,$u.subtract)(n,e):(0,$u.subtract)(e,n),o=(0,$u.normalize)(r),s=[o[0]*t,o[1]*t];return(0,$u.add)((0,$u.toVector2)(n),s)},qr.isHorizontal=AJ,qr.isVertical=kJ,qr.isOrthogonal=function R_t(n,e){return AJ(n,e)||kJ(n,e)},qr.isCollinear=function P_t(n,e,t){return(0,TJ.isLinesParallel)([n,e],[e,t])},qr.getSymmetricPoint=J9,qr.getPolygonIntersectPoint=IJ,qr.isPointInPolygon=function N_t(n,e,t,i){const r=n[0],o=n[1];let s=!1;void 0===t&&(t=0),void 0===i&&(i=e.length);const a=i-t;for(let l=0,u=a-1;l<a;u=l++){const h=e[l+t][0],p=e[l+t][1],y=e[u+t][1];p>o!=y>o&&r<(e[u+t][0]-h)*(o-p)/(y-p)+h&&(s=!s)}return s},qr.getRectIntersectPoint=function L_t(n,e,t=!1){return IJ(n,(0,sM.getXYByPlacement)(e,"center"),[(0,sM.getXYByPlacement)(e,"left-top"),(0,sM.getXYByPlacement)(e,"right-top"),(0,sM.getXYByPlacement)(e,"right-bottom"),(0,sM.getXYByPlacement)(e,"left-bottom")],!1,t).point},qr.getEllipseIntersectPoint=function F_t(n,e,t=!1){const i=e.center,r=t?J9(n,i):n,o=(0,$u.subtract)(r,e.center),s=Math.atan2(o[1],o[0]);if(isNaN(s))return i;const a=(0,OJ.getBBoxWidth)(e)/2,l=(0,OJ.getBBoxHeight)(e)/2;return[i[0]+a*Math.cos(s),i[1]+l*Math.sin(s)]},qr.findNearestPoints=function B_t(n,e){let t=1/0,i=[n[0],e[0]];return n.forEach(r=>{e.forEach(o=>{const s=(0,$u.distance)(r,o);s<t&&(t=s,i=[r,o])})}),i},qr.findNearestLine=function j_t(n,e){let t=1/0,i=[[0,0],[0,0]];return e.forEach(r=>{const o=RJ(n,r);o<t&&(t=o,i=r)}),i},qr.getDistanceToLine=RJ,qr.findNearestPointOnLine=PJ,qr.centerOf=NJ,qr.sortByClockwise=function V_t(n,e=!0){const t=NJ(n);return n.sort(([i,r],[o,s])=>{const a=Math.atan2(r-t[1],i-t[0]),l=Math.atan2(s-t[1],o-t[0]);return e?l-a:a-l})},qr.getBoundingPoints=function z_t(n,e){return[n,[n[0],e[1]],e,[e[0],n[1]]]};const S_t=Ua,OJ=Oo,TJ=oM,sM=tu,$u=Vo;function AJ(n,e){return n[1]===e[1]}function kJ(n,e){return n[0]===e[0]}function J9(n,e){return[2*e[0]-n[0],2*e[1]-n[1]]}function IJ(n,e,t,i=!0,r=!1){for(let o=0;o<t.length;o++){let s=t[o],a=t[(o+1)%t.length];i&&(s=(0,$u.add)(e,s),a=(0,$u.add)(e,a));const l=r?J9(n,e):n,u=(0,TJ.getLinesIntersection)([e,l],[s,a]);if(u)return{point:u,line:[s,a]}}return{point:e,line:void 0}}function RJ(n,e){const t=PJ(n,e);return(0,$u.distance)(n,t)}function PJ(n,e){const[t,i]=e[0],[r,o]=e[1],[s,a]=n,l=r-t,u=o-i;if(0===l&&0===u)return[t,i];let h=((s-t)*l+(a-i)*u)/(l*l+u*u);return h>1?h=1:h<0&&(h=0),[t+h*l,i+h*u]}function NJ(n){const e=n.reduce((t,i)=>(0,$u.add)(t,i),[0,0]);return(0,$u.divide)(e,n.length)}var uy={};Object.defineProperty(uy,"__esModule",{value:!0}),uy.getWordWrapWidthWithBase=tz,uy.getWordWrapWidthByBox=function G_t(n,e,t=1,i=!1){return tz((n.max[0]-n.min[0])*(i?t:1),e)},uy.getWordWrapWidthByEnds=function H_t(n,e,t=1){return tz((0,U_t.distance)(n[0],n[1])*t,e)};const U_t=Vo;function tz(n,e){let t=2*n;return"string"==typeof e?t=n*Number(e.replace("%",""))/100:"number"==typeof e&&(t=e),isNaN(t)&&(t=2*n),t}var eP={};Object.defineProperty(eP,"__esModule",{value:!0}),eP.setVisibility=function $_t(n,e,t=!1,i){if(void 0===e)return;const r=(o,s=e)=>{const a=(l=s)=>o.childNodes.forEach(u=>r(u,l));if(i&&!i(o))return a();if(t||o!==n){aM.has(o)||aM.set(o,o.style.visibility);const l="hidden"===s||"hidden"===function W_t(n){return aM.has(n)?aM.get(n):n.style.visibility}(o)?"hidden":"visible";o.style.visibility=l,a(l)}else n.style.visibility=e,aM.delete(n),a(e)};r(n)};const aM=new WeakMap;var lM={},LJ={},cM={},uM={},dy={},ez={};Object.defineProperty(ez,"__esModule",{value:!0}),ez.themeOf=function Z_t(n){const{theme:e}=n;return e?(0,X_t.getExtension)(K_t.ExtensionCategory.THEME,e)||(Y_t.print.warn(`The theme of ${e} is not registered.`),{}):{}};const K_t=j1,X_t=ly,Y_t=G1;Object.defineProperty(dy,"__esModule",{value:!0}),dy.createAnimationsProxy=function t1t(n,e){if(Array.isArray(n)&&0===n.length)return null;const t=Array.isArray(n)?n[0]:n,i=Array.isArray(n)?n.slice(1):e||[];return new Proxy(t,{get:(r,o)=>"function"!=typeof r[o]||["onframe","onfinish"].includes(o)?"finished"===o?Promise.all([t.finished,...i.map(s=>s.finished)]):Reflect.get(r,o):(...s)=>{r[o](...s),i.forEach(a=>{var l;return null===(l=a[o])||void 0===l?void 0:l.call(a,...s)})},set:(r,o,s)=>(["onframe","onfinish"].includes(o)||i.forEach(a=>{a[o]=s}),Reflect.set(r,o,s))})},dy.preprocessKeyframes=function e1t(n){const e=n.reduce((i,r)=>(Object.entries(r).forEach(([o,s])=>{void 0===i[o]?i[o]=[s]:i[o].push(s)}),i),{});Object.entries(e).forEach(([i,r])=>{(r.length!==n.length||r.some(o=>(0,$1.isNil)(o))||r.every(o=>!["sourceNode","targetNode","childrenNode"].includes(i)&&(0,$1.isEqual)(o,r[0])))&&delete e[i]});const t=Object.entries(e).reduce((i,[r,o])=>(o.forEach((s,a)=>{i[a]?i[a][r]=s:i[a]={[r]:s}}),i),[]);return 0!==n.length&&0===t.length&&t.push({_:0},{_:0}),t},dy.inferDefaultValue=function n1t(n){switch(n){case"opacity":return 1;case"x":case"y":case"z":case"zIndex":return 0;case"visibility":return"visible";case"collapsed":return!1;case"states":return[];default:return}},dy.getAnimationOptions=function i1t(n,e){const{animation:t}=n;if(!1===t||!1===e)return!1;const i=Object.assign({},nz.DEFAULT_ANIMATION_OPTIONS);return(0,$1.isObject)(t)&&Object.assign(i,t),(0,$1.isObject)(e)&&Object.assign(i,e),i},dy.getElementAnimationOptions=function o1t(n,e,t,i){var r,o;const{animation:s}=n,a=null===(r=n?.[e])||void 0===r?void 0:r.animation;if(!1===a)return[];const l=a?.[t];if(!1===l)return[];if(!1===s||!1===i)return[];const u=null===(o=(0,J_t.themeOf)(n)[e])||void 0===o?void 0:o.animation,h=(v=[])=>function r1t(n){return"string"==typeof n?(0,Q_t.getExtension)(nz.ExtensionCategory.ANIMATION,n)||(q_t.print.warn(`The animation of ${n} is not registered.`),[]):n}(v).map(y=>Object.assign(Object.assign(Object.assign(Object.assign({},nz.DEFAULT_ELEMENTS_ANIMATION_OPTIONS),(0,$1.isObject)(s)&&s),y),(0,$1.isObject)(i)&&i));if(l)return h(l);if(!u)return[];const p=u[t];return!1===p?[]:h(p)};const $1=Ua,nz=j1,Q_t=ly,q_t=G1,J_t=ez;var FJ,iz={};function dM(){if(FJ)return uM;FJ=1,Object.defineProperty(uM,"__esModule",{value:!0}),uM.BaseShape=void 0;const n=ai,e=Ua,t=j1,i=dy,r=wp(),o=Ws,s=G1,a=ms,l=iz,u=eP,h=ly;function v(y,b){b?.finished.then(()=>{const E=y.activeAnimations.findIndex(w=>w===b);E>-1&&y.activeAnimations.splice(E,1)})}return uM.BaseShape=class p extends n.CustomElement{constructor(b){super(b),this.shapeMap={},this.animateMap={},this.transformPosition(this.attributes),this.render(this.attributes,this),this.setVisibility(),this.bindEvents()}get parsedAttributes(){return this.attributes}upsert(b,E,w,S,C){var D,k,T,I,F,z,V,K;const Y=this.shapeMap[b];if(!1===w)return void(Y&&(null===(D=C?.beforeDestroy)||void 0===D||D.call(C,Y),S.removeChild(Y),delete this.shapeMap[b],null===(k=C?.afterDestroy)||void 0===k||k.call(C,Y)));const Q="string"==typeof E?(0,h.getExtension)(t.ExtensionCategory.SHAPE,E):E;if(!Q)throw new Error((0,s.format)(`Shape ${E} not found`));if(!Y||Y.destroyed||!(Y instanceof Q)){Y&&(null===(T=C?.beforeDestroy)||void 0===T||T.call(C,Y),Y?.destroy(),null===(I=C?.afterDestroy)||void 0===I||I.call(C,Y)),null===(F=C?.beforeCreate)||void 0===F||F.call(C);const at=new Q({className:b,style:w});return S.appendChild(at),this.shapeMap[b]=at,null===(z=C?.afterCreate)||void 0===z||z.call(C,at),at}return null===(V=C?.beforeUpdate)||void 0===V||V.call(C,Y),(0,r.updateStyle)(Y,w),null===(K=C?.afterUpdate)||void 0===K||K.call(C,Y),Y}transformPosition(b){if("x"in b||"y"in b||"z"in b){const{x:E=0,y:w=0,z:S=0,transform:C}=b;this.style.transform=(0,l.replaceTranslateInTransform)(+E,+w,+S,C)}}update(b={}){const E=Object.assign({},this.attributes,b);this.attr(E),this.render(E,this),this.transformPosition(E),this.setVisibility()}bindEvents(){}getGraphicStyle(b){return(0,a.getSubShapeStyle)(b)}get compositeShapes(){return[["badges","badge-"],["ports","port-"]]}animate(b,E){if(0===b.length)return null;const w=[];if(void 0!==b[0].x||void 0!==b[0].y||void 0!==b[0].z){const{x:C=0,y:D=0,z:k=0}=this.attributes;b.forEach(T=>{const{x:I=C,y:F=D,z=k}=T;Object.assign(T,{transform:z?[["translate3d",I,F,z]]:[["translate",I,F]]})})}const S=super.animate(b,E);if(S&&(v(this,S),w.push(S)),Array.isArray(b)&&b.length>0){const C=["transform","transformOrigin","x","y","z","zIndex"];if(Object.keys(b[0]).some(D=>!C.includes(D))){Object.entries(this.shapeMap).forEach(([k,T])=>{const F=this[`get${(0,e.upperFirst)(k)}Style`];if((0,e.isFunction)(F)){const z=b.map(K=>F.call(this,Object.assign(Object.assign({},this.attributes),K))),V=T.animate((0,i.preprocessKeyframes)(z),E);V&&(v(T,V),w.push(V))}});const D=(k,T)=>{if(!(0,e.isEmpty)(k)){const F=this[`get${(0,e.upperFirst)(T)}Style`];if((0,e.isFunction)(F)){const z=b.map(V=>F.call(this,Object.assign(Object.assign({},this.attributes),V)));Object.entries(z[0]).map(([V])=>{const K=z.map(Q=>Q[V]),Y=k[V];if(Y){const Q=Y.animate((0,i.preprocessKeyframes)(K),E);Q&&(v(Y,Q),w.push(Q))}})}}};this.compositeShapes.forEach(([k,T])=>{const I=(0,o.subObject)(this.shapeMap,T);D(I,k)})}}return(0,i.createAnimationsProxy)(w)}getShape(b){return this.shapeMap[b]}setVisibility(){const{visibility:b}=this.attributes;(0,u.setVisibility)(this,b,!0)}destroy(){this.shapeMap={},this.animateMap={},super.destroy()}},uM}Object.defineProperty(iz,"__esModule",{value:!0}),iz.replaceTranslateInTransform=function s1t(n,e,t,i){if(Array.isArray(i)){let o=!1;const s=i.map(a=>"translate"===a[0]?(o=!0,["translate",n,e]):"translate3d"===a[0]?(o=!0,["translate3d",n,e,t]):a);return o||s.splice(0,0,0===t?["translate",n,e]:["translate3d",n,e,t]),s}const r=i?i.replace(/translate(3d)?\([^)]*\)/g,""):"";return 0===t?`translate(${n}, ${e})${r}`:`translate3d(${n}, ${e}, ${t})${r}`};var BJ,jJ,hM={};function rz(){if(BJ)return hM;BJ=1;var n=br&&br.__rest||function(a,l){var u={};for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&l.indexOf(h)<0&&(u[h]=a[h]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(h=Object.getOwnPropertySymbols(a);p<h.length;p++)l.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(a,h[p])&&(u[h[p]]=a[h[p]])}return u};Object.defineProperty(hM,"__esModule",{value:!0}),hM.Label=void 0;const e=ai,t=ay,i=Ws,r=ms,o=dM();class s extends o.BaseShape{constructor(l){super((0,r.mergeOptions)({style:s.defaultStyleProps},l))}isTextStyle(l){return(0,i.startsWith)(l,"label")}isBackgroundStyle(l){return(0,i.startsWith)(l,"background")}getTextStyle(l){const u=this.getGraphicStyle(l),h=n(u,["padding"]);return(0,i.omitStyleProps)(h,"background")}getBackgroundStyle(l){if(!1===l.background)return!1;const u=this.getGraphicStyle(l),{wordWrap:h,wordWrapWidth:p,padding:v}=u,y=(0,i.subStyleProps)(u,"background"),{min:[b,E],center:[w,S],halfExtents:[C,D]}=this.shapeMap.text.getGeometryBounds(),[k,T,I,F]=(0,t.parsePadding)(v),z=2*C+F+T,{width:V,height:K}=y;Object.assign(y,V&&K?{x:w-Number(V)/2,y:S-Number(K)/2}:{x:b-F,y:E-k,width:h?Math.min(z,p+F+T):z,height:2*D+k+I});const{radius:Y}=y;if("string"==typeof Y&&Y.endsWith("%")){const Q=Number(Y.replace("%",""))/100;y.radius=Math.min(+y.width,+y.height)*Q}return y}render(l=this.parsedAttributes,u=this){this.upsert("text",e.Text,this.getTextStyle(l),u),this.upsert("background",e.Rect,this.getBackgroundStyle(l),u)}getGeometryBounds(){return(this.getShape("background")||this.getShape("text")).getGeometryBounds()}}return hM.Label=s,s.defaultStyleProps={padding:0,fontSize:12,fontFamily:"system-ui, sans-serif",wordWrap:!0,maxLines:1,wordWrapWidth:128,textOverflow:"...",textBaseline:"middle",backgroundOpacity:.75,backgroundZIndex:-1,backgroundLineWidth:0},hM}var fM={},oz={},hy={};Object.defineProperty(hy,"__esModule",{value:!0}),hy.getClosedSpline=void 0,hy.pointsToPath=function l1t(n,e=!0){const t=[];return n.forEach((i,r)=>{t.push([0===r?"M":"L",...i])}),e&&t.push(["Z"]),t},hy.parsePath=zJ,hy.pathToPoints=function c1t(n){const e=[];return("string"==typeof n?zJ(n):n).forEach(t=>{const i=t[0];if("Z"!==i)if("A"!==i)for(let r=1;r<t.length;r+=2)e.push([t[r],t[r+1],0]);else{const r=t.length;e.push([t[r-2],t[r-1],0])}else e.push(e[0])}),e};const VJ={M:["x","y"],m:["dx","dy"],H:["x"],h:["dx"],V:["y"],v:["dy"],L:["x","y"],l:["dx","dy"],Z:[],z:[],C:["x1","y1","x2","y2","x","y"],c:["dx1","dy1","dx2","dy2","dx","dy"],S:["x2","y2","x","y"],s:["dx2","dy2","dx","dy"],Q:["x1","y1","x","y"],q:["dx1","dy1","dx","dy"],T:["x","y"],t:["dx","dy"],A:["rx","ry","rotation","large-arc","sweep","x","y"],a:["rx","ry","rotation","large-arc","sweep","dx","dy"]};function zJ(n){const e=n.replace(/[\n\r]/g,"").replace(/-/g," -").replace(/(\d*\.)(\d+)(?=\.)/g,"$1$2 ").trim().split(/\s*,|\s+/),t=[];let i="",r={};for(;e.length>0;){let o=e.shift();o in VJ?i=o:e.unshift(o),r={type:i},VJ[i].forEach(l=>{o=e.shift(),r[l]=o}),"M"===i?i="L":"m"===i&&(i="l");const[s,...a]=Object.values(r);t.push([s,...a.map(Number)])}return t}hy.getClosedSpline=n=>{if(n.length<2)return[["M",0,0],["L",0,0]];const e=n[0],t=n[1],i=n[n.length-1];n.unshift(n[n.length-2],i),n.push(e,t);const o=[["M",i[0],i[1]]];for(let s=1;s<n.length-2;s+=1){const[a,l]=n[s-1],[u,h]=n[s],[p,v]=n[s+1],[y,b]=s!==n.length-2?n[s+2]:[p,v];o.push(["C",u+(p-a)/6,h+(v-l)/6,p-(y-u)/6,v-(b-h)/6,p,v])}return o},Object.defineProperty(oz,"__esModule",{value:!0}),oz.getPolygonTextStyleByPlacement=function p1t(n,e,t,i,r,o,s){const[a,l]=(0,f1t.getXYByPlacement)(n,e),u={textAlign:"left"===e?"right":"right"===e?"left":"center",textBaseline:"top"===e?"bottom":"bottom"===e?"top":"middle",transform:[["translate",a+t,l+i]]};if("center"===e||!r)return u;const h=(0,h1t.pathToPoints)(o);if(!h||h.length<=3)return u;const p=h.map((b,E)=>{const w=b,S=h[(E+1)%h.length];return(0,d1t.isEqual)(w,S)?null:[w,S]}).filter(Boolean),v=(0,UJ.findNearestLine)([a,l],p),y=(0,UJ.findNearestPointOnLine)([a,l],v);if(y&&v&&(u.transform=[["translate",y[0]+t,y[1]+i]],s)){const b=Math.atan((v[0][1]-v[1][1])/(v[0][0]-v[1][0]));u.transform.push(["rotate",b/Math.PI*180]),u.textAlign="center",("right"===e||"left"===e)&&(u.textBaseline=b>0?"right"===e?"bottom":"top":"right"===e?"top":"bottom")}return u};const d1t=Ua,h1t=hy,UJ=qr,f1t=tu;var GJ,pM={},Wu={},nP={};Object.defineProperty(nP,"__esModule",{value:!0}),nP.getDescendantShapes=function g1t(n){const e=[],t=i=>{null!=i&&i.children.length&&i.children.forEach(r=>{e.push(r),t(r)})};return t(n),e},nP.getAncestorShapes=function v1t(n){const e=[];let t=n.parentNode;for(;t;)e.push(t),t=t.parentNode;return e},Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.dispatchPositionChange=Wu.connectImage=Wu.Image=void 0;const iP=ai,y1t=nP;Wu.Image=class extends iP.Image{constructor(n){super(n),this.onMounted=()=>{this.handleRadius()},this.onAttrModified=()=>{this.handleRadius()},W1=this,this.isMutationObserved=!0,this.addEventListener(iP.ElementEvent.MOUNTED,this.onMounted),this.addEventListener(iP.ElementEvent.ATTR_MODIFIED,this.onAttrModified)}handleRadius(){const{radius:n,clipPath:e,width:t=0,height:i=0}=this.attributes;if(n&&t&&i){const[r,o]=this.getBounds().min,s={x:r,y:o,radius:n,width:t,height:i};if(e)Object.assign(this.parsedStyle.clipPath.style,s);else{const a=new iP.Rect({style:s});this.style.clipPath=a}}else e&&(this.style.clipPath=null)}};const sz=new WeakMap;let W1=null;var HJ,$J,WJ,XJ;function mM(){return $J||($J=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Label=n.Image=n.Icon=n.Contour=n.BaseShape=n.Badge=void 0;var e=function a1t(){if(jJ)return cM;jJ=1,Object.defineProperty(cM,"__esModule",{value:!0}),cM.Badge=void 0;const n=ms,e=dM(),t=rz();class i extends e.BaseShape{constructor(o){super((0,n.mergeOptions)({style:i.defaultStyleProps},o))}getBadgeStyle(o){return this.getGraphicStyle(o)}render(o=this.parsedAttributes,s=this){this.upsert("label",t.Label,this.getBadgeStyle(o),s)}getGeometryBounds(){const o=this.getShape("label");return(o.getShape("background")||o.getShape("text")).getGeometryBounds()}}return cM.Badge=i,i.defaultStyleProps={padding:[2,4,2,4],fontSize:10,wordWrap:!1,backgroundRadius:"50%",backgroundOpacity:1},cM}();Object.defineProperty(n,"Badge",{enumerable:!0,get:function(){return e.Badge}});var t=dM();Object.defineProperty(n,"BaseShape",{enumerable:!0,get:function(){return t.BaseShape}});var i=function m1t(){if(GJ)return fM;GJ=1;var n=br&&br.__rest||function(u,h){var p={};for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&h.indexOf(v)<0&&(p[v]=u[v]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(v=Object.getOwnPropertySymbols(u);y<v.length;y++)h.indexOf(v[y])<0&&Object.prototype.propertyIsEnumerable.call(u,v[y])&&(p[v[y]]=u[v[y]])}return p};Object.defineProperty(fM,"__esModule",{value:!0}),fM.Contour=void 0;const e=ai,t=oz,i=Ws,r=ms,o=uy,s=dM(),a=rz();class l extends s.BaseShape{constructor(h){super((0,r.mergeOptions)({style:l.defaultStyleProps},h))}getLabelStyle(h){if(!h.label||!h.d||0===h.d.length)return!1;const p=(0,i.subStyleProps)(this.getGraphicStyle(h),"label"),{maxWidth:v,offsetX:y,offsetY:b,autoRotate:E,placement:w,closeToPath:S}=p,C=n(p,["maxWidth","offsetX","offsetY","autoRotate","placement","closeToPath"]),D=this.shapeMap.key,k=D?.getRenderBounds();return Object.assign((0,t.getPolygonTextStyleByPlacement)(k,w,y,b,S,h.d,E),{wordWrapWidth:(0,o.getWordWrapWidthByBox)(k,v)},C)}getKeyStyle(h){return this.getGraphicStyle(h)}render(h,p){this.upsert("key",e.Path,this.getKeyStyle(h),p),this.upsert("label",a.Label,this.getLabelStyle(h),p)}}return fM.Contour=l,l.defaultStyleProps={label:!0,labelPlacement:"bottom",labelCloseToPath:!0,labelAutoRotate:!0,labelOffsetX:0,labelOffsetY:0},fM}();Object.defineProperty(n,"Contour",{enumerable:!0,get:function(){return i.Contour}});var r=function w1t(){if(HJ)return pM;HJ=1,Object.defineProperty(pM,"__esModule",{value:!0}),pM.Icon=void 0;const n=ai,e=dM(),t=Wu;return pM.Icon=class i extends e.BaseShape{constructor(o){super(o)}isImage(){const{src:o}=this.attributes;return!!o}getIconStyle(o=this.attributes){const{width:s=0,height:a=0}=o,l=this.getGraphicStyle(o);return this.isImage()?Object.assign({x:-s/2,y:-a/2},l):Object.assign({textBaseline:"middle",textAlign:"center"},l)}render(o=this.attributes,s=this){this.upsert("icon",this.isImage()?t.Image:n.Text,this.getIconStyle(o),s)}},pM}();Object.defineProperty(n,"Icon",{enumerable:!0,get:function(){return r.Icon}});var o=Wu;Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return o.Image}});var s=rz();Object.defineProperty(n,"Label",{enumerable:!0,get:function(){return s.Label}})}(LJ)),LJ}function KJ(){if(WJ)return lM;WJ=1,Object.defineProperty(lM,"__esModule",{value:!0}),lM.BaseElement=void 0;const n=mM();return lM.BaseElement=class e extends n.BaseShape{get context(){return this.attributes.context}get parsedAttributes(){return this.attributes}onframe(){}animate(i,r){const o=super.animate(i,r);return o&&(o.onframe=()=>this.onframe(),o.finished.then(()=>this.onframe())),o}},lM}function fy(){if(XJ)return rM;XJ=1;var n=br&&br.__rest||function(S,C){var D={};for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&C.indexOf(k)<0&&(D[k]=S[k]);if(null!=S&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(k=Object.getOwnPropertySymbols(S);T<k.length;T++)C.indexOf(k[T])<0&&Object.prototype.propertyIsEnumerable.call(S,k[T])&&(D[k[T]]=S[k[T]])}return D};Object.defineProperty(rM,"__esModule",{value:!0}),rM.BaseNode=void 0;const e=ai,t=wp(),i=Q9,r=H1,o=qr,s=Ws,a=Ng,l=ms,u=uy,h=eP,p=KJ(),v=iM,y=mM(),b=Wu;class E extends p.BaseElement{constructor(C){super((0,l.mergeOptions)({style:E.defaultStyleProps},C)),this.type="node"}getSize(C=this.attributes){const{size:D}=C;return(0,a.parseSize)(D)}getKeyStyle(C){const D=this.getGraphicStyle(C);return Object.assign((0,s.omitStyleProps)(D,["label","halo","icon","badge","port"]))}getLabelStyle(C){if(!1===C.label||!C.labelText)return!1;const D=(0,s.subStyleProps)(this.getGraphicStyle(C),"label"),{placement:k,maxWidth:T,offsetX:I,offsetY:F}=D,z=n(D,["placement","maxWidth","offsetX","offsetY"]),V=this.getShape("key").getLocalBounds();return Object.assign((0,t.getTextStyleByPlacement)(V,k,I,F),{wordWrapWidth:(0,u.getWordWrapWidthByBox)(V,T)},z)}getHaloStyle(C){if(!1===C.halo)return!1;const D=this.getKeyStyle(C),{fill:k}=D,T=n(D,["fill"]),I=(0,s.subStyleProps)(this.getGraphicStyle(C),"halo");return Object.assign(Object.assign(Object.assign({},T),{stroke:k}),I)}getIconStyle(C){if(!1===C.icon||!C.iconText&&!C.iconSrc)return!1;const D=(0,s.subStyleProps)(this.getGraphicStyle(C),"icon");return Object.assign((0,i.inferIconStyle)(C.size,D),D)}getBadgesStyle(C){var D;const k=(0,s.subObject)(this.shapeMap,"badge-"),T={};if(Object.keys(k).forEach(Q=>{T[Q]=!1}),!1===C.badge||null===(D=C.badges)||void 0===D||!D.length)return T;const{badges:I=[],badgePalette:F,opacity:z=1}=C,V=n(C,["badges","badgePalette","opacity"]),K=(0,r.getPaletteColors)(F),Y=(0,s.subStyleProps)(this.getGraphicStyle(V),"badge");return I.forEach((Q,at)=>{T[at]=Object.assign(Object.assign({backgroundFill:K?K[at%K?.length]:void 0,opacity:z},Y),this.getBadgeStyle(Q))}),T}getBadgeStyle(C){const D=this.getShape("key"),{placement:k="top",offsetX:T,offsetY:I}=C,F=n(C,["placement","offsetX","offsetY"]),z=(0,t.getTextStyleByPlacement)(D.getLocalBounds(),k,T,I,!0);return Object.assign(Object.assign({},z),F)}getPortsStyle(C){var D;const k=this.getPorts(),T={};if(Object.keys(k).forEach(z=>{T[z]=!1}),!1===C.port||null===(D=C.ports)||void 0===D||!D.length)return T;const I=(0,s.subStyleProps)(this.getGraphicStyle(C),"port"),{ports:F=[]}=C;return F.forEach((z,V)=>{const K=z.key||V,Y=Object.assign(Object.assign({},I),z);if((0,t.isSimplePort)(Y))T[K]=!1;else{const[Q,at]=this.getPortXY(C,z);T[K]=Object.assign({transform:[["translate",Q,at]]},Y)}}),T}getPortXY(C,D){const{placement:k="left"}=D,T=this.getShape("key");return(0,t.getPortXYByPlacement)(function w(S,C){if(!S)return C.getLocalBounds();const D=S.canvas.getLayer(),k=C.cloneNode();(0,h.setVisibility)(k,"hidden"),D.appendChild(k);const T=k.getLocalBounds();return D.removeChild(k),T}(this.context,T),k)}getPorts(){return(0,s.subObject)(this.shapeMap,"port-")}getCenter(){return this.getShape("key").getBounds().center}getIntersectPoint(C,D=!1){const k=this.getShape("key").getBounds();return(0,o.getRectIntersectPoint)(C,k,D)}drawHaloShape(C,D){const k=this.getHaloStyle(C);if(!(0,v.effect)(this,"halo",k))return;const T=this.getShape("key");this.upsert("halo",T.constructor,k,D)}drawIconShape(C,D){const k=this.getIconStyle(C);(0,v.effect)(this,"icon",k)&&(this.upsert("icon",y.Icon,k,D),(0,b.connectImage)(this))}drawBadgeShapes(C,D){const k=this.getBadgesStyle(C);Object.keys(k).forEach(T=>{const I=k[T];(0,v.effect)(this,`badge-${T}`,I)&&this.upsert(`badge-${T}`,y.Badge,I,D)})}drawPortShapes(C,D){const k=this.getPortsStyle(C);Object.keys(k).forEach(T=>{const I=k[T],F=`port-${T}`;(0,v.effect)(this,F,I)&&this.upsert(F,e.Circle,I,D)})}drawLabelShape(C,D){const k=this.getLabelStyle(C);(0,v.effect)(this,"label",k)&&this.upsert("label",y.Label,k,D)}_drawKeyShape(C,D){return this.drawKeyShape(C,D)}render(C=this.parsedAttributes,D=this){this._drawKeyShape(C,D),this.getShape("key")&&(this.drawHaloShape(C,D),this.drawIconShape(C,D),this.drawBadgeShapes(C,D),this.drawLabelShape(C,D),this.drawPortShapes(C,D))}update(C){super.update(C),C&&("x"in C||"y"in C||"z"in C)&&(0,b.dispatchPositionChange)(this)}onframe(){this.drawBadgeShapes(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this)}}return rM.BaseNode=E,E.defaultStyleProps={x:0,y:0,size:32,droppable:!0,draggable:!0,port:!0,ports:[],portZIndex:2,portLinkToCenter:!1,badge:!0,badges:[],badgeZIndex:3,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloStrokeOpacity:.25,haloPointerEvents:"none",haloZIndex:-1,icon:!0,iconZIndex:1,label:!0,labelIsBillboard:!0,labelMaxWidth:"200%",labelPlacement:"bottom",labelWordWrap:!1,labelZIndex:0},rM}Wu.connectImage=n=>{if(W1&&(0,y1t.getAncestorShapes)(W1).includes(n)){const e=sz.get(n);e?e.includes(W1)||e.push(W1):sz.set(n,[W1])}},Wu.dispatchPositionChange=n=>{const e=sz.get(n);e&&e.forEach(t=>t.handleRadius())};var gM={},Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});var YJ,az=Ku.ELEMENT_TYPES=Ku.ICON_SIZE_RATIO=void 0;function ZJ(){if(YJ)return gM;YJ=1,Object.defineProperty(gM,"__esModule",{value:!0}),gM.Circle=void 0;const n=ai,e=Ku,t=qr,i=ms,r=fy();class o extends r.BaseNode{constructor(a){super((0,i.mergeOptions)({style:o.defaultStyleProps},a))}drawKeyShape(a,l){return this.upsert("key",n.Circle,this.getKeyStyle(a),l)}getKeyStyle(a){const l=super.getKeyStyle(a);return Object.assign(Object.assign({},l),{r:Math.min(...this.getSize(a))/2})}getIconStyle(a){const l=super.getIconStyle(a),{r:u}=this.getShape("key").attributes,h=2*u*e.ICON_SIZE_RATIO;return!!l&&Object.assign({width:h,height:h},l)}getIntersectPoint(a,l=!1){const u=this.getShape("key").getBounds();return(0,t.getEllipseIntersectPoint)(a,u,l)}}return gM.Circle=o,o.defaultStyleProps={size:32},gM}Ku.ICON_SIZE_RATIO=.8,az=Ku.ELEMENT_TYPES=["node","edge","combo"];var QJ,qJ,vM={},yM={};function rP(){if(QJ)return yM;QJ=1,Object.defineProperty(yM,"__esModule",{value:!0}),yM.Polygon=void 0;const n=ai,e=qr,t=fy();return yM.Polygon=class i extends t.BaseNode{constructor(o){super(o)}get parsedAttributes(){return this.attributes}drawKeyShape(o,s){return this.upsert("key",n.Polygon,this.getKeyStyle(o),s)}getKeyStyle(o){const s=super.getKeyStyle(o);return Object.assign(Object.assign({},s),{points:this.getPoints(o)})}getIntersectPoint(o,s=!1){var a,l;const{points:u}=this.getShape("key").attributes,h=[+((null===(a=this.attributes)||void 0===a?void 0:a.x)||0),+((null===(l=this.attributes)||void 0===l?void 0:l.y)||0)];return(0,e.getPolygonIntersectPoint)(o,h,u,!0,s).point}},yM}var JJ,bM={};var ttt,ett,_M={},EM={},wM={};const D1t=fh(n4);var ntt,itt,rtt,ott,stt,att,ctt,xM={},CM={},MM={},SM={};function ltt(){return att||(att=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Triangle=n.Star=n.Rect=n.Image=n.HTML=n.Hexagon=n.Ellipse=n.Donut=n.Diamond=n.Circle=n.BaseNode=void 0;var e=fy();Object.defineProperty(n,"BaseNode",{enumerable:!0,get:function(){return e.BaseNode}});var t=ZJ();Object.defineProperty(n,"Circle",{enumerable:!0,get:function(){return t.Circle}});var i=function x1t(){if(qJ)return vM;qJ=1,Object.defineProperty(vM,"__esModule",{value:!0}),vM.Diamond=void 0;const n=wp(),e=rP();return vM.Diamond=class t extends e.Polygon{constructor(r){super(r)}getPoints(r){const[o,s]=this.getSize(r);return(0,n.getDiamondPoints)(o,s)}},vM}();Object.defineProperty(n,"Diamond",{enumerable:!0,get:function(){return i.Diamond}});var r=function C1t(){if(JJ)return bM;JJ=1;var n=br&&br.__rest||function(y,b){var E={};for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&b.indexOf(w)<0&&(E[w]=y[w]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(w=Object.getOwnPropertySymbols(y);S<w.length;S++)b.indexOf(w[S])<0&&Object.prototype.propertyIsEnumerable.call(y,w[S])&&(E[w[S]]=y[w[S]])}return E};Object.defineProperty(bM,"__esModule",{value:!0}),bM.Donut=void 0;const e=ai,t=Ua,i=H1,r=Ws,o=Ng,s=ms,a=ZJ();class l extends a.Circle{constructor(b){super((0,s.mergeOptions)({style:l.defaultStyleProps},b))}parseOuterR(){const{size:b}=this.parsedAttributes;return Math.min(...(0,o.parseSize)(b))/2}parseInnerR(){const{innerR:b}=this.parsedAttributes;return(0,t.isString)(b)?parseInt(b)/100*this.parseOuterR():b}drawDonutShape(b,E){const{donuts:w}=b;if(null==w||!w.length)return;const S=w.map(z=>(0,t.isNumber)(z)?{value:z}:z),C=(0,r.subStyleProps)(this.getGraphicStyle(b),"donut"),D=(0,i.getPaletteColors)(b.donutPalette);if(!D)return;const k=S.reduce((z,V)=>{var K;return z+(null!==(K=V.value)&&void 0!==K?K:0)},0),T=this.parseOuterR(),I=this.parseInnerR();let F=0;S.forEach((z,V)=>{const{value:K=0,color:Y=D[V%D.length]}=z,Q=n(z,["value","color"]),at=360*(0===k?1/S.length:K/k);this.upsert(`round${V}`,e.Path,Object.assign(Object.assign(Object.assign({},C),{d:v(T,I,F,F+at),fill:Y}),Q),E),F+=at})}render(b,E=this){super.render(b,E),this.drawDonutShape(b,E)}}bM.Donut=l,l.defaultStyleProps={innerR:"50%",donuts:[],donutPalette:"tableau"};const u=(y,b,E,w)=>[y+Math.sin(w)*E,b-Math.cos(w)*E],v=(y=0,b=0,E,w)=>{const[S,C]=[0,0];return Math.abs(E-w)%360<1e-6?((y,b,E,w)=>w<=0||E<=w?[["M",y-E,b],["A",E,E,0,1,1,y+E,b],["A",E,E,0,1,1,y-E,b],["Z"]]:[["M",y-E,b],["A",E,E,0,1,1,y+E,b],["A",E,E,0,1,1,y-E,b],["Z"],["M",y+w,b],["A",w,w,0,1,0,y-w,b],["A",w,w,0,1,0,y+w,b],["Z"]])(S,C,y,b):((y,b,E,w,S,C)=>{const[D,k]=[S/360*2*Math.PI,C/360*2*Math.PI],T=[u(y,b,w,D),u(y,b,E,D),u(y,b,E,k),u(y,b,w,k)],I=k-D>Math.PI?1:0;return[["M",T[0][0],T[0][1]],["L",T[1][0],T[1][1]],["A",E,E,0,I,1,T[2][0],T[2][1]],["L",T[3][0],T[3][1]],["A",w,w,0,I,0,T[0][0],T[0][1]],["Z"]]})(S,C,y,b,E,w)};return bM}();Object.defineProperty(n,"Donut",{enumerable:!0,get:function(){return r.Donut}});var o=function M1t(){if(ttt)return _M;ttt=1,Object.defineProperty(_M,"__esModule",{value:!0}),_M.Ellipse=void 0;const n=ai,e=Ku,t=qr,i=ms,r=fy();class o extends r.BaseNode{constructor(a){super((0,i.mergeOptions)({style:o.defaultStyleProps},a))}drawKeyShape(a,l){return this.upsert("key",n.Ellipse,this.getKeyStyle(a),l)}getKeyStyle(a){const l=super.getKeyStyle(a),[u,h]=this.getSize(a);return Object.assign(Object.assign({},l),{rx:u/2,ry:h/2})}getIconStyle(a){const l=super.getIconStyle(a),{rx:u,ry:h}=this.getShape("key").attributes,p=2*Math.min(+u,+h)*e.ICON_SIZE_RATIO;return!!l&&Object.assign({width:p,height:p},l)}getIntersectPoint(a,l=!1){const u=this.getShape("key").getBounds();return(0,t.getEllipseIntersectPoint)(a,u,l)}}return _M.Ellipse=o,o.defaultStyleProps={size:[45,35]},_M}();Object.defineProperty(n,"Ellipse",{enumerable:!0,get:function(){return o.Ellipse}});var s=function S1t(){if(ett)return EM;ett=1,Object.defineProperty(EM,"__esModule",{value:!0}),EM.Hexagon=void 0;const n=Ku,e=wp(),t=rP();return EM.Hexagon=class i extends t.Polygon{constructor(o){super(o)}getOuterR(o){return o.outerR||Math.min(...this.getSize(o))/2}getPoints(o){return(0,e.getHexagonPoints)(this.getOuterR(o))}getIconStyle(o){const s=super.getIconStyle(o),a=this.getOuterR(o)*n.ICON_SIZE_RATIO;return!!s&&Object.assign({width:a,height:a},s)}},EM}();Object.defineProperty(n,"Hexagon",{enumerable:!0,get:function(){return s.Hexagon}});var a=function O1t(){if(ntt)return wM;ntt=1;var n=br&&br.__rest||function(a,l){var u={};for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&l.indexOf(h)<0&&(u[h]=a[h]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(h=Object.getOwnPropertySymbols(a);p<h.length;p++)l.indexOf(h[p])<0&&Object.prototype.propertyIsEnumerable.call(a,h[p])&&(u[h[p]]=a[h[p]])}return u};Object.defineProperty(wM,"__esModule",{value:!0}),wM.HTML=void 0;const e=ai,t=D1t,i=Ua,r=j1,o=fy();class s extends o.BaseNode{constructor(l){super(Object.assign(Object.assign({},l),{style:Object.assign({},s.defaultStyleProps,l.style)})),this.rootPointerEvent=new e.FederatedPointerEvent(null),this.forwardEvents=u=>{const h=this.context.canvas,p=h.context.renderingContext.root.ownerDocument.defaultView;this.normalizeToPointerEvent(u,p).forEach(v=>{const y=this.bootstrapEvent(this.rootPointerEvent,v,p,u);(0,i.set)(h.context.eventService,"mappingTable.pointerupoutside",[]),h.context.eventService.mapEvent(y)})}}get eventService(){return this.context.canvas.context.eventService}get events(){return[r.CommonEvent.CLICK,r.CommonEvent.POINTER_DOWN,r.CommonEvent.POINTER_MOVE,r.CommonEvent.POINTER_UP,r.CommonEvent.POINTER_OVER,r.CommonEvent.POINTER_LEAVE]}getDomElement(){return this.getShape("key").getDomElement()}getKeyStyle(l){const u=(0,i.pick)(l,["dx","dy","innerHTML","pointerEvents","cursor"]),{dx:h=0,dy:p=0}=u,v=n(u,["dx","dy"]),[y,b]=this.getSize(l);return Object.assign(Object.assign({x:h,y:p},v),{width:y,height:b})}drawKeyShape(l,u){const h=this.getKeyStyle(l),{x:p,y:v,width:y=0,height:b=0}=h,E=this.upsert("key-container",e.Rect,{x:p,y:v,width:y,height:b,opacity:0},u);return this.upsert("key",e.HTML,h,E)}connectedCallback(){if(!(this.context.canvas.getRenderer("main")instanceof t.Renderer))return;const l=this.getDomElement();this.events.forEach(u=>{l.addEventListener(u,this.forwardEvents)})}attributeChangedCallback(l,u,h){"zIndex"===l&&u!==h&&(this.getDomElement().style.zIndex=h)}destroy(){const l=this.getDomElement();this.events.forEach(u=>{l.removeEventListener(u,this.forwardEvents)}),super.destroy()}normalizeToPointerEvent(l,u){const h=[];if(u.isTouchEvent(l))for(let p=0;p<l.changedTouches.length;p++){const v=l.changedTouches[p];(0,i.isUndefined)(v.button)&&(v.button=0),(0,i.isUndefined)(v.buttons)&&(v.buttons=1),(0,i.isUndefined)(v.isPrimary)&&(v.isPrimary=1===l.touches.length&&"touchstart"===l.type),(0,i.isUndefined)(v.width)&&(v.width=v.radiusX||1),(0,i.isUndefined)(v.height)&&(v.height=v.radiusY||1),(0,i.isUndefined)(v.tiltX)&&(v.tiltX=0),(0,i.isUndefined)(v.tiltY)&&(v.tiltY=0),(0,i.isUndefined)(v.pointerType)&&(v.pointerType="touch"),(0,i.isUndefined)(v.pointerId)&&(v.pointerId=v.identifier||0),(0,i.isUndefined)(v.pressure)&&(v.pressure=v.force||.5),(0,i.isUndefined)(v.twist)&&(v.twist=0),(0,i.isUndefined)(v.tangentialPressure)&&(v.tangentialPressure=0),v.isNormalized=!0,v.type=l.type,h.push(v)}else if(u.isMouseEvent(l)){const p=l;(0,i.isUndefined)(p.isPrimary)&&(p.isPrimary=!0),(0,i.isUndefined)(p.width)&&(p.width=1),(0,i.isUndefined)(p.height)&&(p.height=1),(0,i.isUndefined)(p.tiltX)&&(p.tiltX=0),(0,i.isUndefined)(p.tiltY)&&(p.tiltY=0),(0,i.isUndefined)(p.pointerType)&&(p.pointerType="mouse"),(0,i.isUndefined)(p.pointerId)&&(p.pointerId=1),(0,i.isUndefined)(p.pressure)&&(p.pressure=.5),(0,i.isUndefined)(p.twist)&&(p.twist=0),(0,i.isUndefined)(p.tangentialPressure)&&(p.tangentialPressure=0),p.isNormalized=!0,h.push(p)}else h.push(l);return h}transferMouseData(l,u){l.isTrusted=u.isTrusted,l.srcElement=u.srcElement,l.timeStamp=performance.now(),l.type=u.type,l.altKey=u.altKey,l.metaKey=u.metaKey,l.shiftKey=u.shiftKey,l.ctrlKey=u.ctrlKey,l.button=u.button,l.buttons=u.buttons,l.client.x=u.clientX,l.client.y=u.clientY,l.movement.x=u.movementX,l.movement.y=u.movementY,l.page.x=u.pageX,l.page.y=u.pageY,l.screen.x=u.screenX,l.screen.y=u.screenY,l.relatedTarget=null}bootstrapEvent(l,u,h,p){l.view=h,l.originalEvent=null,l.nativeEvent=p,l.pointerId=u.pointerId,l.width=u.width,l.height=u.height,l.isPrimary=u.isPrimary,l.pointerType=u.pointerType,l.pressure=u.pressure,l.tangentialPressure=u.tangentialPressure,l.tiltX=u.tiltX,l.tiltY=u.tiltY,l.twist=u.twist,this.transferMouseData(l,u);const{x:v,y}=this.getViewportXY(u);l.viewport.x=v,l.viewport.y=y;const[b,E]=this.context.canvas.getCanvasByViewport([v,y]);return l.canvas.x=b,l.canvas.y=E,l.global.copyFrom(l.canvas),l.offset.copyFrom(l.canvas),l.isTrusted=p.isTrusted,"pointerleave"===l.type&&(l.type="pointerout"),l}getViewportXY(l){let u,h;const{offsetX:p,offsetY:v,clientX:y,clientY:b}=l;if(!this.context.canvas.context.config.supportsCSSTransform||(0,i.isNil)(p)||(0,i.isNil)(v)){const E=this.eventService.client2Viewport({x:y,y:b});u=E.x,h=E.y}else u=p,h=v;return{x:u,y:h}}onframe(){super.onframe();const{opacity:l}=this.attributes;this.getDomElement().style.opacity=`${l}`}}return wM.HTML=s,s.defaultStyleProps={size:[160,80],halo:!1,icon:!1,label:!1,pointerEvents:"auto"},wM}();Object.defineProperty(n,"HTML",{enumerable:!0,get:function(){return a.HTML}});var l=function T1t(){if(itt)return xM;itt=1;var n=br&&br.__rest||function(h,p){var v={};for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&p.indexOf(y)<0&&(v[y]=h[y]);if(null!=h&&"function"==typeof Object.getOwnPropertySymbols){var b=0;for(y=Object.getOwnPropertySymbols(h);b<y.length;b++)p.indexOf(y[b])<0&&Object.prototype.propertyIsEnumerable.call(h,y[b])&&(v[y[b]]=h[y[b]])}return v};Object.defineProperty(xM,"__esModule",{value:!0}),xM.Image=void 0;const e=ai,t=Ku,i=Ws,r=ms,o=Vo,s=mM(),a=Wu,l=fy();class u extends l.BaseNode{constructor(p){super((0,r.mergeOptions)({style:u.defaultStyleProps},p))}getKeyStyle(p){const[v,y]=this.getSize(p),b=super.getKeyStyle(p),{fillOpacity:E,opacity:w=E}=b,S=n(b,["fillOpacity","opacity"]);return Object.assign(Object.assign({opacity:w},S),{width:v,height:y,x:-v/2,y:-y/2})}getHaloStyle(p){if(!1===p.halo)return!1;const v=this.getShape("key").attributes;n(v,["fill","stroke"]);const y=(0,i.subStyleProps)(this.getGraphicStyle(p),"halo"),b=Number(y.lineWidth),[E,w]=(0,o.add)(this.getSize(p),[b,b]);return Object.assign(Object.assign({},y),{width:E,height:w,fill:"transparent",x:-E/2,y:-w/2})}getIconStyle(p){const v=super.getIconStyle(p),[y,b]=this.getSize(p);return!!v&&Object.assign({width:y*t.ICON_SIZE_RATIO,height:b*t.ICON_SIZE_RATIO},v)}drawKeyShape(p,v){const y=this.upsert("key",s.Image,this.getKeyStyle(p),v);return(0,a.connectImage)(this),y}drawHaloShape(p,v){this.upsert("halo",e.Rect,this.getHaloStyle(p),v)}update(p){super.update(p),p&&("x"in p||"y"in p||"z"in p)&&(0,a.dispatchPositionChange)(this)}}return xM.Image=u,u.defaultStyleProps={size:32},xM}();Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return l.Image}});var u=function A1t(){if(rtt)return CM;rtt=1,Object.defineProperty(CM,"__esModule",{value:!0}),CM.Rect=void 0;const n=ai,e=Ku,t=fy();return CM.Rect=class i extends t.BaseNode{constructor(o){super(o)}getKeyStyle(o){const[s,a]=this.getSize(o);return Object.assign(Object.assign({},super.getKeyStyle(o)),{width:s,height:a,x:-s/2,y:-a/2})}getIconStyle(o){const s=super.getIconStyle(o),{width:a,height:l}=this.getShape("key").attributes;return!!s&&Object.assign({width:a*e.ICON_SIZE_RATIO,height:l*e.ICON_SIZE_RATIO},s)}drawKeyShape(o,s){return this.upsert("key",n.Rect,this.getKeyStyle(o),s)}},CM}();Object.defineProperty(n,"Rect",{enumerable:!0,get:function(){return u.Rect}});var h=function k1t(){if(ott)return MM;ott=1,Object.defineProperty(MM,"__esModule",{value:!0}),MM.Star=void 0;const n=Ku,e=wp(),t=rP();return MM.Star=class i extends t.Polygon{constructor(o){super(o)}getInnerR(o){return o.innerR||3*this.getOuterR(o)/8}getOuterR(o){return Math.min(...this.getSize(o))/2}getPoints(o){return(0,e.getStarPoints)(this.getOuterR(o),this.getInnerR(o))}getIconStyle(o){const s=super.getIconStyle(o),a=2*this.getInnerR(o)*n.ICON_SIZE_RATIO;return!!s&&Object.assign({width:a,height:a},s)}getPortXY(o,s){const{placement:a="top"}=s,l=this.getShape("key").getLocalBounds(),u=(0,e.getStarPorts)(this.getOuterR(o),this.getInnerR(o));return(0,e.getPortXYByPlacement)(l,a,u,!1)}},MM}();Object.defineProperty(n,"Star",{enumerable:!0,get:function(){return h.Star}});var p=function I1t(){if(stt)return SM;stt=1,Object.defineProperty(SM,"__esModule",{value:!0}),SM.Triangle=void 0;const n=Ua,e=Ku,t=Oo,i=wp(),r=Ws,o=ms,s=rP();class a extends s.Polygon{constructor(u){super((0,o.mergeOptions)({style:a.defaultStyleProps},u))}getPoints(u){const{direction:h}=u,[p,v]=this.getSize(u);return(0,i.getTrianglePoints)(p,v,h)}getPortXY(u,h){const{direction:p}=u,{placement:v="top"}=h,y=this.getShape("key").getLocalBounds(),[b,E]=this.getSize(u),w=(0,i.getTrianglePorts)(b,E,p);return(0,i.getPortXYByPlacement)(y,v,w,!1)}getIconStyle(u){const{icon:h,iconText:p,iconSrc:v,direction:y}=u;if(!1===h||(0,n.isEmpty)(p||v))return!1;const b=(0,r.subStyleProps)(this.getGraphicStyle(u),"icon"),E=this.getShape("key").getLocalBounds(),[w,S]=(0,t.getTriangleCenter)(E,y),C=2*(0,t.getIncircleRadius)(E,y)*e.ICON_SIZE_RATIO;return Object.assign({x:w,y:S,width:C,height:C},b)}}return SM.Triangle=a,a.defaultStyleProps={size:40,direction:"up"},SM}();Object.defineProperty(n,"Triangle",{enumerable:!0,get:function(){return p.Triangle}})}(xJ)),xJ}function lz(){if(ctt)return nM;ctt=1;var n=br&&br.__rest||function(S,C){var D={};for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&C.indexOf(k)<0&&(D[k]=S[k]);if(null!=S&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(k=Object.getOwnPropertySymbols(S);T<k.length;T++)C.indexOf(k[T])<0&&Object.prototype.propertyIsEnumerable.call(S,k[T])&&(D[k[T]]=S[k[T]])}return D};Object.defineProperty(nM,"__esModule",{value:!0}),nM.BaseCombo=void 0;const e=ai,t=Ua,i=j1,r=Oo,o=Pg,s=ay,a=tu,l=Ws,u=Ng,h=ms,p=Vo,v=iM,y=ltt(),b=mM(),E=Wu;class w extends y.BaseNode{constructor(C){super((0,h.mergeOptions)({style:w.defaultStyleProps},C)),this.type="combo",this.updateComboPosition(this.parsedAttributes)}getKeySize(C){const{collapsed:D,childrenNode:k=[]}=C;return 0===k.length?this.getEmptyKeySize(C):D?this.getCollapsedKeySize(C):this.getExpandedKeySize(C)}getEmptyKeySize(C){const{padding:D,collapsedSize:k}=C,[T,I,F,z]=(0,s.parsePadding)(D);return(0,p.add)((0,u.parseSize)(k),[z+I,T+F,0])}getCollapsedKeySize(C){return(0,u.parseSize)(C.collapsedSize)}getExpandedKeySize(C){const D=this.getContentBBox(C);return[(0,r.getBBoxWidth)(D),(0,r.getBBoxHeight)(D),0]}getContentBBox(C){const{context:D,childrenNode:k=[],padding:T}=C,I=k.map(z=>D.element.getElement(z)).filter(Boolean);if(0===I.length){const z=new e.AABB,{x:V=0,y:K=0,size:Y}=C,[Q,at]=(0,u.parseSize)(Y);return z.setMinMax([V-Q/2,K-at/2,0],[V+Q/2,K+at/2,0]),z}const F=(0,r.getCombinedBBox)(I.map(z=>z.getBounds()));return T?(0,r.getExpandedBBox)(F,T):F}drawCollapsedMarkerShape(C,D){const k=this.getCollapsedMarkerStyle(C);(0,v.effect)(this,"collapsedMarker",k)&&(this.upsert("collapsed-marker",b.Icon,k,D),(0,E.connectImage)(this))}getCollapsedMarkerStyle(C){if(!C.collapsed||!C.collapsedMarker)return!1;const D=(0,l.subStyleProps)(this.getGraphicStyle(C),"collapsedMarker"),{type:k}=D,T=n(D,["type"]),I=this.getShape("key"),[F,z]=(0,a.getXYByPlacement)(I.getLocalBounds(),"center"),V=Object.assign(Object.assign({},T),{x:F,y:z});if(k){const K=this.getCollapsedMarkerText(k,C);Object.assign(V,{text:K})}return V}getCollapsedMarkerText(C,D){const{context:k,childrenData:T=[]}=D,{model:I}=k;return"descendant-count"===C?I.getDescendantsData(this.id).length.toString():"child-count"===C?T.length.toString():"node-count"===C?I.getDescendantsData(this.id).filter(F=>"node"===I.getElementType((0,o.idOf)(F))).length.toString():(0,t.isFunction)(C)?C(T):""}getComboZIndex(C){return(this.context.model.getAncestorsData(this.id,i.COMBO_KEY)||[]).length}getComboPosition(C){const{x:D=0,y:k=0,collapsed:T,context:I,childrenData:F=[]}=C;if(0===F.length)return[+D,+k,0];if(T){const{model:z}=I,V=z.getDescendantsData(this.id).filter(K=>!z.isCombo((0,o.idOf)(K)));if(V.length>0&&V.some(a.hasPosition)){const K=V.reduce((Y,Q)=>(0,p.add)(Y,(0,a.positionOf)(Q)),[0,0,0]);return(0,p.divide)(K,V.length)}return[+D,+k,0]}return this.getContentBBox(C).center}getComboStyle(C){const{zIndex:D=this.getComboZIndex(C)}=C,[k,T]=this.getComboPosition(C);return{x:k,y:T,transform:[["translate",k,T]],zIndex:D}}updateComboPosition(C){const D=this.getComboStyle(C);Object.assign(this.style,D);const{x:k,y:T}=D;this.context.model.syncComboDatum({id:this.id,style:{x:k,y:T}}),(0,E.dispatchPositionChange)(this)}render(C,D=this){super.render(C,D),this.drawCollapsedMarkerShape(C,D)}update(C={}){super.update(C),this.updateComboPosition(this.parsedAttributes)}onframe(){super.onframe(),this.attributes.collapsed||this.updateComboPosition(this.parsedAttributes),this.drawKeyShape(this.parsedAttributes,this)}animate(C,D){const k=super.animate(this.attributes.collapsed?C:C.map(T=>n(T,["x","y","z","transform"])),D);return k&&new Proxy(k,{set:(T,I,F)=>("currentTime"===I&&Promise.resolve().then(()=>this.onframe()),Reflect.set(T,I,F))})}}return nM.BaseCombo=w,w.defaultStyleProps={childrenNode:[],droppable:!0,draggable:!0,collapsed:!1,collapsedSize:32,collapsedMarker:!0,collapsedMarkerZIndex:1,collapsedMarkerFontSize:12,collapsedMarkerTextAlign:"center",collapsedMarkerTextBaseline:"middle",collapsedMarkerType:"child-count"},nM}var utt,dtt,htt,DM={},OM={};var ptt,ftt={},TM={},pl={};function AM(){if(ptt)return TM;ptt=1;var n=br&&br.__createBinding||(Object.create?function(C,D,k,T){void 0===T&&(T=k);var I=Object.getOwnPropertyDescriptor(D,k);(!I||("get"in I?!D.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return D[k]}}),Object.defineProperty(C,T,I)}:function(C,D,k,T){void 0===T&&(T=k),C[T]=D[k]}),e=br&&br.__setModuleDefault||(Object.create?function(C,D){Object.defineProperty(C,"default",{enumerable:!0,value:D})}:function(C,D){C.default=D}),t=br&&br.__importStar||function(C){if(C&&C.__esModule)return C;var D={};if(null!=C)for(var k in C)"default"!==k&&Object.prototype.hasOwnProperty.call(C,k)&&n(D,C,k);return e(D,C),D},i=br&&br.__rest||function(C,D){var k={};for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&D.indexOf(T)<0&&(k[T]=C[T]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(T=Object.getOwnPropertySymbols(C);I<T.length;I++)D.indexOf(T[I])<0&&Object.prototype.propertyIsEnumerable.call(C,T[I])&&(k[T[I]]=C[T[I]])}return k};Object.defineProperty(TM,"__esModule",{value:!0}),TM.BaseEdge=void 0;const r=ai,o=Ua,s=Oo,a=zM(),l=wp(),u=Ws,h=Ng,p=ms,v=t(pl),y=uy,b=KJ(),E=iM,w=mM();class S extends b.BaseElement{constructor(D){super((0,p.mergeOptions)({style:S.defaultStyleProps},D)),this.type="edge"}get sourceNode(){const{context:D,sourceNode:k}=this.parsedAttributes;return D.element.getElement(k)}get targetNode(){const{context:D,targetNode:k}=this.parsedAttributes;return D.element.getElement(k)}getKeyStyle(D){const k=this.getGraphicStyle(D),{loop:T}=k,I=i(k,["loop"]),{sourceNode:F,targetNode:z}=this,V=T&&(0,l.isSameNode)(F,z)?this.getLoopPath(D):this.getKeyPath(D);return Object.assign({d:V},(0,u.omitStyleProps)(I,["halo","label","startArrow","endArrow"]))}getLoopPath(D){const{sourcePort:k,targetPort:T}=D,I=this.sourceNode,F=(0,s.getNodeBBox)(I),z=Math.max((0,s.getBBoxWidth)(F),(0,s.getBBoxHeight)(F)),{placement:V,clockwise:K,dist:Y=z}=(0,u.subStyleProps)(this.getGraphicStyle(D),"loop");return(0,a.getCubicLoopPath)(I,V,K,Y,k,T)}getEndpoints(D,k=!0,T=[]){const{sourcePort:I,targetPort:F}=D,{sourceNode:z,targetNode:V}=this,[K,Y]=(0,l.findPorts)(z,V,I,F);if(!k)return[K?(0,l.getPortPosition)(K):z.getCenter(),Y?(0,l.getPortPosition)(Y):V.getCenter()];const Q="function"==typeof T?T():T;return[(0,l.getConnectionPoint)(K||z,Q[0]||Y||V),(0,l.getConnectionPoint)(Y||V,Q[Q.length-1]||K||z)]}getHaloStyle(D){if(!1===D.halo)return!1;const k=this.getKeyStyle(D),T=(0,u.subStyleProps)(this.getGraphicStyle(D),"halo");return Object.assign(Object.assign({},k),T)}getLabelStyle(D){if(!1===D.label||!D.labelText)return!1;const k=(0,u.subStyleProps)(this.getGraphicStyle(D),"label"),{placement:T,offsetX:I,offsetY:F,autoRotate:z,maxWidth:V}=k,K=i(k,["placement","offsetX","offsetY","autoRotate","maxWidth"]),Y=(0,a.getLabelPositionStyle)(this.shapeMap.key,T,z,I,F),Q=this.shapeMap.key.getLocalBounds(),at=(0,y.getWordWrapWidthByEnds)([Q.min,Q.max],V);return Object.assign({wordWrapWidth:at},Y,K)}getBadgeStyle(D){if(!1===D.badge||!D.badgeText)return!1;const k=(0,u.subStyleProps)(D,"badge"),{offsetX:T,offsetY:I,placement:F}=k,z=i(k,["offsetX","offsetY","placement"]);return Object.assign(z,(0,a.getBadgePositionStyle)(this.shapeMap,F,D.labelPlacement,T,I))}drawArrow(D,k){var T;const I="start"===k,z=this.shapeMap.key;if(D["start"===k?"startArrow":"endArrow"]){const V=this.getArrowStyle(D,I);if(!(0,E.effect)(this,`arrow-${k}`,V))return;const[K,Y,Q]=I?["markerStart","markerStartOffset","startArrowOffset"]:["markerEnd","markerEndOffset","endArrowOffset"],at=z.parsedStyle[K];if(at)at.attr(V);else{const Pt=new(V.src?r.Image:r.Path)({style:V});z.style[K]=Pt}z.style[Y]=D[Q]||V.width/2+ +V.lineWidth}else{const V=I?"markerStart":"markerEnd";null===(T=z.style[V])||void 0===T||T.destroy(),z.style[V]=null}}getArrowStyle(D,k){const T=this.getShape("key").attributes,I=k?"startArrow":"endArrow",F=(0,u.subStyleProps)(this.getGraphicStyle(D),I),{size:z,type:V}=F,K=i(F,["size","type"]),[Y,Q]=(0,h.parseSize)((0,a.getArrowSize)(T.lineWidth,z)),at=((0,o.isFunction)(V)?V:v[V]||v.triangle)(Y,Q);return Object.assign((0,o.pick)(T,["stroke","strokeOpacity","fillOpacity"]),{width:Y,height:Q},Object.assign({},at&&{d:at,fill:"simple"===V?"":T.stroke}),K)}drawLabelShape(D,k){const T=this.getLabelStyle(D);(0,E.effect)(this,"label",T)&&this.upsert("label",w.Label,T,k)}drawHaloShape(D,k){const T=this.getHaloStyle(D);(0,E.effect)(this,"halo",T)&&this.upsert("halo",r.Path,T,k)}drawBadgeShape(D,k){const T=this.getBadgeStyle(D);(0,E.effect)(this,"badge",T)&&this.upsert("badge",w.Badge,T,k)}drawSourceArrow(D){this.drawArrow(D,"start")}drawTargetArrow(D){this.drawArrow(D,"end")}drawKeyShape(D,k){const T=this.getKeyStyle(D);if((0,E.effect)(this,"key",T))return this.upsert("key",r.Path,T,k)}render(D=this.parsedAttributes,k=this){this.drawKeyShape(D,k),this.getShape("key")&&(this.drawSourceArrow(D),this.drawTargetArrow(D),this.drawLabelShape(D,k),this.drawHaloShape(D,k),this.drawBadgeShape(D,k))}onframe(){this.drawKeyShape(this.parsedAttributes,this),this.drawSourceArrow(this.parsedAttributes),this.drawTargetArrow(this.parsedAttributes),this.drawHaloShape(this.parsedAttributes,this),this.drawLabelShape(this.parsedAttributes,this),this.drawBadgeShape(this.parsedAttributes,this)}animate(D,k){const T=super.animate(D,k);return T&&new Proxy(T,{set:(I,F,z)=>("currentTime"===F&&Promise.resolve().then(()=>this.onframe()),Reflect.set(I,F,z))})}}return TM.BaseEdge=S,S.defaultStyleProps={badge:!0,badgeOffsetX:0,badgeOffsetY:0,badgePlacement:"suffix",isBillboard:!0,label:!0,labelAutoRotate:!0,labelIsBillboard:!0,labelMaxWidth:"80%",labelOffsetX:4,labelOffsetY:0,labelPlacement:"center",labelTextBaseline:"middle",labelWordWrap:!1,halo:!1,haloDroppable:!1,haloLineDash:0,haloLineWidth:12,haloPointerEvents:"none",haloStrokeOpacity:.25,haloZIndex:-1,loop:!0,startArrow:!1,startArrowLineDash:0,startArrowLineJoin:"round",startArrowLineWidth:1,startArrowTransformOrigin:"center",startArrowType:"vee",endArrow:!1,endArrowLineDash:0,endArrowLineJoin:"round",endArrowLineWidth:1,endArrowTransformOrigin:"center",endArrowType:"vee",loopPlacement:"top",loopClockwise:!0},TM}Object.defineProperty(pl,"__esModule",{value:!0}),pl.simple=pl.triangleRect=pl.rect=pl.vee=pl.diamond=pl.triangle=pl.circle=void 0,pl.circle=(n,e)=>{const t=Math.max(n,e)/2;return[["M",-n/2,0],["A",t,t,0,1,0,2*t-n/2,0],["A",t,t,0,1,0,-n/2,0],["Z"]]},pl.triangle=(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",n/2,e/2],["Z"]],pl.diamond=(n,e)=>[["M",-n/2,0],["L",0,-e/2],["L",n/2,0],["L",0,e/2],["Z"]],pl.vee=(n,e)=>[["M",-n/2,0],["L",n/2,-e/2],["L",4*n/5-n/2,0],["L",n/2,e/2],["Z"]],pl.rect=(n,e)=>[["M",-n/2,-e/2],["L",n/2,-e/2],["L",n/2,e/2],["L",-n/2,e/2],["Z"]],pl.triangleRect=(n,e)=>{const t=n/2,i=n/7,r=n-i;return[["M",-t,0],["L",0,-e/2],["L",0,e/2],["Z"],["M",r-t,-e/2],["L",r+i-t,-e/2],["L",r+i-t,e/2],["L",r-t,e/2],["Z"]]},pl.simple=(n,e)=>[["M",n/2,-e/2],["L",-n/2,0],["L",n/2,0],["L",-n/2,0],["L",n/2,e/2]];var mtt,kM={};function oP(){if(mtt)return kM;mtt=1,Object.defineProperty(kM,"__esModule",{value:!0}),kM.Cubic=void 0;const n=zM(),e=ms,t=AM();class i extends t.BaseEdge{constructor(o){super((0,e.mergeOptions)({style:i.defaultStyleProps},o))}getKeyPath(o){const[s,a]=this.getEndpoints(o),{controlPoints:l,curvePosition:u,curveOffset:h}=o,p=this.getControlPoints(s,a,(0,n.parseCurvePosition)(u),(0,n.parseCurveOffset)(h),l);return(0,n.getCubicPath)(s,a,p)}getControlPoints(o,s,a,l,u){return 2===u?.length?u:[(0,n.getCurveControlPoint)(o,s,a[0],l[0]),(0,n.getCurveControlPoint)(o,s,a[1],l[1])]}}return kM.Cubic=i,i.defaultStyleProps={curvePosition:.5,curveOffset:20},kM}var gtt,vtt,ytt,btt,IM={},RM={},PM={},NM={},LM={},Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});var _tt=Xu.orth=function X1t(n,e,t,i,r,o){const{padding:s}=Object.assign(K1t,o),a=(0,To.getNodeBBox)(t,s),l=(0,To.getNodeBBox)(i,s),u=[n,...r,e];let h=null;const p=[];for(let v=0,y=u.length;v<y-1;v++){const b=v+1,E=u[v],w=u[b],S=(0,Yu.isOrthogonal)(E,w);let C=null;if(0===v)if(b===y-1)if(a.intersects(l))C=aP(E,w,a,l);else if((0,To.isPointBBoxCenter)(E,a)||(0,To.isPointBBoxCenter)(w,l))S||(C=xtt(E,w,a,l));else{const D=(0,To.getNearestBoundaryPoint)(E,a),k=(0,To.getNearestBoundaryPoint)(w,l);C=cz(D,k,Vl(D,k)),C.points.unshift(D),C.points.push(k)}else(0,To.isPointInBBox)(w,a)?C=aP(E,w,a,(0,To.getNodeBBox)(w,s),h):S||(C=FM(E,w,a));else b===y-1?(0,To.isPointInBBox)(E,l)?C=aP(E,w,(0,To.getNodeBBox)(E,s),l,h):S||(C=uz(E,w,l,h)):S||(C=cz(E,w,h));C?(p.push(...C.points),h=C.direction):h=Vl(E,w),b<y-1&&p.push(w)}return p.map(py.toVector2)};Xu.getDirection=Vl,Xu.getBBoxSize=sP,Xu.pointToPoint=cz,Xu.nodeToPoint=FM,Xu.pointToNode=uz,Xu.nodeToNode=xtt,Xu.insideNode=aP,Xu.freeJoin=BM;const Ett=Ua,To=Oo,Yu=qr,py=Vo,K1t={padding:10},Y1t={N:"S",S:"N",W:"E",E:"W"},wtt={N:-Math.PI/2,S:Math.PI/2,E:0,W:Math.PI};function Vl(n,e){const[t,i]=n,[r,o]=e;return t===r?i>o?"N":"S":i===o?t>r?"W":"E":null}function sP(n,e){return"N"===e||"S"===e?(0,To.getBBoxHeight)(n):(0,To.getBBoxWidth)(n)}function cz(n,e,t){const i=[n[0],e[1]],r=[e[0],n[1]],o=Vl(n,i),s=Vl(n,r),l=o===t||o!==(t?Y1t[t]:null)&&s!==t?i:r;return{points:[l],direction:Vl(l,e)}}function FM(n,e,t){if((0,To.isPointBBoxCenter)(n,t)){const i=BM(n,e,t);return{points:[i],direction:Vl(i,e)}}{const i=(0,To.getNearestBoundaryPoint)(n,t),r=["left","right"].includes((0,To.getNearestBoundarySide)(n,t))?[e[0],i[1]]:[i[0],e[1]];return{points:[r],direction:Vl(r,e)}}}function uz(n,e,t,i){const r=(0,To.isPointBBoxCenter)(e,t)?e:(0,To.getNearestBoundaryPoint)(e,t),o=[[r[0],n[1]],[n[0],r[1]]],s=o.filter(l=>(0,To.isPointOutsideBBox)(l,t)&&!(0,To.isPointOnBBoxBoundary)(l,t,!0)),a=s.filter(l=>Vl(l,n)!==i);if(a.length>0){const l=a.find(u=>Vl(n,u)===i)||a[0];return{points:[l],direction:Vl(l,e)}}{const l=(0,Ett.difference)(o,s)[0],u=(0,Yu.moveTo)(e,l,sP(t,i)/2);return{points:[BM(u,n,t),u],direction:Vl(u,e)}}}function xtt(n,e,t,i){let r=FM(n,e,t);const o=(0,py.toVector3)(r.points[0]);if((0,To.isPointInBBox)(o,i)){r=FM(e,n,i);const s=(0,py.toVector3)(r.points[0]);if((0,To.isPointInBBox)(s,t)){const a=(0,Yu.moveTo)(n,o,sP(t,Vl(n,o))/2),l=(0,Yu.moveTo)(e,s,sP(i,Vl(e,s))/2),u=[(a[0]+l[0])/2,(a[1]+l[1])/2],h=FM(n,u,t),p=uz(u,e,i,h.direction);r.points=[h.points[0],p.points[0]],r.direction=p.direction}}return r}function aP(n,e,t,i,r){const o=(0,To.getCombinedBBox)([t,i]),s=(0,py.distance)(e,o.center)>(0,py.distance)(n,o.center),[a,l]=s?[e,n]:[n,e],u=(0,To.getBBoxHeight)(o)+(0,To.getBBoxWidth)(o);let h;if(r){const y=[a[0]+u*Math.cos(wtt[r]),a[1]+u*Math.sin(wtt[r])];h=(0,Yu.moveTo)((0,To.getNearestBoundaryPoint)(y,o),y,.01)}else h=(0,Yu.moveTo)((0,To.getNearestBoundaryPoint)(a,o),a,-.01);let p=BM(h,l,o),v=[(0,Yu.round)(h,2),(0,Yu.round)(p,2)];if((0,Ett.isEqual)((0,Yu.round)(h),(0,Yu.round)(p))){const y=(0,py.angle)((0,py.subtract)(h,a),[1,0,0])+Math.PI/2;p=[l[0]+u*Math.cos(y),l[1]+u*Math.sin(y),0],p=(0,Yu.round)((0,Yu.moveTo)((0,To.getNearestBoundaryPoint)(p,o),l,-.01),2),v=[h,BM(h,p,o),p]}return{points:s?v.reverse():v,direction:Vl(s?h:p,e)}}function BM(n,e,t){let i=[n[0],e[1]];return(0,To.isPointInBBox)(i,t)&&(i=[e[0],n[1]]),i}var my={};Object.defineProperty(my,"__esModule",{value:!0}),my.SortedArray=void 0,my.estimateCost=dz,my.getNearestPoint=Stt;var Z1t=my.aStarSearch=function iEt(n,e,t,i){const r=(0,jM.toVector2)(n.getCenter()),o=(0,jM.toVector2)(e.getCenter()),s=Object.assign(J1t,i),{gridSize:a}=s,u=eEt(s.enableObstacleAvoidance?t:[n,e],s),h=gy(r,a),p=gy(o,a),v=Dtt(r,n,s.startDirections,s),y=Dtt(o,e,s.endDirections,s);v.forEach(z=>delete u[Ep(z)]),y.forEach(z=>delete u[Ep(z)]);const b={},E={},w={},S={},C={},D=new Ott;for(let z=0;z<v.length;z++){const V=v[z],K=Ep(V);b[K]=V,S[K]=0,C[K]=dz(V,y,s.distFunc),D.add({id:K,value:C[K]})}const k=y.map(z=>Ep(z));let I,T=s.maximumLoops,F=1/0;for(const[z,V]of Object.entries(b))C[z]<=F&&(F=C[z],I=V);for(;Object.keys(b).length>0&&T>0;){const z=D.minId(!1);if(!z)break;I=b[z];const V=Ep(I);if(k.includes(V))return nEt(I,w,h,o,v,p,a);delete b[V],D.remove(V),E[V]=!0;for(const K of Object.values(s.directionMap)){const Y=(0,jM.add)(I,[K.stepX,K.stepY]),Q=Ep(Y);if(E[Q])continue;const at=Mtt(I,Y,w,h);if(at>s.maxAllowedDirectionChange||u[Q])continue;b[Q]||(b[Q]=Y);const It=s.penalties[at],Pt=s.distFunc(I,Y)+(isNaN(It)?a:It),ct=S[V]+Pt,ot=S[Q];ot&&ct>=ot||(w[Q]=I,S[Q]=ct,C[Q]=ct+dz(Y,y,s.distFunc),D.add({id:Q,value:C[Q]}))}T-=1}return[]};const Q1t=Ua,K1=Oo,q1t=oM,jM=Vo,J1t={enableObstacleAvoidance:!1,offset:10,maxAllowedDirectionChange:Math.PI/2,maximumLoops:3e3,gridSize:5,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{right:{stepX:1,stepY:0},left:{stepX:-1,stepY:0},bottom:{stepX:0,stepY:1},top:{stepX:0,stepY:-1}},penalties:{0:0,90:0},distFunc:jM.manhattanDistance},Ep=n=>`${Math.round(n[0])}|||${Math.round(n[1])}`;function gy(n,e){const t=i=>Math.round(i/e);return(0,Q1t.isNumber)(n)?t(n):n.map(t)}function Ctt(n,e){const t=e[0]-n[0],i=e[1]-n[1];return t||i?Math.atan2(i,t):0}function Mtt(n,e,t,i){const r=Ctt(n,e);return function tEt(n,e){const t=Math.abs(n-e);return t>Math.PI?2*Math.PI-t:t}(Ctt(t[Ep(n)]||i,n),r)}const eEt=(n,e)=>{const{offset:t,gridSize:i}=e,r={};return n.forEach(o=>{if(!o||o.destroyed||!o.isVisible())return;const s=(0,K1.getExpandedBBox)(o.getRenderBounds(),t);for(let a=gy(s.min[0],i);a<=gy(s.max[0],i);a+=1)for(let l=gy(s.min[1],i);l<=gy(s.max[1],i);l+=1)r[`${a}|||${l}`]=!0}),r};function dz(n,e,t){return Math.min(...e.map(i=>t(n,i)))}function Stt(n,e,t){let i=n[0],r=t(n[0],e);for(let o=0;o<n.length;o++){const s=n[o],a=t(s,e);a<r&&(i=s,r=a)}return i}const Dtt=(n,e,t,i)=>{if(!e)return[n];const{directionMap:r,offset:o}=i,s=(0,K1.getExpandedBBox)(e.getRenderBounds(),o),a=Object.keys(r).reduce((l,u)=>{if(t.includes(u)){const h=r[u],[p,v]=(0,K1.getBBoxSize)(s),y=[n[0]+h.stepX*p,n[1]+h.stepY*v],b=(0,K1.getBBoxSegments)(s);for(let E=0;E<b.length;E++){const w=(0,q1t.getLinesIntersection)([n,y],b[E]);w&&(0,K1.isPointOnBBoxBoundary)(w,s)&&l.push(w)}}return l},[]);return(0,K1.isPointInBBox)(n,s)||a.push(n),a.map(l=>gy(l,i.gridSize))},nEt=(n,e,t,i,r,o,s)=>{const a=[];let l=[o[0]===i[0]?i[0]:n[0]*s,o[1]===i[1]?i[1]:n[1]*s];a.unshift(l);let u=n,h=e[Ep(u)];for(;h;){const y=h,b=u;Mtt(y,b,e,t)&&(l=[y[0]===b[0]?l[0]:y[0]*s,y[1]===b[1]?l[1]:y[1]*s],a.unshift(l)),h=e[Ep(y)],u=y}const v=Stt(r.map(y=>[y[0]*s,y[1]*s]),l,jM.manhattanDistance);return a.unshift(v),a};class Ott{constructor(){this.arr=[],this.map={},this.arr=[],this.map={}}_innerAdd(e,t){let i=0,r=t-1;for(;r-i>1;){const o=Math.floor((i+r)/2);if(this.arr[o].value>e.value)r=o;else{if(!(this.arr[o].value<e.value))return this.arr.splice(o,0,e),void(this.map[e.id]=!0);i=o}}this.arr.splice(r,0,e),this.map[e.id]=!0}add(e){delete this.map[e.id];const t=this.arr.length;if(!t||this.arr[t-1].value<e.value)return this.arr.push(e),void(this.map[e.id]=!0);this._innerAdd(e,t)}remove(e){this.map[e]&&delete this.map[e]}_clearAndGetMinId(){let e;for(let t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e}_findFirstId(){for(;this.arr.length;){const e=this.arr.shift();if(this.map[e.id])return e.id}}minId(e){return e?this._clearAndGetMinId():this._findFirstId()}}var Ttt;my.SortedArray=Ott;var Att,ktt,Itt,Rtt,Ptt,VM={};function wp(){if(Rtt)return Eo;Rtt=1,Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.isNode=s,Eo.isEdge=a,Eo.isCombo=l,Eo.isElement=function u(rt){return s(rt)||a(rt)||l(rt)},Eo.isSameNode=function h(rt,Nt){return!(!rt||!Nt)&&rt===Nt},Eo.getPortXYByPlacement=function v(rt,Nt,ie=p,$e=!0){const ye=[.5,.5],ln=(0,n.isString)(Nt)?(0,n.get)(ie,Nt.toLocaleLowerCase(),ye):Nt;if(!$e&&(0,n.isString)(Nt))return ln;const[kn,oi]=ln||ye;return[rt.min[0]+(0,t.getBBoxWidth)(rt)*kn,rt.min[1]+(0,t.getBBoxHeight)(rt)*oi]},Eo.getAllPorts=y,Eo.isSimplePort=b,Eo.getPortPosition=E,Eo.findPorts=function w(rt,Nt,ie,$e){return[S(rt,Nt,ie,$e),S(Nt,rt,$e,ie)]},Eo.findPort=S,Eo.getConnectionPoint=function D(rt,Nt){return l(rt)||s(rt)?T(rt,Nt):k(rt,Nt)},Eo.getPortConnectionPoint=k,Eo.getNodeConnectionPoint=T,Eo.getTextStyleByPlacement=function I(rt,Nt="bottom",ie=0,$e=0,ye=!1){const ln=Nt.split("-"),[kn,oi]=(0,o.getXYByPlacement)(rt,Nt),Un=ln.includes("left")?"right":ln.includes("right")?"left":"center";let fi=ln.includes("top")?"bottom":ln.includes("bottom")?"top":"middle";return ye&&(fi="top"===fi?"bottom":"bottom"===fi?"top":fi),{transform:[["translate",kn+ie,oi+$e]],textBaseline:fi,textAlign:Un}},Eo.getStarPoints=function F(rt,Nt){return[[0,-rt],[Nt*Math.cos(3*Math.PI/10),-Nt*Math.sin(3*Math.PI/10)],[rt*Math.cos(Math.PI/10),-rt*Math.sin(Math.PI/10)],[Nt*Math.cos(Math.PI/10),Nt*Math.sin(Math.PI/10)],[rt*Math.cos(3*Math.PI/10),rt*Math.sin(3*Math.PI/10)],[0,Nt],[-rt*Math.cos(3*Math.PI/10),rt*Math.sin(3*Math.PI/10)],[-Nt*Math.cos(Math.PI/10),Nt*Math.sin(Math.PI/10)],[-rt*Math.cos(Math.PI/10),-rt*Math.sin(Math.PI/10)],[-Nt*Math.cos(3*Math.PI/10),-Nt*Math.sin(3*Math.PI/10)]]},Eo.getStarPorts=function z(rt,Nt){const ie={};return ie.top=[0,-rt],ie.left=[-rt*Math.cos(Math.PI/10),-rt*Math.sin(Math.PI/10)],ie["left-bottom"]=[-rt*Math.cos(3*Math.PI/10),rt*Math.sin(3*Math.PI/10)],ie.bottom=[0,Nt],ie["right-bottom"]=[rt*Math.cos(3*Math.PI/10),rt*Math.sin(3*Math.PI/10)],ie.right=ie.default=[rt*Math.cos(Math.PI/10),-rt*Math.sin(Math.PI/10)],ie},Eo.getTrianglePoints=function V(rt,Nt,ie){const $e=Nt/2,ye=rt/2,ln={up:[[-ye,$e],[ye,$e],[0,-$e]],left:[[-ye,0],[ye,$e],[ye,-$e]],right:[[-ye,$e],[-ye,-$e],[ye,0]],down:[[-ye,-$e],[ye,-$e],[0,$e]]};return ln[ie]||ln.up},Eo.getTrianglePorts=function K(rt,Nt,ie){const $e=Nt/2,ye=rt/2,ln={};return"down"===ie?(ln.bottom=ln.default=[0,$e],ln.right=[ye,-$e],ln.left=[-ye,-$e]):"left"===ie?(ln.top=[ye,-$e],ln.bottom=[ye,$e],ln.left=ln.default=[-ye,0]):"right"===ie?(ln.top=[-ye,-$e],ln.bottom=[-ye,$e],ln.right=ln.default=[ye,0]):(ln.left=[-ye,$e],ln.top=ln.default=[0,-$e],ln.right=[ye,$e]),ln},Eo.getBoundingPoints=function Y(rt,Nt){return[[rt/2,-Nt/2],[rt/2,Nt/2],[-rt/2,Nt/2],[-rt/2,-Nt/2]]},Eo.getDiamondPoints=function Q(rt,Nt){return[[0,-Nt/2],[rt/2,0],[0,Nt/2],[-rt/2,0]]},Eo.isVisible=function at(rt){return"hidden"!==(0,n.get)(rt,["style","visibility"])},Eo.updateStyle=function It(rt,Nt){"update"in rt?rt.update(Nt):rt.attr(Nt)},Eo.getHexagonPoints=function Pt(rt){return[[0,rt],[rt*Math.sqrt(3)/2,rt/2],[rt*Math.sqrt(3)/2,-rt/2],[0,-rt],[-rt*Math.sqrt(3)/2,-rt/2],[-rt*Math.sqrt(3)/2,rt/2]]},Eo.markToBeDestroyed=function ct(rt){(0,n.set)(rt,"__to_be_destroyed__",!0)},Eo.isToBeDestroyed=function ot(rt){return(0,n.get)(rt,"__to_be_destroyed__",!1)};const n=Ua,e=function aEt(){return Itt||(Itt=1,function(n){var e=br&&br.__createBinding||(Object.create?function(i,r,o,s){void 0===s&&(s=o);var a=Object.getOwnPropertyDescriptor(r,o);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(i,s,a)}:function(i,r,o,s){void 0===s&&(s=o),i[s]=r[o]}),t=br&&br.__exportStar||function(i,r){for(var o in i)"default"!==o&&!Object.prototype.hasOwnProperty.call(r,o)&&e(r,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),t(function N1t(){return htt||(htt=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.RectCombo=n.CircleCombo=n.BaseCombo=void 0;var e=lz();Object.defineProperty(n,"BaseCombo",{enumerable:!0,get:function(){return e.BaseCombo}});var t=function R1t(){if(utt)return DM;utt=1,Object.defineProperty(DM,"__esModule",{value:!0}),DM.CircleCombo=void 0;const n=ai,e=Oo,t=qr,i=Ws,r=Ng,o=lz();return DM.CircleCombo=class s extends o.BaseCombo{constructor(l){super(l)}drawKeyShape(l,u){return this.upsert("key",n.Circle,this.getKeyStyle(l),u)}getKeyStyle(l){const{collapsed:u}=l,h=super.getKeyStyle(l),[p]=this.getKeySize(l);return Object.assign(Object.assign(Object.assign({},h),u&&(0,i.subStyleProps)(h,"collapsed")),{r:p/2})}getCollapsedKeySize(l){const[u,h]=(0,r.parseSize)(l.collapsedSize),p=Math.max(u,h)/2;return[2*p,2*p,0]}getExpandedKeySize(l){const u=this.getContentBBox(l),[h,p]=(0,e.getBBoxSize)(u),v=Math.sqrt(Math.pow(h,2)+Math.pow(p,2))/2;return[2*v,2*v,0]}getIntersectPoint(l,u=!1){const h=this.getShape("key").getBounds();return(0,t.getEllipseIntersectPoint)(l,h,u)}},DM}();Object.defineProperty(n,"CircleCombo",{enumerable:!0,get:function(){return t.CircleCombo}});var i=function P1t(){if(dtt)return OM;dtt=1,Object.defineProperty(OM,"__esModule",{value:!0}),OM.RectCombo=void 0;const n=ai,e=Ws,t=lz();return OM.RectCombo=class i extends t.BaseCombo{constructor(o){super(o)}drawKeyShape(o,s){return this.upsert("key",n.Rect,this.getKeyStyle(o),s)}getKeyStyle(o){const s=super.getKeyStyle(o),[a,l]=this.getKeySize(o);return Object.assign(Object.assign(Object.assign({},s),o.collapsed&&(0,e.subStyleProps)(s,"collapsed")),{width:a,height:l,x:-a/2,y:-l/2})}},OM}();Object.defineProperty(n,"RectCombo",{enumerable:!0,get:function(){return i.RectCombo}})}(rJ)),rJ}(),n),t(function sEt(){return ktt||(ktt=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Quadratic=n.Polyline=n.Line=n.CubicVertical=n.CubicRadial=n.CubicHorizontal=n.Cubic=n.BaseEdge=void 0;var e=AM();Object.defineProperty(n,"BaseEdge",{enumerable:!0,get:function(){return e.BaseEdge}});var t=oP();Object.defineProperty(n,"Cubic",{enumerable:!0,get:function(){return t.Cubic}});var i=function G1t(){if(gtt)return IM;gtt=1,Object.defineProperty(IM,"__esModule",{value:!0}),IM.CubicHorizontal=void 0;const n=ms,e=oP();class t extends e.Cubic{constructor(r){super((0,n.mergeOptions)({style:t.defaultStyleProps},r))}getControlPoints(r,o,s,a){const l=o[0]-r[0];return[[r[0]+l*s[0]+a[0],r[1]],[o[0]-l*s[1]+a[1],o[1]]]}}return IM.CubicHorizontal=t,t.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},IM}();Object.defineProperty(n,"CubicHorizontal",{enumerable:!0,get:function(){return i.CubicHorizontal}});var r=function H1t(){if(vtt)return RM;vtt=1,Object.defineProperty(RM,"__esModule",{value:!0}),RM.CubicRadial=void 0;const n=tu,e=ms,t=Vo,i=oP();class r extends i.Cubic{constructor(s){super((0,e.mergeOptions)({style:r.defaultStyleProps},s))}get ref(){return this.context.model.getRootsData()[0]}getEndpoints(s){if(this.sourceNode.id===this.ref.id)return super.getEndpoints(s);const a=(0,n.positionOf)(this.ref);return[this.sourceNode.getIntersectPoint(a,!0),this.targetNode.getIntersectPoint(a)]}toRadialCoordinate(s){const a=(0,n.positionOf)(this.ref);return[(0,t.distance)(s,a),(0,t.rad)((0,t.subtract)(s,a))]}getControlPoints(s,a,l,u){const[h,p]=this.toRadialCoordinate(s),[v]=this.toRadialCoordinate(a),y=v-h;return[[s[0]+(y*l[0]+u[0])*Math.cos(p),s[1]+(y*l[0]+u[0])*Math.sin(p)],[a[0]-(y*l[1]-u[0])*Math.cos(p),a[1]-(y*l[1]-u[0])*Math.sin(p)]]}}return RM.CubicRadial=r,r.defaultStyleProps={curvePosition:.5,curveOffset:20},RM}();Object.defineProperty(n,"CubicRadial",{enumerable:!0,get:function(){return r.CubicRadial}});var o=function $1t(){if(ytt)return PM;ytt=1,Object.defineProperty(PM,"__esModule",{value:!0}),PM.CubicVertical=void 0;const n=ms,e=oP();class t extends e.Cubic{constructor(r){super((0,n.mergeOptions)({style:t.defaultStyleProps},r))}getControlPoints(r,o,s,a){const l=o[1]-r[1];return[[r[0],r[1]+l*s[0]+a[0]],[o[0],o[1]-l*s[1]+a[1]]]}}return PM.CubicVertical=t,t.defaultStyleProps={curvePosition:[.5,.5],curveOffset:[0,0]},PM}();Object.defineProperty(n,"CubicVertical",{enumerable:!0,get:function(){return o.CubicVertical}});var s=function W1t(){if(btt)return NM;btt=1,Object.defineProperty(NM,"__esModule",{value:!0}),NM.Line=void 0;const n=ms,e=AM();class t extends e.BaseEdge{constructor(r){super((0,n.mergeOptions)({style:t.defaultStyleProps},r))}getKeyPath(r){const[o,s]=this.getEndpoints(r);return[["M",o[0],o[1]],["L",s[0],s[1]]]}}return NM.Line=t,t.defaultStyleProps={},NM}();Object.defineProperty(n,"Line",{enumerable:!0,get:function(){return s.Line}});var a=function rEt(){if(Ttt)return LM;Ttt=1,Object.defineProperty(LM,"__esModule",{value:!0}),LM.Polyline=void 0;const n=Oo,e=zM(),t=Ws,i=Xu,r=my,o=ms,s=AM();class a extends s.BaseEdge{constructor(u){super((0,o.mergeOptions)({style:a.defaultStyleProps},u))}getControlPoints(u){const{router:h}=u,{sourceNode:p,targetNode:v}=this,[y,b]=this.getEndpoints(u,!1);let E=[];if(h)if("shortest-path"===h.type){const w=this.context.element.getNodes();E=(0,r.aStarSearch)(p,v,w,h),E.length||(E=(0,i.orth)(y,b,p,v,u.controlPoints,{padding:h.offset}))}else"orth"===h.type&&(E=(0,i.orth)(y,b,p,v,u.controlPoints,h));else E=u.controlPoints;return E}getPoints(u){const h=this.getControlPoints(u),[p,v]=this.getEndpoints(u,!0,h);return[p,...h,v]}getKeyPath(u){const h=this.getPoints(u);return(0,e.getPolylinePath)(h,u.radius)}getLoopPath(u){const{sourcePort:h,targetPort:p,radius:v}=u,y=this.sourceNode,b=(0,n.getNodeBBox)(y),E=Math.max((0,n.getBBoxWidth)(b),(0,n.getBBoxHeight)(b))/4,{placement:w,clockwise:S,dist:C=E}=(0,t.subStyleProps)(this.getGraphicStyle(u),"loop");return(0,e.getPolylineLoopPath)(y,v,w,S,C,h,p)}}return LM.Polyline=a,a.defaultStyleProps={radius:0,controlPoints:[],router:!1},LM}();Object.defineProperty(n,"Polyline",{enumerable:!0,get:function(){return a.Polyline}});var l=function oEt(){if(Att)return VM;Att=1,Object.defineProperty(VM,"__esModule",{value:!0}),VM.Quadratic=void 0;const n=zM(),e=ms,t=AM();class i extends t.BaseEdge{constructor(o){super((0,e.mergeOptions)({style:i.defaultStyleProps},o))}getKeyPath(o){const{curvePosition:s,curveOffset:a}=o,[l,u]=this.getEndpoints(o),h=o.controlPoint||(0,n.getCurveControlPoint)(l,u,s,a);return(0,n.getQuadraticPath)(l,u,h)}}return VM.Quadratic=i,i.defaultStyleProps={curvePosition:.5,curveOffset:30},VM}();Object.defineProperty(n,"Quadratic",{enumerable:!0,get:function(){return l.Quadratic}})}(ftt)),ftt}(),n),t(ltt(),n)}(iJ)),iJ}(),t=Oo,i=Rg,r=qr,o=tu;function s(rt){return rt instanceof e.BaseNode&&"node"===rt.type}function a(rt){return rt instanceof e.BaseEdge}function l(rt){return rt instanceof e.BaseCombo}const p={top:[.5,0],right:[1,.5],bottom:[.5,1],left:[0,.5],default:[.5,.5]};function y(rt){if(!rt)return{};const Nt=rt.getPorts();return(rt.attributes.ports||[]).forEach((ie,$e)=>{var ye;const{key:ln,placement:kn}=ie;b(ie)&&(Nt[ye=ln||$e]||(Nt[ye]=(0,o.getXYByPlacement)(rt.getShape("key").getBounds(),kn)))}),Nt}function b(rt){const{r:Nt}=rt;return!Nt||0===Number(Nt)}function E(rt){return(0,i.isPoint)(rt)?rt:rt.getPosition()}function S(rt,Nt,ie,$e){const ye=y(rt);if(ie)return ye[ie];const ln=Object.values(ye);if(0===ln.length)return;const kn=ln.map(fi=>E(fi)),oi=function C(rt,Nt){const ie=y(rt);if(Nt)return[E(ie[Nt])];const $e=Object.values(ie);return $e.length>0?$e.map(ye=>E(ye)):[rt.getCenter()]}(Nt,$e),[Un]=(0,r.findNearestPoints)(kn,oi);return ln.find(fi=>E(fi)===Un)}function k(rt,Nt){if(!rt||!Nt)return[0,0,0];if((0,i.isPoint)(rt))return rt;if(rt.attributes.linkToCenter)return rt.getPosition();const ie=(0,i.isPoint)(Nt)?Nt:s(Nt)?Nt.getCenter():Nt.getPosition();return(0,r.getEllipseIntersectPoint)(ie,rt.getBounds())}function T(rt,Nt){if(!rt||!Nt)return[0,0,0];const ie=(0,i.isPoint)(Nt)?Nt:s(Nt)?Nt.getCenter():Nt.getPosition();return rt.getIntersectPoint(ie)||rt.getCenter()}return Eo}function zM(){return Ptt||(Ptt=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRadians=void 0,n.getLabelPositionStyle=u,n.getBadgePositionStyle=function h(Q,at,It,Pt,ct){var ot,rt;const Nt=2*(null===(ot=Q.badge)||void 0===ot?void 0:ot.getGeometryBounds().halfExtents[0])||0,ie=2*(null===(rt=Q.label)||void 0===rt?void 0:rt.getGeometryBounds().halfExtents[0])||0;return u(Q.key,It,!0,(ie?(ie/2+Nt/2)*("suffix"===at?1:-1):0)+Pt,ct)},n.getCurveControlPoint=function v(Q,at,It,Pt){if((0,e.isEqual)(Q,at))return Q;const ct=(0,l.subtract)(at,Q),ot=[Q[0]+It*ct[0],Q[1]+It*ct[1]],rt=(0,l.normalize)((0,l.perpendicular)(ct,!1));return ot[0]+=Pt*rt[0],ot[1]+=Pt*rt[1],ot},n.parseCurveOffset=function y(Q){return(0,e.isNumber)(Q)?[Q,-Q]:Q},n.parseCurvePosition=function b(Q){return(0,e.isNumber)(Q)?[Q,1-Q]:Q},n.getQuadraticPath=function E(Q,at,It){return[["M",Q[0],Q[1]],["Q",It[0],It[1],at[0],at[1]]]},n.getCubicPath=w,n.getPolylinePath=S,n.getBorderRadiusPoints=C,n.getLoopEndpoints=k,n.getCubicLoopPath=function T(Q,at,It,Pt,ct,ot){const rt=Q.getPorts()[ct||ot],Nt=Q.getPorts()[ot||ct];let[ie,$e]=k(Q,at,It,rt,Nt);const ye=I(Q,ie,$e,Pt);return rt&&(ie=(0,r.getPortConnectionPoint)(rt,ye[0])),Nt&&($e=(0,r.getPortConnectionPoint)(Nt,ye[ye.length-1])),w(ie,$e,ye)},n.getCubicLoopControlPoints=I,n.getPolylineLoopPath=function F(Q,at,It,Pt,ct,ot,rt){const Nt=(0,r.getAllPorts)(Q),ie=Nt[ot||rt],$e=Nt[rt||ot];let[ye,ln]=k(Q,It,Pt,ie,$e);const kn=z(Q,ye,ln,ct);return ie&&(ye=(0,r.getPortConnectionPoint)(ie,kn[0])),$e&&(ln=(0,r.getPortConnectionPoint)($e,kn[kn.length-1])),S([ye,...kn,ln],at)},n.getPolylineLoopControlPoints=z,n.getSubgraphRelatedEdges=function V(Q,at){const It=new Set,Pt=new Set,ct=new Set;return Q.forEach(ot=>{at(ot).forEach(rt=>{It.add(rt),Q.includes(rt.source)&&Q.includes(rt.target)?Pt.add(rt):ct.add(rt)})}),{edges:Array.from(It),internal:Array.from(Pt),external:Array.from(ct)}},n.findActualConnectNodeData=function K(Q,at){const It=[];let Pt=Q;for(;Pt;){It.push(Pt);const ct=at((0,o.idOf)(Pt));if(!ct)break;Pt=ct}if(It.some(ct=>{var ot;return null===(ot=ct.style)||void 0===ot?void 0:ot.collapsed})){const ct=It.reverse().findIndex(i.isCollapsed);return It[ct]||It.at(-1)}return Q},n.getArrowSize=function Y(Q,at){return at||(Q<4?10:4===Q?12:2.5*Q)};const e=Ua,t=Oo,i=U9,r=wp(),o=Pg,s=qr,a=Xu,l=Vo;function u(Q,at,It,Pt,ct){let ot="number"==typeof at?at:.5;"start"===at&&(ot=0),"end"===at&&(ot=.99);const rt=(0,s.parsePoint)(Q.getPoint(ot)),Nt=(0,s.parsePoint)(Q.getPoint(ot+.01));let ie="start"===at?"left":"end"===at?"right":"center";if((0,s.isHorizontal)(rt,Nt)||!It){const[oi,Un]=p(Q,ot,Pt,ct);return{transform:[["translate",oi,Un]],textAlign:ie}}let $e=Math.atan2(Nt[1]-rt[1],Nt[0]-rt[0]);Nt[0]<rt[0]&&(ie="center"===ie?ie:"left"===ie?"right":"left",Pt*=-1,$e+=Math.PI);const[ye,ln]=p(Q,ot,Pt,ct,$e);return{textAlign:ie,transform:[["translate",ye,ln],["rotate",$e/Math.PI*180]]}}function p(Q,at,It,Pt,ct){const[ot,rt]=(0,s.parsePoint)(Q.getPoint(at));let Nt=It,ie=Pt;return ct&&(Nt=It*Math.cos(ct)-Pt*Math.sin(ct),ie=It*Math.sin(ct)+Pt*Math.cos(ct)),[ot+Nt,rt+ie]}function w(Q,at,It){return[["M",Q[0],Q[1]],["C",It[0][0],It[0][1],It[1][0],It[1][1],at[0],at[1]]]}function S(Q,at=0,It=!1){const Pt=Q[0],ct=Q[Q.length-1],ot=Q.slice(1,Q.length-1),rt=[["M",Pt[0],Pt[1]]];return ot.forEach((Nt,ie)=>{const $e=ot[ie-1]||Pt,ye=ot[ie+1]||ct;if(!(0,s.isCollinear)($e,Nt,ye)&&at){const[ln,kn]=C($e,Nt,ye,at);rt.push(["L",ln[0],ln[1]],["Q",Nt[0],Nt[1],kn[0],kn[1]],["L",kn[0],kn[1]])}else rt.push(["L",Nt[0],Nt[1]])}),rt.push(["L",ct[0],ct[1]]),It&&rt.push(["Z"]),rt}function C(Q,at,It,Pt){const ct=(0,l.manhattanDistance)(Q,at),ot=(0,l.manhattanDistance)(It,at),rt=Math.min(Pt,Math.min(ct,ot)/2);return[[at[0]-rt/ct*(at[0]-Q[0]),at[1]-rt/ct*(at[1]-Q[1])],[at[0]-rt/ot*(at[0]-It[0]),at[1]-rt/ot*(at[1]-It[1])]]}function k(Q,at,It,Pt,ct){const ot=(0,t.getNodeBBox)(Q),rt=Q.getCenter();let Nt=Pt&&(0,r.getPortPosition)(Pt),ie=ct&&(0,r.getPortPosition)(ct);if(!Nt||!ie){const $e=(0,n.getRadians)(ot),ye=$e[at][0],ln=$e[at][1],[kn,oi]=(0,t.getBBoxSize)(ot),Un=Math.max(kn,oi),fi=(0,l.add)(rt,[Un*Math.cos(ye),Un*Math.sin(ye),0]),rs=(0,l.add)(rt,[Un*Math.cos(ln),Un*Math.sin(ln),0]);Nt=(0,r.getNodeConnectionPoint)(Q,fi),ie=(0,r.getNodeConnectionPoint)(Q,rs),It||([Nt,ie]=[ie,Nt])}return[Nt,ie]}function I(Q,at,It,Pt){const ct=Q.getCenter();if((0,e.isEqual)(at,It)){const ot=(0,l.subtract)(at,ct),rt=[Pt*Math.sign(ot[0])||Pt/2,Pt*Math.sign(ot[1])||-Pt/2,0];return[(0,l.add)(at,rt),(0,l.add)(It,(0,l.multiply)(rt,[1,-1,1]))]}return[(0,s.moveTo)(ct,at,(0,l.distance)(ct,at)+Pt),(0,s.moveTo)(ct,It,(0,l.distance)(ct,It)+Pt)]}function z(Q,at,It,Pt){const ct=[],ot=(0,t.getNodeBBox)(Q);if((0,e.isEqual)(at,It))switch((0,t.getNearestBoundarySide)(at,ot)){case"left":ct.push([at[0]-Pt,at[1]]),ct.push([at[0]-Pt,at[1]+Pt]),ct.push([at[0],at[1]+Pt]);break;case"right":ct.push([at[0]+Pt,at[1]]),ct.push([at[0]+Pt,at[1]+Pt]),ct.push([at[0],at[1]+Pt]);break;case"top":ct.push([at[0],at[1]-Pt]),ct.push([at[0]+Pt,at[1]-Pt]),ct.push([at[0]+Pt,at[1]]);break;case"bottom":ct.push([at[0],at[1]+Pt]),ct.push([at[0]+Pt,at[1]+Pt]),ct.push([at[0]+Pt,at[1]])}else{const rt=(0,t.getNearestBoundarySide)(at,ot),Nt=(0,t.getNearestBoundarySide)(It,ot);if(rt===Nt){let $e,ye;switch(rt){case"left":$e=Math.min(at[0],It[0])-Pt,ct.push([$e,at[1]]),ct.push([$e,It[1]]);break;case"right":$e=Math.max(at[0],It[0])+Pt,ct.push([$e,at[1]]),ct.push([$e,It[1]]);break;case"top":ye=Math.min(at[1],It[1])-Pt,ct.push([at[0],ye]),ct.push([It[0],ye]);break;case"bottom":ye=Math.max(at[1],It[1])+Pt,ct.push([at[0],ye]),ct.push([It[0],ye])}}else{const ie=(kn,oi)=>({left:[oi[0]-Pt,oi[1]],right:[oi[0]+Pt,oi[1]],top:[oi[0],oi[1]-Pt],bottom:[oi[0],oi[1]+Pt]}[kn]),$e=ie(rt,at),ye=ie(Nt,It),ln=(0,a.freeJoin)($e,ye,ot);ct.push($e,ln,ye)}}return ct}n.getRadians=Q=>{const at=Math.PI/2,It=(0,t.getBBoxHeight)(Q)/2,Pt=(0,t.getBBoxWidth)(Q)/2,ct=Math.atan2(It,Pt)/2,ot=Math.atan2(Pt,It)/2;return{top:[-at-ot,-at+ot],"top-right":[-at+ot,-ct],"right-top":[-at+ot,-ct],right:[-ct,ct],"bottom-right":[ct,at-ot],"right-bottom":[ct,at-ot],bottom:[at-ot,at+ot],"bottom-left":[at+ot,Math.PI-ct],"left-bottom":[at+ot,Math.PI-ct],left:[Math.PI-ct,Math.PI+ct],"top-left":[Math.PI+ct,-at-ot],"left-top":[Math.PI+ct,-at-ot]}}}(nJ)),nJ}var Ntt=zM();const X1=[16,16],Ltt=[12,10],Ftt=(n,e,t)=>{const i=6+X1[0];if(n&&e)return[3,i,3,i];if(t){if(n)return[3,i,3,6];if(e)return[3,6,3,i]}else{if(n)return[3,6,3,i];if(e)return[3,i,3,6]}return[3,6,3,6]},lP=n=>{const e=cy(n.getPoint(.5));return cy(n.getPoint(.51))[0]<e[0]},Btt=(n,e)=>{const t=n.getShape("icon")||n,i=e.getShape("icon")||e;return[t.getPosition(),i.getPosition()]},jtt=(n,e,t=0,i=0,r=!0)=>{if(function cEt(n,e){const t=cy(n.getPoint(e)),i=cy(n.getPoint(e+.01));return t[1]===i[1]}(n,e)){const[l,u]=Vtt(n,e,t,i);return{translate:{x:l,y:u},rotate:0}}let o=((n,e)=>{const t=cy(n.getPoint(e)),i=cy(n.getPoint(e+.01));return Math.atan2(i[1]-t[1],i[0]-t[0])})(n,e);lP(n)&&r&&(t*=-1,o+=Math.PI);const[s,a]=Vtt(n,e,t,i,o);return{translate:{x:s,y:a},rotate:o/Math.PI*180}};function Vtt(n,e,t,i,r){const[o,s]=cy(n.getPoint(e));let a=t,l=i;return r&&(a=t*Math.cos(r)-i*Math.sin(r),l=t*Math.sin(r)+i*Math.cos(r)),[o+a,s+l]}const Ks=n=>{var e;const t=null==(e=n.context)?void 0:e.graph;return t?.mxGraph};function hz(n,e,t){var i;const r=(new DOMParser).parseFromString(n,"image/svg+xml").querySelector(`#${e}`);if(!r)throw new Error(`Icon "${e}" not found`);return t&&(null==(i=r?.querySelectorAll('[fill]:not([fill="none"])'))||i.forEach(o=>{o.setAttribute("fill",t)}),r?.setAttribute("fill",t)),function fEt(n){const e=(new XMLSerializer).serializeToString(n),t=`data:image/svg+xml;base64,${btoa(e)}`,i=new Image;return i.src=t,i}(r)}const ztt=()=>-1!==navigator.userAgent.indexOf("Macintosh"),Lg=n=>{const e=n.getLocalBounds(),t=n.getLocalPosition();return{x:t[0],y:t[1],width:e.max[0]-e.min[0],height:e.max[1]-e.min[1],min:{x:e.min[0],y:e.min[1]},max:{x:e.max[0],y:e.max[1]}}},Fg=(n=[],e)=>e.every(t=>n.some(i=>i===t)),Utt=(n=0)=>e=>`\x1b[${e+n}m`,Gtt=(n=0)=>e=>`\x1b[${38+n};5;${e}m`,Htt=(n=0)=>(e,t,i)=>`\x1b[${38+n};2;${e};${t};${i}m`,ns={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(ns.modifier),Object.keys(ns.color),Object.keys(ns.bgColor);const sf=function gEt(){const n=new Map;for(const[e,t]of Object.entries(ns)){for(const[i,r]of Object.entries(t))ns[i]={open:`\x1b[${r[0]}m`,close:`\x1b[${r[1]}m`},t[i]=ns[i],n.set(r[0],r[1]);Object.defineProperty(ns,e,{value:t,enumerable:!1})}return Object.defineProperty(ns,"codes",{value:n,enumerable:!1}),ns.color.close="\x1b[39m",ns.bgColor.close="\x1b[49m",ns.color.ansi=Utt(),ns.color.ansi256=Gtt(),ns.color.ansi16m=Htt(),ns.bgColor.ansi=Utt(10),ns.bgColor.ansi256=Gtt(10),ns.bgColor.ansi16m=Htt(10),Object.defineProperties(ns,{rgbToAnsi256:{value:(e,t,i)=>e===t&&t===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[i]=t;3===i.length&&(i=[...i].map(o=>o+o).join(""));const r=Number.parseInt(i,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>ns.rgbToAnsi256(...ns.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,i,r;if(e>=232)t=(10*(e-232)+8)/255,i=t,r=t;else{const a=(e-=16)%36;t=Math.floor(e/36)/5,i=Math.floor(a/6)/5,r=a%6/5}const o=2*Math.max(t,i,r);if(0===o)return 30;let s=30+(Math.round(r)<<2|Math.round(i)<<1|Math.round(t));return 2===o&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(e,t,i)=>ns.ansi256ToAnsi(ns.rgbToAnsi256(e,t,i)),enumerable:!1},hexToAnsi:{value:e=>ns.ansi256ToAnsi(ns.hexToAnsi256(e)),enumerable:!1}}),ns}(),cP=(()=>{if(navigator.userAgentData){const n=navigator.userAgentData.brands.find(({brand:e})=>"Chromium"===e);if(n&&n.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),$tt=0!==cP&&{level:cP,hasBasic:!0,has256:cP>=2,has16m:cP>=3},vEt={stdout:$tt,stderr:$tt};function yEt(n,e,t){let i=n.indexOf(e);if(-1===i)return n;const r=e.length;let o=0,s="";do{s+=n.slice(o,i)+e+t,o=i+r,i=n.indexOf(e,o)}while(-1!==i);return s+=n.slice(o),s}const{stdout:Wtt,stderr:Ktt}=vEt,pz=Symbol("GENERATOR"),Y1=Symbol("STYLER"),UM=Symbol("IS_EMPTY"),Xtt=["ansi","ansi","ansi256","ansi16m"],Z1=Object.create(null);function GM(n){return(n=>{const e=(...t)=>t.join(" ");return((n,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");n.level=void 0===e.level?Wtt?Wtt.level:0:e.level})(e,n),Object.setPrototypeOf(e,GM.prototype),e})(n)}Object.setPrototypeOf(GM.prototype,Function.prototype);for(const[n,e]of Object.entries(sf))Z1[n]={get(){const t=uP(this,gz(e.open,e.close,this[Y1]),this[UM]);return Object.defineProperty(this,n,{value:t}),t}};Z1.visible={get(){const n=uP(this,this[Y1],!0);return Object.defineProperty(this,"visible",{value:n}),n}};const mz=(n,e,t,...i)=>"rgb"===n?"ansi16m"===e?sf[t].ansi16m(...i):"ansi256"===e?sf[t].ansi256(sf.rgbToAnsi256(...i)):sf[t].ansi(sf.rgbToAnsi(...i)):"hex"===n?mz("rgb",e,t,...sf.hexToRgb(...i)):sf[t][n](...i),wEt=["rgb","hex","ansi256"];for(const n of wEt)Z1[n]={get(){const{level:t}=this;return function(...i){const r=gz(mz(n,Xtt[t],"color",...i),sf.color.close,this[Y1]);return uP(this,r,this[UM])}}},Z1["bg"+n[0].toUpperCase()+n.slice(1)]={get(){const{level:t}=this;return function(...i){const r=gz(mz(n,Xtt[t],"bgColor",...i),sf.bgColor.close,this[Y1]);return uP(this,r,this[UM])}}};const xEt=Object.defineProperties(()=>{},{...Z1,level:{enumerable:!0,get(){return this[pz].level},set(n){this[pz].level=n}}}),gz=(n,e,t)=>{let i,r;return void 0===t?(i=n,r=e):(i=t.openAll+n,r=e+t.closeAll),{open:n,close:e,openAll:i,closeAll:r,parent:t}},uP=(n,e,t)=>{const i=(...r)=>CEt(i,1===r.length?""+r[0]:r.join(" "));return Object.setPrototypeOf(i,xEt),i[pz]=n,i[Y1]=e,i[UM]=t,i},CEt=(n,e)=>{if(n.level<=0||!e)return n[UM]?"":e;let t=n[Y1];if(void 0===t)return e;const{openAll:i,closeAll:r}=t;if(e.includes("\x1b"))for(;void 0!==t;)e=yEt(e,t.close,t.open),t=t.parent;const o=e.indexOf("\n");return-1!==o&&(e=function bEt(n,e,t,i){let r=0,o="";do{const s="\r"===n[i-1];o+=n.slice(r,s?i-1:i)+e+(s?"\r\n":"\n")+t,r=i+1,i=n.indexOf("\n",r)}while(-1!==i);return o+=n.slice(r),o}(e,r,i,o)),i+e+r};Object.defineProperties(GM.prototype,Z1);const vz=GM();GM({level:Ktt?Ktt.level:0});const Ytt="color-schemes",Ztt="color-palettes",DEt=n=>{const e=i=>0===i.length?[]:i.map(r=>{const o=n.filter(s=>s?.treeParentId===r.id);return{...r,children:e(o)}}),t=n.filter(i=>!(null!=i&&i.treeParentId&&n.find(r=>r.id===i?.treeParentId)));return e(t)},Jtt={"background-neutral-default":"#F7FAF9","text-neutral-default":"#191C1C","text-neutral-default-subtle":"#3F4948","background-neutral-subtle":"#FFFFFF","background-neutral-inverse":"#2D3131","text-neutral-inverse":"#EFF1F0","icon-primary-default":"#008585","icon-error-default":"#DE3730","icon-warning-default":"#ED9900","icon-success-default":"#378648","icon-info-default":"#0078DA","border-primary-default":"#008585","border-error-default":"#DE3730","border-warning-default":"#ED9900","border-success-default":"#378648","border-info-default":"#0078DA","path/outline-neutral-default":"#3F4948","guides/outline-accent":"#FF5449","background-primary-default":"#6FF7F6","background-primary-hovered":"#4CDADA","background-neutral-hovered":"#C4C7C6","background-error-default":"#FFDAD6","background-error-hovered":"#FFB4AB","background-warning-default":"#FFDDB7","background-warning-hovered":"#FFB95C","background-success-default":"#A2F6AB","background-success-hovered":"#87D991","background-info-default":"#D4E3FF","background-info-hovered":"#A5C8FF"},tet={"background-neutral-default":"#101414","text-neutral-default":"#E0E3E2","text-neutral-default-subtle":"#A3ADAD","background-neutral-subtle":"#0B0F0F","background-neutral-inverse":"#E0E3E2","text-neutral-inverse":"#191C1C","icon-primary-default":"#1EBEBE","icon-error-default":"#FF897D","icon-warning-default":"#ED9900","icon-success-default":"#6CBD78","icon-info-default":"#72ADFF","border-primary-default":"#1EBEBE","border-error-default":"#FF897D","border-warning-default":"#ED9900","border-success-default":"#6CBD78","border-info-default":"#72ADFF","path/outline-neutral-default":"#BEC9C8","guides/outline-accent":"#FF5449","background-primary-default":"#004F4F","background-primary-hovered":"#006A6A","background-neutral-hovered":"#5B5F5F","background-error-default":"#93000A","background-error-hovered":"#BA1A1A","background-warning-default":"#653E00","background-warning-hovered":"#855400","background-success-default":"#005320","background-success-hovered":"#186C32","background-info-default":"#004786","background-info-hovered":"#005FAF"},eet={palettes:{"primary/primary-0":"#000000","red/red-0":"#000000","red/red-10":"#410002","red/red-20":"#690005","red/red-30":"#93000A","red/red-40":"#BA1A1A","red/red-50":"#DE3730","red/red-60":"#FF5449","red/red-70":"#FF897D","red/red-80":"#FFB4AB","red/red-90":"#FFDAD6","red/red-95":"#FFEDEA","primary/primary-10":"#002020","primary/primary-20":"#003737","primary/primary-30":"#004F4F","primary/primary-40":"#006A6A","primary/primary-50":"#008585","primary/primary-60":"#00A1A1","primary/primary-70":"#1EBEBE","primary/primary-80":"#4CDADA","primary/primary-90":"#6FF7F6","primary/primary-95":"#ADFFFE","primary/primary-99":"#F1FFFE","red/red-99":"#FFFBFF","yellow/yellow-0":"#000000","yellow/yellow-10":"#2A1700","yellow/yellow-20":"#462A00","yellow/yellow-30":"#653E00","yellow/yellow-40":"#855400","yellow/yellow-50":"#A66A00","yellow/yellow-60":"#C98100","yellow/yellow-70":"#ED9900","yellow/yellow-80":"#FFB95C","yellow/yellow-90":"#FFDDB7","yellow/yellow-95":"#FFEEDE","green/green-0":"#000000","green/green-10":"#002109","green/green-20":"#003914","green/green-30":"#005320","green/green-40":"#186C32","green/green-50":"#378648","yellow/yellow-99":"#FFFBFF","green/green-60":"#52A160","green/green-70":"#6CBD78","green/green-80":"#87D991","green/green-90":"#A2F6AB","green/green-95":"#C6FFC8","blue/blue-0":"#000000","blue/blue-10":"#001C3A","green/green-99":"#F6FFF1","blue/blue-20":"#00315F","blue/blue-30":"#004786","blue/blue-40":"#005FAF","blue/blue-50":"#0078DA","blue/blue-60":"#2792FF","blue/blue-70":"#72ADFF","blue/blue-80":"#A5C8FF","blue/blue-90":"#D4E3FF","blue/blue-95":"#EBF1FF","grey/grey-0":"#000000","grey/grey-4":"#0B0F0F","grey/grey-6":"#101414","grey/grey-10":"#191C1C","grey/grey-20":"#2D3131","grey/grey-30":"#444747","grey/grey-40":"#5B5F5F","grey/grey-50":"#747877","grey/grey-60":"#8E9191","grey/grey-70":"#A9ACAB","grey/grey-80":"#C4C7C6","grey/grey-90":"#E0E3E2","grey/grey-92":"#E6E9E8","grey/grey-95":"#EFF1F0","blue-grey/blue-grey-0":"#000000","blue-grey/blue-grey-10":"#141D1D","blue-grey/blue-grey-20":"#293232","blue-grey/blue-grey-30":"#3F4948","blue-grey/blue-grey-40":"#566060","blue-grey/blue-grey-50":"#6F7979","blue-grey/blue-grey-60":"#889392","blue-grey/blue-grey-70":"#A3ADAD","blue-grey/blue-grey-80":"#BEC9C8","blue-grey/blue-grey-90":"#DAE5E4","blue-grey/blue-grey-92":"#E0EBEA","blue-grey/blue-grey-95":"#E9F3F2","blue/blue-99":"#FDFCFF","grey/grey-98":"#F7FAF9","primary/primary-100":"#FFFFFF","red/red-100":"#FFFFFF","yellow/yellow-100":"#FFFFFF","green/green-100":"#FFFFFF","blue/blue-100":"#FFFFFF","grey/grey-100":"#FFFFFF","blue-grey/blue-grey-100":"#FFFFFF"},light:Jtt,dark:tet},yz=(n,e,t,i="light")=>{var r;if(!n.tokenConfig)return;const o=null==(r=n.tokenConfig)?void 0:r[i],s=t.includes("active"),a=t.includes("selected");let l=o["path/outline-neutral-default"];return"default"===e&&(s||a)?l=o["path/outline-neutral-default"]:"info"===e?l=o["border-info-default"]:"success"===e?l=o["border-success-default"]:"warning"===e?l=o["border-warning-default"]:"error"===e&&(l=o["border-error-default"]),l},net=(n,e)=>{const[t,i]=Hi(n)?n:[n,n];return{start:t,end:i}[e]},bz=(n,e,t)=>{const{lineHighlightColor:i,color:r}=n,[o,s]=Hi(i)?i:[i,i],a=Ks(n),l=yz(a,o,e,t),u=yz(a,s,e,t);return{stroke:r||`linear-gradient(${l} 50%, ${u} 50%)`}},iet=(n,e)=>Ks(e).isElementExist(n.id)?e.context.model.getElementState(n.id):[],_z=(n,e)=>{const t=Hr(n.getGraphicStyle(e),"label"),{placement:i,offsetX:r,offsetY:o,autoRotate:s,maxWidth:a,textAlign:l,position:u,type:h,startArrow:p,endArrow:v,fill:y,color:b,customBackground:E,...w}=t,S=((n,e="light")=>{const{color:t,position:i,type:r,customBackground:o}=Hr(n,"label"),s=eet[e];let a=s["text-neutral-default"],l=s["background-neutral-default"],u="transparent";const h=net(n.lineHighlightColor,i<=.5?"start":"end");"filled"===r?(a=s["text-neutral-inverse"],l=s["background-neutral-inverse"]):"outlined"===r&&(l=s["background-neutral-default"],u=s["path/outline-neutral-default"],"info"===h?u=s["border-info-default"]:"success"===h?u=s["border-success-default"]:"warning"===h?u=s["border-warning-default"]:"error"===h&&(u=s["border-error-default"]));const p=vi(o?.radius)?4:o.radius,v=vi(o?.borderWidth)?1:o.borderWidth;return{fill:t||a,background:!0,backgroundFill:o?.color||l,backgroundStroke:o?.borderColor||u,backgroundRadius:p,backgroundLineWidth:v,backgroundOpacity:1}})(e,Ks(e).getTheme()),{translate:C,rotate:D}=jtt(n.getShape("key"),vi(u)?.5:u,0,o),k=s?`translate(${C.x}, ${C.y}) rotate(${D})`:`translate(${C.x}, ${C.y})`,T=n.getShape("key"),I=lP(T);return{...w,...S,textAlign:l||"center",textBaseline:"middle",padding:Ftt(p,v,I),transform:k}},Q1=(n,e,t)=>{const{fill:r}=((n,e,t,i="light")=>{const{color:r,lineHighlightColor:o}=n,s=Ks(n),a=net(o,t),l=yz(s,a,e,i);return{fill:r||l}})(e,iet(n,e),t,Ks(e).getTheme()),{translate:o,rotate:s}=jtt(n.getShape("key"),.5,"start"===t?-Ltt[0]:0,-Ltt[1]/2,!1);return{src:hz(Ks(e).iconSpriteText,{start:"edge-start-arrow",end:"edge-end-arrow"}[t],r),width:12,height:10,transform:`translate(${o.x}, ${o.y}) rotate(${s})`}},Ez=(n,e)=>{var t;const i=lP(n.getShape("key"));null==(t=e.labels)||t.forEach(r=>{const{labelId:o,labelStartArrow:s,labelEndArrow:a}=r,l=n.getShape(`label-${o}`),u=l.style,h={...e,...r},[p,v]=i?[a,s]:[s,a];[{type:"start",key:"startArrow",arrow:p},{type:"end",key:"endArrow",arrow:v}].forEach(({type:y,arrow:b,key:E})=>{var w;if(!1===b&&(null==(w=u[E])||w.destroy(),delete u[E]),!0===b){const S=((n,e,t)=>{const{id:i,startArrow:r,endArrow:o,type:s}=Hr(n.getGraphicStyle(e),"label"),a=n.getShape("key"),l=n.getShape(`label-${i}`),u=lP(a),p=((n,e,t)=>{const{halfExtents:r}=n.getGeometryBounds(),s=t[1]===t[3]?0:t[1]>t[3]?t[3]:t[1],a=[-r[0]-s+4,-X1[0]/2],l=[r[0]-X1[0]+s-4,-X1[0]/2],u=[[1*a[0],a[1]],[1*l[0],l[1]]];return"start"===e?u[0]:"end"===e?u[1]:[0,0]})(l,t,Ftt(r,o,u)),v=`translate(${p[0]}, ${p[1]})`,b="filled"===s?"white":"black";return{src:hz(Ks(e).iconSpriteText,{start:"arrow-back",end:"arrow-forward"}[t],b),width:X1[0],height:X1[1],transform:v,zIndex:1}})(n,h,y),C=new al({style:S});u[E]=C,l.appendChild(u[E])}})})},wz=n=>{const e=n.shapeMap;Object.keys(e).filter(t=>t.startsWith("label-")).forEach(t=>{var i;null==(i=e[t])||i.destroy(),delete e[t]})};jl(ts.EDGE,"line-edge",class IEt extends iC{getEndpoints(e){return Btt(this.sourceNode,this.targetNode)||super.getEndpoints(e)}getKeyStyle(e){return{...super.getKeyStyle(e),...bz(e,iet(this,e),Ks(e).getTheme())}}getLoopPath(e){const{sourcePort:t,targetPort:i}=e,r=this.sourceNode.getShape("icon");r.getPorts=this.sourceNode.getPorts,r.getIntersectPoint=this.sourceNode.getIntersectPoint,r.getCenter=()=>r.getBounds().center,r.getShape=h=>r;const o=gbt(r.getPosition()),s=Math.max(pbt(o),mbt(o)),{placement:a,clockwise:l,dist:u=s}=Hr(this.getGraphicStyle(e),"loop");return Ntt.getCubicLoopPath(r,a,l,u,t,i)}drawCustomLabelShape(e,t){var i;wz(this),null==(i=e.labels)||i.forEach(r=>{const o=_z(this,{...e,...r});this.upsert(`label-${r.labelId}`,Xh,o,t)})}drawMiddleArrow(e,t){var i,r;const{direction:o}=e,s="middle-start-arrow",a="middle-end-arrow";"forward"!==o&&(null==(i=this.shapeMap[s])||i.destroy(),delete this.shapeMap[s]),"backward"!==o&&(null==(r=this.shapeMap[a])||r.destroy(),delete this.shapeMap[a]),("forward"===e.direction||"both"===e.direction)&&this.upsert("middle-start-arrow",al,Q1(this,e,"start"),t),("backward"===e.direction||"both"===e.direction)&&this.upsert("middle-end-arrow",al,Q1(this,e,"end"),t)}render(e,t){super.render(e),this.drawCustomLabelShape(e,t),this.drawMiddleArrow(e,t),Ez(this,e)}});var ret=wp();jl(ts.EDGE,"polyline-edge",class REt extends oC{get states(){return this.isEdgeExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isEdgeExist(){return this.parsedAttributes.context.model.hasEdge(this.id)}getSourceTarget(e=!1){const{sourceNode:t,targetNode:i}=this,r=t.getShape("icon")||t,o=i.getShape("icon")||i;return e?{source:[r.getPosition()[0],r.getPosition()[1]],target:[o.getPosition()[0],o.getPosition()[1]]}:{source:r,target:o}}getKeyPath(e){const{radius:t}=e,i=this.getPoints(e);return Ntt.getPolylinePath(i,t)}getPoints(e){const{router:t}=e,{source:i,target:r}=this.getSourceTarget(!0),[o,s]=this.getEndpoints(e);let a=[];if(t)if("shortest-path"===t.type){const h=this.context.element.getNodes();a=Z1t(i,r,h,t),a.length||(a=_tt(o,s,i,r,e.controlPoints,{padding:t.offset}))}else"orth"===t.type&&(a=_tt(o,s,i,r,e.controlPoints,t));else a=e.controlPoints;const[l,u]=this.getEndpoints(e,!0,a);return[l,...a,u]}getEndpoints(e,t=!0,i=[]){const{source:r,target:o}=this.getSourceTarget(!0),s="function"==typeof i?i():i;return[ret.getConnectionPoint(r,s[0]||o),ret.getConnectionPoint(o,s[s.length-1]||r)]}getKeyStyle(e){return{...super.getKeyStyle(e),...bz(e,this.states,Ks(e).getTheme())}}drawCustomLabelShape(e,t){var i;wz(this),null==(i=e.labels)||i.forEach(r=>{const o=_z(this,{...e,...r});this.upsert(`label-${r.labelId}`,Xh,o,t)})}drawMiddleArrow(e,t){var i,r;const{direction:o}=e,s="middle-start-arrow",a="middle-end-arrow";"forward"!==o&&(null==(i=this.shapeMap[s])||i.destroy(),delete this.shapeMap[s]),"backward"!==o&&(null==(r=this.shapeMap[a])||r.destroy(),delete this.shapeMap[a]),("forward"===e.direction||"both"===e.direction)&&this.upsert("middle-start-arrow",al,Q1(this,e,"start"),t),("backward"===e.direction||"both"===e.direction)&&this.upsert("middle-end-arrow",al,Q1(this,e,"end"),t)}render(e,t){super.render(e),this.drawCustomLabelShape(e,t),this.drawMiddleArrow(e,t),Ez(this,e)}}),jl(ts.EDGE,"quadratic-edge",class PEt extends Lk{get states(){return this.isEdgeExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isEdgeExist(){return this.parsedAttributes.context.model.hasEdge(this.id)}getEndpoints(e){return Btt(this.sourceNode,this.targetNode)||super.getEndpoints(e)}getKeyStyle(e){return{...super.getKeyStyle(e),...bz(e,this.states,Ks(e).getTheme())}}drawCustomLabelShape(e,t){var i;wz(this),null==(i=e.labels)||i.forEach(r=>{const o=_z(this,{...e,...r});this.upsert(`label-${r.labelId}`,Xh,o,t)})}drawMiddleArrow(e,t){var i,r;const{direction:o}=e,s="middle-start-arrow",a="middle-end-arrow";"forward"!==o&&(null==(i=this.shapeMap[s])||i.destroy(),delete this.shapeMap[s]),"backward"!==o&&(null==(r=this.shapeMap[a])||r.destroy(),delete this.shapeMap[a]),("forward"===e.direction||"both"===e.direction)&&this.upsert("middle-start-arrow",al,Q1(this,e,"start"),t),("backward"===e.direction||"both"===e.direction)&&this.upsert("middle-end-arrow",al,Q1(this,e,"end"),t)}render(e,t){super.render(e),this.drawCustomLabelShape(e,t),this.drawMiddleArrow(e,t),Ez(this,e)}});const oet=n=>{if(!n)return{};const{stroke:e,lineWidth:t,lineDash:i,lineHighlightColor:r}=n,o={};return e&&(o.color=e),t&&(o.lineWidth=t),i&&(o.lineDash=n.lineDash),r&&(o.highlight=r),o},set=n=>({type:{"line-edge":"line-edge","quadratic-edge":"quadratic-edge","polyline-edge":"polyline-edge"}[n||"line-edge"]}),aet=n=>n?{labels:n.map((e,t)=>{const i={id:e.labelId||+t,show:!!e.label},{labelText:r,labelFill:o,labelMaxWidth:s,labelOffsetX:a,labelOffsetY:l,labelFontSize:u,labelFontFamily:h,labelWordWrap:p,labelWordWrapWidth:v,labelMaxLines:y,labelPosition:b,labelType:E,labelStartArrow:w,labelEndArrow:S,labelAutoRotate:C,labelCustomBackground:D}=e;return r&&(i.text=r),o&&(i.color=o),vi(s)||(i.maxWidth=s),(a||l)&&(i.offset={x:a||0,y:l||0}),u&&(i.fontSize=u),h&&(i.fontFamily=h),vi(p)||(i.wordWrap=p),vi(v)||(i.wordWrapWidth=v),vi(y)||(i.maxLines=y),vi(b)||(i.position=b),vi(E)||(i.type=E),vi(w)||(i.startArrow=w),vi(S)||(i.endArrow=S),vi(D)||(i.background=D),vi(C)||(i.autoRotate=C),i})}:{},cet=n=>{if(!n)return{};const{startArrow:e,startArrowType:t,startArrowSize:i,startArrowOffset:r,endArrow:o,endArrowType:s,endArrowSize:a,endArrowOffset:l,direction:u}=n,h={};return void 0!==e&&(h.start=e),void 0!==o&&(h.end=o),(t||i)&&(h.start={type:t,size:i,offset:r}),(s||a)&&(h.end={type:s,size:a,offset:l}),u&&(h.direction=u),{arrows:h}},q1_toEdgeData=n=>{var e;const{id:t,source:i,target:r,data:o}=n;return{id:t,source:i,target:r,customData:o,config:{type:"line-edge"},config:{...oet(n.style),...set(n.type),...cet(n.style),...aet(null==(e=n.style)?void 0:e.labels),...n.states&&{states:n.states}}}},uet=n=>{const e={};return n.color&&(e.stroke=n.color,e.color=n.color),n.lineWidth&&(e.lineWidth=n.lineWidth),n.lineDash&&(e.lineDash=n.lineDash),n.highlight&&(e.lineHighlightColor=n.highlight),e},xz=n=>n?{type:{"line-edge":"line-edge","quadratic-edge":"quadratic-edge","polyline-edge":"polyline-edge"}[n]}:{},det=n=>{const e={label:n.show??!0,labelAutoRotate:!1,labelFontSize:12},{text:t,color:i,background:r,maxWidth:o,offset:s,fontSize:a,fontFamily:l,wordWrap:u,wordWrapWidth:h,maxLines:p,autoRotate:v,position:y,type:b,startArrow:E,endArrow:w}=n;if(t&&(e.labelText=t),i&&(e.labelFill=i,e.labelColor=i),r&&(e.labelCustomBackground=r),vi(o)||(e.labelMaxWidth=o),s){const{x:S,y:C}=s;S&&(e.labelOffsetX=S),C&&(e.labelOffsetY=C)}return a&&(e.labelFontSize=a),l&&(e.labelFontFamily=l),vi(u)||(e.labelWordWrap=u),vi(h)||(e.labelWordWrapWidth=h),vi(p)||(e.labelMaxLines=p),vi(v)||(e.labelAutoRotate=v),Object.assign(e,{labelPosition:y,labelType:b,labelStartArrow:E,labelEndArrow:w})},FEt=n=>n?{labels:n.map((e,t)=>({...det(e),labelId:e.id||t}))}:{},het=n=>{if(!n)return{};const{start:e,end:t,direction:i}=n,r={startArrow:!!e,endArrow:!!t,direction:i};return Dr(e)&&(e.type&&(r.startArrowType=e.type),e.src&&(r.startArrowSrc=e.src),e.size&&(r.startArrowSize=e.size),e.offset&&(r.startArrowOffset=e.offset)),Dr(t)&&(t.type&&(r.endArrowType=t.type),t.size&&(r.endArrowSize=t.size),t.src&&(r.endArrowSrc=t.src),t.offset&&(r.endArrowOffset=t.offset)),r},fet=n=>{if(!n)return{};const{curveOffset:e,placement:t}=n,i={};return e&&(i.loopDist=e),t&&(i.loopPlacement=t),i},pet=n=>"polyline-edge"!==n.type?{}:{router:{type:"orth"}},met=n=>{if(!n)return{};const{curveOffset:e,curvePosition:t}=n,i={curveOffset:50};return e&&(i.curveOffset=e),t&&(i.curvePosition=t),i},HM_toEdgeData=(n,e={full:!1})=>{const{id:t,source:i,target:r,config:o,customData:s}=n,a=e.full?{id:t,config:o,data:s,type:"line-edge",source:i,target:r,style:{labelFontFamily:"Roboto",increasedLineWidthForHitTesting:20}}:{id:t,...xz(o?.type)};if(!o)return a;const l={...a,...xz(o.type),style:{...a.style,...uet(o),...FEt(o.labels),...het(o.arrows),...met(o.quadratic),...fet(o.loop),...pet(o)}};return i&&(l.source=i),r&&(l.target=r),o.states&&(l.states=o.states),l},zEt={version:"1.0.4",metadata:{},collections:[{name:"color-palettes",modes:[{name:"value",variables:[{name:"primary/primary-0",type:"color",isAlias:!1,value:"#000000"},{name:"red/red-0",type:"color",isAlias:!1,value:"#000000"},{name:"red/red-10",type:"color",isAlias:!1,value:"#410002"},{name:"red/red-20",type:"color",isAlias:!1,value:"#690005"},{name:"red/red-30",type:"color",isAlias:!1,value:"#93000A"},{name:"red/red-40",type:"color",isAlias:!1,value:"#BA1A1A"},{name:"red/red-50",type:"color",isAlias:!1,value:"#DE3730"},{name:"red/red-60",type:"color",isAlias:!1,value:"#FF5449"},{name:"red/red-70",type:"color",isAlias:!1,value:"#FF897D"},{name:"red/red-80",type:"color",isAlias:!1,value:"#FFB4AB"},{name:"red/red-90",type:"color",isAlias:!1,value:"#FFDAD6"},{name:"red/red-95",type:"color",isAlias:!1,value:"#FFEDEA"},{name:"primary/primary-10",type:"color",isAlias:!1,value:"#002020"},{name:"primary/primary-20",type:"color",isAlias:!1,value:"#003737"},{name:"primary/primary-30",type:"color",isAlias:!1,value:"#004F4F"},{name:"primary/primary-40",type:"color",isAlias:!1,value:"#006A6A"},{name:"primary/primary-50",type:"color",isAlias:!1,value:"#008585"},{name:"primary/primary-60",type:"color",isAlias:!1,value:"#00A1A1"},{name:"primary/primary-70",type:"color",isAlias:!1,value:"#1EBEBE"},{name:"primary/primary-80",type:"color",isAlias:!1,value:"#4CDADA"},{name:"primary/primary-90",type:"color",isAlias:!1,value:"#6FF7F6"},{name:"primary/primary-95",type:"color",isAlias:!1,value:"#ADFFFE"},{name:"primary/primary-99",type:"color",isAlias:!1,value:"#F1FFFE"},{name:"red/red-99",type:"color",isAlias:!1,value:"#FFFBFF"},{name:"yellow/yellow-0",type:"color",isAlias:!1,value:"#000000"},{name:"yellow/yellow-10",type:"color",isAlias:!1,value:"#2A1700"},{name:"yellow/yellow-20",type:"color",isAlias:!1,value:"#462A00"},{name:"yellow/yellow-30",type:"color",isAlias:!1,value:"#653E00"},{name:"yellow/yellow-40",type:"color",isAlias:!1,value:"#855400"},{name:"yellow/yellow-50",type:"color",isAlias:!1,value:"#A66A00"},{name:"yellow/yellow-60",type:"color",isAlias:!1,value:"#C98100"},{name:"yellow/yellow-70",type:"color",isAlias:!1,value:"#ED9900"},{name:"yellow/yellow-80",type:"color",isAlias:!1,value:"#FFB95C"},{name:"yellow/yellow-90",type:"color",isAlias:!1,value:"#FFDDB7"},{name:"yellow/yellow-95",type:"color",isAlias:!1,value:"#FFEEDE"},{name:"green/green-0",type:"color",isAlias:!1,value:"#000000"},{name:"green/green-10",type:"color",isAlias:!1,value:"#002109"},{name:"green/green-20",type:"color",isAlias:!1,value:"#003914"},{name:"green/green-30",type:"color",isAlias:!1,value:"#005320"},{name:"green/green-40",type:"color",isAlias:!1,value:"#186C32"},{name:"green/green-50",type:"color",isAlias:!1,value:"#378648"},{name:"yellow/yellow-99",type:"color",isAlias:!1,value:"#FFFBFF"},{name:"green/green-60",type:"color",isAlias:!1,value:"#52A160"},{name:"green/green-70",type:"color",isAlias:!1,value:"#6CBD78"},{name:"green/green-80",type:"color",isAlias:!1,value:"#87D991"},{name:"green/green-90",type:"color",isAlias:!1,value:"#A2F6AB"},{name:"green/green-95",type:"color",isAlias:!1,value:"#C6FFC8"},{name:"blue/blue-0",type:"color",isAlias:!1,value:"#000000"},{name:"blue/blue-10",type:"color",isAlias:!1,value:"#001C3A"},{name:"green/green-99",type:"color",isAlias:!1,value:"#F6FFF1"},{name:"blue/blue-20",type:"color",isAlias:!1,value:"#00315F"},{name:"blue/blue-30",type:"color",isAlias:!1,value:"#004786"},{name:"blue/blue-40",type:"color",isAlias:!1,value:"#005FAF"},{name:"blue/blue-50",type:"color",isAlias:!1,value:"#0078DA"},{name:"blue/blue-60",type:"color",isAlias:!1,value:"#2792FF"},{name:"blue/blue-70",type:"color",isAlias:!1,value:"#72ADFF"},{name:"blue/blue-80",type:"color",isAlias:!1,value:"#A5C8FF"},{name:"blue/blue-90",type:"color",isAlias:!1,value:"#D4E3FF"},{name:"blue/blue-95",type:"color",isAlias:!1,value:"#EBF1FF"},{name:"grey/grey-0",type:"color",isAlias:!1,value:"#000000"},{name:"grey/grey-4",type:"color",isAlias:!1,value:"#0B0F0F"},{name:"grey/grey-6",type:"color",isAlias:!1,value:"#101414"},{name:"grey/grey-10",type:"color",isAlias:!1,value:"#191C1C"},{name:"grey/grey-20",type:"color",isAlias:!1,value:"#2D3131"},{name:"grey/grey-30",type:"color",isAlias:!1,value:"#444747"},{name:"grey/grey-40",type:"color",isAlias:!1,value:"#5B5F5F"},{name:"grey/grey-50",type:"color",isAlias:!1,value:"#747877"},{name:"grey/grey-60",type:"color",isAlias:!1,value:"#8E9191"},{name:"grey/grey-70",type:"color",isAlias:!1,value:"#A9ACAB"},{name:"grey/grey-80",type:"color",isAlias:!1,value:"#C4C7C6"},{name:"grey/grey-90",type:"color",isAlias:!1,value:"#E0E3E2"},{name:"grey/grey-92",type:"color",isAlias:!1,value:"#E6E9E8"},{name:"grey/grey-95",type:"color",isAlias:!1,value:"#EFF1F0"},{name:"blue-grey/blue-grey-0",type:"color",isAlias:!1,value:"#000000"},{name:"blue-grey/blue-grey-10",type:"color",isAlias:!1,value:"#141D1D"},{name:"blue-grey/blue-grey-20",type:"color",isAlias:!1,value:"#293232"},{name:"blue-grey/blue-grey-30",type:"color",isAlias:!1,value:"#3F4948"},{name:"blue-grey/blue-grey-40",type:"color",isAlias:!1,value:"#566060"},{name:"blue-grey/blue-grey-50",type:"color",isAlias:!1,value:"#6F7979"},{name:"blue-grey/blue-grey-60",type:"color",isAlias:!1,value:"#889392"},{name:"blue-grey/blue-grey-70",type:"color",isAlias:!1,value:"#A3ADAD"},{name:"blue-grey/blue-grey-80",type:"color",isAlias:!1,value:"#BEC9C8"},{name:"blue-grey/blue-grey-90",type:"color",isAlias:!1,value:"#DAE5E4"},{name:"blue-grey/blue-grey-92",type:"color",isAlias:!1,value:"#E0EBEA"},{name:"blue-grey/blue-grey-95",type:"color",isAlias:!1,value:"#E9F3F2"},{name:"blue/blue-99",type:"color",isAlias:!1,value:"#FDFCFF"},{name:"grey/grey-98",type:"color",isAlias:!1,value:"#F7FAF9"},{name:"primary/primary-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"red/red-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"yellow/yellow-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"green/green-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"blue/blue-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"grey/grey-100",type:"color",isAlias:!1,value:"#FFFFFF"},{name:"blue-grey/blue-grey-100",type:"color",isAlias:!1,value:"#FFFFFF"}]}]},{name:"color-schemes",modes:[{name:"light",variables:[{name:"background-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-98"}},{name:"text-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-10"}},{name:"text-neutral-default-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-30"}},{name:"background-neutral-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-100"}},{name:"background-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-20"}},{name:"text-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-95"}},{name:"icon-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-50"}},{name:"icon-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-50"}},{name:"icon-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"icon-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-50"}},{name:"icon-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-50"}},{name:"border-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-50"}},{name:"border-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-50"}},{name:"border-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"border-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-50"}},{name:"border-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-50"}},{name:"path/outline-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-30"}},{name:"guides/outline-accent",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-60"}},{name:"background-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-90"}},{name:"background-primary-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-80"}},{name:"background-neutral-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-80"}},{name:"background-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-90"}},{name:"background-error-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-80"}},{name:"background-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-90"}},{name:"background-warning-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-80"}},{name:"background-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-90"}},{name:"background-success-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-80"}},{name:"background-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-90"}},{name:"background-info-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-80"}}]},{name:"dark",variables:[{name:"background-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-6"}},{name:"text-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-90"}},{name:"text-neutral-default-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-70"}},{name:"background-neutral-subtle",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-4"}},{name:"background-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-90"}},{name:"text-neutral-inverse",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-10"}},{name:"icon-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-70"}},{name:"icon-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-70"}},{name:"icon-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"icon-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-70"}},{name:"icon-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-70"}},{name:"border-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-70"}},{name:"border-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-70"}},{name:"border-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-70"}},{name:"border-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-70"}},{name:"border-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-70"}},{name:"path/outline-neutral-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue-grey/blue-grey-80"}},{name:"guides/outline-accent",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-60"}},{name:"background-primary-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-30"}},{name:"background-primary-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"primary/primary-40"}},{name:"background-neutral-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"grey/grey-40"}},{name:"background-error-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-30"}},{name:"background-error-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"red/red-40"}},{name:"background-warning-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-30"}},{name:"background-warning-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"yellow/yellow-40"}},{name:"background-success-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-30"}},{name:"background-success-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"green/green-40"}},{name:"background-info-default",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-30"}},{name:"background-info-hovered",type:"color",isAlias:!0,value:{collection:"color-palettes",name:"blue/blue-40"}}]}]},{name:"opacity",modes:[{name:"Mode 1",variables:[{name:"opacity-64",type:"number",isAlias:!1,value:64},{name:"opacity-70",type:"number",isAlias:!1,value:70}]}]},{name:"Typography",modes:[{name:"Style",variables:[{name:"typography/topology/title",type:"typography",isAlias:!1,value:{fontSize:14,fontFamily:"Roboto",fontWeight:"Medium",lineHeight:20,lineHeightUnit:"PIXELS",letterSpacing:.10000000149011612,letterSpacingUnit:"PIXELS",textCase:"ORIGINAL",textDecoration:"NONE"}},{name:"typography/topology/body",type:"typography",isAlias:!1,value:{fontSize:14,fontFamily:"Roboto",fontWeight:"Regular",lineHeight:20,lineHeightUnit:"PIXELS",letterSpacing:.25,letterSpacingUnit:"PIXELS",textCase:"ORIGINAL",textDecoration:"NONE"}}]}]}]};var xi=(n=>(n.ZOOM_CANVAS="zoom-canvas",n.DRAG_CANVAS="drag-canvas",n.DRAG_ELEMENT="drag-element",n.SCROLL_CANVAS="scroll-canvas",n.COLLAPSE_EXPAND="collapse-expand",n.CLICK_SELECT="click-select",n.BRUSH_SELECT="brush-select",n.HOVER_ACTIVATE="hover-activate",n.FOCUS_ELEMENT="focus-element",n.CREATE_EDGE="mx-create-edge",n.SELECT_ALL="select-all",n.FIX_ELEMENT_SIZE="fix-element-size",n))(xi||{});const HEt=["hover-activate","click-select","drag-canvas","drag-element","zoom-canvas","collapse-expand","select-all"];var Cz=(n=>(n[n.CANVAS_CLICK=io.CLICK]="CANVAS_CLICK",n[n.CANVAS_DBLCLICK=io.DBLCLICK]="CANVAS_DBLCLICK",n[n.CANVAS_POINTER_OVER=io.POINTER_OVER]="CANVAS_POINTER_OVER",n[n.CANVAS_POINTER_LEAVE=io.POINTER_LEAVE]="CANVAS_POINTER_LEAVE",n[n.CANVAS_POINTER_ENTER=io.POINTER_ENTER]="CANVAS_POINTER_ENTER",n[n.CANVAS_POINTER_MOVE=io.POINTER_MOVE]="CANVAS_POINTER_MOVE",n[n.CANVAS_POINTER_OUT=io.POINTER_OUT]="CANVAS_POINTER_OUT",n[n.CANVAS_POINTER_DOWN=io.POINTER_DOWN]="CANVAS_POINTER_DOWN",n[n.CANVAS_POINTER_UP=io.POINTER_UP]="CANVAS_POINTER_UP",n[n.CANVAS_CONTEXT_MENU=io.CONTEXT_MENU]="CANVAS_CONTEXT_MENU",n[n.CANVAS_DRAG_START=io.DRAG_START]="CANVAS_DRAG_START",n[n.CANVAS_DRAG=io.DRAG]="CANVAS_DRAG",n[n.CANVAS_DRAG_END=io.DRAG_END]="CANVAS_DRAG_END",n[n.CANVAS_DRAG_ENTER=io.DRAG_ENTER]="CANVAS_DRAG_ENTER",n[n.CANVAS_DRAG_OVER=io.DRAG_OVER]="CANVAS_DRAG_OVER",n[n.CANVAS_DRAG_LEAVE=io.DRAG_LEAVE]="CANVAS_DRAG_LEAVE",n[n.CANVAS_DROP=io.DROP]="CANVAS_DROP",n[n.CANVAS_WHEEL=io.WHEEL]="CANVAS_WHEEL",n))(Cz||{}),Mz=(n=>(n[n.GRAPH_BEFORE_CANVAS_INIT=An.BEFORE_CANVAS_INIT]="GRAPH_BEFORE_CANVAS_INIT",n[n.GRAPH_AFTER_CANVAS_INIT=An.AFTER_CANVAS_INIT]="GRAPH_AFTER_CANVAS_INIT",n[n.GRAPH_BEFORE_SIZE_CHANGE=An.BEFORE_SIZE_CHANGE]="GRAPH_BEFORE_SIZE_CHANGE",n[n.GRAPH_AFTER_SIZE_CHANGE=An.AFTER_SIZE_CHANGE]="GRAPH_AFTER_SIZE_CHANGE",n[n.GRAPH_BEFORE_ELEMENT_CREATE=An.BEFORE_ELEMENT_CREATE]="GRAPH_BEFORE_ELEMENT_CREATE",n[n.GRAPH_AFTER_ELEMENT_CREATE=An.AFTER_ELEMENT_CREATE]="GRAPH_AFTER_ELEMENT_CREATE",n[n.GRAPH_BEFORE_ELEMENT_UPDATE=An.BEFORE_ELEMENT_UPDATE]="GRAPH_BEFORE_ELEMENT_UPDATE",n[n.GRAPH_AFTER_ELEMENT_UPDATE=An.AFTER_ELEMENT_UPDATE]="GRAPH_AFTER_ELEMENT_UPDATE",n[n.GRAPH_BEFORE_ELEMENT_DESTROY=An.BEFORE_ELEMENT_DESTROY]="GRAPH_BEFORE_ELEMENT_DESTROY",n[n.GRAPH_AFTER_ELEMENT_DESTROY=An.AFTER_ELEMENT_DESTROY]="GRAPH_AFTER_ELEMENT_DESTROY",n[n.GRAPH_BEFORE_ELEMENT_TRANSLATE=An.BEFORE_ELEMENT_TRANSLATE]="GRAPH_BEFORE_ELEMENT_TRANSLATE",n[n.GRAPH_AFTER_ELEMENT_TRANSLATE=An.AFTER_ELEMENT_TRANSLATE]="GRAPH_AFTER_ELEMENT_TRANSLATE",n[n.GRAPH_BEFORE_DRAW=An.BEFORE_DRAW]="GRAPH_BEFORE_DRAW",n[n.GRAPH_AFTER_DRAW=An.AFTER_DRAW]="GRAPH_AFTER_DRAW",n[n.GRAPH_BEFORE_RENDER=An.BEFORE_RENDER]="GRAPH_BEFORE_RENDER",n[n.GRAPH_AFTER_RENDER=An.AFTER_RENDER]="GRAPH_AFTER_RENDER",n[n.GRAPH_BEFORE_ANIMATE=An.BEFORE_ANIMATE]="GRAPH_BEFORE_ANIMATE",n[n.GRAPH_AFTER_ANIMATE=An.AFTER_ANIMATE]="GRAPH_AFTER_ANIMATE",n[n.GRAPH_BEFORE_LAYOUT=An.BEFORE_LAYOUT]="GRAPH_BEFORE_LAYOUT",n[n.GRAPH_AFTER_LAYOUT=An.AFTER_LAYOUT]="GRAPH_AFTER_LAYOUT",n[n.GRAPH_BEFORE_TRANSFORM=An.BEFORE_TRANSFORM]="GRAPH_BEFORE_TRANSFORM",n[n.GRAPH_AFTER_TRANSFORM=An.AFTER_TRANSFORM]="GRAPH_AFTER_TRANSFORM",n[n.GRAPH_BATCH_START=An.BATCH_START]="GRAPH_BATCH_START",n[n.GRAPH_BATCH_END=An.BATCH_END]="GRAPH_BATCH_END",n[n.GRAPH_BEFORE_DESTROY=An.BEFORE_DESTROY]="GRAPH_BEFORE_DESTROY",n[n.GRAPH_AFTER_DESTROY=An.AFTER_DESTROY]="GRAPH_AFTER_DESTROY",n.GRAPH_BEFORE_BRUSH_SELECT="graph:beforeBrushSelect",n.GRAPH_VIEWPORT_CHANGE="graph:viewportChange",n))(Mz||{}),$M=(n=>(n[n.NODE_CLICK=Kr.CLICK]="NODE_CLICK",n[n.NODE_DBLCLICK=Kr.DBLCLICK]="NODE_DBLCLICK",n[n.NODE_POINTER_OVER=Kr.POINTER_OVER]="NODE_POINTER_OVER",n[n.NODE_POINTER_LEAVE=Kr.POINTER_LEAVE]="NODE_POINTER_LEAVE",n[n.NODE_POINTER_ENTER=Kr.POINTER_ENTER]="NODE_POINTER_ENTER",n[n.NODE_POINTER_MOVE=Kr.POINTER_MOVE]="NODE_POINTER_MOVE",n[n.NODE_POINTER_OUT=Kr.POINTER_OUT]="NODE_POINTER_OUT",n[n.NODE_POINTER_DOWN=Kr.POINTER_DOWN]="NODE_POINTER_DOWN",n[n.NODE_POINTER_UP=Kr.POINTER_UP]="NODE_POINTER_UP",n[n.NODE_CONTEXT_MENU=Kr.CONTEXT_MENU]="NODE_CONTEXT_MENU",n[n.NODE_DRAG_START=Kr.DRAG_START]="NODE_DRAG_START",n[n.NODE_DRAG=Kr.DRAG]="NODE_DRAG",n[n.NODE_DRAG_END=Kr.DRAG_END]="NODE_DRAG_END",n[n.NODE_DRAG_ENTER=Kr.DRAG_ENTER]="NODE_DRAG_ENTER",n[n.NODE_DRAG_OVER=Kr.DRAG_OVER]="NODE_DRAG_OVER",n[n.NODE_DRAG_LEAVE=Kr.DRAG_LEAVE]="NODE_DRAG_LEAVE",n[n.NODE_DROP=Kr.DROP]="NODE_DROP",n.NODE_SELECTED="node:selected",n.NODE_DRAG_MULTI_END="node:dragMultiEnd",n))($M||{}),dP=(n=>(n[n.EDGE_CLICK=bs.CLICK]="EDGE_CLICK",n[n.EDGE_DBLCLICK=bs.DBLCLICK]="EDGE_DBLCLICK",n[n.EDGE_POINTER_OVER=bs.POINTER_OVER]="EDGE_POINTER_OVER",n[n.EDGE_POINTER_LEAVE=bs.POINTER_LEAVE]="EDGE_POINTER_LEAVE",n[n.EDGE_POINTER_ENTER=bs.POINTER_ENTER]="EDGE_POINTER_ENTER",n[n.EDGE_POINTER_MOVE=bs.POINTER_MOVE]="EDGE_POINTER_MOVE",n[n.EDGE_POINTER_OUT=bs.POINTER_OUT]="EDGE_POINTER_OUT",n[n.EDGE_POINTER_DOWN=bs.POINTER_DOWN]="EDGE_POINTER_DOWN",n[n.EDGE_POINTER_UP=bs.POINTER_UP]="EDGE_POINTER_UP",n[n.EDGE_CONTEXT_MENU=bs.CONTEXT_MENU]="EDGE_CONTEXT_MENU",n[n.EDGE_DRAG_ENTER=bs.DRAG_ENTER]="EDGE_DRAG_ENTER",n[n.EDGE_DRAG_OVER=bs.DRAG_OVER]="EDGE_DRAG_OVER",n[n.EDGE_DRAG_LEAVE=bs.DRAG_LEAVE]="EDGE_DRAG_LEAVE",n[n.EDGE_DROP=bs.DROP]="EDGE_DROP",n.EDGE_SELECTED="edge:selected",n))(dP||{}),WM=(n=>(n[n.GROUP_CLICK=ho.CLICK]="GROUP_CLICK",n[n.GROUP_DBLCLICK=ho.DBLCLICK]="GROUP_DBLCLICK",n[n.GROUP_POINTER_OVER=ho.POINTER_OVER]="GROUP_POINTER_OVER",n[n.GROUP_POINTER_LEAVE=ho.POINTER_LEAVE]="GROUP_POINTER_LEAVE",n[n.GROUP_POINTER_ENTER=ho.POINTER_ENTER]="GROUP_POINTER_ENTER",n[n.GROUP_POINTER_MOVE=ho.POINTER_MOVE]="GROUP_POINTER_MOVE",n[n.GROUP_POINTER_OUT=ho.POINTER_OUT]="GROUP_POINTER_OUT",n[n.GROUP_POINTER_DOWN=ho.POINTER_DOWN]="GROUP_POINTER_DOWN",n[n.GROUP_POINTER_UP=ho.POINTER_UP]="GROUP_POINTER_UP",n[n.GROUP_CONTEXT_MENU=ho.CONTEXT_MENU]="GROUP_CONTEXT_MENU",n[n.GROUP_DRAG_START=ho.DRAG_START]="GROUP_DRAG_START",n[n.GROUP_DRAG=ho.DRAG]="GROUP_DRAG",n[n.GROUP_DRAG_END=ho.DRAG_END]="GROUP_DRAG_END",n[n.GROUP_DRAG_ENTER=ho.DRAG_ENTER]="GROUP_DRAG_ENTER",n[n.GROUP_DRAG_OVER=ho.DRAG_OVER]="GROUP_DRAG_OVER",n[n.GROUP_DRAG_LEAVE=ho.DRAG_LEAVE]="GROUP_DRAG_LEAVE",n[n.GROUP_DROP=ho.DROP]="GROUP_DROP",n.GROUP_EXPAND="group:expand",n.GROUP_COLLAPSE="group:collapse",n.GROUP_DRAG_MULTI_END="group:dragMultiEnd",n.GROUP_SELECTED="group:selected",n))(WM||{});const xp={...Cz,...Mz,...$M,...dP,...WM};var Hd=(n=>(n.ALIGN="align",n.TREE="tree",n.MESH="mesh",n.GRID="grid",n.RING="ring",n))(Hd||{}),gr=(n=>(n.HISTORY="history",n.CONTEXT_MENU="contextmenu",n.TOOLTIP="tooltip",n.FIXED_TOOLBAR="fixed-toolbar",n.ELEMENT_TOOLBAR="element-toolbar",n.GRAPH_BACKGROUND="graphBackground",n.MINIMAP="minimap",n.SNAPLINE="snapline",n))(gr||{}),Sz={},hP={};Object.defineProperty(hP,"__esModule",{value:!0}),hP.dfs=function get(n,e,t,i,r=0){"TB"===i&&e(n,r);const o=t(n);if(o)for(const s of o)get(s,e,t,i,r+1);"BT"===i&&e(n,r)},hP.bfs=function WEt(n,e,t){const i=[[n,0]];for(;i.length;){const[r,o]=i.shift();e(r,o);const s=t(r);if(s)for(const a of s)i.push([a,o+1])}},Object.defineProperty(Sz,"__esModule",{value:!0});var KEt=Sz.getElementNthDegreeIds=function ZEt(n,e,t,i,r="both"){if("combo"===e||"node"===e)return fP(n,t,i,r);const o=n.getEdgeData(t);if(!o)return[];const s=fP(n,o.source,i-1,r),a=fP(n,o.target,i-1,r);return Array.from(new Set([...s,...a,t]))};Sz.getNodeNthDegreeIds=fP;const XEt=Pg,YEt=hP;function fP(n,e,t,i="both"){const r=new Set,o=new Set,s=new Set;return(0,YEt.bfs)(e,(a,l)=>{l>t||(s.add(a),n.getRelatedEdgesData(a,i).forEach(u=>{const h=(0,XEt.idOf)(u);!o.has(h)&&l<t&&(s.add(h),o.add(h))}))},a=>n.getRelatedEdgesData(a,i).map(l=>l.source===a?l.target:l.source).filter(l=>!r.has(l)&&(r.add(l),!0))),Array.from(s)}var vet={};Object.defineProperty(vet,"__esModule",{value:!0});var pP=vet.statesOf=function QEt(n){return n.states||[]};const yet=class Oit extends zs{constructor(e,t){var i;super(e,Object.assign({},Oit.defaultOptions,t)),i=this,gi(this,"shortcut"),gi(this,"onClickSelect",function(){var r=(0,wl.A)(function*(o){var s,a;i.validate(o)&&(yield i.updateState(o),null==(a=(s=i.options).onClick)||a.call(s,o))});return function(o){return r.apply(this,arguments)}}()),gi(this,"onClickCanvas",function(){var r=(0,wl.A)(function*(o){var s,a;i.validate(o)&&(yield i.clearState(),null==(a=(s=i.options).onClick)||a.call(s,o))});return function(o){return r.apply(this,arguments)}}()),this.shortcut=new Id(e.graph),this.bindEvents()}bindEvents(){const{graph:e}=this.context;this.unbindEvents(),az.forEach(t=>{e.on(`${t}:${pn.CLICK}`,this.onClickSelect)}),e.on(io.CLICK,this.onClickCanvas)}get isMultipleSelect(){const{multiple:e,trigger:t}=this.options;return e&&this.shortcut.match(t)}getNeighborIds(e){const{target:t,targetType:i}=e,{graph:r}=this.context,{degree:o}=this.options;return KEt(r,i,t.id,"function"==typeof o?o(e):o).filter(s=>s!==t.id)}updateState(e){var t=this;return(0,wl.A)(function*(){const{state:i,unselectedState:r,neighborState:o}=t.options;if(!i&&!o&&!r)return;const{target:a}=e,{graph:l}=t.context,u=l.getElementData(a.id),h=pP(u).includes(i)?"unselect":"select",p={},v=t.isMultipleSelect,y=[a.id],b=t.getNeighborIds(e),E=(w,S)=>{w.forEach(C=>{const D=l.getElementData(C),k=new Set(pP(D));k.add(S),k.delete(r),p[C]=Array.from(k)})};if(v)if(Object.assign(p,t.getDataStates()),"select"===h)E(y,i),E(b,o),r&&Object.keys(p).forEach(w=>{const S=p[w];!S.includes(i)&&!S.includes(o)&&!S.includes(r)&&p[w].push(r)});else{const w=p[a.id];p[a.id]=w.filter(S=>S!==i&&S!==o),w.includes(r)||p[a.id].push(r),b.forEach(S=>{p[S]=p[S].filter(C=>C!==o),p[S].includes(i)||p[S].push(r)})}else"select"===h?(Object.assign(p,t.getClearStates(!!r)),E(y,i),E(b,o),r&&Object.keys(p).forEach(w=>{!y.includes(w)&&!b.includes(w)&&p[w].push(r)})):Object.assign(p,t.getClearStates());yield l.setElementState(p,!1)})()}getDataStates(){const{graph:e}=this.context,{nodes:t,edges:i,combos:r}=e.getData(),o={};return[...t,...i,...r].forEach(s=>{o[Ge(s)]=pP(s)}),o}getClearStates(e=!1){const{graph:t}=this.context,{state:i,unselectedState:r,neighborState:o}=this.options,s=new Set([i,r,o]),{nodes:a,edges:l,combos:u}=t.getData(),h={};return[...a,...l,...u].forEach(p=>{const v=pP(p),y=v.filter(b=>!s.has(b));(e||y.length!==v.length)&&(h[Ge(p)]=y)}),h}clearState(){var e=this;return(0,wl.A)(function*(){const{graph:t}=e.context;yield t.setElementState(e.getClearStates(),e.options.animation)})()}validate(e){if(this.destroyed)return!1;const{enable:t}=this.options;return $n(t)?t(e):!!t}unbindEvents(){const{graph:e}=this.context;az.forEach(t=>{e.off(`${t}:${pn.CLICK}`,this.onClickSelect)}),e.off(io.CLICK,this.onClickCanvas)}destroy(){this.unbindEvents(),super.destroy()}};gi(yet,"defaultOptions",{animation:!0,enable:!0,multiple:!1,trigger:["shift"],state:"selected",neighborState:"selected",unselectedState:void 0,degree:0}),jl(ts.BEHAVIOR,"mx-click-select",yet);const KM="create-edge-assist-node-id",bet=class Tit extends zs{constructor(e,t){var i;super(e,Object.assign({},Tit.defaultOptions,t)),i=this,gi(this,"source"),gi(this,"cursorPoint",[0,0]),gi(this,"getEvents",()=>{const{trigger:r}=this.options,o={[pn.POINTER_MOVE]:this.updateAssistEdge,[pn.POINTER_UP]:this.updateCursorPoint};return"click"===r?{...o,[Kr.CLICK]:this.onCreateEdge,[ho.CLICK]:this.onCreateEdge,[io.CLICK]:this.cancelEdge,[bs.CLICK]:this.cancelEdge}:{...o,[Kr.DRAG_START]:this.onCreateEdge,[ho.DRAG_START]:this.onCreateEdge,[pn.POINTER_UP]:this.drop}}),gi(this,"drop",function(){var r=(0,wl.A)(function*(o){const{targetType:s}=o;["combo","node"].includes(s)&&i.source?yield i.onCreateEdge(o):yield i.cancelEdge()});return function(o){return r.apply(this,arguments)}}()),gi(this,"startCreateEdge",r=>{this.onCreateEdge({target:{id:r},targetType:"node"})}),gi(this,"onCreateEdge",function(){var r=(0,wl.A)(function*(o){var s;const{graph:a,canvas:l,batch:u,element:h,model:p}=i.context,{onStart:v}=i.options;if(i.source&&i.checkNodeExist(i.source))return i.createEdge(o),void(yield i.cancelEdge(!1));if(i.source=i.getSelectedNodeIDs([o.target.id])[0],!i.checkNodeExist(i.source))return;u.startBatch(),l.setCursor("crosshair"),a.addNodeData([{id:KM,style:{visibility:"hidden",ports:[{key:"port-1",placement:[.5,.5]}]}}]);const b=v(q1_toEdgeData({id:"create-edge-assist-edge-id",source:i.source,target:KM,config:{type:"line-edge"},style:{pointerEvents:"none"}}));if(!b)return void(yield i.cancelEdge(!1));const E=HM_toEdgeData(b,{full:!0});a.addEdgeData([E]),p.translateNodeTo(KM,i.cursorPoint),yield null==(s=h.draw({animation:!1}))?void 0:s.finished});return function(o){return r.apply(this,arguments)}}()),gi(this,"updateCursorPoint",r=>{this.cursorPoint=[r.canvas.x,r.canvas.y]}),gi(this,"updateAssistEdge",function(){var r=(0,wl.A)(function*(o){var s;if(!i.source)return;const{model:a,element:l}=i.context;a.translateNodeTo(KM,[o.canvas.x,o.canvas.y]),yield null==(s=l.draw({animation:!1,silence:!0}))?void 0:s.finished});return function(o){return r.apply(this,arguments)}}()),gi(this,"createEdge",r=>{var o,s;const{graph:a}=this.context,{onEnd:l}=this.options;if(void 0===(null==(o=r.target)?void 0:o.id)||void 0===this.source)return;const u=null==(s=this.getSelectedNodeIDs([r.target.id]))?void 0:s[0],h=`${this.source}-${u}-${Cv()}`,v=l(q1_toEdgeData({id:h,type:"line-edge",source:this.source,target:u}));if(!v)return;const y=HM_toEdgeData(v,{full:!0});a.addEdgeData([y])}),gi(this,"cancelEdge",(0,wl.A)(function*(r=!0){var o;if(!i.source)return;const{graph:s,element:a,batch:l,canvas:u}=i.context,{onCancel:h}=i.options;s.removeNodeData([KM]),i.source=void 0,u.setCursor("default"),yield null==(o=a.draw({animation:!1}))?void 0:o.finished,l.endBatch(),r&&h()})),this.bindEvents()}update(e){super.update(e),this.bindEvents()}getSelectedNodeIDs(e){return Array.from(new Set(this.context.graph.getElementDataByState("node",this.options.state).map(t=>t.id).concat(e)))}checkNodeExist(e){const{model:t}=this.context;return!!t.hasNode(e)||(this.source=void 0,console.warn(`Node ${e} does not exist`),!1)}bindEvents(){const{graph:e}=this.context,t=this.getEvents();this.unbindEvents(),Object.keys(t).forEach(i=>{e.on(i,t[i])})}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.off(i,t[i])})}destroy(){this.unbindEvents(),super.destroy()}};gi(bet,"defaultOptions",{animation:!0,trigger:"click",onStart:n=>n,onEnd:n=>n,onCancel:()=>{}}),jl(ts.BEHAVIOR,xi.CREATE_EDGE,bet),jl(ts.BEHAVIOR,xi.SELECT_ALL,class dwt extends zs{constructor(e,t){super(e,t),gi(this,"shortcut"),gi(this,"selected",!1),this.shortcut=new Id(e.graph),this.bindEvents()}bindEvents(){const e=ztt()?["meta","a"]:["control","a"];this.shortcut.bind(e,t=>{const{graph:i}=this.context,{elementTypes:r}=this.options,{nodes:o=[],edges:s=[],combos:a=[]}=i.getData(),l=[...null!=r&&r.includes("node")?o:[],...null!=r&&r.includes("edge")?s:[],...null!=r&&r.includes("group")?a:[]].map(u=>u.id);this.selected=!this.selected,i.setElementState(l.reduce((u,h)=>(h&&(u[h]=this.selected?["selected"]:[]),u),{}))})}destroy(){this.shortcut.destroy(),super.destroy()}});const _et={[xi.ZOOM_CANVAS]:n=>function(){return{type:xi.ZOOM_CANVAS,key:xi.ZOOM_CANVAS,onFinish:()=>{this.emit(xp.GRAPH_VIEWPORT_CHANGE,{type:xi.ZOOM_CANVAS})}}},[xi.DRAG_CANVAS]:n=>function(){return{type:xi.DRAG_CANVAS,key:xi.DRAG_CANVAS,enable:e=>{const t=e;return null!=n&&n.enable?n.enable(t):!t.shiftKey&&"canvas"===t.targetType},onFinish:()=>{this.emit(xp.GRAPH_VIEWPORT_CHANGE,{type:xi.DRAG_CANVAS})}}},[xi.DRAG_ELEMENT]:n=>function(){return{type:xi.DRAG_ELEMENT,key:xi.DRAG_ELEMENT,enable:e=>!this.getElementState(e.target.id).includes("disabled"),onFinish:e=>{const t=[],i=[];e.forEach(r=>{const o=this.getElementType(r);"node"===o?t.push(r):"combo"===o&&i.push(r)}),t.length&&this.emit(xp.NODE_DRAG_MULTI_END,t),i.length&&this.emit(xp.GROUP_DRAG_MULTI_END,i)},...n}},[xi.SCROLL_CANVAS]:n=>function(){return{type:xi.SCROLL_CANVAS,key:xi.SCROLL_CANVAS}},[xi.COLLAPSE_EXPAND]:n=>function(){return{type:xi.COLLAPSE_EXPAND,key:xi.COLLAPSE_EXPAND,onExpand:e=>{this.emit(xp.GROUP_EXPAND,e)},onCollapse:e=>{this.emit(xp.GROUP_COLLAPSE,e)}}},[xi.CLICK_SELECT]:n=>function(){const e={type:xi.CLICK_SELECT,key:xi.CLICK_SELECT,multiple:!0,unselectedState:void 0,trigger:ztt()?["meta"]:["control"],enable:s=>"canvas"===s.targetType||!this.getElementState(s.target.id).includes("disabled"),onClick:s=>{"canvas"!==s.targetType&&this.getElementState(s.target.id)&&("node"===s.targetType&&this.emit($M.NODE_SELECTED,s),"edge"===s.targetType&&this.emit(dP.EDGE_SELECTED,s),"combo"===s.targetType&&this.emit(WM.GROUP_SELECTED,s))}};if(!n)return e;const{multiple:t,multipleMode:i,elementTypes:r}=n,o=e;return void 0!==t&&(o.multiple=t),"click"===i&&(o.trigger=[]),r&&(o.enable=s=>"canvas"===s.targetType||!!r.includes((n=>({node:"node",edge:"edge",combo:"group"}[n]))(s.targetType))&&!this.getElementState(s.target.id).includes("disabled")&&r.includes(s.targetType)),o},[xi.HOVER_ACTIVATE]:n=>function(){return{type:xi.HOVER_ACTIVATE,key:xi.HOVER_ACTIVATE,enable:e=>!this.getElementState(e.target.id).includes("disabled")}},[xi.FOCUS_ELEMENT]:n=>function(){return{type:xi.FOCUS_ELEMENT,key:xi.FOCUS_ELEMENT}},[xi.CREATE_EDGE]:n=>function(){return{type:xi.CREATE_EDGE,key:xi.CREATE_EDGE,...n}},[xi.BRUSH_SELECT]:(n={type:xi.BRUSH_SELECT,mode:"key",elementTypes:["node","edge","group"]})=>function(){const e=this.mxGraph,{mode:t,elementTypes:i}=n;return{type:xi.BRUSH_SELECT,key:xi.BRUSH_SELECT,trigger:"select"===t?[]:["shift"],enableElements:i?.map(r=>(n=>({node:"node",edge:"edge",group:"combo"}[n]))(r)),immediately:!0,onSelect:r=>{const o=Object.keys(r).reduce((s,a)=>(e.isElementShow(a)&&(s[a]=r[a]),s),{});return this.emit(xp.GRAPH_BEFORE_BRUSH_SELECT,o),o}}},[xi.SELECT_ALL]:n=>function(){return{type:xi.SELECT_ALL,key:xi.SELECT_ALL,elementTypes:["node","edge","group"],...n}},[xi.FIX_ELEMENT_SIZE]:n=>function(){return{type:xi.FIX_ELEMENT_SIZE,key:xi.FIX_ELEMENT_SIZE,enable:!0,state:"fixed",ranges:[1]}}},Eet=n=>n.map(e=>Dr(e)?_et[e.type](e):_et[e]());var wet={exports:{}},xet=[],XM=[];function Cet(n,e){if(e=e||{},void 0===n)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var o,t=!0===e.prepend?"prepend":"append",i=void 0!==e.container?e.container:document.querySelector("head"),r=xet.indexOf(i);return-1===r&&(r=xet.push(i)-1,XM[r]={}),void 0!==XM[r]&&void 0!==XM[r][t]?o=XM[r][t]:(o=XM[r][t]=function pwt(){var n=document.createElement("style");return n.setAttribute("type","text/css"),n}(),"prepend"===t?i.insertBefore(o,i.childNodes[0]):i.appendChild(o)),65279===n.charCodeAt(0)&&(n=n.substr(1,n.length)),o.styleSheet?o.styleSheet.cssText+=n:o.textContent+=n,o}wet.exports=Cet;var Met=wet.exports.insertCss=Cet;const Cp=(n,e,t)=>hz(n.iconSpriteText,e,t),Det=(n,e,t)=>{switch(e){case"success":return Cp(n,"check_circle",t["icon-success-default"]);case"warning":return Cp(n,"warning",t["icon-warning-default"]);case"error":return Cp(n,"cancel",t["icon-error-default"])}return""},Oet=(n,e,t)=>{const i=n.getThemeTokens(),r={opacity:1,fillOpacity:0,strokeOpacity:0,strokeWidth:0,lineWidth:0};return["active","selected"].some(o=>e.includes(o)||t&&"default"!==t)&&(r.fillOpacity=.64,r.strokeOpacity=1),"success"===t&&(r.fill=i["background-success-default"]),"warning"===t&&(r.fill=i["background-warning-default"]),"error"===t&&(r.fill=i["background-error-default"]),["active","selected"].some(o=>e.includes(o))&&(Fg(e,["selected"])&&(r.fill=i["background-primary-default"],r.stroke=i["border-primary-default"],r.strokeWidth=3,r.lineWidth=3),Fg(e,["active"])&&(r.fill=i["background-neutral-hovered"]),Fg(e,["selected","active"])&&(r.fill=i["background-primary-hovered"]),"success"===t&&(r.fill=i["background-success-default"]),"success"===t&&e.includes("active")&&(r.fill=i["background-success-hovered"]),"success"===t&&e.includes("selected")&&(r.stroke=i["border-success-default"]),"warning"===t&&(r.fill=i["background-warning-default"]),"warning"===t&&e.includes("active")&&(r.fill=i["background-warning-hovered"]),"warning"===t&&e.includes("selected")&&(r.stroke=i["border-warning-default"]),"error"===t&&(r.fill=i["background-error-default"]),"error"===t&&e.includes("active")&&(r.fill=i["background-error-hovered"]),"error"===t&&e.includes("selected")&&(r.stroke=i["border-error-default"])),e.includes("disabled")&&(Fg(e,["disabled"])&&(r.opacity=.38,r.strokeWidth=0),"success"===t&&e.includes("disabled")&&(r.fill=i["background-success-default"]),"warning"===t&&e.includes("disabled")&&(r.fill=i["background-warning-default"]),"error"===t&&e.includes("disabled")&&(r.fill=i["background-error-default"])),r},Dz="title",Tet="status-icon";Met("\n  .label-text {\n    user-select: none;\n  }\n");class ket extends r4{get states(){return this.isExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isExist(){return this.parsedAttributes.context.model.hasCombo(this.id)}getElementOffsets(e){const{title:t,label:i,labelText:r}=e,[o,s]=this.getKeySize(e);return t&&i&&r?{iconOffset:0,titleOffset:-(s/2-7-14),labelOffset:+(s/2-7-14)}:e.title?{iconOffset:s/2-24-30,titleOffset:-(s/2-7-24),labelOffset:0}:e.label||r?{iconOffset:-(s/2-24-30),titleOffset:0,labelOffset:s/2-7-24}:{titleOffset:0,labelOffset:0,iconOffset:0}}getKeyStyle(e){var t;const i=super.getKeyStyle(e),r=Ks(e),o={...i,...Oet(r,this.states,e.highlight),cursor:"default"};return!e.collapsed&&0===o.strokeOpacity&&(o.stroke=null==(t=r.getThemeTokens())?void 0:t["background-neutral-hovered"],o.strokeOpacity=.64,o.strokeWidth=3,o.lineWidth=3),this.states.includes("disabled")&&(o.cursor="not-allowed"),o}getKeySize(e){const{collapsed:t,childrenData:i=[]}=e;return t||0===i.length?this.getCollapsedKeySize(e):this.getExpandedKeySize(e)}getHaloStyle(e){return{...super.getHaloStyle(e),stroke:"none"}}getIconStyle(e){if(!1===e.icon||!1===e.collapsed)return!1;const t=super.getIconStyle(e),i=Ks(e),r=i.getThemeTokens(),o=e.iconWidth||48,s=e.iconHeight||48,a={...t,width:o,height:s,opacity:1,transform:`translate(0, ${this.getElementOffsets(e).iconOffset})`,cursor:"default"};return Fg(this.states,["disabled"])&&(a.opacity=.38,a.cursor="not-allowed"),t||(a.src=Cp(i,"icon-field",r["text-neutral-default"])),"object"==typeof t&&t.text&&(a.src=Cp(i,t.text,r["text-neutral-default"])),"object"==typeof t&&t.src&&(a.src=t.src),a}getLabelStyle(e){const s={...super.getLabelStyle(e),transform:`translate(${e.labelStatus?7:0}, ${this.getElementOffsets(e).labelOffset})`,fontFamily:"Roboto",fontSize:14,fontWeight:400,textAlign:"middle",textBaseline:"middle",textOverflow:"ellipsis",fill:Ks(e).getThemeTokens()["text-neutral-default"],zIndex:2,wordWrapWidth:132,wordWrap:!0,maxLines:2,class:"label-text",cursor:"default"};return Fg(this.states,["disabled"])&&(s.opacity=.38,s.cursor="not-allowed"),s}getTitleStyle(e){return!!e.title&&{...this.getLabelStyle(e),...Hr(e,Dz),transform:`translate(0, ${this.getElementOffsets(e).titleOffset})`}}getStatusStyle(e){if(!e.labelStatus)return!1;const t=Lg(this.shapeMap.label),i=Hr(e,"status"),r=Ks(e),a={...i,transform:`translate(${t.min.x-8-7}, ${this.getElementOffsets(e).labelOffset-7})`,width:14,height:14,src:Det(r,e.labelStatus,r.getThemeTokens()),zIndex:1,cursor:"default"};return this.states.includes("disabled")&&(a.cursor="not-allowed"),a}getTitleBackgroundStyle(e){if(!e.title)return!1;const t=this.getLabelBackgroundStyle(e),i=Lg(this.shapeMap[Dz]),r=[6,2,6,2];return Object.assign(t,{transform:`translate(${i.x-i.width/2-r[2]}, ${i.y-i.height/2-r[3]})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3]})}getLabelBackgroundStyle(e){if(!e.label||!e.labelText)return!1;const t=Ks(e).getThemeTokens(),i=Lg(this.shapeMap.label),r=[6,2,6,2],s=i.y-i.height/2-r[3],a=e.labelCustomBackground,l={transform:`translate(${i.x-i.width/2-r[2]}, ${s})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3],opacity:.7,zIndex:0,radius:5,fill:a?.color||t["background-neutral-subtle"],stroke:a?.borderColor||"",lineWidth:a?.borderWidth||0,cursor:"default"};if(e.labelStatus){const u=Lg(this.shapeMap[Tet]),h=l.width+u.width,p=(i.max.x+u.min.x)/2-h/2;l.width=h,l.transform=`translate(${p}, ${s})`}return this.states.includes("disabled")&&(l.opacity=.38,l.cursor="not-allowed"),l}drawTitleShape(e,t){return this.upsert(Dz,Lc,this.getTitleStyle(e),t)}drawStatusShape(e,t){return this.upsert(Tet,al,this.getStatusStyle(e),t)}drawTitleBackgroundShape(e,t){return this.upsert("title-background",_a,this.getTitleBackgroundStyle(e),t)}drawLabelBackgroundShape(e,t){return this.upsert("label-background",_a,this.getLabelBackgroundStyle(e),t)}render(e,t){super.render(e,t),this.drawTitleShape(e,t),this.drawStatusShape(e,t),this.drawLabelBackgroundShape(e,t)}onframe(){const e=this.parsedAttributes;super.onframe(),this.drawTitleShape(e,this),this.drawStatusShape(e,this),this.drawLabelBackgroundShape(e,this)}animate(e,t){return super.animate(e,t)}}gi(ket,"defaultProps",{collapsedSize:132,padding:-30,collapsedMarker:!1}),jl(ts.COMBO,"device-group",ket);const bwt=n=>{const e={},{states:t,combo:i}=n;return t&&(e.states=t),i&&(e.parentId=i),e},_wt=n=>{const e={};return void 0!==n?.x&&(e.x=n.x),void 0!==n?.y&&(e.y=n.y),{point:e}},Ewt=n=>({type:{circle:"circle-group",rect:"rect-group","device-group":"device-group"}[n||"device-group"]}),Iet=(n,e)=>{const{text:t,fill:i,maxWidth:r,maxLines:o,offsetX:s,offsetY:a,fontSize:l,fontFamily:u,wordWrap:h,wordWrapWidth:p,status:v,customBackground:y}=Hr(n,e);if(!n[e])return{};const b={};if(void 0!==t&&(b.text=t),void 0!==i&&(b.color=i),void 0!==s&&void 0!==a){const E={};void 0!==s&&(E.x=s),void 0!==a&&(E.y=a),b.offset=E}return void 0!==l&&(b.fontSize=l),void 0!==u&&(b.fontFamily=u),void 0!==h&&(b.wordWrap=h),void 0!==p&&(b.wordWrapWidth=p),void 0!==o&&(b.maxLines=o),void 0!==r&&(b.maxWidth=r),void 0!==v&&(b.status=v),y&&(b.background=y),{[e]:b}},wwt=n=>{const{src:e,offsetX:t,offsetY:i,width:r,height:o}=Hr(n,"icon"),s={};if(void 0!==e&&(n.iconSrc=e),t||i){const a={};void 0!==t&&(a.x=t),void 0!==i&&(a.y=i),s.offset=a}return r&&(s.width=+r),o&&(s.height=+o),s},xwt=n=>{const e={};return void 0!==n.collapsed&&(e.collapsed=n.collapsed),e},Cwt=n=>{const e={},{highlight:t}=n;return t&&(e.highlight=t),e},ZM_toGroupData=n=>{const{id:e,style:t,data:i}=n,r={id:e,customData:i,config:{}};return t?{...r,config:{...bwt(n),...Ewt(n.type),..._wt(t),...Iet(t,"title"),...Iet(t,"label"),...wwt(t),...xwt(t),...Cwt(t)}}:r},Swt=n=>{const e={};return void 0!==n?.x&&(e.x=n.x),void 0!==n?.y&&(e.y=n.y),e},Dwt=n=>({type:{"circle-group":"circle","rect-group":"rect","device-group":"device-group"}[n]||"device-group"}),Owt=(n,e)=>{const{status:t,text:i,show:r,color:o,maxWidth:s,offset:a,fontSize:l,fontFamily:u,wordWrap:h,wordWrapWidth:p,maxLines:v,background:y}=n,b=null!=e&&e.full?{title:!0}:{};return void 0!==r&&(b.title=r),void 0!==i&&(b.titleText=i),void 0!==o&&(b.titleFill=o),void 0!==a&&(void 0!==a.x&&(b.titleOffsetX=a.x),void 0!==a.y&&(b.titleOffsetY=a.y)),void 0!==t&&(b.titleStatus=t),void 0!==l&&(b.titleFontSize=l),void 0!==u&&(b.titleFontFamily=u),void 0!==h&&(b.titleWordWrap=h),void 0!==p&&(b.titleWordWrapWidth=p),void 0!==s&&(b.titleMaxWidth=s),void 0!==v&&(b.titleMaxLines=v),y&&(b.titleCustomBackground=y),b},Twt=(n,e)=>{const{status:t,text:i,show:r,color:o,maxWidth:s,offset:a,fontSize:l,fontFamily:u,wordWrap:h,wordWrapWidth:p,maxLines:v,background:y}=n,b=null!=e&&e.full?{label:!0}:{};return void 0!==r&&(b.label=r),void 0!==i&&(b.labelText=i),void 0!==o&&(b.labelFill=o),void 0!==s&&(b.labelMaxWidth=s),void 0!==a&&(void 0!==a.x&&(b.labelOffsetX=a.x),void 0!==a.y&&(b.labelOffsetY=a.y)),void 0!==t&&(b.labelStatus=t),void 0!==l&&(b.labelFontSize=l),void 0!==u&&(b.labelFontFamily=u),void 0!==h&&(b.labelWordWrap=h),void 0!==p&&(b.labelWordWrapWidth=p),void 0!==v&&(b.labelMaxLines=v),y&&(b.labelCustomBackground=y),b},Awt=(n,e)=>{const{show:t,src:i,offset:r,width:o,height:s}=n,a=null!=e&&e.full?{icon:!0}:{};return void 0!==t&&(a.icon=t),void 0!==i&&(a.iconSrc=i),r&&(void 0!==r.x&&(a.iconOffsetX=r.x),void 0!==r.y&&(a.iconOffsetY=r.y)),o&&(a.iconWidth=o),s&&(a.iconHeight=s),a},kwt=n=>{const e={};return void 0!==n.collapsed&&(e.collapsed=n.collapsed),e},Iwt=n=>{const e={collapsedSize:132,padding:-30,collapsedMarker:!1};return n.highlight&&(e.highlight=n.highlight),e},Oz_toGroupData=(n,e)=>{const{id:t,config:i,customData:r}=n,o=null!=e&&e.full?{id:t,data:r,type:"device-group",style:{}}:{id:t};if(!i)return o;const{type:s="device-group",point:a,title:l,label:u,icon:h,parentId:p,states:v}=i,y={...o,...s&&Dwt(s),style:{...o.style,...kwt(i),...a&&Swt(a),...l&&Owt(l,e),...u&&Twt(u,e),...h&&Awt(h),..."device-group"===s&&Iwt(i)}};return p&&(y.combo=p),v&&(y.states=v),y},Tz="title",Ret="status-icon",af=132,gP=48;Met("\n  .label-text {\n    user-select: none;\n  }\n"),jl(ts.NODE,"device-node",class Nwt extends Ns{get nodeData(){return this.isNodeExist?this.parsedAttributes.context.model.getNodeLikeDatum(this.id):null}get states(){return this.isNodeExist?this.parsedAttributes.context.model.getElementState(this.id):[]}get isNodeExist(){return this.parsedAttributes.context.model.hasNode(this.id)}getElementOffsets(e){const{title:t,label:i,labelText:r}=e,s=!(!t&&!e.titleText),a=!(!i&&!r);return s&&a?{iconOffset:0,titleOffset:-Math.abs(12-(af/2-7)),labelOffset:+Math.abs(12-(af/2-7))}:s?{iconOffset:+Math.abs(26-(af/2-gP/2)),titleOffset:-Math.abs(26-(af/2-7)),labelOffset:0}:a?{iconOffset:-Math.abs(26-(af/2-gP/2)),titleOffset:0,labelOffset:+Math.abs(26-(af/2-7))}:{titleOffset:0,labelOffset:0,iconOffset:0}}getKeyStyle(e){const t={...super.getKeyStyle(e),r:af/2,cursor:"default"},i=Ks(e);return this.states.includes("disabled")&&(t.cursor="not-allowed"),Object.assign(t,Oet(i,this.states,e.highlight))}getHaloStyle(e){return!1}getIconStyle(e){const t=super.getIconStyle(e),i=Ks(e),r=i.getThemeTokens(),{iconWidth:o=gP,iconHeight:s=gP,iconOffsetX:a=0,iconOffsetY:l=0}=e,u=a,h=this.getElementOffsets(e).iconOffset+l,p={...t,opacity:1,width:o,height:s,transform:`translate(${u}, ${h})`,transformOrigin:"center",cursor:"default"};return Fg(this.states,["disabled"])&&(p.opacity=.38,p.cursor="not-allowed"),t||(p.src=Cp(i,"icon-field",r["text-neutral-default"])),"object"==typeof t&&t.text&&(p.src=Cp(i,t.text,r["text-neutral-default"])),"object"==typeof t&&t.src&&(p.src=t.src),p}getLabelStyle(e){return!(!1===e.label||!e.labelText)&&this.getTextStyle(e)}getTitleStyle(e){return!(!1===e.title||!e.titleText)&&{...this.getTextStyle(e),...Hr(e,Tz),transform:`translate(0, ${this.getElementOffsets(e).titleOffset})`}}getTextStyle(e){const t=super.getLabelStyle(e),i=e.labelStatus?7:0,r=this.getElementOffsets(e).labelOffset,o=Ks(e).getThemeTokens(),{wordWrap:s=!0,wordWrapWidth:a=af,maxLines:l=2,...u}=t,h={...u,transform:`translate(${i}, ${r})`,fontFamily:"Roboto",fontSize:14,fontWeight:400,textAlign:"middle",textBaseline:"middle",textOverflow:"ellipsis",fill:o["text-neutral-default"],zIndex:2,wordWrapWidth:a,wordWrap:s,maxLines:l,class:"label-text",cursor:"default"};return this.states.includes("disabled")&&(h.cursor="not-allowed"),h}getStatusStyle(e){if(!e.labelStatus)return!1;const t=Ks(e),i=t.getThemeTokens(),r=Lg(this.shapeMap.label),l={...Hr(e,"status"),transform:`translate(${r.min.x-8-7}, ${this.getElementOffsets(e).labelOffset-7})`,width:14,height:14,src:Det(t,e.labelStatus,i),zIndex:2,cursor:"not-allowed"};return Fg(this.states,["disabled"])&&(l.opacity=.38),l}getTitleBackgroundStyle(e){if(!e.title||!e.titleText)return!1;const t=this.getLabelBackgroundStyle(e),i=Lg(this.shapeMap[Tz]),r=[6,2,6,2];return Object.assign(t,{transform:`translate(${i.x-i.width/2-r[2]}, ${i.y-i.height/2-r[3]})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3]})}getLabelBackgroundStyle(e){if(!e.label||!e.labelText)return!1;const t=Ks(e).getThemeTokens(),i=Lg(this.shapeMap.label),r=[6,2,6,2],s=i.y-i.height/2-r[3],a=e.labelCustomBackground,l={transform:`translate(${i.x-i.width/2-r[2]}, ${s})`,width:i.width+r[0]+r[2],height:i.height+r[1]+r[3],opacity:.7,zIndex:0,radius:5,fill:a?.color||t["background-neutral-subtle"],stroke:a?.borderColor||"",lineWidth:a?.borderWidth||0,cursor:"default"};if(e.labelStatus){const u=Lg(this.shapeMap[Ret]),h=l.width+u.width,p=(i.max.x+u.min.x)/2-h/2;l.width=h,l.transform=`translate(${p}, ${s})`}return this.states.includes("disabled")&&(l.opacity=.38,l.cursor="not-allowed"),l}drawTitleShape(e,t){return this.upsert(Tz,Lc,this.getTitleStyle(e),t)}drawStatusShape(e,t){return this.upsert(Ret,al,this.getStatusStyle(e),t)}drawTitleBackgroundShape(e,t){return this.upsert("title-background",_a,this.getTitleBackgroundStyle(e),t)}drawLabelBackgroundShape(e,t){return this.upsert("label-background",_a,this.getLabelBackgroundStyle(e),t)}render(e,t){this.isNodeExist&&(super.render(e,t),this.drawTitleShape(e,t),this.drawStatusShape(e,t),this.drawLabelBackgroundShape(e,t))}});const Pet=n=>{if(!n)return{};const{fill:e,highlight:t}=n,i={};return e&&(i.color=e),t&&(i.highlight=t),i},Net=n=>({type:{circle:"circle-node",rect:"rect-node","device-node":"device-node"}[n||"circle"]}),Let=n=>n?{point:{x:n.x||0,y:n.y||0}}:{},Az=(n,e)=>{if(!n)return{};const{text:t,wordWrap:i,wordWrapWidth:r,maxLines:o,maxWidth:s,placement:a,offsetX:l,offsetY:u,status:h,customBackground:p}=Hr(n,e);if(!n[e])return{};const v={show:!!n[e],offset:{x:0,y:0}};return t&&(v.text=t),i&&(v.wordWrap=i),r&&(v.wordWrapWidth=r),o&&(v.maxLines=o),s&&(v.maxWidth=s),a&&(v.position=a),void 0!==l&&(v.offset.x=l),void 0!==u&&(v.offset.y=u),h&&(v.status=h),p&&(v.background=p),{[e]:v}},Fet=n=>{if(!n)return{};const{src:e,width:t,height:i}=Hr(n,"icon"),r={show:!!n.icon};return e&&(r.src=e),t&&(r.width=+t),i&&(r.height=+i),{icon:r}},qM_toNodeData=n=>{const{id:e,data:t}=n,i={id:e,customData:t,config:{type:"circle-node"}},r={...i,config:{...i.config,...Pet(n.style),...Net(n.type),...Let(n.style),...Az(n.style,"title"),...Az(n.style,"label"),...Fet(n.style)}};return n.combo&&(r.config.parentId=n.combo),n.states&&(r.config.states=n.states),r},Bet=(n,e)=>{const{color:t,highlight:i}=n,r=e?{visibility:"visible",labelFontFamily:"Roboto"}:{};return t&&(r.fill=t),i&&(r.highlight=i),r},jet=n=>n?{type:{"circle-node":"circle","rect-node":"rect","device-node":"device-node"}[n||"device-node"]}:{},Vet=n=>{if(!n)return{};const e={};return void 0!==n.x&&(e.x=n.x),void 0!==n.y&&(e.y=n.y),e},zet=(n,e)=>{if(!n)return{};const{show:t,text:i,wordWrap:r,wordWrapWidth:o,maxLines:s,position:a,maxWidth:l,offset:u,status:h,background:p}=n,v=null!=e&&e.full?{title:!0}:{};return void 0!==t&&(v.title=t),void 0!==i&&(v.titleText=i),void 0!==r&&(v.titleWordWrap=r),void 0!==o&&(v.titleWordWrapWidth=o),void 0!==s&&(v.titleMaxLines=s),void 0!==l&&(v.titleMaxWidth=l),a&&(v.titlePlacement=a),u&&(void 0!==u.x&&(v.titleOffsetX=u.x),void 0!==u.y&&(v.titleOffsetY=u.y)),h&&(v.titleStatus=h),p&&(v.titleCustomBackground=p),v},Uet=(n,e)=>{if(!n)return{};const{show:t,text:i,wordWrap:r,wordWrapWidth:o,maxLines:s,position:a,maxWidth:l,offset:u,status:h,background:p}=n,v=null!=e&&e.full?{label:!0,labelWordWrap:!0,labelWordWrapWidth:af,labelMaxWidth:af,labelMaxLines:2}:{};return void 0!==t&&(v.label=t),void 0!==i&&(v.labelText=i),void 0!==r&&(v.labelWordWrap=r),void 0!==o&&(v.labelWordWrapWidth=o),void 0!==s&&(v.labelMaxLines=s),void 0!==l&&(v.labelMaxWidth=l),a&&(v.labelPlacement=a),u&&(void 0!==u.x&&(v.labelOffsetX=u.x),void 0!==u.y&&(v.labelOffsetY=u.y)),h&&(v.labelStatus=h),p&&(v.labelCustomBackground=p),v},Get=(n,e)=>{if(!n)return{};const{show:t,width:i,height:r,src:o,offset:s}=n,a=null!=e&&e.full?{icon:!0,iconTransformOrigin:"center"}:{};if(void 0!==t&&(a.icon=t),o&&(a.iconSrc=o),i&&(a.iconWidth=i),r&&(a.iconHeight=r),s){const{x:l=0,y:u=0}=s;a.iconOffsetX=l,a.iconOffsetY=u,a.iconTransform=`translate(${l}, ${u})`}return a},yP_toNodeData=(n,e)=>{const{id:t,config:i,customData:r}=n,o=null!=e&&e.full?{id:n.id,data:r,type:"device-node"}:{id:t};if(!i)return o;const s={...o,...jet(i.type),style:{...Bet(i,e),...Vet(i.point),...zet(i.title,e),...Uet(i.label,e),...Get(i.icon,e)}};return rc(i,"parentId")&&(s.combo=i.parentId),rc(i,"treeParentId")&&(s.treeParentId=i.treeParentId),i.states&&(s.states=i.states),s};var JM={};Object.defineProperty(JM,"__esModule",{value:!0}),JM.sizeOf=function Vwt(n){let e=640,t=480;const[i,r]=function jwt(n){const e=getComputedStyle(n),t=n.clientWidth||J1(e.width),i=n.clientHeight||J1(e.height);return[t-(J1(e.paddingLeft)+J1(e.paddingRight)),i-(J1(e.paddingTop)+J1(e.paddingBottom))]}(n);return e=i||e,t=r||t,[Math.max((0,Wet.isNumber)(e)?e:1,1),Math.max((0,Wet.isNumber)(t)?t:1,1)]};var Het=JM.createPluginContainer=function zwt(n,e=!0,t){const i=document.createElement("div");return i.setAttribute("class",`g6-${n}`),Object.assign(i.style,{position:"absolute",display:"block"}),e&&Object.assign(i.style,{inset:"0px",height:"100%",width:"100%",overflow:"hidden",pointerEvents:"none"}),t&&Object.assign(i.style,t),i},$et=JM.insertDOM=function Uwt(n,e="div",t={},i="",r=document.body){const o=document.getElementById(n);o&&o.remove();const s=document.createElement(e);return s.innerHTML=i,s.id=n,Object.assign(s.style,t),r.appendChild(s),s};JM.insertBefore=function Gwt(n,e){const t=n.firstChild;t?n.insertBefore(e,t):n.appendChild(e)};const Wet=Ua,J1=n=>n?parseInt(n):0,tS="mx-element-toolbar",Hwt=`\n  .${tS} {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    background: #FFFFFF;\n    box-shadow: 0px 1px 3px 1px #0000001F, 0px 1px 2px 0px #00000029;\n    gap: 4px;\n    padding: 4px;\n    opacity: 1 !important;\n  }\n\n  .${tS} .mx-toolbar-item {\n    display: inline-flex;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    box-sizing: content-box;\n    border-radius: 100px;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .${tS} .mx-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .${tS} .mx-toolbar-item img {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    pointer-events: none;\n  }\n`,$wt=[{icon:"mx-form-textbox",value:"change-label"},{icon:"image-outline",value:"change-icon"},{icon:"group_work",value:"group"}],Wwt=[{icon:"mx-form-textbox",value:"change-label"}],Kwt=[{icon:"mx-form-textbox",value:"change-label"},{icon:"image-outline",value:"change-icon"},{icon:"mx-disband_group_outline",value:"un-group"}],Xwt=[{icon:"shape_line_outline",value:"auto-layout"},{icon:"group_work",value:"group"}],Ket=class Ait extends $s{constructor(e,t){super(e,Object.assign({},Ait.defaultOptions,t)),gi(this,"$element",Het("element-toolbar",!1)),gi(this,"ids",[]),gi(this,"getEvents",()=>({[$M.NODE_DRAG]:this.onDrag,[WM.GROUP_DRAG]:this.onDrag,[$M.NODE_SELECTED]:this.onClick,[dP.EDGE_SELECTED]:this.onClick,[WM.GROUP_SELECTED]:this.onClick,[Mz.GRAPH_BEFORE_BRUSH_SELECT]:this.onBrushSelect,[Cz.CANVAS_CLICK]:this.onClear})),gi(this,"onClick",i=>{const r=this.getSelectedIds();this.options.enable(r)&&0!==r.length&&this.showToolbar(r)}),gi(this,"onDrag",i=>{const r=this.getSelectedIds();this.options.enable(r)&&0!==r.length&&this.showToolbar(r)}),gi(this,"onBrushSelect",i=>{const r=this.getBrushSelectedIds(i);this.options.enable(r)&&0!==r.length&&this.showToolbar(r)}),gi(this,"onClear",()=>{this.update({visible:!1}),this.ids=[]}),gi(this,"onToolbarItemClick",i=>{const{onClick:r}=this.options;if(i.target instanceof Element&&i.target.className.includes("mx-toolbar-item")){const o=i.target.getAttribute("value"),s=r?.(o,this.ids);(s||vi(s))&&this.onClear()}}),this.init(),this.update(t),this.bindEvents()}init(){const e=this.context.canvas.getContainer();this.$element.style.display="flex",e?.appendChild(this.$element),$et("mx-element-toolbar-css","style",{},Hwt,document.head)}getToolbarPosition(e){const{graph:t}=this.context,i=t.mxGraph.getElementBoundingBox(e);return t.getViewportByCanvas([i.center[0],i.min[1]])}getSelectedIds(){const{graph:e}=this.context;return[...e.getElementDataByState("node","selected"),...e.getElementDataByState("edge","selected"),...e.getElementDataByState("combo","selected")].map(o=>o.id)}getBrushSelectedIds(e){return Object.keys(e).filter(t=>e[t].includes("selected"))}showToolbar(e){const t=this.getToolbarPosition(e);this.ids=e,this.update({visible:!0,position:{x:t[0],y:t[1]}})}update(e){var t=()=>super.update,i=this;return(0,wl.A)(function*(){t().call(i,e);const{className:r,position:o,visible:s}=i.options,a={visibility:s?"visible":"hidden",transform:"translate(-50%, calc(-100% - 12px))",left:o?`${o.x}px`:"0",top:o?`${o.y}px`:"0"};i.$element.className=`${tS} ${r||""}`,Object.assign(i.$element.style,a);const l=yield i.getDOMContent();l?i.$element.innerHTML=l:(i.$element.style.visibility="hidden",i.ids=[])})()}getDOMContent(){var e=this;return(0,wl.A)(function*(){const{getItems:t}=e.options,i=e.context.graph.mxGraph;return t(e.ids).map(r=>{const{icon:o,iconSrc:s,value:a}=r;let l="";if(s)l=s;else{const u=Cp(i,o,"#566060");l=u?.src}return`\n          <div class="mx-toolbar-item" value="${a}">\n            <img src="${l}"/>\n          </div>`}).join("")})()}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.on(i,t[i])}),this.$element.addEventListener("click",this.onToolbarItemClick)}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.off(i,t[i])}),this.$element.removeEventListener("click",this.onToolbarItemClick)}destroy(){this.unbindEvents(),this.$element.remove(),super.destroy()}};gi(Ket,"defaultOptions",{visible:!1,position:{x:0,y:0},enable:()=>!0}),jl(ts.PLUGIN,gr.ELEMENT_TOOLBAR,Ket);var tE={};Object.defineProperty(tE,"__esModule",{value:!0}),tE.BUILD_IN_SVG_ICON=tE.TOOLBAR_CSS=void 0;var Qwt=tE.parsePositionToStyle=function qwt(n){const e={top:"unset",right:"unset",bottom:"unset",left:"unset"};return n.split("-").forEach(t=>{e[t]="8px"}),e.flexDirection=n.startsWith("top")||n.startsWith("bottom")?"row":"column",e};tE.TOOLBAR_CSS="\n  .g6-toolbar {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);\n    opacity: 0.65;\n  }\n  .g6-toolbar .g6-toolbar-item {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    padding: 4px;\n    cursor: pointer;\n    box-sizing: content-box;\n  }\n\n  .g6-toolbar .g6-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .g6-toolbar .g6-toolbar-item svg {\n    display: inline-block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n",tE.BUILD_IN_SVG_ICON='\n  <svg>\n    <symbol id="zoom-in" viewBox="64 64 896 896">\n      <path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="zoom-out" viewBox="64 64 896 896">\n      <path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"></path>\n    </symbol>\n    <symbol id="edit" viewBox="64 64 896 896">\n      <path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path>\n    </symbol>\n    <symbol id="delete" viewBox="64 64 896 896">\n      <path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path>\n    </symbol>\n    <symbol id="redo" viewBox="64 64 896 896">\n      <path d="M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"></path>\n    </symbol>\n    <symbol id="undo" viewBox="64 64 896 896">\n      <path d="M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"></path>\n    </symbol>\n    <symbol id="export" viewBox="64 64 896 896">\n      <path d="M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"></path>\n    </symbol>\n    <symbol id="auto-fit" viewBox="64 64 896 896">\n      <path d="M952 474H829.8C812.5 327.6 696.4 211.5 550 194.2V72c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v122.2C327.6 211.5 211.5 327.6 194.2 474H72c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h122.2C211.5 696.4 327.6 812.5 474 829.8V952c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V829.8C696.4 812.5 812.5 696.4 829.8 550H952c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM512 756c-134.8 0-244-109.2-244-244s109.2-244 244-244 244 109.2 244 244-109.2 244-244 244z"></path>\n      <path d="M512 392c-32.1 0-62.1 12.4-84.8 35.2-22.7 22.7-35.2 52.7-35.2 84.8s12.5 62.1 35.2 84.8C449.9 619.4 480 632 512 632s62.1-12.5 84.8-35.2C619.4 574.1 632 544 632 512s-12.5-62.1-35.2-84.8A118.57 118.57 0 00512 392z"></path>\n    </symbol>\n    <symbol id="reset" viewBox="64 64 896 896">\n      <path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"></path>\n    </symbol>\n    <symbol id="exit-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M418.13333333 361.43786666c0 0.2048-0.13653333 0.4096-0.13653334 0.68266667C417.99679999 362.32533333 418.13333333 362.53013333 418.13333333 362.73493333 418.13333333 371.54133333 414.44693333 379.392 408.78079999 385.39946666 408.43946666 385.7408 408.30293333 386.21866666 408.02986666 386.49173333c-1.09226667 1.09226667-2.59413333 1.77493333-3.82293333 2.73066667C398.40426666 393.65973333 391.64586666 396.8 383.93173333 396.8 383.72693333 396.8 383.59039999 396.73173333 383.38559999 396.73173333S382.97599999 396.8 382.77119999 396.8L112.29866666 396.8C92.50133333 396.8 76.79999999 381.50826666 76.79999999 362.66666666 76.66346666 343.89333333 92.63786666 328.53333333 112.16213333 328.53333333l189.44 0L87.44959999 114.51733333C73.59146666 100.59093333 73.25013333 78.5408 86.63039999 65.29706666c13.17546667-13.44853333 35.36213333-12.97066667 49.152 0.88746667l214.08426667 214.08426667L349.86666666 90.89706666C349.79839999 71.23626666 365.22666666 55.46666666 383.99999999 55.46666666 402.77333333 55.33013333 418.13333333 71.30453333 418.13333333 90.8288L418.13333333 361.43786666zM928.90453333 328.53333333l-189.44 0 214.15253333-214.08426667c13.85813333-13.9264 14.19946667-35.90826667 0.88746667-49.22026666-13.17546667-13.44853333-35.36213333-12.97066667-49.152 0.88746666l-214.08426667 214.08426667L691.26826666 90.89706666C691.26826666 71.23626666 675.83999999 55.46666666 657.06666666 55.46666666 638.29333333 55.33013333 622.93333333 71.30453333 622.93333333 90.8288l0 270.60906666c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 362.32533333 622.93333333 362.53013333 622.93333333 362.73493333 622.93333333 371.54133333 626.61973333 379.392 632.28586666 385.39946666c0.34133333 0.34133333 0.47786667 0.8192 0.8192 1.09226667 1.09226667 1.09226667 2.59413333 1.77493333 3.8912 2.73066667C642.66239999 393.65973333 649.42079999 396.8 657.13493333 396.8c0.2048 0 0.34133333-0.06826667 0.54613333-0.06826667S658.09066666 396.8 658.29546666 396.8l270.5408 0C948.56533333 396.8 964.26666666 381.50826666 964.26666666 362.66666666 964.40319999 343.89333333 948.42879999 328.53333333 928.90453333 328.53333333zM418.13333333 635.73333333c0-8.8064-3.6864-16.5888-9.35253334-22.66453333C408.43946666 612.72746666 408.30293333 612.2496 408.02986666 611.90826666 406.86933333 610.88426666 405.43573333 610.2016 404.20693333 609.24586666 398.47253333 604.80853333 391.64586666 601.6 383.93173333 601.6 383.72693333 601.6 383.59039999 601.73653333 383.38559999 601.73653333S382.97599999 601.6 382.77119999 601.6L112.29866666 601.6C92.50133333 601.6 76.79999999 616.96 76.79999999 635.73333333 76.66346666 654.50666666 92.63786666 669.86666666 112.16213333 669.86666666l189.44 0-214.15253334 214.15253334c-13.85813333 13.85813333-14.19946667 35.84-0.88746666 49.22026666 13.17546667 13.44853333 35.36213333 12.9024 49.152-0.95573333l214.08426666-214.08426667 0 189.37173334c0 19.59253333 15.42826667 35.49866667 34.2016 35.36213333C402.77333333 943.2064 418.13333333 927.232 418.13333333 907.5712L418.13333333 637.09866666c0-0.27306667-0.13653333-0.47786667-0.13653334-0.68266666C417.99679999 636.14293333 418.13333333 635.93813333 418.13333333 635.73333333zM739.46453333 669.86666666l189.44 0c19.456 0 35.49866667-15.36 35.36213333-34.13333333C964.26666666 616.96 948.56533333 601.6 928.76799999 601.6L658.29546666 601.6C658.09066666 601.6 657.88586666 601.73653333 657.68106666 601.73653333S657.33973333 601.6 657.13493333 601.6C649.42079999 601.6 642.59413333 604.80853333 636.85973333 609.24586666 635.63093333 610.2016 634.19733333 610.88426666 633.03679999 611.90826666 632.76373333 612.2496 632.62719999 612.72746666 632.28586666 613.0688 626.61973333 619.14453333 622.93333333 626.92693333 622.93333333 635.73333333c0 0.2048 0.13653333 0.4096 0.13653333 0.68266667C623.06986666 636.6208 622.93333333 636.8256 622.93333333 637.09866666l0 270.5408C622.93333333 927.232 638.29333333 943.2064 657.06666666 942.93333333c18.77333333 0.13653333 34.2016-15.70133333 34.2016-35.36213333l0-189.37173334 214.08426667 214.08426667c13.78986667 13.85813333 35.90826667 14.40426667 49.152 0.95573333 13.312-13.312 12.97066667-35.36213333-0.88746667-49.22026666L739.46453333 669.86666666z"  ></path></symbol>\n    <symbol id="request-fullscreen" viewBox="0 0 1024 1024">\n      <path d="M69.818182 87.598545v273.128728a34.909091 34.909091 0 0 0 69.818182 0V163.653818l221.928727 222.021818a33.512727 33.512727 0 0 0 47.383273-47.383272L186.926545 116.363636h197.073455a34.909091 34.909091 0 0 0 0-69.818181H110.871273C85.364364 46.545455 69.818182 59.671273 69.818182 87.598545zM938.542545 46.545455H665.413818a34.909091 34.909091 0 0 0 0 69.818181h197.073455L640.465455 338.292364a33.512727 33.512727 0 0 0 47.383272 47.383272l221.928728-222.021818v197.073455a34.909091 34.909091 0 0 0 69.818181 0V87.598545c0-27.927273-15.453091-41.053091-40.96-41.05309z m-827.671272 907.636363h273.128727a34.909091 34.909091 0 0 0 0-69.818182H186.926545l222.021819-221.928727a33.512727 33.512727 0 0 0-47.383273-47.383273L139.636364 837.073455V640a34.909091 34.909091 0 0 0-69.818182 0v273.128727c0 27.927273 15.546182 41.053091 41.053091 41.053091z m868.724363-41.053091V640a34.909091 34.909091 0 0 0-69.818181 0v197.073455L687.941818 615.051636a33.512727 33.512727 0 0 0-47.383273 47.383273L862.487273 884.363636H665.413818a34.909091 34.909091 0 0 0 0 69.818182h273.128727c25.6 0 41.053091-13.125818 41.053091-41.053091z"  ></path></symbol>\n  </svg>\n';const eS="mx-fixed-toolbar",Jwt=`\n  .${eS} {\n    position: absolute;\n    z-index: 100;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n    background: #FFFFFF;\n    box-shadow: 0px 1px 3px 1px #0000001F, 0px 1px 2px 0px #00000029;\n    gap: 4px;\n    padding: 4px;\n    opacity: 1 !important;\n  }\n  .${eS} .mx-toolbar-item {\n    display: inline-flex;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    box-sizing: content-box;\n    border-radius: 100px;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .${eS} .mx-toolbar-item:hover {\n    background-color: #f0f0f0;\n  }\n\n  .${eS} .mx-toolbar-item img {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    pointer-events: none;\n  }\n`,Xet=class kit extends $s{constructor(e,t){super(e,Object.assign({},kit.defaultOptions,t)),gi(this,"$element",Het("toolbar",!1)),gi(this,"onToolbarItemClick",r=>{const{onClick:o}=this.options;if(r.target instanceof Element&&r.target.className.includes("mx-toolbar-item")){const s=r.target.getAttribute("value");o?.(s,r.target)}});const i=this.context.canvas.getContainer();this.$element.style.display="flex",i.appendChild(this.$element),$et("mx-toolbar-css","style",{},Jwt,document.head),this.$element.addEventListener("click",this.onToolbarItemClick),this.update(t)}update(e){var t=()=>super.update,i=this;return(0,wl.A)(function*(){t().call(i,e);const{className:r,position:o,style:s}=i.options;i.$element.className=`${eS} ${r||""}`,Object.assign(i.$element.style,s,Qwt(o)),i.$element.innerHTML=yield i.getDOMContent()})()}destroy(){this.$element.removeEventListener("click",this.onToolbarItemClick),this.$element.remove(),super.destroy()}getDOMContent(){var e=this;return(0,wl.A)(function*(){const i=e.context.graph.mxGraph;return e.options.items.map(r=>{const{icon:o,iconSrc:s,value:a}=r;let l="";if(s)l=s;else{const u=Cp(i,o,i.getThemeTokens()["text-neutral-default-subtle"]);l=u?.src}return`\n          <div class="mx-toolbar-item" value="${a}">\n            <img src="${l}"/>\n          </div>`}).join("")})()}};gi(Xet,"defaultOptions",{position:"bottom-right",items:[]}),jl(ts.PLUGIN,gr.FIXED_TOOLBAR,Xet);const Yet=class Iit extends $s{constructor(e,t){const i={...Iit.defaultOptions,...t};super(e,i),gi(this,"imageNode"),gi(this,"getEvents",()=>({[xp.GRAPH_AFTER_SIZE_CHANGE]:this.onGraphSizeChange})),gi(this,"onGraphSizeChange",r=>{this.setBackgroundImage()}),this.bindEvents(),this.update(i)}update(e){super.update(e),this.setBackgroundImage()}setBackgroundImage(){const{url:e,begin:t,width:i,height:r,opacity:o}=this.options,{graph:s}=this.context,a=s.getSize();if(!e)return;const l=new al({style:{src:e,x:t.x,y:t.y,width:i||a[0],height:r||a[1],pointerEvents:"none",opacity:o}});this.imageNode&&this.imageNode.destroy(),s.getCanvas().appendChild(l,0),this.imageNode=l}destroy(){var e;null==(e=this.imageNode)||e.destroy(),this.unbindEvents(),super.destroy()}bindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.on(i,t[i])})}unbindEvents(){const{graph:e}=this.context,t=this.getEvents();Object.keys(t).forEach(i=>{e.off(i,t[i])})}};gi(Yet,"defaultOptions",{begin:{x:0,y:0},opacity:1}),jl(ts.PLUGIN,gr.GRAPH_BACKGROUND,Yet);const kz=({current:n,original:e},t,i)=>["add","update","remove"].some(r=>{const s=e[r][t]||[];return(n[r][t]||[]).some(a=>{const l=s.find(u=>a.id===u.id);return i.some(u=>{var h,p;return(null==(h=a.style)?void 0:h[u])!==(null==(p=l?.style)?void 0:p[u])})})}),lxt=({current:n,original:e})=>{const i=e.update.edges||[];return(n.update.edges||[]).some(r=>{var o,s;const a=i.find(h=>r.id===h.id),l=(null==(o=r.style)?void 0:o.labels)||[],u=(null==(s=a?.style)?void 0:s.labels)||[];return JSON.stringify(l)!==JSON.stringify(u)})},cxt={type:gr.MINIMAP,key:gr.MINIMAP,position:"bottom-right",size:[120,80],offset:[0,0]},dxt={type:gr.SNAPLINE,key:gr.SNAPLINE},pxt=[{type:"background",background:"#fff",zIndex:-5}],mxt=[gr.HISTORY,gr.FIXED_TOOLBAR],bP={[gr.HISTORY]:(n,e)=>({type:gr.HISTORY,key:gr.HISTORY,stackSize:100,beforeAddCommand:(t,i)=>{const r=(n=>kz(n,"nodes",["x","y","icon","iconSrc","iconWidth","iconHeight","label","labelText","title","titleText","visibility"]))(t),o=(n=>kz(n,"edges",["visibility"])||lxt(n))(t),s=(n=>kz(n,"combos",["x","y","label","labelText","title","titleText","collapsed","visibility"]))(t);return r||o||s}}),[gr.CONTEXT_MENU]:(n,e)=>({type:gr.CONTEXT_MENU,key:gr.CONTEXT_MENU}),[gr.TOOLTIP]:(n,e)=>{const t={type:gr.TOOLTIP,key:gr.TOOLTIP,enterable:!0};if(!e)return t;const{enable:i,render:r,trigger:o,itemTypes:s}=e,a=t;return void 0!==i&&(a.enable=i),r&&(a.getContent=e.render),o&&(a.trigger=o),s&&(a.enable=l=>{switch(l.targetType){case"node":return s.includes("node");case"edge":return s.includes("edge");case"combo":return s.includes("group")}return!0}),a},[gr.FIXED_TOOLBAR]:(n,e)=>{const t={type:gr.FIXED_TOOLBAR,key:gr.FIXED_TOOLBAR,position:"bottom-right",items:[{icon:"remove",value:"zoom-out"},{icon:"add",value:"zoom-in"},{icon:"center_focus_weak",value:"fit-view"}],onClick:i=>{switch(i){case"zoom-in":n.zoom(1.5);break;case"zoom-out":n.zoom(.5);break;case"fit-view":n.fitView()}}};return e?{...t,...e}:t},[gr.ELEMENT_TOOLBAR]:(n,e)=>{const i={type:gr.ELEMENT_TOOLBAR,key:gr.ELEMENT_TOOLBAR,getItems:r=>{let o=[];const{nodes:s,edges:a,groups:l}=(r=>{const o={nodes:[],edges:[],groups:[]};return r.forEach(s=>{const a=n.getElementType(s);"node"===a&&o.nodes.push(s),"edge"===a&&o.edges.push(s),"group"===a&&o.groups.push(s)}),o})(r),u=s.length>0,h=a.length>0,p=l.length>0;return(s.length>1||l.length>1||u&&p)&&!h?o=Xwt:!u||h||p?!p||h||u?h&&!u&&!p&&(o=Wwt):o=Kwt:o=$wt,o}};return e?{...i,...e}:i},[gr.GRAPH_BACKGROUND]:(n,e)=>({type:gr.GRAPH_BACKGROUND,key:gr.GRAPH_BACKGROUND,...e}),[gr.MINIMAP]:(n,e)=>{const{key:t,position:i,size:r,offset:o,className:s}={...cxt,...e},a={key:t,type:"minimap",shape:(l,u)=>{var h;return null==(h=n.elementController.getElement(l))?void 0:h.cloneNode()},containerStyle:{...Aq.defaultOptions.containerStyle,transform:`translate(${o[0]}px, ${o[1]}px)`}};return r&&(a.size=r),i&&(a.position=i),s&&(a.className=s),a},[gr.SNAPLINE]:(n,e)=>{const{key:t}={...dxt,...e};console.log(n.getThemeTokens());const i={stroke:"#FF5449",lineWidth:1,lineDash:5};return{key:t,type:"snapline",autoSnap:!0,horizontalLineStyle:i,verticalLineStyle:i}}},Zet=(n,e)=>e.map(t=>Dr(t)?bP[t.type](n,t):bP[t](n));var Qet=function(){function n(){un(this,n)}return fn(n,[{key:"apply",value:function(e,t){var i=this,r=e.config.document,o=e.renderingService,s=e.svgElementMap;o.hooks.pick.tapPromise(n.tag,function(){var a=wd(cs().mark(function l(u){return cs().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",i.pick(s,r,u));case 1:case"end":return h.stop()}},l)}));return function(l){return a.apply(this,arguments)}}()),o.hooks.pickSync.tap(n.tag,function(a){return i.pick(s,r,a)})}},{key:"pick",value:function(e,t,i){var r=i.topmost,o=i.position,s=o.clientX,a=o.clientY;try{var h,l=[],u=Sh((t||document).elementsFromPoint(s,a));try{for(u.s();!(h=u.n()).done;){var p=h.value;if(p.shadowRoot&&p.shadowRoot!==t)return this.pick(e,p.shadowRoot,i);var v=e.get(p);if(v&&v.isInteractive()&&(l.push(v),r))return i.picked=l,i}}catch(y){u.e(y)}finally{u.f()}i.picked=l}catch{i.picked=[]}return i}}])}();Qet.tag="SVGPicker";var gxt=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="svg-picker",t}return zi(e,n),fn(e,[{key:"init",value:function(){this.addRenderingPlugin(new Qet)}},{key:"destroy",value:function(){this.removeAllRenderingPlugins()}}])}(il),qet=fn(function n(){un(this,n)});function lr(n,e){return(e||document).createElementNS("http://www.w3.org/2000/svg",n)}qet.tag="c-svg-element";function eE(n){return n.unit===Kn.kPercentage?n.value/100:n.value}function Iz(n,e,t){var i=t.type,r=t.slope,o=t.intercept,s=t.tableValues,a=lr("feComponentTransfer",n);[lr("feFuncR",n),lr("feFuncG",n),lr("feFuncB",n)].forEach(function(l){l.setAttribute("type",i),"table"===i?l.setAttribute("tableValues","".concat(s)):(l.setAttribute("slope","".concat(r)),l.setAttribute("intercept","".concat(o))),a.appendChild(l)}),e.appendChild(a)}function tnt(n,e,t){var i=lr("feColorMatrix",n);i.setAttribute("type","matrix"),i.setAttribute("values",t.join(" ")),e.appendChild(i)}var Ixt="g-pattern-",_P={},Rz=0;function ent(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="";if(Qv(n)){var i=n.type;if(i===Dl.LinearGradient||i===Dl.RadialGradient){var o=nr(nr({},n.value),e),a=o.x,l=o.y,u=o.width,h=o.height,p=o.steps,v=o.angle,y=o.cx,b=o.cy,E=o.size;t="gradient-".concat(o.type,"-").concat(a?.toString()||0,"-").concat(l?.toString()||0,"-").concat(v?.toString()||0,"-").concat(y?.toString()||0,"-").concat(b?.toString()||0,"-").concat(E?.toString()||0,"-").concat(u,"-").concat(h,"-").concat(p.map(function(w){var C=w.color;return"".concat(w.offset).concat(C)}).join("-"))}}else Ou(n)&&(t=Li(n.image)?"pattern-".concat(n.image,"-").concat(n.repetition):"rect"===n.image.nodeName?"pattern-rect-".concat(n.image.entity):"pattern-".concat(Rz));return t&&(_P[t]||(_P[t]="".concat(Ixt).concat(Rz++))),_P[t]}function nnt(n,e,t,i,r,o,s){var a=i.repetition,l=i.transform,u=lr("pattern",n);l&&u.setAttribute("patternTransform",function Nxt(n){return Ex(n).map(function(e){var t=e.t,i=e.d;if("translate"===t)return"translate(".concat(i[0].value," ").concat(i[1].value,")");if("translateX"===t)return"translate(".concat(i[0].value," 0)");if("translateY"===t)return"translate(0 ".concat(i[0].value,")");if("rotate"===t)return"rotate(".concat(i[0].value,")");if("scale"===t){var r=i?.map(function(C){return C.value})||[1,1];return"scale(".concat(r[0],", ").concat(r[1],")")}if("scaleX"===t){var o=i?.map(function(C){return C.value})||[1];return"scale(".concat(o[0],", 1)")}if("scaleY"===t){var s=i?.map(function(C){return C.value})||[1];return"scale(1, ".concat(s[0],")")}if("skew"===t){var a=i?.map(function(C){return C.value})||[0,0];return"skewX(".concat(a[0],") skewY(").concat(a[1],")")}if("skewZ"===t){var l=i?.map(function(C){return C.value})||[0];return"skewX(".concat(l[0],")")}if("skewY"===t){var u=i?.map(function(C){return C.value})||[0];return"skewY(".concat(u[0],")")}if("matrix"===t){var p=Ui(i.map(function(C){return C.value}),6),y=p[1],b=p[2],E=p[3],w=p[4],S=p[5];return"matrix(".concat(p[0]," ").concat(y," ").concat(b," ").concat(E," ").concat(w," ").concat(S,")")}return null}).filter(function(e){return null!==e}).join(" ")}(l)),u.setAttribute("patternUnits","userSpaceOnUse"),u.id=r,e.appendChild(u);var h=t.getGeometryBounds(),p=h.halfExtents,v=h.min;u.setAttribute("x","".concat(v[0])),u.setAttribute("y","".concat(v[1]));var y=o,b=s;return"repeat-x"===a?b=2*p[1]:"repeat-y"===a?y=2*p[0]:"no-repeat"===a&&(y=2*p[0],b=2*p[1]),u.setAttribute("width","".concat(y)),u.setAttribute("height","".concat(b)),u}function int(n,e,t,i,r){var o=e.getGeometryBounds(),s=o&&2*o.halfExtents[0]||0,a=o&&2*o.halfExtents[1]||0,l=o&&o.min||[0,0],u=ent(r,{x:l[0],y:l[1],width:s,height:a}),h=t.querySelector("#".concat(u));if(!h){(h=lr(r.type===Dl.LinearGradient?"linearGradient":"radialGradient",n)).setAttribute("gradientUnits","userSpaceOnUse");var p="";r.value.steps.sort(function(Y,Q){return Y.offset.value-Q.offset.value}).forEach(function(Y){var at=Y.color;p+='<stop offset="'.concat(Y.offset.value/100,'" stop-color="').concat(at,'"></stop>')}),h.innerHTML=p,h.id=u,t.appendChild(h)}if(r.type===Dl.LinearGradient){var b=lx([l[0],l[1]],s,a,r.value.angle),w=b.y1,S=b.x2,C=b.y2;h.setAttribute("x1","".concat(b.x1)),h.setAttribute("y1","".concat(w)),h.setAttribute("x2","".concat(S)),h.setAttribute("y2","".concat(C))}else{var D=r.value,F=Db([l[0],l[1]],s,a,D.cx,D.cy,D.size),V=F.y,K=F.r;h.setAttribute("cx","".concat(F.x)),h.setAttribute("cy","".concat(V)),h.setAttribute("r","".concat(K))}return u}var Vxt=/url\("?#(.*)\)/,zxt=function(){return fn(function n(e){un(this,n),this.gradientCache={},this.context=e},[{key:"getDefElement",value:function(){return this.$def}},{key:"init",value:function(){var e=this.context.config.document,t=this.context.contextService.getContext();this.$def=lr("defs",e),t.appendChild(this.$def)}},{key:"clear",value:function(e){var t=this;Object.keys(this.gradientCache).forEach(function(i){t.clearUnusedDefElement(t.gradientCache,i,e)})}},{key:"clearUnusedDefElement",value:function(e,t,i){if(e[t]&&1===e[t].size&&e[t].has(i)){var r=this.$def.querySelector("#".concat(t));r&&this.$def.removeChild(r)}}},{key:"createOrUpdateGradientAndPattern",value:function(e,t,i,r,o){var s=this.context.config,a=s.document,l=s.createImage;if(t){var h=(Ou(i)?t.style[r]:t.getAttribute(r)||"").match(Vxt);h&&h.length>1&&this.clearUnusedDefElement(this.gradientCache,h[1].replace('"',""),e.entity);var p=function Pxt(n,e,t,i,r,o,s,a){if(!r)return"";if(!ac(r)){if(Ou(r)){var l=function Lxt(n,e,t,i,r,o){var s=ent(i);if(!e.querySelector("#".concat(s))){var l=i.image,u="";if(Li(l)?u=l:Tu&&(l instanceof HTMLImageElement?u=l.src:l instanceof HTMLCanvasElement&&(u=l.toDataURL())),u){var p,h=lr("image",n);h.setAttribute("href",u),r?p=r(u):Tu&&(p=new window.Image),u.match(/^data:/i)||(p.crossOrigin="Anonymous",h.setAttribute("crossorigin","anonymous")),p.src=u;var v=function(){var C=nnt(n,e,t,i,s,p.width,p.height);e.appendChild(C),C.appendChild(h),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","".concat(p.width)),h.setAttribute("height","".concat(p.height))};p.complete?v():p.onload=v}if("rect"===l.nodeName){var y=l.parsedStyle,w=nnt(n,e,l,i,s,y.width,y.height);l.forEach(function(C){o.createSVGDom(n,C,null);var D=C.elementSVG,k=C.getLocalTransform();o.applyTransform(D.$groupEl,k)}),w.appendChild(l.elementSVG.$groupEl)}}return s}(n,e,t,r,s,a);return i.style[o]="url(#".concat(l,")"),l}if(1===r.length){var u=int(n,t,e,0,r[0]);return i?.setAttribute(o,"url(#".concat(u,")")),u}var h=function Fxt(n,e,t,i,r){var o="".concat("g-filter-"+e.entity,"-gradient"),s=t.querySelector("#".concat(o));s||((s=lr("filter",n)).setAttribute("filterUnits","userSpaceOnUse"),s.setAttribute("x","0%"),s.setAttribute("y","0%"),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.id=o,t.appendChild(s));var a=0;r.forEach(function(u,h){var p=int(n,e,t,0,u),v="".concat(p,"_rect"),y=lr("rect",n);y.setAttribute("x","0"),y.setAttribute("y","0"),y.setAttribute("width","100%"),y.setAttribute("height","100%"),y.setAttribute("fill","url(#".concat(p,")")),y.id=v,t.appendChild(y);var b=lr("feImage",n);if(b.setAttribute("href","#".concat(v)),b.setAttribute("result","".concat(o,"-").concat(h)),s.appendChild(b),h>0){var E=lr("feBlend",n);E.setAttribute("in",1===h?"".concat(o,"-").concat(h-1):"".concat(o,"-blended-").concat(a-1)),E.setAttribute("in2","".concat(o,"-").concat(h)),E.setAttribute("result","".concat(o,"-blended-").concat(a++)),E.setAttribute("mode","multiply"),s.appendChild(E)}});var l=lr("feComposite",n);return l.setAttribute("in","".concat(o,"-blended-").concat(a)),l.setAttribute("in2","SourceGraphic"),l.setAttribute("operator","in"),s.appendChild(l),o}(n,t,e,0,r);return i?.setAttribute("filter","url(#".concat(h,")")),i?.setAttribute("fill","black"),h}return i?.setAttribute(o,"currentColor"===t.style[o]?"currentColor":r.isNone?"none":r.toString()),""}(a||document,this.$def,e,t,i,r,l,o);p&&(this.gradientCache[p]||(this.gradientCache[p]=new Set),this.gradientCache[p].add(e.entity))}}},{key:"createOrUpdateShadow",value:function(e,t,i){!function jxt(n,e,t,i,r){var o=t.parsedStyle,s=o.shadowType,a=void 0===s?"outer":s,l=o.shadowBlur,u=o.shadowColor,h=o.shadowOffsetX,p=o.shadowOffsetY,v=!Ri(u)&&l>0,y="g-filter-dropshadow-"+t.entity,b=e.querySelector("#".concat(y));if(b&&(b.getAttribute("data-type")!==a||!v)&&(b.remove(),b=null),v){if(i?.setAttribute("filter","url(#".concat(y,")")),!b){if((b=lr("filter",n)).setAttribute("data-type",a),"outer"===a){var w=lr("feDropShadow",n);w.setAttribute("dx","".concat((h||0)/2)),w.setAttribute("dy","".concat((p||0)/2)),w.setAttribute("stdDeviation","".concat((l||0)/4)),w.setAttribute("flood-color",u.toString()),b.appendChild(w)}else if("inner"===a){var S=lr("feComponentTransfer",n);S.setAttribute("in","SourceAlpha");var C=lr("feFuncA",n);C.setAttribute("type","table"),C.setAttribute("tableValues","1 0"),S.appendChild(C),b.appendChild(S);var D=lr("feGaussianBlur",n);D.setAttribute("stdDeviation","".concat((l||0)/4)),b.appendChild(D);var k=lr("feOffset",n);k.setAttribute("dx","".concat((h||0)/2)),k.setAttribute("dy","".concat((p||0)/2)),k.setAttribute("result","offsetblur"),b.appendChild(k);var T=lr("feFlood",n);T.setAttribute("flood-color",u.toString()),T.setAttribute("result","color"),b.appendChild(T);var I=lr("feComposite",n);I.setAttribute("in2","offsetblur"),I.setAttribute("operator","in"),b.appendChild(I);var F=lr("feComposite",n);F.setAttribute("in2","SourceAlpha"),F.setAttribute("operator","in"),b.appendChild(F);var z=lr("feMerge",n);b.appendChild(z);var V=lr("feMergeNode",n);V.setAttribute("in","SourceGraphic");var K=lr("feMergeNode",n);z.appendChild(V),z.appendChild(K)}return b.id=y,b.setAttribute("filterUnits","userSpaceOnUse"),void e.appendChild(b)}if("inner"===a){var Y=b.children[1],Q=b.children[2];"shadowColor"===r?b.children[3].setAttribute("flood-color",u.toString()):"shadowBlur"===r?Y.setAttribute("stdDeviation","".concat((l||0)/4)):"shadowOffsetX"===r?Q.setAttribute("dx","".concat((h||0)/2)):"shadowOffsetY"===r&&Q.setAttribute("dy","".concat((p||0)/2))}else if("outer"===a){var It=b.children[0];"shadowColor"===r?It.setAttribute("flood-color",u.toString()):"shadowBlur"===r?It.setAttribute("stdDeviation","".concat((l||0)/4)):"shadowOffsetX"===r?It.setAttribute("dx","".concat((h||0)/2)):"shadowOffsetY"===r&&It.setAttribute("dy","".concat((p||0)/2))}}else i?.removeAttribute("filter")}(this.context.config.document||document,this.$def,e,t,i)}},{key:"createOrUpdateFilter",value:function(e,t,i){!function wxt(n,e,t,i,r){var o="g-filter-"+t.entity,s=e.querySelectorAll("[name=".concat(o,"]"));if(s.length&&s.forEach(function(l){e.removeChild(l)}),0===r.length)i?.removeAttribute("filter");else{var a=r.map(function(l,u){var h=l.name,p=l.params,v=lr("filter",n);return v.setAttribute("filterUnits","userSpaceOnUse"),"blur"===h?function xxt(n,e,t){var i=lr("feGaussianBlur",n);i.setAttribute("in","SourceGraphic"),i.setAttribute("stdDeviation","".concat(t[0].value)),e.appendChild(i)}(n,v,p):"brightness"===h?function Sxt(n,e,t){Iz(n,e,{type:"linear",slope:eE(t[0]),intercept:0})}(n,v,p):"drop-shadow"===h?function Txt(n,e,t){var i=t[0].value,r=t[1].value,o=t[2].value,s=t[3].formatted,a=lr("feGaussianBlur",n);a.setAttribute("in","SourceAlpha"),a.setAttribute("stdDeviation","".concat(o)),e.appendChild(a);var l=lr("feOffset",n);l.setAttribute("dx","".concat(i)),l.setAttribute("dy","".concat(r)),l.setAttribute("result","offsetblur"),e.appendChild(l);var u=lr("feFlood",n);u.setAttribute("flood-color",s),e.appendChild(u);var h=lr("feComposite",n);h.setAttribute("in2","offsetblur"),h.setAttribute("operator","in"),e.appendChild(h);var p=lr("feMerge",n);e.appendChild(p);var v=lr("feMergeNode",n),y=lr("feMergeNode",n);y.setAttribute("in","SourceGraphic"),p.appendChild(v),p.appendChild(y)}(n,v,p):"contrast"===h?function Cxt(n,e,t){var i=eE(t[0]);Iz(n,e,{type:"linear",slope:i,intercept:-.5*i+.5})}(n,v,p):"grayscale"===h?function Axt(n,e,t){var i=eE(t[0]);tnt(n,e,[.2126+.7874*(1-i),.7152-.7152*(1-i),.0722-.0722*(1-i),0,0,.2126-.2126*(1-i),.7152+.2848*(1-i),.0722-.0722*(1-i),0,0,.2126-.2126*(1-i),.7152-.7152*(1-i),.0722+.9278*(1-i),0,0,0,0,0,1,0])}(n,v,p):"sepia"===h?function kxt(n,e,t){var i=eE(t[0]);tnt(n,e,[.393+.607*(1-i),.769-.769*(1-i),.189-.189*(1-i),0,0,.349-.349*(1-i),.686+.314*(1-i),.168-.168*(1-i),0,0,.272-.272*(1-i),.534-.534*(1-i),.131+.869*(1-i),0,0,0,0,0,1,0])}(n,v,p):"saturate"===h?function Dxt(n,e,t){var i=eE(t[0]),r=lr("feColorMatrix",n);r.setAttribute("type","saturate"),r.setAttribute("values","".concat(i)),e.appendChild(r)}(n,v,p):"hue-rotate"===h?function Oxt(n,e,t){var i=lr("feColorMatrix",n);i.setAttribute("type","hueRotate"),i.setAttribute("values","".concat(t[0].value)),e.appendChild(i)}(n,v,p):"invert"===h&&function Mxt(n,e,t){var i=eE(t[0]);Iz(n,e,{type:"table",tableValues:"".concat(i," ").concat(1-i)})}(n,v,p),v.id="".concat(o,"-").concat(u),v.setAttribute("name",o),e.appendChild(v),v.id});setTimeout(function(){i?.setAttribute("filter",a.map(function(l){return"url(#".concat(l,")")}).join(" "))})}}(this.context.config.document||document,this.$def,e,t,i)}}])}();function nE(n){return n.toFixed(6).replace(".000000","")}function rnt(n){return n.replace(/[&|<|>|"|']/g,function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"&apos;"})}var Uxt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillRule:"fill-rule",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",clipPath:"clip-path",textPath:"text-path",r:"r",cx:"cx",cy:"cy",rx:"rx",ry:"ry",x:"x",y:"y",width:"width",height:"height",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",letterSpacing:"letter-spacing",startArrow:"marker-start",endArrow:"marker-end",class:"class",id:"id",preserveAspectRatio:"preserveAspectRatio",visibility:"visibility",shadowColor:"flood-color",shadowBlur:"stdDeviation",shadowOffsetX:"dx",shadowOffsetY:"dy",filter:"filter",innerHTML:"innerHTML",textAlign:"text-anchor",pointerEvents:"pointer-events"},Gxt={textAlign:{inherit:"inherit",left:"left",start:"left",center:"middle",right:"end",end:"end"}},ont={textAlign:"inherit",lineCap:"butt",lineJoin:"miter",lineWidth:"1px",opacity:"1",fillOpacity:"1",fillRule:"nonzero",strokeOpacity:"1",strokeWidth:"0",strokeMiterLimit:"4",letterSpacing:"0",fontSize:"inherit",fontFamily:"inherit",pointerEvents:"auto",transform:"matrix(1,0,0,1,0,0)"},ant="clip-path-",lnt="text-path-",cnt=function(){function n(e,t,i){un(this,n),this.svgElementMap=new WeakMap,this.renderQueue=[],this.dirtyAttributes=new WeakMap,this.pendingReorderQueue=new Set,this.clipPathUseMap=new WeakMap,this.pluginOptions=e,this.defElementManager=t,this.context=i}return fn(n,[{key:"apply",value:function(e){var t=this,i=e.renderingService,r=e.renderingContext;this.context=e,this.context.svgElementMap=this.svgElementMap;var o=r.root.ownerDocument.defaultView,s=this.context.config.document,a=function(y){var b=y.target;if(t.clipPathUseMap.get(b)){var S=t.defElementManager.getDefElement().querySelector("#".concat(t.getId(b)));S&&S.remove()}t.createSVGDom(s,b,t.$camera)},l=function(y){var b=y.target;t.defElementManager.clear(b.entity),t.clipPathUseMap.delete(b),t.removeSVGDom(b)},u=function(y){var b,E=y.parentNode,w=null===(b=y.parentNode)||void 0===b||null===(b=b.elementSVG)||void 0===b?void 0:b.$groupEl,S=(E?.children||[]).slice();w&&t.reorderChildren(s,w,S)},h=function(y){u(y.target)},p=function(y){var b=y.target;if(b.elementSVG){var E=y.attrName,w=t.dirtyAttributes.get(b);w||(t.dirtyAttributes.set(b,[]),w=t.dirtyAttributes.get(b)),w.push(E)}},v=function(y){var b=y.target;(b.nodeName===qe.FRAGMENT?b.childNodes:[b]).forEach(function(w){var S,C=null===(S=w.elementSVG)||void 0===S?void 0:S.$el,D=w.parsedStyle,k=D.fill,T=D.stroke,I=D.clipPath;if(k&&!ac(k)&&t.defElementManager.createOrUpdateGradientAndPattern(w,C,k,"fill",t),T&&!ac(T)&&t.defElementManager.createOrUpdateGradientAndPattern(w,C,T,"stroke",t),I){var F=xl(ji(),w.getWorldTransform()),z="".concat(ant+I.entity,"-").concat(w.entity),K=t.defElementManager.getDefElement().querySelector("#".concat(z));K&&t.applyTransform(K,F)}})};i.hooks.init.tap(n.tag,function(){var y=t.context.config,b=y.background,E=y.document;t.defElementManager.init();var w=t.context.contextService.getContext();b&&(w.style.background=b),w.setAttribute("color-interpolation-filters","sRGB"),t.$camera=lr("g",E),t.$camera.id="".concat("g-svg","-camera"),t.applyTransform(t.$camera,t.context.camera.getOrthoMatrix()),w.appendChild(t.$camera),o.addEventListener(Ci.MOUNTED,a),o.addEventListener(Ci.UNMOUNTED,l),o.addEventListener(Ci.REPARENT,h),o.addEventListener(Ci.ATTR_MODIFIED,p),o.addEventListener(Ci.BOUNDS_CHANGED,v)}),i.hooks.destroy.tap(n.tag,function(){o.removeEventListener(Ci.MOUNTED,a),o.removeEventListener(Ci.UNMOUNTED,l),o.removeEventListener(Ci.REPARENT,h),o.removeEventListener(Ci.ATTR_MODIFIED,p),o.removeEventListener(Ci.BOUNDS_CHANGED,v),function Rxt(){Rz=0,_P={}}()}),i.hooks.render.tap(n.tag,function(y){t.renderQueue.push(y)}),i.hooks.beginFrame.tap(n.tag,function(){var y=t.context.config.document;t.pendingReorderQueue.size&&(t.pendingReorderQueue.forEach(function(b){var E,w=(b?.children||[]).slice(),S=null==b||null===(E=b.elementSVG)||void 0===E?void 0:E.$groupEl;S&&t.reorderChildren(y||s,S,w||[])}),t.pendingReorderQueue.clear())}),i.hooks.endFrame.tap(n.tag,function(){r.renderReasons.has(Lh.CAMERA_CHANGED)&&t.applyTransform(t.$camera,t.context.camera.getOrthoMatrix()),t.renderQueue.forEach(function(y){var b,E,w=null===(b=y.elementSVG)||void 0===b?void 0:b.$el,S=null===(E=y.elementSVG)||void 0===E?void 0:E.$groupEl;if(w&&S){var C=y.getLocalTransform();t.applyTransform(S,C);var D=t.clipPathUseMap.get(y);D&&D.length&&D.forEach(function(T){t.applyTransform(T,y.getWorldTransform())}),y.renderable.dirty=!1}var k=t.dirtyAttributes.get(y);k&&(k.forEach(function(T){"zIndex"===T?u(y):"increasedLineWidthForHitTesting"===T&&t.createOrUpdateHitArea(y,w,S),t.updateAttribute(y,[T])}),t.dirtyAttributes.delete(y))}),t.renderQueue=[]})}},{key:"getId",value:function(e){return e.id||"".concat("g-svg","-").concat(e.entity)}},{key:"reorderChildren",value:function(e,t,i){if(i.sort(function(o,s){return o.sortable.renderOrder-s.sortable.renderOrder}),i.length){var r=(e||document).createDocumentFragment();i.forEach(function(o){if(o.isConnected){var s=o.elementSVG.$groupEl;s&&r.appendChild(s)}}),t.appendChild(r)}}},{key:"applyTransform",value:function(e,t){var i="matrix(".concat(nE(t[0]),",").concat(nE(t[1]),",").concat(nE(t[4]),",").concat(nE(t[5]),",").concat(nE(t[12]),",").concat(nE(t[13]),")");i!==e.getAttribute("transform")&&e.setAttribute("transform",i),i===ont.transform&&e.removeAttribute("transform")}},{key:"applyAttributes",value:function(e){var t=e.elementSVG,i=t?.$el,r=t?.$groupEl;if(i&&r){var o=e.nodeName,s=e.attributes;o!==qe.HTML&&i.setAttribute("fill","none"),o===qe.IMAGE&&i.setAttribute("preserveAspectRatio","none"),this.updateAttribute(e,Object.keys(s))}}},{key:"updateAttribute",value:function(e,t){var i=this,r=this.context.config.document,o=e.elementSVG,s=o.$el,a=o.$hitTestingEl,l=e.parsedStyle,u=e.nodeName;t.some(function(p){return i.context.SVGElementLifeCycleContribution.shouldUpdateElementAttribute(e,p)})&&s&&[s,a].forEach(function(p){p&&i.context.SVGElementLifeCycleContribution.updateElementAttribute(e,p,i.svgElementMap)}),t.forEach(function(p){var v,y,b=Uxt[p],E=l[p],w=!Ri(E)&&E.toString(),S=(null===(v=Gxt[p])||void 0===v?void 0:v[w])||w,C=l[p],D=b&&!(null===(y=km[p])||void 0===y||!y.inh);if(u===qe.HTML)"fill"===p?s.style.background=C.toString():"stroke"===p?(s.style["border-color"]=C.toString(),s.style["border-style"]="solid"):"lineWidth"===p?s.style["border-width"]="".concat(C||0,"px"):"lineDash"===p?s.style["border-style"]="dashed":"innerHTML"===p?i.createOrUpdateInnerHTML(r,s,C):"width"===p||"height"===p||"class"===p?s.setAttribute(p,C.toString()):!Ri(e.style[p])&&""!==e.style[p]&&(s.style[p]=e.style[p]);else{if(!b||(u===qe.GROUP||e.isCustomElement)&&(D||"fill"===b||"stroke"===b))return;"fill"===p||"stroke"===p?i.defElementManager.createOrUpdateGradientAndPattern(e,s,C,b,i):"clipPath"===p?i.createOrUpdateClipOrTextPath(r,C,e):"textPath"===p?i.createOrUpdateClipOrTextPath(r,C,e,!0):"shadowType"===p||"shadowColor"===p||"shadowBlur"===p||"shadowOffsetX"===p||"shadowOffsetY"===p?i.defElementManager.createOrUpdateShadow(e,s,p):"filter"===p?i.defElementManager.createOrUpdateFilter(e,s,C):Ri(E)||[s,a].forEach(function(k){k&&b&&("unset"!==w&&w!==ont[p]?k.setAttribute(b,S):k.removeAttribute(b))})}})}},{key:"createSVGDom",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.elementSVG=new qet;var o=t.elementSVG,s=this.context.SVGElementLifeCycleContribution.createElement(t,this.svgElementMap);if(s){var a,l;t.nodeName===qe.HTML&&(t.parsedStyle.$el=s),this.pluginOptions.outputSVGElementId&&(s.id=this.getId(t)),this.pluginOptions.outputSVGElementName&&t.name&&s.setAttribute("name",t.name),!s.hasAttribute("data-wrapgroup")&&"g"===s.nodeName||r?l=s:(l=lr("g",e)).appendChild(s),o.$el=s,o.$groupEl=l,this.applyAttributes(t),this.createOrUpdateHitArea(t,s,l);var u=i||t.parentNode&&(null===(a=t.parentNode.elementSVG)||void 0===a?void 0:a.$groupEl);u&&(u.appendChild(l),this.pendingReorderQueue.add(t.parentNode))}}},{key:"removeSVGDom",value:function(e){var t,i=null===(t=e.elementSVG)||void 0===t?void 0:t.$groupEl;i&&i.parentNode&&(i.parentNode.removeChild(i),this.context.SVGElementLifeCycleContribution.destroyElement(e,i))}},{key:"createOrUpdateHitArea",value:function(e,t,i){var r=e.elementSVG,o=r.$hitTestingEl,s=Number(e.parsedStyle.increasedLineWidthForHitTesting);if(s){if(!o){o=t.cloneNode(),["filter"].forEach(function(l){o.removeAttribute(l)});var a="none"!==t.getAttribute("fill");o.setAttribute("fill",a?"transparent":"none"),o.setAttribute("stroke","transparent"),i.appendChild(o),r.$hitTestingEl=o,this.svgElementMap.set(o,e)}o.setAttribute("stroke-width","".concat(s+e.parsedStyle.lineWidth))}else o&&(i.removeChild(o),r.$hitTestingEl=null)}},{key:"createOrUpdateInnerHTML",value:function(e,t,i){var r=(e||document).createElement("div");"string"==typeof i?r.innerHTML=i:r.appendChild(i),t.innerHTML="",t.appendChild(r)}},{key:"createOrUpdateClipOrTextPath",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=i.elementSVG.$groupEl,l=r?"g":"clipPath",u=r?"text-path":"clip-path";if(t){var h="".concat((r?lnt:ant)+t.entity,"-").concat(i.entity),p=this.defElementManager.getDefElement();if(!p.querySelector("#".concat(h))){var y;if(r)this.createSVGDom(e,t,null,!0),y=t.elementSVG.$el;else{t.isConnected||p.querySelector("#".concat(this.getId(t)))||this.createSVGDom(e,t,p,!0),y=lr(l,e);var E=lr("use",e);E.setAttribute("href","#".concat(t.elementSVG.$el.id)),y.appendChild(E);var w=this.clipPathUseMap.get(t);w||(this.clipPathUseMap.set(t,[]),w=this.clipPathUseMap.get(t)),w.push(E),this.applyTransform(E,t.getWorldTransform());var S=xl(ji(),i.getWorldTransform());this.applyTransform(y,S)}this.pluginOptions.outputSVGElementId&&(y.id=h),p.appendChild(y)}this.applyAttributes(t),r||s.setAttribute(u,"url(#".concat(h,")"))}else r||s.removeAttribute(u)}}])}();cnt.tag="SVGRenderer";var Pz,unt={top:"hanging",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",ideographic:"ideographic",hanging:"hanging"},$xt=(zn(zn(zn(zn(zn(zn(zn(zn(zn(zn(Pz={},qe.RECT,"path"),qe.CIRCLE,"circle"),qe.ELLIPSE,"ellipse"),qe.IMAGE,"image"),qe.GROUP,"g"),qe.LINE,"line"),qe.POLYLINE,"polyline"),qe.POLYGON,"polygon"),qe.TEXT,"text"),qe.PATH,"path"),zn(Pz,qe.HTML,"foreignObject")),Wxt=zn(zn(zn(zn(zn(zn(zn(zn(zn({},qe.CIRCLE,["cx","cy","r"]),qe.ELLIPSE,["cx","cy","rx","ry"]),qe.RECT,["x","y","width","height","radius"]),qe.IMAGE,["x","y","src","width","height"]),qe.LINE,["x1","y1","x2","y2","markerStart","markerEnd","markerStartOffset","markerEndOffset"]),qe.POLYLINE,["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"]),qe.POLYGON,["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"]),qe.PATH,["d","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"]),qe.TEXT,["text","font","fontSize","fontFamily","fontStyle","fontWeight","fontVariant","lineHeight","letterSpacing","wordWrap","wordWrapWidth","maxLines","leading","textBaseline","textAlign","textTransform","textOverflow","textPath","textPathSide","textPathStartOffset","textDecorationLine","textDecorationColor","textDecorationStyle","dx","dy"]),Kxt=function(){return fn(function n(e,t){un(this,n),this.context=e,this.runtime=t},[{key:"createElement",value:function(e,t){var o=lr($xt[e.nodeName]||"g",this.context.config.document||document);return t.set(o,e),o}},{key:"destroyElement",value:function(e,t){}},{key:"shouldUpdateElementAttribute",value:function(e,t){return(Wxt[e.nodeName]||[]).indexOf(t)>-1}},{key:"updateElementAttribute",value:function(e){var i=e.elementSVG.$el,o=e.parsedStyle;switch(e.nodeName){case qe.IMAGE:!function vxt(n,e){var t=e.src,i=void 0===t?"":t,r=e.x,s=e.y,a=void 0===s?0:s,l=e.width,u=e.height;if(n.setAttribute("x","".concat(void 0===r?0:r)),n.setAttribute("y","".concat(a)),Li(i))n.setAttribute("href",i);else if(i instanceof Image)l||n.setAttribute("width","".concat(i.width)),u||n.setAttribute("height","".concat(i.height)),n.setAttribute("href",i.src);else if(i instanceof HTMLElement&&Li(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase())n.setAttribute("href",i.toDataURL());else if(i instanceof ImageData){var h=document.createElement("canvas");h.setAttribute("width","".concat(i.width)),h.setAttribute("height","".concat(i.height));var p=h.getContext("2d");p&&(p.putImageData(i,0,0),l||n.setAttribute("width","".concat(i.width)),u||n.setAttribute("height","".concat(i.height)),n.setAttribute("href",h.toDataURL()))}}(i,o);break;case qe.RECT:!function Ext(n,e){var t=e.radius,i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.width,l=e.height;if(isFinite(a)&&isFinite(l)){var h="";if(t&&t.some(function(k){return 0!==k})){var v=Ui(t.map(function(k){return Mo(k,0,Math.min(Math.abs(a)/2,Math.abs(l)/2))}),4),y=v[0],b=v[1],E=v[2],w=v[3],S=a>0?1:-1,C=l>0?1:-1,D=S+C!==0?1:0;h=[["M ".concat(S*y+r,",").concat(s)],["l ".concat(a-S*(y+b),",0")],["a ".concat(b,",").concat(b,",0,0,").concat(D,",").concat(S*b,",").concat(C*b)],["l 0,".concat(l-C*(b+E))],["a ".concat(E,",").concat(E,",0,0,").concat(D,",").concat(-S*E,",").concat(C*E)],["l ".concat(S*(E+w)-a,",0")],["a ".concat(w,",").concat(w,",0,0,").concat(D,",").concat(-S*w,",").concat(-C*w)],["l 0,".concat(C*(w+y)-l)],["a ".concat(y,",").concat(y,",0,0,").concat(D,",").concat(S*y,",").concat(-C*y)],["z"]].join(" ")}else h="M ".concat(r,",").concat(s," l ").concat(a,",0 l 0,").concat(l," l").concat(-a," 0 z");n.setAttribute("d",h)}}(i,o);break;case qe.LINE:!function yxt(n,e){var E,w,t=e.x1,i=e.y1,r=e.x2,o=e.y2,s=e.markerStart,a=e.markerEnd,l=e.markerStartOffset,u=e.markerEndOffset,h=0,p=0,v=0,y=0,b=0;s&&dr(s)&&l&&(E=r-t,w=o-i,b=Math.atan2(w,E),h=Math.cos(b)*(l||0),p=Math.sin(b)*(l||0)),a&&dr(a)&&u&&(E=t-r,w=i-o,b=Math.atan2(w,E),v=Math.cos(b)*(u||0),y=Math.sin(b)*(u||0)),n.setAttribute("x1","".concat(t+h)),n.setAttribute("y1","".concat(i+p)),n.setAttribute("x2","".concat(r+v)),n.setAttribute("y2","".concat(o+y))}(i,o);break;case qe.POLYGON:case qe.POLYLINE:!function _xt(n,e){var t=e.points.points,i=e.markerStart,r=e.markerStartOffset,o=e.markerEnd,s=e.markerEndOffset,a=t.length;if(t&&a>=2){var y,b,l=0,u=0,h=0,p=0,v=0;i&&dr(i)&&r&&(y=t[1][0]-t[0][0],b=t[1][1]-t[0][1],v=Math.atan2(b,y),l=Math.cos(v)*(r||0),u=Math.sin(v)*(r||0)),o&&dr(o)&&s&&(y=t[a-2][0]-t[a-1][0],b=t[a-2][1]-t[a-1][1],v=Math.atan2(b,y),h=Math.cos(v)*(s||0),p=Math.sin(v)*(s||0)),n.setAttribute("points",t.map(function(E,w){var S=0,C=0;return 0===w?(S=l,C=u):w===a-1&&(S=h,C=p),"".concat(E[0]+S,",").concat(E[1]+C)}).join(" "))}}(i,o);break;case qe.PATH:!function bxt(n,e){var v,y,t=e.d,i=e.markerStart,r=e.markerEnd,o=e.markerStartOffset,s=e.markerEndOffset,a=0,l=0,u=0,h=0,p=0;if(i&&dr(i)&&o){var E=Ui(i.parentNode.getStartTangent(),2),w=E[0],S=E[1];v=w[0]-S[0],y=w[1]-S[1],p=Math.atan2(y,v),a=Math.cos(p)*(o||0),l=Math.sin(p)*(o||0)}if(r&&dr(r)&&s){var D=Ui(r.parentNode.getEndTangent(),2),k=D[0],T=D[1];v=k[0]-T[0],y=k[1]-T[1],p=Math.atan2(y,v),u=Math.cos(p)*(s||0),h=Math.sin(p)*(s||0)}n.setAttribute("d",kb(t.absolutePath,a,l,u,h))}(i,o);break;case qe.TEXT:!function Hxt(n,e,t){t.getBounds();var r=e.lineWidth,o=void 0===r?1:r,s=e.x,a=void 0===s?0:s,l=e.y,u=void 0===l?0:l,h=e.dx,p=void 0===h?0:h,v=e.dy,y=void 0===v?0:v,b=e.textPath,E=e.textPathSide,w=void 0===E?"left":E,S=e.textPathStartOffset,C=void 0===S?0:S,D=e.textDecorationLine,k=void 0===D?"":D,T=e.textDecorationColor,I=void 0===T?"":T,F=e.textDecorationStyle,z=void 0===F?"":F,V=e.metrics,K=e.textBaseline,Y=void 0===K?"alphabetic":K;"alphabetic"===Y&&(Y="bottom"),n.setAttribute("dominant-baseline",unt[Y]),n.setAttribute("paint-order","stroke");var Q=V.lines,at=V.lineHeight,It=V.height,Pt=Q.length,ct="";if((0!==p||0!==y)&&(ct+="transform:translate(".concat(p,"px, ").concat(y,"px);")),k&&"none"!==k&&(ct+="text-decoration:".concat(k," ").concat(z," ").concat(I,";")),ct&&n.setAttribute("style",ct),0!==a&&n.setAttribute("x","".concat(a)),0!==u&&n.setAttribute("y","".concat(u)),1===Pt){var ot=rnt(Q[0]);if(n.setAttribute("dx","".concat(o/2)),("bottom"===Y||"top"===Y)&&(n.setAttribute("dominant-baseline",unt.middle),n.setAttribute("dy","bottom"===Y?"-".concat(It/2,"px"):"".concat(It/2,"px"))),b){n.innerHTML="";var rt=lr("textPath",n.ownerDocument);rt.setAttribute("href","#".concat(lnt+b.entity)),"left"!==w&&rt.setAttribute("side",w),0!==C&&rt.setAttribute("startOffset","".concat(C)),rt.innerHTML=ot,n.appendChild(rt)}else n.innerHTML=ot}else n.innerHTML=Q.map(function(Nt,ie){var $e=o/2,ye=0;return 0===ie?"middle"===Y?ye=at/2-It/2:"top"===Y||"hanging"===Y?ye=0:("bottom"===Y||"ideographic"===Y)&&(ye=-at*(Pt-1)):ye=at,"<tspan x=".concat(a,' dx="').concat($e,'" dy="').concat(ye,'">').concat(rnt(Nt),"</tspan>")}).join("")}(i,o,e)}}}])}(),Xxt=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),(t=Ei(this,e)).name="svg-renderer",t.options=i,t}return zi(e,n),fn(e,[{key:"init",value:function(t){var i=this.options,r=i.outputSVGElementId,o=i.outputSVGElementName,s=new zxt(this.context),a=new Kxt(this.context,t);this.context.defaultElementLifeCycleContribution=a,this.context.SVGElementLifeCycleContribution=a;var l={outputSVGElementId:!!Ri(r)||!!r,outputSVGElementName:!!Ri(o)||!!o};this.addRenderingPlugin(new cnt(l,s,this.context))}},{key:"destroy",value:function(){this.removeAllRenderingPlugins(),delete this.context.defaultElementLifeCycleContribution,delete this.context.SVGElementLifeCycleContribution}}])}(il),Yxt=["offset","composite","computedOffset","easing"],Zxt=["offset","composite","computedOffset","easing","transformOrigin"],Qxt=["offset","composite","computedOffset","easing","transformOrigin"],qxt=["offset","composite","computedOffset","easing","transformOrigin"],Jxt=function(){return fn(function n(e){un(this,n),this.context=e,this.canvasConfig=e.config},[{key:"init",value:function(){var e=this.canvasConfig,t=e.container,i=e.document,r=e.devicePixelRatio;if(this.$container=Li(t)?(i||document).getElementById(t):t,this.$container){this.$container.style.position||(this.$container.style.position="relative");var o=lr("svg",i);o.setAttribute("width","".concat(this.canvasConfig.width)),o.setAttribute("height","".concat(this.canvasConfig.height)),this.$container.appendChild(o),this.$namespace=o}var s=r||Tu&&window.devicePixelRatio||1;s=s>=1?Math.ceil(s):1,this.dpr=s}},{key:"getDomElement",value:function(){return this.$namespace}},{key:"getContext",value:function(){return this.$namespace}},{key:"getDPR",value:function(){return this.dpr}},{key:"getBoundingClientRect",value:function(){var e;return null===(e=this.$namespace)||void 0===e?void 0:e.getBoundingClientRect()}},{key:"destroy",value:function(){this.$container&&this.$namespace&&this.$namespace.parentNode&&this.$container.removeChild(this.$namespace)}},{key:"resize",value:function(e,t){this.$namespace&&(this.$namespace.setAttribute("width","".concat(e)),this.$namespace.setAttribute("height","".concat(t)))}},{key:"applyCursorStyle",value:function(e){this.$container&&(this.$container.style.cursor=e)}},{key:"generateCSSText",value:function(e,t,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=r.duration,a=r.easing,l=r.delay,u=r.direction,h=r.iterations,p=r.fill;return"@keyframes ".concat(e,"{").concat(i.map(function(v){var y=v.computedOffset,b=Su(v,Yxt),E=Object.keys(b).map(function(w){return"".concat(w,":").concat(o[w]||"").concat(b[w],";")}).join("");return"".concat(100*y,"%{").concat(E,"}")}).join(""),"}")+"".concat(t," {animation: ").concat(e," ").concat(s,"ms ").concat(a," ").concat(l,"ms ").concat(h===1/0?"infinite":h," ").concat(u," ").concat(p,";}")}},{key:"toDataURL",value:(e=wd(cs().mark(function i(){var o,s,a,l,u,h,r=this;return cs().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o=this.$namespace.cloneNode(!0),s=this.canvasConfig.document,a=0,l=null,this.context.renderingContext.root.forEach(function(v){var y=v.getAnimations();if(y.length){l||(l=(s||document).createElement("style"),o.appendChild(l));var b=v.elementSVG,E="#".concat(b.$el.id),w="#".concat(b.$groupEl.id),S="",C="";y.forEach(function(D){var k=D.effect.getKeyframes();if(k.length){var T=[],I=[],z=Su(k[0],Zxt);if(Object.keys(z).forEach(function(Y){var Q;"transform"===Y&&I.push(Y),null!==(Q=km[Y])&&void 0!==Q&&Q.inh?I.push(Y):"transform"!==Y&&T.push(Y)}),I.length){var V=k.map(function(Y){var Q=Y.offset,at=Y.composite,It=Y.computedOffset,Pt=Y.easing,ct=Su(Y,Qxt),ot={offset:Q,composite:at,computedOffset:It,easing:Pt};return Object.keys(ct).forEach(function(rt){I.includes(rt)&&(ot[rt]=Y[rt])}),ot});C+=r.generateCSSText("a".concat(a++),w,V,D.effect.getComputedTiming(),{transform:b.$groupEl.getAttribute("transform")})}if(T.length){var K=k.map(function(Y){var Q=Y.offset,at=Y.composite,It=Y.computedOffset,Pt=Y.easing,ct=Su(Y,qxt),ot={offset:Q,composite:at,computedOffset:It,easing:Pt};return Object.keys(ct).forEach(function(rt){T.includes(rt)&&(ot[rt]=Y[rt])}),ot});S+=r.generateCSSText("a".concat(a++),E,K,D.effect.getComputedTiming())}}}),l.textContent+=S+C}}),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u)).replaceChild(o,h.documentElement),p.abrupt("return","data:image/svg+xml;charset=utf8,".concat(encodeURIComponent((new XMLSerializer).serializeToString(h))));case 10:case"end":return p.stop()}},i,this)})),function t(){return e.apply(this,arguments)})}]);var e}(),t2t=function(n){function e(){var t;un(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=Ei(this,e,[].concat(r))).name="svg-context-register",t}return zi(e,n),fn(e,[{key:"init",value:function(){this.context.ContextService=Jxt}},{key:"destroy",value:function(){delete this.context.ContextService}}])}(il),e2t=function(n){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return un(this,e),(t=Ei(this,e,[i])).registerPlugin(new t2t),t.registerPlugin(new Xxt({outputSVGElementId:i.outputSVGElementId})),t.registerPlugin(new G_),t.registerPlugin(new gxt),t}return zi(e,n),fn(e)}(Nf);const nS=n=>Hi(n)?e=>n.includes(e.id):n,n2t={type:Hd.ALIGN,alignment:"horizontal-center"};jl(ts.LAYOUT,Hd.ALIGN,class r2t extends fs{constructor(){super(...arguments),gi(this,"id","align-layout")}execute(e){var t=this;return(0,wl.A)(function*(){const{nodes:i=[]}=e,{alignment:r="horizontal-center"}=t.options;return 0===i.length?e:["horizontal-center","vertical-center"].includes(r)?{nodes:t.getCenterAlignment(i)}:["horizontal-space","vertical-space"].includes(r)?{nodes:t.getSpaceAlignment(i)}:e})()}getCenterAlignment(e){const{alignment:t}=this.options,i=e.map(s=>{var a,l;return[(null==(a=s.style)?void 0:a.x)||0,(null==(l=s.style)?void 0:l.y)||0]}),r=this.getCenterPoint(i),o={};return"horizontal-center"===t&&(o.x=r[0]),"vertical-center"===t&&(o.y=r[1]),e.map(s=>({...s,style:{...s.style,...o}}))}getSpaceAlignment(e){var t;const{alignment:i}=this.options,r="horizontal-space"===i?"x":"y",o="x"===r?0:1,s=this.sortNodesByDirection(e,r),a=s.map(v=>{var y,b;return[(null==(y=v.style)?void 0:y.x)||0,(null==(b=v.style)?void 0:b.y)||0]}),[l,u]=this.getMinMaxPoints(a),h=(u[o]-l[o])/(e.length-1),p=(null==(t=s[0].style)?void 0:t[r])||0;return s.map((v,y)=>({...v,style:{...v.style,[r]:p+h*y}}))}sortNodesByDirection(e,t){return e.sort((i,r)=>{var o,s;const a=(null==(o=i.style)?void 0:o[t])||0,l=(null==(s=r.style)?void 0:s[t])||0;return a<l?-1:a>l?1:0})}getMinMaxPoints(e){const t=e.map(l=>l[0]),i=e.map(l=>l[1]),r=Math.min(...t),o=Math.max(...t);return[[r,Math.min(...i)],[o,Math.max(...i)]]}getCenterPoint(e){const[[t,i],[r,o]]=this.getMinMaxPoints(e);return[(r+t)/2,(o+i)/2]}});const o2t={type:Hd.MESH,linkDistance:100},a2t={nodeSize:133},c2t={type:Hd.RING,nodeSize:100},d2t={type:Hd.TREE,direction:"TB",verticalGap:100,horizontalGap:100},dnt={align:(n,e)=>{const{alignment:t,layoutNodes:i}={...n2t,...e},r={type:Hd.ALIGN};return t&&(r.alignment=t),i&&(r.nodeFilter=nS(i)),r},tree:(n,e)=>{const{direction:t,height:i,width:r,verticalGap:o,horizontalGap:s,layoutNodes:a}={...d2t,...e},l={type:"compact-box",getId:u=>u.id};return t&&(l.direction=t),i&&(l.getHeight=()=>i),r&&(l.getWidth=()=>r),o&&(l.getVGap=()=>o),s&&(l.getHGap=()=>s),a&&(l.nodeFilter=nS(a)),l},mesh:(n,e)=>{const{linkDistance:t,width:i,height:r,layoutNodes:o}={...o2t,...e},s={type:"force",preventOverlap:!0,clustering:!1,leafCluster:!1};return t&&(s.linkDistance=t),i&&(s.width=i),r&&(s.height=r),o&&(s.nodeFilter=nS(o)),s},grid:(n,e)=>{const{rows:t,cols:i,width:r,height:o,begin:s,nodeSize:a,layoutNodes:l}={...a2t,...e},u={type:"grid",preventOverlap:!0};if(n.graphReady){const h=n.getElementByState("node","selected"),p=h.map(E=>E.id),v=Math.min(h.length,t||10),y=Math.min(h.length,i||10),b=n.getElementBoundingBox(p);u.begin=b.min,u.width=Math.min(b.width,a*v),u.height=Math.min(b.height,a*y),u.nodeFilter=E=>p.includes(E.id)}return s&&(u.begin=[s.x,s.y]),t&&(u.rows=t),i&&(u.cols=i),r&&(u.width=r),o&&(u.height=o),a&&(u.nodeSize=a),l&&(u.nodeFilter=nS(l)),u},ring:(n,e)=>{const{width:t,height:i,nodeSize:r,layoutNodes:o}={...c2t,...e},s={type:"circular",preventOverlap:!0};return t&&(s.width=t),i&&(s.height=i),r&&(s.nodeSize=r),o&&(s.nodeFilter=nS(o)),s}};var Nz={},EP={},wP={};Object.defineProperty(wP,"__esModule",{value:!0}),wP.create=function v2t(n){const{bgColor:e,textColor:t,nodeColor:i,nodeColorDisabled:r,nodeStroke:o,nodeHaloStrokeOpacityActive:s=.15,nodeHaloStrokeOpacitySelected:a=.25,nodeOpacityDisabled:l=.06,nodeIconOpacityInactive:u=.85,nodeOpacityInactive:h=.25,nodeBadgePalette:p=p2t,nodePaletteOptions:v=m2t,edgeColor:y,edgeColorDisabled:b,edgePaletteOptions:E=g2t,comboColor:w,comboColorDisabled:S,comboStroke:C,comboStrokeDisabled:D,edgeColorInactive:k}=n;return{background:e,node:{palette:v,style:{donutOpacity:1,badgeBackgroundOpacity:1,badgeFill:"#fff",badgeFontSize:8,badgePadding:[0,4],badgePalette:p,fill:i,fillOpacity:1,halo:!1,iconFill:"#fff",iconOpacity:1,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelFill:t,labelFillOpacity:.85,labelLineHeight:16,labelPadding:[0,2],labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelOffsetY:2,lineWidth:0,portFill:i,portLineWidth:1,portStroke:o,portStrokeOpacity:.65,size:32,stroke:o,strokeOpacity:1,zIndex:2},state:{selected:{halo:!0,haloLineWidth:24,haloStrokeOpacity:a,labelFontSize:12,labelFontWeight:"bold",lineWidth:4,stroke:o},active:{halo:!0,haloLineWidth:12,haloStrokeOpacity:s},highlight:{labelFontWeight:"bold",lineWidth:4,stroke:o,strokeOpacity:.85},inactive:{badgeBackgroundOpacity:h,donutOpacity:h,fillOpacity:h,iconOpacity:u,labelFill:t,labelFillOpacity:h,strokeOpacity:h},disabled:{badgeBackgroundOpacity:.25,donutOpacity:l,fill:r,fillOpacity:l,iconFill:r,iconOpacity:.25,labelFill:t,labelFillOpacity:.25,strokeOpacity:l}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"node-expand",collapse:"node-collapse",update:[{fields:["x","y","fill","stroke"]}],translate:[{fields:["x","y"]}]}},edge:{palette:E,style:{badgeBackgroundFill:y,badgeFill:"#fff",badgeFontSize:8,badgeOffsetX:10,fillOpacity:1,halo:!1,haloLineWidth:12,haloStrokeOpacity:1,increasedLineWidthForHitTesting:2,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[4,4,4,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,labelPlacement:"center",labelTextBaseline:"middle",lineWidth:1,stroke:y,strokeOpacity:1,zIndex:1},state:{selected:{halo:!0,haloStrokeOpacity:.25,labelFontSize:14,labelFontWeight:"bold",lineWidth:3},active:{halo:!0,haloStrokeOpacity:.15},highlight:{labelFontWeight:"bold",lineWidth:3},inactive:{stroke:k,fillOpacity:.08,labelOpacity:.25,strokeOpacity:.08,badgeBackgroundOpacity:.25},disabled:{stroke:b,fillOpacity:.45,strokeOpacity:.45,labelOpacity:.25,badgeBackgroundOpacity:.45}},animation:{enter:"fade",exit:"fade",expand:"path-in",collapse:"path-out",show:"fade",hide:"fade",update:[{fields:["sourceNode","targetNode"]},{fields:["stroke"],shape:"key"}],translate:[{fields:["sourceNode","targetNode"]}]}},combo:{style:{collapsedMarkerFill:e,collapsedMarkerFontSize:12,collapsedMarkerFillOpacity:1,collapsedSize:32,collapsedFillOpacity:1,fill:w,halo:!1,haloLineWidth:12,haloStroke:C,haloStrokeOpacity:.25,labelBackground:!1,labelBackgroundFill:e,labelBackgroundLineWidth:0,labelBackgroundOpacity:.75,labelBackgroundPadding:[2,4,2,4],labelFill:t,labelFontSize:12,labelFontWeight:400,labelOpacity:1,lineDash:0,lineWidth:1,fillOpacity:.04,strokeOpacity:1,padding:10,stroke:C},state:{selected:{halo:!0,labelFontSize:14,labelFontWeight:700,lineWidth:4},active:{halo:!0},highlight:{labelFontWeight:700,lineWidth:4},inactive:{fillOpacity:.65,labelOpacity:.25,strokeOpacity:.65},disabled:{fill:S,fillOpacity:.25,labelOpacity:.25,stroke:D,strokeOpacity:.25}},animation:{enter:"fade",exit:"fade",show:"fade",hide:"fade",expand:"combo-expand",collapse:"combo-collapse",update:[{fields:["x","y"]},{fields:["fill","stroke","lineWidth"],shape:"key"}],translate:[{fields:["x","y"]}]}}}};const p2t=["#7E92B5","#F4664A","#FFBE3A"],m2t={type:"group",color:["#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]},g2t={type:"group",color:["#99ADD1","#1783FF","#00C9C9","#F08F56","#D580FF","#7863FF","#DB9D0D","#60C42D","#FF80CA","#2491B3","#17C76F"]};Object.defineProperty(EP,"__esModule",{value:!0}),EP.dark=void 0,EP.dark=(0,wP.create)({bgColor:"#000000",comboColor:"#fdfdfd",comboColorDisabled:"#d0e4ff",comboStroke:"#99add1",comboStrokeDisabled:"#969696",edgeColor:"#637088",edgeColorDisabled:"#637088",edgeColorInactive:"#D0E4FF",edgePaletteOptions:{type:"group",color:["#637088","#0F55A6","#008383","#9C5D38","#8B53A6","#4E40A6","#8F6608","#3E801D","#A65383","#175E75","#0F8248"]},nodeColor:"#1783ff",nodeColorDisabled:"#D0E4FF",nodeHaloStrokeOpacityActive:.25,nodeHaloStrokeOpacitySelected:.45,nodeIconOpacityInactive:.45,nodeOpacityDisabled:.25,nodeOpacityInactive:.45,nodeStroke:"#d0e4ff",textColor:"#ffffff"});var xP={};Object.defineProperty(xP,"__esModule",{value:!0}),xP.light=void 0,xP.light=(0,wP.create)({bgColor:"#ffffff",comboColor:"#99ADD1",comboColorDisabled:"#f0f0f0",comboStroke:"#99add1",comboStrokeDisabled:"#d9d9d9",edgeColor:"#99add1",edgeColorDisabled:"#d9d9d9",edgeColorInactive:"#1B324F",nodeColor:"#1783ff",nodeColorDisabled:"#1B324F",nodeHaloStrokeOpacityActive:.15,nodeHaloStrokeOpacitySelected:.25,nodeIconOpacityInactive:.85,nodeOpacityDisabled:.06,nodeOpacityInactive:.25,nodeStroke:"#000000",textColor:"#000000"}),function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.light=n.dark=void 0;var e=EP;Object.defineProperty(n,"dark",{enumerable:!0,get:function(){return e.dark}});var t=xP;Object.defineProperty(n,"light",{enumerable:!0,get:function(){return t.light}})}(Nz);const x2t={...Nz.dark,background:tet["background-neutral-default"]};jl(ts.THEME,"mx-dark",x2t);const C2t={...Nz.light,background:Jtt["background-neutral-default"]};jl(ts.THEME,"mx-light",C2t);const M2t={light:"mx-light",dark:"mx-dark"},S2t=n=>M2t[n],O2t=n=>{const{width:e,height:t,autoSize:i,autoFitMode:r,theme:o}=n,s={autoResize:!0};return e&&(s.width=e),t&&(s.height=t),void 0!==i&&(s.autoResize=i),r&&(s.autoFit=r),o&&(s.theme=o),s},hnt=n=>({container:Li(n)?document.getElementById(n):n}),fnt=n=>({renderer:()=>"svg"===n?new e2t:new Qh}),pnt=n=>{var e,t,i;return n?{data:{nodes:null==(e=n.nodes)?void 0:e.map(r=>yP_toNodeData(r,{full:!0})),edges:null==(t=n.edges)?void 0:t.map(r=>HM_toEdgeData(r,{full:!0})),combos:null==(i=n.groups)?void 0:i.map(r=>Oz_toGroupData(r,{full:!0}))}}:{}},T2t=(n,e)=>{var t;const i=e?.find(o=>"tree"===(Li(o)?o:o.type));if(!n||!e||0===e.length)return{};if(!i)return{};const r=(null==(t=n.nodes)?void 0:t.map(o=>yP_toNodeData(o)))||[];return{data:DEt(r).map(o=>function Kyt(n){const{getNodeData:t=(a,l)=>{if(a.depth=l,!a.children)return a;const{children:u}=a,h=Wyt(a,["children"]);return Object.assign(Object.assign({},h),{children:u.map(p=>p.id)})},getEdgeData:i=(a,l)=>({source:a.id,target:l.id}),getChildren:r=a=>a.children||[]}={},o=[],s=[];return Rd(n,(a,l)=>{o.push(t(a,l));const u=r(a);for(const h of u)s.push(i(a,h))},a=>r(a),"TB"),{nodes:o,edges:s}}(o)).reduce((o,s)=>{var a,l,u;return null==(a=o.nodes)||a.push(...s.nodes||[]),null==(l=o.edges)||l.push(...s.edges||[]),null==(u=o.combos)||u.push(...s.combos||[]),o},{nodes:[],edges:[],combos:[]})}},mnt=n=>({behaviors:Eet(n||HEt)}),gnt=(n,e)=>e&&0!==e.length?{layout:e.map(t=>((n,e)=>Li(e)?dnt[e](n):dnt[e.type](n,e))(n,t))}:{},vnt=(n,e,t="light")=>{const i=n.tokenConfig[t],r=pxt.map(s=>Dr(s)&&"background"===s.type?{...s,background:i["background-neutral-default"]}:s),o=mxt;return{plugins:e?[...r,...Zet(n,e)]:[...r,...Zet(n,o)]}},ynt=n=>n?{theme:S2t(n)}:{},bnt=n=>{const e={animation:!1};return void 0!==n&&(e.animation=n),e},iE_toGraphOptions=(n,e)=>({...O2t(e),...hnt(e.container),...fnt(e.renderer),...mnt(e.behaviors),...gnt(n,e.layouts),...vnt(n,e.plugins,e.theme),...bnt(e.animation),...pnt(e.data),...T2t(e.data,e.layouts),...ynt(e.theme)}),iE_toRenderer=fnt,iE_toGraphData=pnt,iE_toLayout=gnt,iE_toPlugin=vnt,iE_toTheme=ynt;class A2t{constructor(e){gi(this,"_graph"),gi(this,"renderType","svg"),gi(this,"iconSpriteText",""),gi(this,"tokenConfig"),gi(this,"graphReady",!1),this.config=e,this.loadIconSprite()&&this.loadTokenConfig()&&this.initGraph(iE_toGraphOptions(this,this.config))}get graph(){return this._graph}get container(){var e;return null==(e=this.graph.getCanvas())?void 0:e.getContainer()}get canvas(){var e;return null==(e=this.graph.getCanvas())?void 0:e.context.contextService.getDomElement()}get elementController(){var e;return null==(e=this.graph.context)?void 0:e.element}get dataController(){var e;return null==(e=this.graph.context)?void 0:e.model}get behaviorController(){var e;return null==(e=this.graph.context)?void 0:e.behavior}get viewportController(){var e;return null==(e=this.graph.context)?void 0:e.viewport}initGraph(e){this._graph=new $yt(e),this.graph.mxGraph=this,this.once(xp.GRAPH_AFTER_RENDER,()=>{console.log(vz.bgBlack.greenBright("\u{1f680} MOXA GRAPH - 2.7.1 \u{1f680}")),this.graphReady=!0,this.canvas.focus(),this.canvas.dispatchEvent(new MouseEvent("click"))})}loadIconSprite(){const e=new XMLHttpRequest;return e.open("GET","data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20viewBox='0%200%2048%2048'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cstyle%3e:root%3esvg{display:none}:root%3esvg:target{display:block}%3c/style%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='add'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2013h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%20-960%20960%20960'%20id='arrow-back'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m313-440%20224%20224-57%2056-320-320%20320-320%2057%2056-224%20224h487v80H313Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2024%2024'%20id='arrow-forward'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='m12%204-1.41%201.41L16.17%2011H4v2h12.17l-5.58%205.59L12%2020l8-8z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2016%2016'%20id='cancel'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%201.333A6.66%206.66%200%200%200%201.333%208%206.66%206.66%200%200%200%208%2014.667%206.66%206.66%200%200%200%2014.667%208%206.66%206.66%200%200%200%208%201.333Zm3.333%209.06-.94.94L8%208.94l-2.393%202.393-.94-.94L7.06%208%204.667%205.607l.94-.94L8%207.06l2.393-2.393.94.94L8.94%208l2.393%202.393Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='center_focus_weak'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M5%2015H3v4c0%201.1.9%202%202%202h4v-2H5v-4ZM5%205h4V3H5c-1.1%200-2%20.9-2%202v4h2V5Zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2Zm0%2016h-4v2h4c1.1%200%202-.9%202-2v-4h-2v4ZM12%208c-2.21%200-4%201.79-4%204s1.79%204%204%204%204-1.79%204-4-1.79-4-4-4Zm0%206c-1.1%200-2-.9-2-2s.9-2%202-2%202%20.9%202%202-.9%202-2%202Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2016%2016'%20id='check_circle'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%201.333A6.67%206.67%200%200%200%201.333%208%206.67%206.67%200%200%200%208%2014.667%206.67%206.67%200%200%200%2014.667%208%206.67%206.67%200%200%200%208%201.333Zm-1.333%2010L3.333%208l.94-.94%202.394%202.387%205.06-5.06.94.946-6%206Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='draw'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2021v-4.25L17.175%203.6c.2-.2.425-.35.675-.45a1.975%201.975%200%200%201%201.512%200c.242.1.455.25.638.45L21.4%205c.2.183.35.396.45.638a1.975%201.975%200%200%201%200%201.512c-.1.25-.25.475-.45.675L8.25%2021H4ZM18.65%207.775%2020%206.425%2018.575%205l-1.35%201.35%201.425%201.425ZM14%2021a6.644%206.644%200%200%200%203.425-.925C18.475%2019.458%2019%2018.6%2019%2017.5c0-.6-.158-1.117-.475-1.55-.317-.433-.742-.808-1.275-1.125L15.775%2016.3c.383.167.683.35.9.55.217.2.325.417.325.65%200%20.383-.304.73-.913%201.038-.608.308-1.304.462-2.087.462a.968.968%200%200%200-.713.288A.968.968%200%200%200%2013%2020c0%20.283.096.52.287.712.192.192.43.288.713.288Zm-9.425-7.65%201.5-1.5a3.576%203.576%200%200%201-.788-.412C5.096%2011.296%205%2011.15%205%2011c0-.2.15-.4.45-.6.3-.2.933-.508%201.9-.925%201.467-.633%202.442-1.208%202.925-1.725.483-.517.725-1.1.725-1.75%200-.917-.367-1.646-1.1-2.188C9.167%203.272%208.2%203%207%203c-.75%200-1.42.133-2.013.4-.591.267-1.045.592-1.362.975A.908.908%200%200%200%203.4%205.1a.938.938%200%200%200%20.375.65.908.908%200%200%200%20.725.225c.267-.033.492-.142.675-.325.233-.233.492-.4.775-.5C6.233%205.05%206.583%205%207%205c.683%200%201.188.1%201.512.3.325.2.488.433.488.7%200%20.233-.146.446-.438.638-.291.191-.962.529-2.012%201.012-1.333.583-2.258%201.112-2.775%201.588A2.298%202.298%200%200%200%203%2011c0%20.533.142.988.425%201.363.283.375.667.704%201.15.987Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2013%2010'%20id='edge-end-arrow'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m.5%205%2012%205V0L.5%205Z'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2013%2010'%20id='edge-start-arrow'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m12.5%205-12%205V0l12%205Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='eye_tracking'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2023H3c-.55%200-1.02-.196-1.413-.587A1.926%201.926%200%200%201%201%2021v-3h2v3h3v2Zm12%200v-2h3v-3h2v3c0%20.55-.196%201.02-.587%201.413A1.926%201.926%200%200%201%2021%2023h-3Zm-6-4.5c-2%200-3.813-.592-5.438-1.775C4.938%2015.542%203.75%2013.967%203%2012c.75-1.967%201.938-3.542%203.563-4.725C8.188%206.092%2010%205.5%2012%205.5c2%200%203.813.592%205.438%201.775C19.063%208.458%2020.25%2010.033%2021%2012c-.75%201.967-1.938%203.542-3.563%204.725C15.813%2017.908%2014%2018.5%2012%2018.5Zm0-3c.967%200%201.792-.342%202.475-1.025A3.372%203.372%200%200%200%2015.5%2012c0-.967-.342-1.792-1.025-2.475A3.372%203.372%200%200%200%2012%208.5c-.967%200-1.792.342-2.475%201.025A3.372%203.372%200%200%200%208.5%2012c0%20.967.342%201.792%201.025%202.475A3.372%203.372%200%200%200%2012%2015.5Zm0-2c-.417%200-.77-.146-1.063-.438A1.446%201.446%200%200%201%2010.5%2012c0-.417.146-.77.438-1.063A1.446%201.446%200%200%201%2012%2010.5c.417%200%20.77.146%201.063.438.291.291.437.645.437%201.062%200%20.417-.146.77-.438%201.063A1.446%201.446%200%200%201%2012%2013.5ZM1%206V3c0-.55.196-1.02.587-1.413A1.926%201.926%200%200%201%203%201h3v2H3v3H1Zm20%200V3h-3V1h3c.55%200%201.02.196%201.413.587C22.803%201.98%2023%202.45%2023%203v3h-2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='group_work'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010%2010-4.48%2010-10S17.52%202%2012%202ZM8%2017.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205ZM9.5%208a2.5%202.5%200%200%201%205%200%202.5%202.5%200%200%201-5%200Zm6.5%209.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2048%2048'%20id='icon-device'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='m25.2%2021.868-.722-.214c.055-1.481-1.49-2.61-2.882-2.116a2.19%202.19%200%200%200-1.438%201.586l-.913%204.256h1.253l.438-2.044c.45.37%201.052.504%201.621.434.602-.075%201.182-.38%201.52-.893l.692.205a2.19%202.19%200%200%200%202.185%202.278h.001c2.873-.049%202.875-4.324%200-4.373h-.001c-.719%200-1.356.347-1.754.88Zm-2.91-1.22c1.265.024%201.263%201.903%200%201.926-1.267-.033-1.271-1.888%200-1.926Zm4.664%201.563c1.264.023%201.264%201.902%200%201.926-1.266-.024-1.262-1.904%200-1.926Z'%20fill='%23191C1C'/%3e%3cpath%20d='M15.023%2019.428h-.13l-.017.08-1.234%205.75-.025.122h1.378l.65-3.032%202.786%203.12.041-.193.948-4.418.306-1.429h-1.378l-.644%203.002-2.68-3.002Z'%20fill='%23191C1C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M33.925%2020.765h-1.252l-.145.678c-.434.012-1.006.09-1.433.305a1.635%201.635%200%200%200-.487-.515l-.026-.018h-1.346l-.046.189c.25.13.445.38.556.686.112.306.137.661.058.992l-.212.988-.255%201.188-.028.122h1.254l.4-1.87c.067-.262.282-.458.56-.592.234-.112.5-.174.73-.194l.253-1.18-.366%201.706c-.16.61-.082%201.115.234%201.474.313.355.839.543%201.524.569l.084.003.26-1.217-.127.003-.081.002a4.49%204.49%200%200%201-.387.001c-.125-.008-.2-.03-.244-.065-.04-.03-.073-.085-.081-.201-.009-.119.01-.289.062-.531l.008-.034.114-.536h1.028l.274-1.277H33.78l.145-.676Z'%20fill='%23191C1C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M11.9%204.8a2%202%200%200%200-2%202v31.84a2%202%200%200%200%202%202h4.4v1.56a1%201%200%200%200%201%201h1.84a1%201%200%200%200%201-1v-1.56h1.28v1.56a1%201%200%200%200%201%201h3.12a1%201%200%200%200%201-1v-1.56h1.28v1.56a1%201%200%200%200%201%201h1.84a1%201%200%200%200%201-1v-1.56h4.4a2%202%200%200%200%202-2V6.8a2%202%200%200%200-2-2H11.9Zm24.16%202H11.9v31.84h24.16V6.8Z'%20fill='%23191C1C'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2048%2048'%20id='icon-field'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M33.34%209.389a.562.562%200%200%200-.562.562v11.597h-7.556v-5.184l-8.889%206.08v-6.008L10%2021.056V39.05c0%20.31.252.562.563.562h26.874c.311%200%20.563-.252.563-.562V9.95a.562.562%200%200%200-.563-.562H33.34Zm-2.562.562A2.562%202.562%200%200%201%2033.34%207.39h4.097A2.563%202.563%200%200%201%2040%209.95V39.05a2.562%202.562%200%200%201-2.563%202.562H10.564A2.562%202.562%200%200%201%208%2039.05V20.04l10.333-7.539v6.152l8.89-6.08v6.975h3.555V9.951Z'%20fill='%23191C1C'/%3e%3cpath%20d='M18.14%2026.61h-3.905v3.906h3.906v-3.907ZM18.14%2032.86h-3.905v3.906h3.906v-3.907ZM25.953%2026.61h-3.906v3.906h3.906v-3.907ZM25.953%2032.86h-3.906v3.906h3.906v-3.907ZM33.766%2026.61H29.86v3.906h3.906v-3.907ZM33.766%2032.86H29.86v3.906h3.906v-3.907Z'%20fill='%23191C1C'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2048%2048'%20id='icon-group'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M24%203.79a9.21%209.21%200%200%200-5.694%2016.45l-3.62%205.948A9.21%209.21%200%201%200%2020.97%2037.1h6.06c.95%204.075%204.606%207.11%208.97%207.11a9.21%209.21%200%201%200%200-18.42%209.21%209.21%200%200%200-2.685.398l-3.62-5.949A9.21%209.21%200%200%200%2024%203.79Zm3.816%2017.595A9.176%209.176%200%200%201%2024%2022.21a9.176%209.176%200%200%201-3.816-.825l-3.47%205.701a9.206%209.206%200%200%201%204.495%207.814h5.582a9.205%209.205%200%200%201%204.495-7.814l-3.47-5.701ZM17.21%2013a6.79%206.79%200%201%201%2013.58%200%206.79%206.79%200%200%201-13.58%200Zm-12%2022a6.79%206.79%200%201%201%2013.58%200%206.79%206.79%200%200%201-13.58%200ZM36%2028.21a6.79%206.79%200%201%200%200%2013.58%206.79%206.79%200%200%200%200-13.58Z'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='image-outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%205v14H5V5h14Zm0-2H5c-1.1%200-2%20.9-2%202v14c0%201.1.9%202%202%202h14c1.1%200%202-.9%202-2V5c0-1.1-.9-2-2-2Zm-4.86%208.86-3%203.87L9%2013.14%206%2017h12l-3.86-5.14Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.64%2021.97a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%2011.49%209.64a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor-add'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m18%2011%20.113-.001%201.027.861a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%205.407%204.536A5.001%205.001%200%200%200%2018%2011ZM21%207h-2v2h-2V7h-2V5h2V3h2v2h2v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor-add-outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='m18%2011%20.113-.001%201.027.861a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%205.407%204.536A5.001%205.001%200%200%200%2018%2011Zm-7.93%203.27a.997.997%200%200%201%201.33.48l2.3%204.99%201.8-.85-2.31-4.98c-.24-.5-.02-1.1.48-1.33l.28-.08%202.3-.45L8%205.12V15.9l1.82-1.47.25-.16Z'%20fill='%23000'/%3e%3cpath%20d='M21%207h-2v2h-2V7h-2V5h2V3h2v2h2v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-cursor-outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.07%2014.27a.997.997%200%200%201%201.33.48l2.3%204.99%201.8-.85-2.31-4.98c-.24-.5-.02-1.1.48-1.33l.28-.08%202.3-.45L8%205.12V15.9l1.82-1.47.25-.16Zm3.57%207.7a.99.99%200%200%201-1.33-.47l-2.18-4.74-2.51%202.02c-.17.14-.38.22-.62.22a1%201%200%200%201-1-1V3a1%201%200%200%201%201.64-.77l.01-.01%2011.49%209.64a1.001%201.001%200%200%201-.44%201.75l-3.16.62%202.2%204.73c.26.5.02%201.09-.48%201.32l-3.62%201.69Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-disband_group_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%202C6.48%202%202%206.48%202%2012s4.48%2010%2010%2010c.488%200%20.968-.035%201.438-.103A5.976%205.976%200%200%201%2012%2018c0-1.75.749-3.324%201.943-4.42.356-.515.9-.89%201.533-1.025A5.978%205.978%200%200%201%2018%2012c1.488%200%202.849.541%203.897%201.438.068-.47.103-.95.103-1.438%200-5.52-4.48-10-10-10ZM8%2017.5a2.5%202.5%200%200%201%200-5%202.5%202.5%200%200%201%200%205ZM9.5%208a2.5%202.5%200%200%201%205%200%202.5%202.5%200%200%201-5%200Z'%20fill='%23000'/%3e%3cpath%20d='m20.12%2014.47%201.42%201.41L19.41%2018l2.13%202.12-1.42%201.42L18%2019.41l-2.12%202.13-1.41-1.42L16.59%2018l-2.12-2.12%201.41-1.41L18%2016.59l2.12-2.12Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-form-textbox'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M17%207h5v10h-5v2a1%201%200%200%200%201%201h2v2h-2.5c-.55%200-1.5-.45-1.5-1%200%20.55-.95%201-1.5%201H12v-2h2a1%201%200%200%200%201-1V5a1%201%200%200%200-1-1h-2V2h2.5c.55%200%201.5.45%201.5%201%200-.55.95-1%201.5-1H20v2h-2a1%201%200%200%200-1%201v2ZM2%207h11v2H4v6h9v2H2V7Zm18%208V9h-3v6h3Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-horizontal-line'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.875%2014.125A2.893%202.893%200%200%200%205%2015c.833%200%201.542-.292%202.125-.875.4-.4.662-.858.788-1.375h1.174c.126.517.388.975.788%201.375A2.893%202.893%200%200%200%2012%2015c.833%200%201.542-.292%202.125-.875.4-.4.662-.858.788-1.375h1.174c.126.517.388.975.788%201.375A2.893%202.893%200%200%200%2019%2015c.833%200%201.542-.292%202.125-.875A2.893%202.893%200%200%200%2022%2012c0-.833-.292-1.542-.875-2.125A2.893%202.893%200%200%200%2019%209c-.833%200-1.542.292-2.125.875-.4.4-.662.858-.788%201.375h-1.174a2.885%202.885%200%200%200-.788-1.375A2.893%202.893%200%200%200%2012%209c-.833%200-1.542.292-2.125.875-.4.4-.662.858-.788%201.375H7.913a2.884%202.884%200%200%200-.788-1.375A2.893%202.893%200%200%200%205%209c-.833%200-1.542.292-2.125.875A2.893%202.893%200%200%200%202%2012c0%20.833.292%201.542.875%202.125Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-ring'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.375%2018.625A2.893%202.893%200%200%200%204.5%2019.5c.669%200%201.257-.188%201.765-.564a8.986%208.986%200%200%200%202.772%201.565c.096.62.375%201.161.838%201.624A2.893%202.893%200%200%200%2012%2023c.833%200%201.542-.292%202.125-.875a2.869%202.869%200%200%200%20.838-1.624%208.987%208.987%200%200%200%202.772-1.565c.508.376%201.096.564%201.765.564.833%200%201.542-.292%202.125-.875A2.893%202.893%200%200%200%2022.5%2016.5c0-.833-.292-1.542-.875-2.125a3.008%203.008%200%200%200-.804-.582%209.045%209.045%200%200%200%200-3.586c.29-.142.558-.336.804-.582A2.893%202.893%200%200%200%2022.5%207.5c0-.833-.292-1.542-.875-2.125A2.893%202.893%200%200%200%2019.5%204.5c-.669%200-1.257.188-1.765.564a8.986%208.986%200%200%200-2.772-1.565%202.869%202.869%200%200%200-.838-1.624A2.893%202.893%200%200%200%2012%201c-.833%200-1.542.292-2.125.875a2.869%202.869%200%200%200-.838%201.624%208.995%208.995%200%200%200-3.103%201.852A2.935%202.935%200%200%200%204.5%205c-.833%200-1.542.292-2.125.875A2.893%202.893%200%200%200%201.5%208c0%20.833.292%201.542.875%202.125.223.223.464.403.723.54a9.074%209.074%200%200%200%20.08%203.128c-.29.142-.557.336-.803.582A2.893%202.893%200%200%200%201.5%2016.5c0%20.833.292%201.542.875%202.125ZM9.192%205.09c-.787.32-1.507.77-2.133%201.324.294.466.441.995.441%201.586%200%20.833-.292%201.542-.875%202.125a2.882%202.882%200%200%201-2.015.873%207.524%207.524%200%200%200%20.085%202.507c.75.043%201.393.333%201.93.87.583.583.875%201.292.875%202.125%200%20.451-.085.866-.256%201.244a7.453%207.453%200%200%200%201.948%201.166c.146-.38.373-.725.683-1.035A2.893%202.893%200%200%201%2012%2017c.833%200%201.542.292%202.125.875.31.31.537.655.683%201.035a7.454%207.454%200%200%200%201.948-1.166A2.98%202.98%200%200%201%2016.5%2016.5c0-.833.292-1.542.875-2.125a2.876%202.876%200%200%201%201.93-.87%207.488%207.488%200%200%200%200-3.01%202.876%202.876%200%200%201-1.93-.87A2.893%202.893%200%200%201%2016.5%207.5c0-.451.085-.866.256-1.244a7.455%207.455%200%200%200-1.948-1.167%202.94%202.94%200%200%201-.683%201.036A2.893%202.893%200%200%201%2012%207a2.893%202.893%200%200%201-2.125-.875%202.941%202.941%200%200%201-.683-1.035Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='mx-vertical-line'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.875%202.875A2.893%202.893%200%200%200%209%205c0%20.833.292%201.542.875%202.125.4.4.858.662%201.375.788v1.174a2.885%202.885%200%200%200-1.375.788A2.893%202.893%200%200%200%209%2012c0%20.833.292%201.542.875%202.125.4.4.858.662%201.375.788v1.174a2.884%202.884%200%200%200-1.375.788A2.893%202.893%200%200%200%209%2019c0%20.833.292%201.542.875%202.125A2.893%202.893%200%200%200%2012%2022c.833%200%201.542-.292%202.125-.875A2.893%202.893%200%200%200%2015%2019c0-.833-.292-1.542-.875-2.125-.4-.4-.858-.662-1.375-.788v-1.174a2.884%202.884%200%200%200%201.375-.788A2.893%202.893%200%200%200%2015%2012c0-.833-.292-1.542-.875-2.125-.4-.4-.858-.662-1.375-.788V7.913a2.885%202.885%200%200%200%201.375-.788A2.893%202.893%200%200%200%2015%205c0-.833-.292-1.542-.875-2.125A2.893%202.893%200%200%200%2012%202c-.833%200-1.542.292-2.125.875Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='pan_tool'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23%205.5V20c0%202.2-1.8%204-4%204h-7.3c-1.08%200-2.1-.43-2.85-1.19L1%2014.83s1.26-1.23%201.3-1.25c.22-.19.49-.29.79-.29.22%200%20.42.06.6.16.04.01%204.31%202.46%204.31%202.46V4c0-.83.67-1.5%201.5-1.5S11%203.17%2011%204v7h1V1.5c0-.83.67-1.5%201.5-1.5S15%20.67%2015%201.5V11h1V2.5c0-.83.67-1.5%201.5-1.5s1.5.67%201.5%201.5V11h1V5.5c0-.83.67-1.5%201.5-1.5s1.5.67%201.5%201.5Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='pan_tool-outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%2024h-6.55c-1.08%200-2.14-.45-2.89-1.23l-7.3-7.61%202.07-1.83c.62-.55%201.53-.66%202.26-.27L8%2014.34V4.79a2.5%202.5%200%200%201%203.01-2.45C11.1%201.04%2012.18.01%2013.5.01c.86%200%201.61.43%202.06%201.09.29-.12.61-.18.94-.18a2.5%202.5%200%200%201%202.5%202.5v.28a2.5%202.5%200%200%201%203%202.45V20c0%202.21-1.79%204-4%204ZM4.14%2015.28l5.86%206.1c.38.39.9.62%201.44.62H18c1.1%200%202-.9%202-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='redo'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.4%2010.6C16.55%208.99%2014.15%208%2011.5%208c-4.65%200-8.58%203.03-9.96%207.22L3.9%2016a8.002%208.002%200%200%201%207.6-5.5c1.95%200%203.73.72%205.12%201.88L13%2016h9V7l-3.6%203.6Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='remove'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%2013H5v-2h14v2Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='shape_line_outline'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%2011c2.76%200%205-2.24%205-5S8.76%201%206%201%201%203.24%201%206s2.24%205%205%205Zm0-8c1.65%200%203%201.35%203%203S7.65%209%206%209%203%207.65%203%206s1.35-3%203-3ZM21%2014h-5c-1.1%200-2%20.9-2%202v5c0%201.1.9%202%202%202h5c1.1%200%202-.9%202-2v-5c0-1.1-.9-2-2-2Zm0%207h-5v-5h5v5Z'%20fill='%23000'/%3e%3cpath%20d='M19%208c-.46%200-.89-.11-1.29-.3L7.7%2017.71c.19.4.3.83.3%201.29%200%201.65-1.35%203-3%203s-3-1.35-3-3%201.35-3%203-3c.46%200%20.89.11%201.29.3L16.3%206.29c-.19-.4-.3-.83-.3-1.29%200-1.65%201.35-3%203-3s3%201.35%203%203-1.35%203-3%203Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='undo'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5%208c-2.65%200-5.05.99-6.9%202.6L2%207v9h9l-3.62-3.62c1.39-1.16%203.16-1.88%205.12-1.88%203.54%200%206.55%202.31%207.6%205.5l2.37-.78C21.08%2011.03%2017.15%208%2012.5%208Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='unfold-less'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.41%2018.59%208.83%2020%2012%2016.83%2015.17%2020l1.41-1.41L12%2014l-4.59%204.59Zm9.18-13.18L15.17%204%2012%207.17%208.83%204%207.41%205.41%2012%2010l4.59-4.59Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='unfold-more'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%205.83%2015.17%209l1.41-1.41L12%203%207.41%207.59%208.83%209%2012%205.83Zm0%2012.34L8.83%2015l-1.41%201.41L12%2021l4.59-4.59L15.17%2015%2012%2018.17Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20fill='none'%20viewBox='0%200%2024%2024'%20id='wallpaper'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%204h7V2H4c-1.1%200-2%20.9-2%202v7h2V4Zm6%209-4%205h12l-3-4-2.03%202.71L10%2013Zm7-4.5c0-.83-.67-1.5-1.5-1.5S14%207.67%2014%208.5s.67%201.5%201.5%201.5S17%209.33%2017%208.5ZM20%202h-7v2h7v7h2V4c0-1.1-.9-2-2-2Zm0%2018h-7v2h7c1.1%200%202-.9%202-2v-7h-2v7ZM4%2013H2v7c0%201.1.9%202%202%202h7v-2H4v-7Z'%20fill='%23000'/%3e%3c/svg%3e%3csvg%20viewBox='0%200%2016%2016'%20id='warning'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M.667%2014h14.666L8%201.333.667%2014Zm8-2H7.333v-1.333h1.334V12Zm0-2.667H7.333V6.667h1.334v2.666Z'/%3e%3c/svg%3e%3c/svg%3e",!1),e.setRequestHeader("Cache-Control","no-cache"),e.send(),200!==e.status?(console.error("Failed to load icon sprite"),!1):(this.iconSpriteText=e.responseText,!!this.iconSpriteText)}loadTokenConfig(e=zEt){try{const t=function SEt(n){var e,t,i,r,o;const s=null==(e=n.collections.find(w=>w.name===Ytt))?void 0:e.modes,a=null==(t=n.collections.find(w=>w.name===Ztt))?void 0:t.modes;if(!s||!a){const w=`\u7121\u6cd5\u627e\u5230 ${Ytt} \u6216 ${Ztt}`;throw console.log(vz.red(w)),new Error(w)}const l=null==(i=s.find(w=>"light"===w.name))?void 0:i.variables,u=null==(r=s.find(w=>"dark"===w.name))?void 0:r.variables,h=null==(o=a.find(w=>"value"===w.name))?void 0:o.variables;if(!l||!u||!h){const w="\u7121\u6cd5\u627e\u5230 light\u3001dark \u6216\u8abf\u8272\u677f\u503c";throw console.log(vz.red(w)),new Error(w)}const p=l.reduce((w,S)=>{var C;return"object"==typeof S.value&&(w[S.name]=null==(C=S.value)?void 0:C.name),w},{}),v=u.reduce((w,S)=>{var C;return"object"==typeof S.value&&(w[S.name]=null==(C=S.value)?void 0:C.name),w},{}),y=h.reduce((w,S)=>("string"==typeof S.value&&(w[S.name]=S.value),w),{});return{light:Object.keys(p).reduce((w,S)=>{const C=y[p[S]];return C&&(w[S]=C),w},{}),dark:Object.keys(v).reduce((w,S)=>{const C=y[v[S]];return C&&(w[S]=C),w},{})}}(e);this.tokenConfig=t}catch{return console.error("Failed to load design tokens"),!1}return!!this.tokenConfig}isElementExist(e){return!!(this.dataController.hasNode(e)||this.dataController.hasEdge(e)||this.dataController.hasCombo(e))}isElementShow(e){return!!this.elementController.getElement(e)}isElementInView(e){const t=this.elementController.getElement(e);return!!t&&this.viewportController.isInViewport(t.getRenderBounds(),!1,30)}getElementBoundingBox(e){const t=Hi(e)?e:[e],i=vbt(t.filter(r=>this.isElementShow(r)).map(r=>"edge"===this.graph.getElementType(r)?this.elementController.getElement(r).getBounds():this.graph.getElementRenderBounds(r)));return{...i,width:i.max[0]-i.min[0],height:i.max[1]-i.min[1]}}getConfig(){const{container:e,autoFit:t,autoResize:i,animation:r}=this.graph.getOptions(),{width:o,height:s}=this.getSize(),a=this.getLayout(),l=this.getBehavior(),u=this.getPlugin(),h=this.getTheme();return{container:e,renderer:this.renderType,width:o,height:s,data:{nodes:this.getNodeData(),edges:this.getEdgeData(),groups:this.getGroupData()},behaviors:l,layouts:a,plugins:u,theme:h,autoFitMode:"center"===t?"center":"view",autoSize:!!i,animation:!!r}}getSize(){const[e,t]=this.graph.getSize();return{width:e,height:t}}getElementType(e){if(!this.isElementExist(e))return null;switch(this.graph.getElementType(e)){case"node":return"node";case"edge":return"edge";case"combo":return"group"}}getElementState(e){return this.isElementExist(e)?this.graph.getElementState(e):[]}getElementByState(e,t){return"node"===e?this.graph.getElementDataByState("node",t).map(i=>qM_toNodeData(i)):"edge"===e?this.graph.getElementDataByState("edge",t).map(i=>q1_toEdgeData(i)):"group"===e?this.graph.getElementDataByState("combo",t).map(i=>ZM_toGroupData(i)):[]}getElementByTypes(e){return[...new Set(e)].map(t=>"node"===t?this.getNodeData():"edge"===t?this.getEdgeData():"group"===t?this.getGroupData():[]).flat()}setRenderer(e){const t=this.graph.getOptions();this.graph.destroy();const{renderer:i}=iE_toRenderer(e);this.initGraph({...t,renderer:i}),this.renderType=e}getTheme(){return this.graph?this.graph.getTheme().replace("mx-",""):"light"}getThemeTokens(){const{tokenConfig:e}=this,t=this.getTheme();return e?.[t]}setTheme(e){const{theme:t}=iE_toTheme(e);t&&(this.graph.setTheme(t),this.refresh())}setThemeTokens(e){this.loadTokenConfig(e)&&this.refresh()}getLayout(){const e=this.graph.getLayout();return e?Hi(e)?e:[e]:[]}setLayout(e){let t=[];t=$n(e)?e(this.getLayout()):Hi(e)?e:[e];const{layout:i}=iE_toLayout(this,t);i&&this.graph.setLayout(i)}layout(){this.graph.layout()}resize(e,t){e&&t?(this.graph.resize(e,t),this.container.style.width=`${e}px`,this.container.style.height=`${t}px`):this.graph.resize()}refresh(){this.dataController.refreshData(),this.setPlugin([])}autoSize(e){const t=this.graph.getOptions();this.graph.destroy(),this.initGraph({...t,autoResize:e})}zoom(e){this.graph.zoomBy(e)}zoomTo(e){this.graph.zoomTo(e)}getChildrenData(e,t={}){const{level:i}=t,r=(o,s=0)=>!vi(i)&&s>=i-1?o:o.map(a=>{if(this.dataController.isCombo(a.id)){const l=this.graph.getChildrenData(a.id);return[a,...r(l,s+1)]}return a}).flat();return r(this.graph.getChildrenData(e)).map(o=>"node"===o.type?qM_toNodeData(o):"combo"===o.type?ZM_toGroupData(o):o)}getZoom(){var e;return null==(e=this.graph)?void 0:e.getZoom()}getCommonPoints(){const{width:e,height:t}=this.getBoundingRect(),r=[e,0],o=[e,t],s=[0,t],a=this.graph.getCanvas().getCamera().getPosition(),l=this.graph.getCanvas().getCanvasByViewport([0,0]),u=this.graph.getCanvas().getCanvasByViewport(r),h=this.graph.getCanvas().getCanvasByViewport(o),p=this.graph.getCanvas().getCanvasByViewport(s);return{middle:{x:a[0],y:a[1]},leftTop:{x:l[0],y:l[1]},rightTop:{x:u[0],y:u[1]},rightBottom:{x:h[0],y:h[1]},leftBottom:{x:p[0],y:p[1]}}}getBoundingRect(){return this.graph.getCanvas().getContextService().getBoundingClientRect()||{left:0,top:0,right:0,bottom:0,width:0,height:0,x:0,y:0}}canvasToViewport(e){const[t,i]=this.graph.getCanvas().getViewportByCanvas([e.x,e.y]);return{x:t,y:i}}viewportToCanvas(e){const[t,i]=this.graph.getCanvas().getCanvasByViewport([e.x,e.y]);return{x:t,y:i}}fitView(){this.graph.fitView()}fitCenter(){this.graph.fitCenter()}focusItem(e){this.graph.focusElement(e)}undo(){const e=this.graph.getPluginInstance(gr.HISTORY);e.canUndo()&&e.undo()}redo(){const e=this.graph.getPluginInstance(gr.HISTORY);e.canRedo()&&e.redo()}render(){return this.graph.render()}setData(e){const{data:t}=iE_toGraphData(e);t&&this.graph.setData(t)}clear(){return this.graph.clear()}destroy(){return new Promise(e=>{this.graph.destroy(),setTimeout(()=>{const t=this;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];Object.setPrototypeOf(this,null),e()})})}getEvent(){return this.graph.getEvents()}hasEvent(e){const t=this.graph.getEvents();return Object.keys(t).includes(e)}getBehavior(){const e=this.graph.getBehaviors().map(t=>$n(t)?t.bind(this.graph)():t);return[...new Set(e)]}getBehaviorInstance(e){return this.behaviorController.extensionMap[e]}setBehavior(e){let t=[];t=$n(e)?e(this.getBehavior()):Array.isArray(e)?e:[e];const i=Eet(t);this.graph.setBehaviors(i)}on(e,t){this.graph.on(e,t)}once(e,t){this.graph.once(e,t)}off(e,t){e&&t?this.graph.off(e,t):e?this.graph.off(e):this.off()}getNodeData(e){if("string"==typeof e){const t=this.graph.getNodeData(e);return qM_toNodeData(t)}return Hi(e)?this.graph.getNodeData(e).map(t=>qM_toNodeData(t)):this.graph.getNodeData().map(t=>qM_toNodeData(t))}addNode(e){const t=Hi(e)?e:[e];this.graph.addNodeData(t.map(i=>yP_toNodeData(i,{full:!0})))}updateNode(e){const t=Hi(e)?e:[e];this.graph.updateNodeData(t.map(i=>yP_toNodeData(i)))}removeNode(e){const t=Hi(e)?e:[e];this.graph.removeNodeData(t)}showElement(e){this.graph.showElement(e)}hideElement(e){this.graph.hideElement(e)}removeElement(e){const t=Hi(e)?e:[e],{node:i,edge:r,group:o}=t.reduce((s,a)=>{var l;const u=this.getElementType(a);return u&&(null==(l=s[u])||l.push(a)),s},{node:[],edge:[],group:[]});this.removeNode(i),this.removeEdge(r),this.removeGroup(o)}setElementState(e){this.graph.setElementState(e)}clearElementState(e){const t=(Hi(e)?e:[e]).reduce((i,r)=>(i[r]=[],i),{});this.graph.setElementState(t)}getEdgeData(e){return"string"==typeof e?q1_toEdgeData(this.graph.getEdgeData(e)):Hi(e)?this.graph.getEdgeData(e).map(q1_toEdgeData):this.graph.getEdgeData().map(q1_toEdgeData)}isIsolated(e){return this.graph.getRelatedEdgesData(e).length<=0}addEdge(e){const t=Hi(e)?e:[e];this.graph.addEdgeData(t.map(i=>HM_toEdgeData(i,{full:!0})))}removeEdge(e){const t=Hi(e)?e:[e];this.graph.removeEdgeData(t)}updateEdge(e){const t=Hi(e)?e:[e];this.graph.updateEdgeData(t.map(i=>HM_toEdgeData(i)))}getGroupData(e){if("string"==typeof e){const t=this.graph.getComboData(e);return ZM_toGroupData(t)}return Hi(e)?this.graph.getComboData(e).map(t=>ZM_toGroupData(t)):this.graph.getComboData().map(t=>ZM_toGroupData(t))}addGroup(e){const t=Hi(e)?e:[e];this.graph.addComboData(t.map(i=>Oz_toGroupData(i,{full:!0})))}removeGroup(e,t={recursive:!1}){const{recursive:i}=t,r=Hi(e)?e:[e];if(r.forEach(o=>this.graph.expandElement(o)),i){const o=r.map(s=>this.getChildrenData(s).map(a=>a.id).filter(a=>"combo"===this.graph.getElementType(a))).flat();this.graph.removeComboData(o)}this.graph.removeComboData(r)}updateGroup(e){const t=Hi(e)?e:[e];this.graph.updateComboData(t.map(i=>Oz_toGroupData(i)))}expandGroup(e){(Hi(e)?e:[e]).forEach(t=>{this.graph.expandElement(t)})}collapseGroup(e){(Hi(e)?e:[e]).forEach(t=>{this.graph.collapseElement(t)})}getPlugin(){return this.graph.getPlugins().map(e=>{if($n(e)){const t=e.bind(this.graph)();return bP[t.type]||null}return Dr(e)?bP[e.type]?e:null:e}).filter(Boolean)}getPluginInstance(e){return this.graph.getPluginInstance(e)}setPlugin(e){let t=[];t=$n(e)?e(this.getPlugin()):Hi(e)?e:[e];const{plugins:i}=iE_toPlugin(this,t,this.getTheme());i&&this.graph.setPlugins(i)}}let k2t=(()=>{class n{#t=(0,g.WQX)(lt.CP);data=(0,g.WQX)(lt.Vh);onUngroup(){this.#t.close(this.data.group.id)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-demo-topology-page-ui-ungroup-dialog"]],standalone:!0,features:[g.aNF],decls:10,vars:1,consts:[["mat-dialog-title",""],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"click"]],template:function(i,r){1&i&&(g.j41(0,"h1",0),g.EFF(1,"Ungroup"),g.k0s(),g.j41(2,"mat-dialog-content"),g.EFF(3),g.k0s(),g.j41(4,"mat-dialog-actions"),g.nrm(5,"div",1),g.j41(6,"button",2),g.EFF(7,"Cancel"),g.k0s(),g.j41(8,"button",3),g.bIt("click",function(){return r.onUngroup()}),g.EFF(9,"Ungroup"),g.k0s()()),2&i&&(g.R7$(3),g.SpI("",null==r.data.group.config.label?null:r.data.group.config.label.text," will be ungrouped. Your devices will remain unaffected."))},dependencies:[lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,Ai.Hl,Ai.$z],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();var Lz=function(n){return n.error="error",n.warning="warning",n.info="default",n}(Lz||{});const N2t=[{id:"node1",config:{type:"device-node",point:{x:150,y:450},states:["fixed"],label:{text:"192.168.127.92"},title:{text:"CC-345"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.92"}},{id:"node2",config:{type:"device-node",point:{x:300,y:300},states:["fixed"],label:{text:"192.168.127.94"},title:{text:"M-001"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.94"}},{id:"node3",config:{type:"device-node",point:{x:420,y:140},label:{text:"192.168.126.101"},title:{text:"J-878"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.126.101"}},{id:"node4",config:{type:"device-node",point:{x:395,y:550},label:{text:"192.168.127.91"},title:{text:"CC-213"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.91"}},{id:"node5",config:{type:"device-node",point:{x:530,y:340},label:{text:"192.168.126.93"},title:{text:"M-002"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.126.93"}},{id:"node6",config:{type:"device-node",point:{x:740,y:320},label:{text:"192.168.126.91"},title:{text:"M-003"},icon:{src:"assets/EDS-518A.png",width:40},parentId:"group1"},customData:{ip:"192.168.126.91"}},{id:"node7",config:{type:"device-node",point:{x:640,y:132},label:{text:"192.168.126.100"},title:{text:"J-76"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.126.100"}},{id:"node8",config:{type:"device-node",point:{x:690,y:550},label:{text:"192.168.127.93"},title:{text:"CC-672"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.93",severity:Lz.error}},{id:"node9",config:{type:"device-node",point:{x:900,y:350},label:{text:"192.168.1.1"},title:{text:""},icon:{src:"assets/EDS-518A.png",width:40},parentId:"group2"},customData:{ip:"192.168.1.1"}},{id:"node10",config:{type:"device-node",point:{x:950,y:450},label:{text:"192.168.1.2"},title:{text:""},icon:{src:"assets/EDS-518A.png",width:40},parentId:"group1"},customData:{ip:"192.168.1.2"}},{id:"node11",config:{type:"device-node",point:{x:940,y:250},label:{text:"192.168.1.3"},title:{text:""},icon:{src:"assets/EDS-518A.png",width:40},parentId:"group2"},customData:{ip:"192.168.1.3"}}],L2t=[{id:"edge-1",source:"node1",target:"node2",config:{type:"line-edge",labels:[{text:"1",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"1",toPort:"1"}},{id:"edge-2",source:"node1",target:"node5",config:{type:"line-edge",labels:[{text:"2",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"2",toPort:"1"}},{id:"edge-3",source:"node2",target:"node4",config:{type:"line-edge",labels:[{text:"2",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"2",toPort:"1"}},{id:"edge-4",source:"node2",target:"node5",config:{type:"line-edge",labels:[{text:"4",position:.3,color:"white",background:{color:"#2D3131"}},{text:"3",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"4",toPort:"3"}},{id:"edge-5",source:"node2",target:"node3",config:{type:"line-edge",labels:[{text:"3",position:.3,color:"white",background:{color:"#2D3131"}},{text:"13",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"3",toPort:"13"}},{id:"edge-6",source:"node3",target:"node5",config:{type:"line-edge",labels:[{text:"11",position:.3,color:"white",background:{color:"#2D3131"}},{text:"4",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"11",toPort:"4"}},{id:"edge-7",source:"node5",target:"node4",config:{type:"line-edge",labels:[{text:"2",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"2",toPort:"1"}},{id:"edge-8",source:"node5",target:"node8",config:{type:"line-edge",labels:[{text:"8",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{connected:!1,fromPort:"8",toPort:"1"}},{id:"edge-9",source:"node5",target:"node6",config:{type:"line-edge",labels:[{text:"6",position:.3,color:"white",background:{color:"#2D3131"}},{text:"2",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"6",toPort:"2"}},{id:"edge-10",source:"node5",target:"node7",config:{type:"line-edge",labels:[{text:"7",position:.3,color:"white",background:{color:"#2D3131"}},{text:"11",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"7",toPort:"11"}},{id:"edge-11",source:"node7",target:"node6",config:{type:"line-edge",labels:[{text:"13",position:.3,color:"white",background:{color:"#2D3131"}},{text:"3",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"13",toPort:"3"}},{id:"edge-12",source:"node6",target:"node8",config:{type:"line-edge",labels:[{text:"1",position:.3,color:"white",background:{color:"#2D3131"}},{text:"2",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{connected:!1,fromPort:"1",toPort:"2"}},{id:"edge-13",source:"node3",target:"node7",config:{type:"quadratic-edge",lineDash:5,labels:[{text:"12",position:.3,color:"white",background:{color:"#2D3131"}},{text:"12",position:.7,color:"white",background:{color:"#2D3131"}}],quadratic:{curveOffset:-50}},customData:{fromPort:"12",toPort:"12"}},{id:"edge-14",source:"node3",target:"node7",config:{type:"quadratic-edge",labels:[{text:"10",position:.3,color:"white",background:{color:"#2D3131"}},{text:"10",position:.7,color:"white",background:{color:"#2D3131"}}],quadratic:{curveOffset:50}},customData:{fromPort:"10",toPort:"10"}}],F2t=[{id:"group1",config:{type:"device-group",point:{x:800,y:400},label:{text:"Group 1"},icon:{src:"assets/icon-group.svg"},collapsed:!0}},{id:"group2",config:{type:"device-group",point:{x:800,y:100},parentId:"group1",label:{text:"Group 2"},icon:{src:"assets/icon-group.svg"},collapsed:!0}}],j2t=(Xg(Jl({apiStatus:Z.pV.none,devices:[],links:[],groups:[]}),jp(n=>({updateDeviceLink(){zr(n,{devices:N2t,links:L2t,groups:F2t})}}))),[xi.ZOOM_CANVAS,xi.FIX_ELEMENT_SIZE,{type:xi.SELECT_ALL,elementTypes:["node","group"]},xi.COLLAPSE_EXPAND,xi.SCROLL_CANVAS,xi.CLICK_SELECT,{type:xi.BRUSH_SELECT,elementTypes:["node","group"]}]),V2t=[{key:"fixedToolbar",type:gr.FIXED_TOOLBAR}],z2t=[{id:"node1",config:{type:"device-node",point:{x:150,y:450},states:["fixed"],label:{text:"192.168.127.92"},title:{text:"CC-345"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.92"}},{id:"node2",config:{type:"device-node",point:{x:300,y:300},states:["fixed"],label:{text:"192.168.127.94"},title:{text:"M-001"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.94"}},{id:"node3",config:{type:"device-node",point:{x:420,y:140},label:{text:"192.168.126.101"},title:{text:"J-878"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.126.101"}},{id:"node4",config:{type:"device-node",point:{x:395,y:550},label:{text:"192.168.127.91"},title:{text:"CC-213"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.91"}},{id:"node5",config:{type:"device-node",point:{x:530,y:340},label:{text:"192.168.126.93"},title:{text:"M-002"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.126.93"}},{id:"node6",config:{type:"device-node",point:{x:740,y:320},label:{text:"192.168.126.91"},states:["fixed"],title:{text:"M-003"},icon:{src:"assets/EDS-518A.png",width:40},parentId:"group1"},customData:{ip:"192.168.126.91"}},{id:"node7",config:{type:"device-node",point:{x:640,y:132},label:{text:"192.168.126.100"},title:{text:"J-76"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.126.100"}},{id:"node8",config:{type:"device-node",point:{x:690,y:550},label:{text:"192.168.127.93"},title:{text:"CC-672"},icon:{src:"assets/EDS-518A.png",width:40}},customData:{ip:"192.168.127.93",severity:Lz.error}},{id:"node10",config:{type:"device-node",point:{x:950,y:450},label:{text:"192.168.1.2"},title:{text:""},icon:{src:"assets/EDS-518A.png",width:40},parentId:"group1"},customData:{ip:"192.168.1.2"}}],U2t=[{id:"edge-1",source:"node1",target:"node2",config:{type:"line-edge",labels:[{text:"1",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"1",toPort:"1"}},{id:"edge-2",source:"node1",target:"node5",config:{type:"line-edge",labels:[{text:"2",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"2",toPort:"1"}},{id:"edge-3",source:"node2",target:"node4",config:{type:"line-edge",labels:[{text:"2",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"2",toPort:"1"}},{id:"edge-4",source:"node2",target:"node5",config:{type:"line-edge",labels:[{text:"4",position:.3,color:"white",background:{color:"#2D3131"}},{text:"3",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"4",toPort:"3"}},{id:"edge-5",source:"node2",target:"node3",config:{type:"line-edge",labels:[{text:"3",position:.3,color:"white",background:{color:"#2D3131"}},{text:"13",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"3",toPort:"13"}},{id:"edge-6",source:"node3",target:"node5",config:{type:"line-edge",labels:[{text:"11",position:.3,color:"white",background:{color:"#2D3131"}},{text:"4",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"11",toPort:"4"}},{id:"edge-7",source:"node5",target:"node4",config:{type:"line-edge",labels:[{text:"2",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"2",toPort:"1"}},{id:"edge-8",source:"node5",target:"node8",config:{type:"line-edge",labels:[{text:"8",position:.3,color:"white",background:{color:"#2D3131"}},{text:"1",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{connected:!1,fromPort:"8",toPort:"1"}},{id:"edge-9",source:"node5",target:"node6",config:{type:"line-edge",labels:[{text:"6",position:.3,color:"white",background:{color:"#2D3131"}},{text:"2",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"6",toPort:"2"}},{id:"edge-10",source:"node5",target:"node7",config:{type:"line-edge",labels:[{text:"7",position:.3,color:"white",background:{color:"#2D3131"}},{text:"11",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"7",toPort:"11"}},{id:"edge-11",source:"node7",target:"node6",config:{type:"line-edge",labels:[{text:"13",position:.3,color:"white",background:{color:"#2D3131"}},{text:"3",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{fromPort:"13",toPort:"3"}},{id:"edge-12",source:"node6",target:"node8",config:{type:"line-edge",labels:[{text:"1",position:.3,color:"white",background:{color:"#2D3131"}},{text:"2",position:.7,color:"white",background:{color:"#2D3131"}}]},customData:{connected:!1,fromPort:"1",toPort:"2"}},{id:"edge-13",source:"node3",target:"node7",config:{type:"quadratic-edge",lineDash:5,labels:[{text:"12",position:.3,color:"white",background:{color:"#2D3131"}},{text:"12",position:.7,color:"white",background:{color:"#2D3131"}}],quadratic:{curveOffset:-50}},customData:{fromPort:"12",toPort:"12"}},{id:"edge-14",source:"node3",target:"node7",config:{type:"quadratic-edge",labels:[{text:"10",position:.3,color:"white",background:{color:"#2D3131"}},{text:"10",position:.7,color:"white",background:{color:"#2D3131"}}],quadratic:{curveOffset:50}},customData:{fromPort:"10",toPort:"10"}}],G2t=[{id:"group1",config:{type:"device-group",point:{x:800,y:400},label:{text:"Group 1"},icon:{src:"assets/icon-group.svg"},collapsed:!0}}];var iS=function(n){return n.NORMAL="normal",n.DASH="dash",n}(iS||{});const Fz=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),CP=Xg({providedIn:"root",protectedState:!1},Jl({graph:null,isLoading:!1,topologyMode:yf.DESIGN,interactiveMode:Oc.PAN,currPoint:{x:0,y:0}}),function hu(n){return e=>{const t=n({...e.stateSignals,...e.computedSignals});return Object.keys(t),{...e,computedSignals:{...e.computedSignals,...t}}}}(n=>({})),jp(n=>{const{graph:e,currPoint:t}=n;return{addDevice:(i,r)=>{e()?.addNode({id:Fz(),config:{type:"device-node",point:t(),label:{text:i},icon:{src:r,width:40}}}),e()?.render()},addLink:(i,r,o=iS.NORMAL)=>{e()?.addEdge({id:Fz(),source:i,target:r,config:{type:"line-edge",...o===iS.DASH&&{lineDash:5}}}),e()?.render()},removeElements:i=>{e()?.removeElement(i),e()?.render()},addGroup:i=>{const r=Fz(),o={id:r,config:{type:"device-group",label:{text:i},icon:{src:"assets/icon-group.svg"},collapsed:!0}};return e()?.addGroup(o),e()?.render(),r},assignGroup:(i,r)=>{i.map(s=>({id:s,config:{parentId:r}})).forEach(s=>{const a=e()?.getElementType(s.id);console.log(a),"node"===a&&e()?.updateNode(s),"group"===a&&e()?.updateGroup(s)}),e()?.render()},setLayout:i=>{i===bf.ALIGN_HORIZONTAL?e()?.setLayout({type:Hd.ALIGN,alignment:"horizontal-center"}):i===bf.ALIGN_VERTICAL?e()?.setLayout({type:Hd.ALIGN,alignment:"vertical-center"}):i===bf.ALIGN_GRID?e()?.setLayout({type:Hd.GRID,layoutNodes:e()?.getNodeData().map(r=>r.id)}):i===bf.ALIGN_CIRCLE&&e()?.setLayout({type:Hd.RING,layoutNodes:e()?.getNodeData().map(r=>r.id)}),e()?.layout()}}}));var $2t=P(3777),Bz=P(8001),_nt=P(3260),Sa=P(5696);const W2t=["panel"],K2t=["*"];function X2t(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",1,0),g.bIt("@panelAnimation.done",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o._animationDone.next(r))}),g.SdG(2),g.k0s()}if(2&n){const t=e.id,i=g.XpG();g.HbH(i._classList),g.AVh("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-primary","primary"===i._color)("mat-accent","accent"===i._color)("mat-warn","warn"===i._color),g.Y8G("id",i.id)("@panelAnimation",i.isOpen?"visible":"hidden"),g.BMQ("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const Y2t=(0,et.hZ)("panelAnimation",[(0,et.wk)("void, hidden",(0,et.iF)({opacity:0,transform:"scaleY(0.8)"})),(0,et.kY)(":enter, hidden => visible",[(0,et.Os)([(0,et.i0)("0.03s linear",(0,et.iF)({opacity:1})),(0,et.i0)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,et.iF)({transform:"scaleY(1)"}))])]),(0,et.kY)(":leave, visible => hidden",[(0,et.i0)("0.075s linear",(0,et.iF)({opacity:0}))])]);let Z2t=0;class Q2t{constructor(e,t){this.source=e,this.option=t}}const Ent=new g.nKC("mat-autocomplete-default-options",{providedIn:"root",factory:function q2t(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let J2t=(()=>{class n{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._changeDetectorRef.markForCheck()}set classList(t){this._classList=t,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,i,r,o){this._changeDetectorRef=t,this._elementRef=i,this._defaults=r,this._activeOptionChanges=As.yU.EMPTY,this._animationDone=new g.bkB,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new g.bkB,this.opened=new g.bkB,this.closed=new g.bkB,this.optionActivated=new g.bkB,this.id="mat-autocomplete-"+Z2t++,this.inertGroups=o?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Rr.Au(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new Q2t(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_skipPredicate(){return!1}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc),g.rXU(g.aKT),g.rXU(Ent),g.rXU(Io.OD))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(1&i&&(g.wni(o,Xi.wT,5),g.wni(o,Xi.QC,5)),2&i){let s;g.mGM(s=g.lsd())&&(r.options=s),g.mGM(s=g.lsd())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(g.GBs(g.C4Q,7),g.GBs(W2t,5)),2&i){let o;g.mGM(o=g.lsd())&&(r.template=o.first),g.mGM(o=g.lsd())&&(r.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",g.L39],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",g.L39],requireSelection:[2,"requireSelection","requireSelection",g.L39],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",g.L39],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",g.L39]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[g.Jv_([{provide:Xi.is,useExisting:n}]),g.GFd,g.aNF],ngContentSelectors:K2t,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){1&i&&(g.NAR(),g.DNE(0,X2t,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[Y2t]},changeDetection:0})}return n})();const tCt={provide:Pi.kq,useExisting:(0,g.Rfq)(()=>xnt),multi:!0},wnt=new g.nKC("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(Cr.hJ);return()=>n.scrollStrategies.reposition()}}),nCt={provide:wnt,deps:[Cr.hJ],useFactory:function eCt(n){return()=>n.scrollStrategies.reposition()}};let xnt=(()=>{class n{constructor(t,i,r,o,s,a,l,u,h,p,v){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=s,this._dir=l,this._formField=u,this._document=h,this._viewportRuler=p,this._defaults=v,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=As.yU.EMPTY,this._breakpointObserver=(0,g.WQX)(_nt.QP),this._handsetLandscapeSubscription=As.yU.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new ei.B,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new ei.B,this._injector=(0,g.WQX)(g.zZn),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=(0,$2t.v)(()=>{const y=this.autocomplete?this.autocomplete.options:null;return y?y.changes.pipe((0,ec.Z)(y),(0,mt.n)(()=>(0,Ur.h)(...y.map(b=>b.onSelectionChange)))):this._initialized.pipe((0,mt.n)(()=>this.optionSelections))}),this._handlePanelKeydown=y=>{(y.keyCode===Fr._f&&!(0,Fr.rp)(y)||y.keyCode===Fr.i7&&(0,Fr.rp)(y,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),y.stopPropagation(),y.preventDefault())},this._trackedModal=null,this._scrollStrategy=a}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&(0,Rr.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Ur.h)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,H.p)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,H.p)(()=>this._overlayAttached)):(0,lo.of)()).pipe((0,fa.T)(t=>t instanceof Xi.MI?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Ur.h)((0,Bz.R)(this._document,"click"),(0,Bz.R)(this._document,"auxclick"),(0,Bz.R)(this._document,"touchend")).pipe((0,H.p)(t=>{const i=(0,Io.Fb)(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=(0,Fr.rp)(t);if(i===Fr._f&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&i===Fr.Fm&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=i===Fr.i7||i===Fr.n6;i===Fr.wn||s&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,r=i.value;if("number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const o=this.autocomplete.options?.find(s=>s.selected);o&&r!==this._getDisplayValue(o.value)&&o.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=new ld.c(r=>{(0,g.mal)(()=>{r.next()},{injector:this._injector})}),i=this.autocomplete.options.changes.pipe((0,ta.M)(()=>this._positionStrategy.reapplyLastPosition()),bE(0));return(0,Ur.h)(t,i).pipe((0,mt.n)(()=>this._zone.run(()=>{const r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),(0,tc.s)(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const i=this.autocomplete;return i&&i.displayWith?i.displayWith(t):t}_assignOptionValue(t){const i=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe((0,tc.s)(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,i){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(i)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&(0,Rr.px)(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new vs.VA(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(_nt.Rp.HandsetLandscape).subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new Cr.rR({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let i=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){i=r;break}t._keyManager.setActiveItem(i)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,r=(0,Xi.jb)(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const s=o._getHostElement(),a=(0,Xi.TL)(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=this.autocomplete.id;this._trackedModal&&(0,Rr.Ae)(this._trackedModal,"aria-owns",i),(0,Rr.px)(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&((0,Rr.Ae)(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(Cr.hJ),g.rXU(g.c1b),g.rXU(g.SKi),g.rXU(g.gRc),g.rXU(wnt),g.rXU(fu.dS,8),g.rXU(Sa.xb,9),g.rXU(Oi.qQ,8),g.rXU(Aa.Xj),g.rXU(Ent,8))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){1&i&&g.bIt("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(s){return r._handleInput(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._handleClick()}),2&i&&g.BMQ("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",g.L39]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[g.Jv_([tCt]),g.GFd,g.OA$]})}return n})(),iCt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[nCt],imports:[Cr.z_,Xi.Sy,Xi.yE,Oi.MD,Aa.Gj,Xi.Sy,Xi.yE]})}return n})();var rE=P(1706);const sCt=new g.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,g.WQX)(Cr.hJ);return()=>n.scrollStrategies.reposition()}}),lCt={provide:sCt,deps:[Cr.hJ],useFactory:function aCt(n){return()=>n.scrollStrategies.reposition()}};let cCt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({providers:[lCt],imports:[Oi.MD,Cr.z_,Xi.Sy,Xi.yE,Aa.Gj,Sa.RG,Xi.Sy,Xi.yE]})}return n})();function uCt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",9),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.triggerCreateGroupMode())}),g.nrm(1,"mat-icon",10),g.EFF(2," Create New Group "),g.k0s()}}function dCt(n,e){if(1&n&&(g.j41(0,"mat-option",13),g.EFF(1),g.k0s()),2&n){const t=e.$implicit;g.Y8G("value",null==t.config.label?null:t.config.label.text),g.R7$(),g.JRh(null==t.config.label?null:t.config.label.text)}}function hCt(n,e){if(1&n&&(g.j41(0,"mat-form-field",5)(1,"mat-label"),g.EFF(2,"Select Group"),g.k0s(),g.nrm(3,"input",11),g.j41(4,"mat-autocomplete",12,0),g.Z7z(6,dCt,2,2,"mat-option",13,g.fX1),g.nI1(8,"async"),g.k0s()()),2&n){const t=g.sdS(5),i=g.XpG();g.R7$(3),g.Y8G("formControl",i.groupControl)("matAutocomplete",t),g.R7$(3),g.Dyx(g.bMT(8,2,i.groupOptions))}}function fCt(n,e){1&n&&(g.j41(0,"mat-error"),g.EFF(1,"Value is required."),g.k0s())}function pCt(n,e){if(1&n&&(g.j41(0,"div")(1,"mat-form-field",5)(2,"mat-label"),g.EFF(3,"Group Name"),g.k0s(),g.nrm(4,"input",14),g.j41(5,"mat-hint",15),g.EFF(6),g.k0s(),g.DNE(7,fCt,2,0,"mat-error",16),g.k0s()()),2&n){const t=g.XpG();g.R7$(4),g.Y8G("formControl",t.newGroupControl),g.R7$(2),g.SpI(" ",null==t.newGroupControl.value?null:t.newGroupControl.value.length,"/ 63"),g.R7$(),g.Y8G("ngIf",null==t.newGroupControl?null:t.newGroupControl.hasError("required"))}}function mCt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",17),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onSave())}),g.EFF(1,"Save"),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("disabled",!t.isValidGroup())}}function gCt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",17),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onCreate())}),g.EFF(1," Create "),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("disabled",!t.newGroupControl.value)}}let vCt=(()=>{class n{#t=(0,g.WQX)(lt.CP);data=(0,g.WQX)(lt.Vh);groupControl=new Pi.MJ("");newGroupControl=new Pi.MJ("");isCreateMode=(0,g.vPA)(!1);title=(0,g.EWP)(()=>this.isCreateMode()?"Create Group":"Assign Group");isValidGroup=(0,g.vPA)(!1);groupOptions;ngOnInit(){this.groupOptions=this.groupControl.valueChanges.pipe((0,ec.Z)(""),(0,fa.T)(t=>(this.updateButtonState(),this._filter(t||""))))}updateButtonState(){const t=!!this.groupControl.value&&this.data.groupList.filter(i=>i.config.label?.text===this.groupControl.value).length>0;this.isValidGroup.set(t)}_filter(t){const i=t.toLowerCase();return this.data.groupList.filter(r=>r.config.label?.text&&r.config.label.text.toLowerCase().includes(i))}triggerCreateGroupMode(){this.isCreateMode.set(!0)}onCreate(){this.#t.close(this.newGroupControl.value)}onSave(){this.#t.close(this.groupControl.value)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-demo-topology-page-ui-assign-group-dialog"]],standalone:!0,features:[g.aNF],decls:14,vars:4,consts:[["auto","matAutocomplete"],["mat-dialog-title",""],[1,"flex","items-center","justify-between"],["type","button","mat-stroked-button",""],[1,"example-form"],["floatLabel","always",1,"group-field"],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"disabled"],["type","button","mat-stroked-button","",3,"click"],["svgIcon","icon:add"],["type","text","placeholder","Type to search group","matInput","","required","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],[3,"value"],["title","Group Name","matInput","","required","","minlength","1","maxlength","63",3,"formControl"],["align","end"],[4,"ngIf"],["type","button","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,r){1&i&&(g.j41(0,"h1",1)(1,"div",2),g.EFF(2),g.DNE(3,uCt,3,0,"button",3),g.k0s()(),g.j41(4,"mat-dialog-content")(5,"form",4),g.DNE(6,hCt,9,4,"mat-form-field",5)(7,pCt,8,3,"div"),g.k0s()(),g.j41(8,"mat-dialog-actions"),g.nrm(9,"div",6),g.j41(10,"button",7),g.EFF(11,"Cancel"),g.k0s(),g.DNE(12,mCt,2,1,"button",8)(13,gCt,2,1,"button",8),g.k0s()),2&i&&(g.R7$(2),g.SpI(" ",r.title()," "),g.R7$(),g.vxM(r.isCreateMode()?-1:3),g.R7$(3),g.vxM(!1===r.isCreateMode()?6:7),g.R7$(6),g.vxM(!1===r.isCreateMode()?12:13))},dependencies:[Oi.MD,Oi.bT,Oi.Jj,lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,Ai.Hl,Ai.$z,cCt,Sa.rl,Sa.nJ,Sa.MV,Sa.TL,Xi.wT,iCt,J2t,xnt,Pi.X1,Pi.qT,Pi.me,Pi.BC,Pi.cb,Pi.YS,Pi.xh,Pi.tU,Pi.l_,Sa.RG,rE.fS,rE.fg,ea.m_,ea.An],styles:[".group-field[_ngcontent-%COMP%]{width:512px}.create-group-option[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;border-top:1px solid #bec9c8;height:48px}.create-group-option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;right:16px;top:4px}"],changeDetection:0})}return n})();var eu=P(7083);const yCt=["input"],bCt=["formField"],_Ct=["*"];let Cnt=0;class Mnt{constructor(e,t){this.source=e,this.value=t}}const ECt={provide:Pi.kq,useExisting:(0,g.Rfq)(()=>Dnt),multi:!0},Snt=new g.nKC("MatRadioGroup"),wCt=new g.nKC("mat-radio-default-options",{providedIn:"root",factory:function xCt(){return{color:"accent",disabledInteractive:!1}}});let Dnt=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+Cnt++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new g.bkB,this._disabledInteractive=!1}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Mnt(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.gRc))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&g.wni(o,jz,5),2&i){let s;g.mGM(s=g.lsd())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",g.L39],required:[2,"required","required",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[g.Jv_([ECt,{provide:Snt,useExisting:n}]),g.GFd]})}return n})(),jz=(()=>{class n{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(t){this._color=t}get disabledInteractive(){return this._disabledInteractive||null!==this.radioGroup&&this.radioGroup.disabledInteractive}set disabledInteractive(t){this._disabledInteractive=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,l,u){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._defaultOptions=l,this._ngZone=(0,g.WQX)(g.SKi),this._uniqueId="mat-radio-"+ ++Cnt,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new g.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,g.WQX)(g.zZn),this._onInputClick=h=>{this.disabled&&this.disabledInteractive&&h.preventDefault()},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,this._disabledInteractive=l?.disabledInteractive??!1,u&&(this.tabIndex=(0,g.Udg)(u,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._inputElement.nativeElement.addEventListener("click",this._onInputClick)})}ngOnDestroy(){this._inputElement?.nativeElement.removeEventListener("click",this._onInputClick),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Mnt(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i,(0,g.mal)(()=>{queueMicrotask(()=>{t&&t.selected&&t.selected!==this&&document.activeElement===r&&(t.selected?._inputElement.nativeElement.focus(),document.activeElement===r&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(Snt,8),g.rXU(g.aKT),g.rXU(g.gRc),g.rXU(Rr.FN),g.rXU(aU),g.rXU(g.bc$,8),g.rXU(wCt,8),g.kS0("tabindex"))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(g.GBs(yCt,5),g.GBs(bCt,7,g.aKT)),2&i){let o;g.mGM(o=g.lsd())&&(r._inputElement=o.first),g.mGM(o=g.lsd())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,r){1&i&&g.bIt("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(g.BMQ("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),g.AVh("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("mat-mdc-radio-disabled",r.disabled)("mat-mdc-radio-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",g.L39],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:(0,g.Udg)(t)],checked:[2,"checked","checked",g.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",g.L39],required:[2,"required","required",g.L39],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:_Ct,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(),g.j41(0,"div",2,0)(2,"div",3)(3,"div",4),g.bIt("click",function(a){return g.eBV(o),g.Njj(r._onTouchTargetClick(a))}),g.k0s(),g.j41(4,"input",5,1),g.bIt("change",function(a){return g.eBV(o),g.Njj(r._onInputInteraction(a))}),g.k0s(),g.j41(6,"div",6),g.nrm(7,"div",7)(8,"div",8),g.k0s(),g.j41(9,"div",9),g.nrm(10,"div",10),g.k0s()(),g.j41(11,"label",11),g.SdG(12),g.k0s()()}2&i&&(g.Y8G("labelPosition",r.labelPosition),g.R7$(2),g.AVh("mdc-radio--disabled",r.disabled),g.R7$(2),g.Y8G("id",r.inputId)("checked",r.checked)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),g.BMQ("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),g.R7$(5),g.Y8G("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),g.R7$(2),g.Y8G("for",r.inputId))},dependencies:[Xi.r6,Xi.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-app-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-app-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-app-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-app-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),CCt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Xi.yE,Oi.MD,Xi.pZ,jz,Xi.yE]})}return n})(),MCt=(()=>{class n{#t=(0,g.WQX)(Pi.Qk);#e=(0,g.WQX)(CP);#n=(0,g.WQX)(lt.CP);DATA=(0,g.WQX)(lt.Vh);LinkStyle=iS;form=this.#t.group({linkType:[iS.NORMAL]});linkTypeValue=(0,eu.ot)(this.form.get("linkType").valueChanges,{initialValue:this.form.getRawValue().linkType});onAddLink(){const{source:t,target:i}=this.DATA;this.#e.addLink(t,i,this.linkTypeValue()),this.#n.close()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-create-link-dialog"]],standalone:!0,features:[g.aNF],decls:17,vars:4,consts:[["mat-dialog-title",""],[3,"formGroup"],["formControlName","linkType",1,"gl-radio-group-vertical"],[3,"value"],[1,"gl-fill-remaining-space"],["type","button","mat-button","","mat-dialog-close",""],["type","button","mat-flat-button","","color","primary",3,"click","disabled"]],template:function(i,r){1&i&&(g.j41(0,"h1",0),g.EFF(1,"Add Link"),g.k0s(),g.j41(2,"mat-dialog-content")(3,"form",1)(4,"mat-label"),g.EFF(5,"Link Type"),g.k0s(),g.j41(6,"mat-radio-group",2)(7,"mat-radio-button",3),g.EFF(8," Wired connection "),g.k0s(),g.j41(9,"mat-radio-button",3),g.EFF(10," Wireless connection "),g.k0s()()()(),g.j41(11,"mat-dialog-actions"),g.nrm(12,"div",4),g.j41(13,"button",5),g.EFF(14,"Cancel"),g.k0s(),g.j41(15,"button",6),g.bIt("click",function(){return r.onAddLink()}),g.EFF(16,"Add"),g.k0s()()),2&i&&(g.R7$(3),g.Y8G("formGroup",r.form),g.R7$(4),g.Y8G("value",r.LinkStyle.NORMAL),g.R7$(2),g.Y8G("value",r.LinkStyle.DASH),g.R7$(6),g.Y8G("disabled",!1))},dependencies:[lt.hM,lt.tx,lt.BI,lt.E7,lt.Yi,Sa.RG,Sa.nJ,Ai.Hl,Ai.$z,CCt,Dnt,jz,Pi.X1,Pi.qT,Pi.BC,Pi.cb,Pi.j4,Pi.JD,rE.fS],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),SCt=(()=>{class n{layoutMenuBtn;#t=(0,g.WQX)(CP);#e=(0,g.WQX)(lt.bZ);#n=(0,g.WQX)(g.zZn);containerId=Math.random().toString(36).substring(2,7);containerObserver=null;topologyMode=this.#t.topologyMode;interactiveMode=this.#t.interactiveMode;devices=(0,g.hFB)([]);links=(0,g.hFB)([]);groups=(0,g.hFB)([]);keyStates=new Set;graph=(0,g.EWP)(()=>this.#t.graph());extendedBehaviors=(0,g.EWP)(()=>{const t=structuredClone(j2t);return this.topologyMode()===yf.DESIGN&&t.push(xi.DRAG_ELEMENT,xi.HOVER_ACTIVATE,{type:xi.CREATE_EDGE,trigger:void 0,onEnd:this.openAddLinkDialog.bind(this)}),this.interactiveMode()===Oc.PAN&&t.push(xi.DRAG_CANVAS),[Oc.SINGLE_SELECT,Oc.MULTI_SELECT].includes(this.interactiveMode())&&t.push({type:xi.DRAG_CANVAS,enable:i=>this.keyStates.has("Space")}),this.interactiveMode()===Oc.MULTI_SELECT&&t.push({type:xi.CLICK_SELECT,multipleMode:"click"},{type:xi.BRUSH_SELECT,elementTypes:["node","group"]}),t});extendedPlugins=(0,g.EWP)(()=>{const t=structuredClone(V2t);return t.push({key:"graph-background",type:gr.GRAPH_BACKGROUND,url:"assets/wireless_background.png",width:2500,height:1300,begin:{x:-300}}),this.topologyMode()===yf.DESIGN&&t.push({type:gr.ELEMENT_TOOLBAR,getItems:this.getElementToolbarItems.bind(this),onClick:this.onElementToolbarClick.bind(this)}),t});#i=(0,g.QZP)(()=>{this.graph()?.setBehavior(this.extendedBehaviors())});#r=(0,g.QZP)(()=>{this.graph()?.setPlugin(this.extendedPlugins()),this.graph()?.render().then(()=>{console.log(this.graph()?.getPluginInstance(gr.ELEMENT_TOOLBAR))})});ngAfterViewInit(){const t=new A2t({renderer:"canvas",container:this.containerId,behaviors:this.extendedBehaviors(),plugins:this.extendedPlugins(),data:{nodes:this.devices(),edges:this.links(),groups:this.groups()}});zr(this.#t,{graph:t}),this.onContainerChange(),this.onPointerMove(),this.onKeyboardEvent(),this.graph().render()}getElementToolbarItems(t){if(0===t.length)return[];const i=t.some(h=>"node"===this.graph().getElementType(h)),r=t.some(h=>"edge"===this.graph().getElementType(h)),o=t.some(h=>"group"===this.graph().getElementType(h)),a={icon:"remove",value:"remove"},l={icon:"group_work",value:"assign-group"},u={icon:"mx-disband_group_outline",value:"un-group"};return!i||r||o?!r||i||o?!o||i||r?i&&r&&!o?[a]:i&&o&&!r?[l,u,a]:[a]:[l,u]:[a]:[{icon:"add",value:"add-link"},l,a]}onKeyboardEvent(){this.graph().on("keydown",t=>{this.keyStates.add(t.code),this.interactiveMode()!==Oc.PAN&&this.graph().graph.getCanvas().setCursor("grab")}),this.graph().on("keyup",t=>{this.keyStates.delete(t.code),this.graph().graph.getCanvas().setCursor("default")})}onElementToolbarClick(t,i){return{"auto-layout":this.setElementArrange,"un-group":this.onUnGroup,"add-link":this.onAddLink,"assign-group":this.onAssignGroup,remove:this.onRemoveElement}[t].call(this,i),!0}onContainerChange(){const t=document.getElementById(this.containerId);t&&(this.containerObserver=new ResizeObserver(i=>{i.forEach(r=>{r.target===t&&this.graph().resize()})}),this.containerObserver.observe(t))}onPointerMove(){this.graph().on("pointermove",t=>{zr(this.#t,{currPoint:t.canvas})})}onRemoveElement(t){this.#t.removeElements(t)}onAddLink(t){this.graph().getBehaviorInstance(xi.CREATE_EDGE).startCreateEdge(t[0])}openAddLinkDialog(t){const{source:i,target:r}=t;i!==r&&this.#e.open(MCt,{panelClass:"mx-dialog-md",autoFocus:!1,data:t,injector:this.#n})}updateState(){const t=this.graph().getNodeData().map(i=>({...i,config:{...i.config,states:[]},customData:{...i.customData}}));this.graph().updateNode(t),this.graph().render()}undo(){this.graph().undo()}redo(){this.graph().redo()}setElementArrange(t){const i=document.getElementById("container"),r=document.getElementById("layout-menu");if(!r)return;const o=this.graph().getElementBoundingBox(t),s=o.center[0]-37,a=o.min[1]-10;i?.appendChild(r),r.style.display="block",r.style.position="relative",r.style.left=s+"px",r.style.top=a+"px",this.layoutMenuBtn?.openMenu()}getElementIdByTypes=t=>{const i={nodes:[],edges:[],groups:[]};return t.forEach(r=>{const o=this.graph().getElementType(r);"node"===o&&i.nodes.push(r),"edge"===o&&i.edges.push(r),"group"===o&&i.groups.push(r)}),i};onUnGroup(t){const i=this.graph().getGroupData(t)[0];i&&this.#e.open(k2t,{panelClass:"mx-dialog-md",autoFocus:!1,data:{group:i}}).afterClosed().subscribe(r=>{r&&(this.graph().removeGroup(i.id),this.graph().render())})}onAssignGroup(t){const i=this.graph().getGroupData();this.#e.open(vCt,{panelClass:"mx-dialog-md",autoFocus:!1,data:{groupList:i}}).afterClosed().subscribe(r=>{if(console.log(r),!r)return;const o=i.filter(s=>s.config.label?.text===r)[0];if(o?.id)this.#t.assignGroup(t,o.id);else{const s=this.#t.addGroup(r);this.#t.assignGroup(t,s)}})}ngOnDestroy(){this.containerObserver?.disconnect(),this.graph().destroy()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-topology"]],viewQuery:function(i,r){if(1&i&&g.GBs(RS,5),2&i){let o;g.mGM(o=g.lsd())&&(r.layoutMenuBtn=o.first)}},inputs:{devices:[1,"devices"],links:[1,"links"],groups:[1,"groups"]},standalone:!0,features:[g.aNF],decls:1,vars:1,consts:[[1,"container",3,"id"]],template:function(i,r){1&i&&g.nrm(0,"div",0),2&i&&g.Y8G("id",r.containerId)},dependencies:[wE],styles:[".container[_ngcontent-%COMP%]{width:auto;height:calc(100vh - 132px);background-color:#fff;border-radius:5px}#layout-menu[_ngcontent-%COMP%]{display:none}.select-image[_ngcontent-%COMP%]{width:24px;height:24px;vertical-align:middle;margin-right:16px}"],changeDetection:0})}return n})();const DCt=[{name:"Robot",src:"assets/robot.svg"},{name:"Machine",src:"assets/manufacturing.svg"},{name:"Central",src:"assets/central.svg"}];function OCt(n,e){if(1&n){const t=g.RV6();g.j41(0,"one-ui-device-selector",7),g.bIt("select",function(r){g.eBV(t);const o=g.XpG(2);return g.Njj(o.onAddDevice(r))}),g.k0s()}if(2&n){const t=g.XpG(2);g.Y8G("devices",t.deviceList())}}function TCt(n,e){if(1&n){const t=g.RV6();g.j41(0,"div",1)(1,"div",2)(2,"one-ui-toolbar",3),g.bIt("toggleTopologyMode",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.onChangeTopologyMode(r))})("toggleInteractiveMode",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.onChangeInteractiveMode(r))})("selectTopologyAction",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.onSelectTopologyAction(r))}),g.k0s(),g.j41(3,"div",4),g.nrm(4,"one-ui-topology",5),g.DNE(5,OCt,1,1,"one-ui-device-selector",6),g.k0s()()()}if(2&n){const t=g.XpG();g.R7$(2),g.Y8G("topologyMode",t.topologyMode())("interactiveMode",t.interactiveMode()),g.R7$(2),g.Y8G("devices",t.devices())("links",t.links())("groups",t.groups()),g.R7$(),g.vxM(t.topologyMode()===t.TopologyMode.DESIGN?5:-1)}}let Ont=(()=>{class n{#t=(0,g.WQX)(CP);TopologyMode=yf;topologyMode=this.#t.topologyMode;interactiveMode=this.#t.interactiveMode;deviceList=(0,g.vPA)(DCt);devices=(0,g.vPA)(z2t);links=(0,g.vPA)(U2t);groups=(0,g.vPA)(G2t);graph=(0,g.EWP)(()=>this.#t.graph());onChangeTopologyMode(t){zr(this.#t,{topologyMode:t})}onChangeInteractiveMode(t){zr(this.#t,{interactiveMode:t})}onSelectTopologyAction(t){this.#t.setLayout(t)}onAddDevice({item:t}){this.#t.addDevice(t.name,t.src)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-network-demo-topology-page"]],standalone:!0,features:[g.Jv_([{provide:pr.Lt,useValue:{scope:"demo-topology-page",alias:"demoTopologyPage"}},CP]),g.aNF],decls:1,vars:1,consts:[["class","basic-topology",4,"transloco","translocoRead"],[1,"basic-topology"],[1,"container"],[3,"toggleTopologyMode","toggleInteractiveMode","selectTopologyAction","topologyMode","interactiveMode"],[1,"boundary"],[3,"devices","links","groups"],[3,"devices"],[3,"select","devices"]],template:function(i,r){1&i&&g.DNE(0,TCt,6,6,"div",0),2&i&&g.Y8G("translocoRead","demoTopologyPage.topology-page")},dependencies:[pr.Q8,pr.bA,_f,SCt,hn],styles:[".container[_ngcontent-%COMP%]{padding:0 16px;background-color:#e0e3e2}[_nghost-%COMP%]     .boundary{position:relative;width:100%;height:100%}"],changeDetection:0})}return n})();var ACt=P(633),Tnt=P(3027);const kCt=[[["","left-content",""]],[["","right-content",""]]],ICt=["[left-content]","[right-content]"];function RCt(n,e){if(1&n){const t=g.RV6();g.j41(0,"button",7),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onToggleMenu())}),g.nrm(1,"mat-icon",8),g.k0s()}if(2&n){const t=g.XpG();g.Y8G("matTooltipDisabled",!t.menuIconTooltip)("matTooltip",t.menuIconTooltip)("disabled",t.isDisabledMenuIcon)}}function PCt(n,e){if(1&n&&g.nrm(0,"img",3),2&n){const t=g.XpG();g.Y8G("width",t.customLogoWidth)("src",t.customLogo,g.B4B)}}function NCt(n,e){1&n&&g.nrm(0,"img",9)(1,"img",10)}let LCt=(()=>{class n{constructor(){this.color="primary",this.menuIconTooltip="",this.isDisabledMenuIcon=!1,this.customLogo="",this.customLogoWidth=110,this.hideMenuButton=!1,this.onClickMenu=new g.bkB,this.onClickLogo=new g.bkB}onToggleMenu(){this.onClickMenu.emit()}onLogoClicked(){this.onClickLogo.emit()}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-top-nav"]],hostAttrs:[1,"mx-top-nav"],hostVars:4,hostBindings:function(i,r){2&i&&g.AVh("mx-top-nav--primary","primary"===r.color)("mx-top-nav--secondary","secondary"===r.color)},inputs:{color:"color",menuIconTooltip:"menuIconTooltip",isDisabledMenuIcon:[2,"isDisabledMenuIcon","isDisabledMenuIcon",g.L39],customLogo:"customLogo",customLogoWidth:"customLogoWidth",hideMenuButton:[2,"hideMenuButton","hideMenuButton",g.L39]},outputs:{onClickMenu:"onClickMenu",onClickLogo:"onClickLogo"},standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:ICt,decls:10,vars:2,consts:[[1,"mx-top-nav__menu-logo-wrapper"],["type","button","mat-icon-button","","mxIconButton","",1,"mx-top-nav__menu-btn",3,"matTooltipDisabled","matTooltip","disabled"],[1,"mx-top-nav__logo-wrapper",3,"click"],[1,"mx-top-nav__custom-logo",3,"width","src"],[1,"mx-top-nav__content-wrapper"],[1,"mx-top-nav__left-content"],[1,"mx-top-nav__right-content"],["type","button","mat-icon-button","","mxIconButton","",1,"mx-top-nav__menu-btn",3,"click","matTooltipDisabled","matTooltip","disabled"],["svgIcon","icon:menu"],["width","110","height","16","src","/assets/logo.svg",1,"mx-top-nav__logo","mx-top-nav__logo--primary"],["width","110","height","16","src","/assets/logo-white.svg",1,"mx-top-nav__logo","mx-top-nav__logo--white"]],template:function(i,r){1&i&&(g.NAR(kCt),g.j41(0,"div",0),g.DNE(1,RCt,2,3,"button",1),g.j41(2,"div",2),g.bIt("click",function(){return r.onLogoClicked()}),g.DNE(3,PCt,1,2,"img",3)(4,NCt,2,0),g.k0s()(),g.j41(5,"div",4)(6,"div",5),g.SdG(7),g.k0s(),g.j41(8,"div",6),g.SdG(9,1),g.k0s()()),2&i&&(g.R7$(),g.vxM(r.hideMenuButton?-1:1),g.R7$(2),g.vxM(r.customLogo?3:4))},dependencies:[ea.m_,ea.An,av,sv,Ai.Hl,Ai.iY,Tnt.C],styles:[".gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}[_nghost-%COMP%]{display:flex;align-items:center;width:100%;height:64px;box-sizing:border-box;padding:12px 16px}.mx-top-nav__menu-logo-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:244px}.mx-top-nav__logo-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 8px;cursor:pointer}.mx-top-nav__logo[_ngcontent-%COMP%]{width:110px;height:16px;background-repeat:no-repeat;background-size:contain}.mx-top-nav__custom-logo[_ngcontent-%COMP%]{object-fit:contain}.mx-top-nav__content-wrapper[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;justify-content:space-between}.mx-top-nav__left-content[_ngcontent-%COMP%], .mx-top-nav__right-content[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0})}return n})(),FCt=(()=>{class n{constructor(){this.modelName="",this.hasBorder=!0}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-top-nav-model-name"]],hostAttrs:[1,"mx-top-nav-model-name"],hostVars:2,hostBindings:function(i,r){2&i&&g.AVh("mx-top-nav-model-name--has-border",r.hasBorder||""===r.hasBorder)},inputs:{modelName:"modelName",hasBorder:[2,"hasBorder","hasBorder",g.L39]},standalone:!0,features:[g.GFd,g.aNF],decls:2,vars:1,template:function(i,r){1&i&&(g.j41(0,"div"),g.EFF(1),g.k0s()),2&i&&(g.R7$(),g.JRh(r.modelName))},styles:[".gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%], [_nghost-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}[_nghost-%COMP%]{padding-left:16px;box-sizing:border-box;height:40px;display:flex;align-items:center}"],changeDetection:0})}return n})();var Ant=P(8823),Ki=P(5973),BCt=P(9434),jCt=P(1996);let Vz=(()=>{class n{static#t=this.nextId=0;get value(){return this._value}set value(t){this._value=t,this.stateChanges.next(),this.onChange&&this.onChange(t)}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=(0,Hn.he)(t),this.stateChanges.next()}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Hn.he)(t),this.stateChanges.next()}get errorState(){return this._errorState||!!this.ngControl?.invalid&&this.touched}set errorState(t){this._errorState=t}get empty(){return!this.value}constructor(t,i){this.ngControl=t,this.elRef=i,this.stateChanges=new ei.B,this.focused=!1,this.touched=!1,this.controlType="mx-password-input",this.describedBy="",this.shouldLabelFloat=!0,this.isVisible=!1,this._cdr=(0,g.WQX)(g.gRc),this._value="",this._placeholder="",this._required=!1,this._disabled=!1,this._errorState=!1,this.id="mx-password-input-"+n.nextId++,this.class="mx-password-input",null!=this.ngControl&&(this.ngControl.valueAccessor=this)}ngDoCheck(){this.ngControl&&this.ngControl.control&&(this.touched=this.ngControl.control.touched,this.stateChanges.next())}ngOnDestroy(){this.stateChanges.complete()}setDescribedByIds(t){this.elRef.nativeElement.querySelector("input").setAttribute("aria-describedby",t.join(" "))}onContainerClick(t){"input"!==t.target.tagName.toLowerCase()&&this.elRef.nativeElement?.querySelector("input")?.focus()}writeValue(t){this.value=t}registerOnChange(t){this.onChange=t,this.stateChanges.next()}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._cdr.markForCheck()}onFocusIn(t){this.focused||(this.focused=!0,this.stateChanges.next())}onFocusOut(t){this.touched=!0,this.focused=!1,this.stateChanges.next(),this.onTouched&&this.onTouched()}onToggleVisibility(){this.isVisible=!this.isVisible}static#e=this.\u0275fac=function(i){return new(i||n)(g.rXU(Pi.vO,10),g.rXU(g.aKT))};static#n=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-password-input"]],hostVars:3,hostBindings:function(i,r){2&i&&(g.Mr5("id",r.id),g.HbH(r.class))},inputs:{value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",errorState:"errorState"},standalone:!0,features:[g.Jv_([{provide:Sa.qT,useExisting:(0,g.Rfq)(()=>n)}]),g.aNF],decls:3,vars:7,consts:[["matInput","",1,"mx-password-input__input",3,"ngModelChange","focus","focusout","type","placeholder","disabled","ngModel"],["mat-icon-button","","mxIconButton","","type","button",1,"mx-password-input__button",3,"click"],[3,"svgIcon"]],template:function(i,r){1&i&&(g.j41(0,"input",0),g.mxI("ngModelChange",function(s){return g.DH7(r.value,s)||(r.value=s),s}),g.bIt("focus",function(s){return r.onFocusIn(s)})("focusout",function(s){return r.onFocusOut(s)}),g.k0s(),g.j41(1,"button",1),g.bIt("click",function(){return r.onToggleVisibility()}),g.nrm(2,"mat-icon",2),g.k0s()),2&i&&(g.Y8G("type",r.isVisible?"text":"password")("placeholder",r.placeholder)("disabled",r.disabled),g.R50("ngModel",r.value),g.R7$(),g.AVh("disabled",r.disabled),g.R7$(),g.Y8G("svgIcon",r.isVisible?"icon:visibility":"icon:visibility_off"))},dependencies:[Pi.YN,Pi.me,Pi.BC,Pi.vS,rE.fS,rE.fg,Ai.Hl,Ai.iY,ea.m_,ea.An,Tnt.C],styles:[".opacity-008[_ngcontent-%COMP%]{opacity:.08}.opacity-012[_ngcontent-%COMP%]{opacity:.12}.opacity-016[_ngcontent-%COMP%]{opacity:.16}.opacity-038[_ngcontent-%COMP%]{opacity:.38}[_nghost-%COMP%]{display:block;position:relative}.mx-password-input__input[_ngcontent-%COMP%]{width:calc(100% - 32px)}.mx-password-input__input[_ngcontent-%COMP%]:focus   mx-validation-rule-list[_ngcontent-%COMP%] > .mx-validation-rule-list__content[_ngcontent-%COMP%]{display:block}.mx-password-input__button[_ngcontent-%COMP%]{position:absolute;bottom:-4px;right:-16px}.mx-password-input__button.disabled[_ngcontent-%COMP%]{opacity:.38}"],changeDetection:0})}return n})();var knt=P(2151);function VCt(n,e){1&n&&g.eu8(0)}function zCt(n,e){if(1&n&&g.nrm(0,"mat-icon",6),2&n){const t=g.XpG().$implicit;g.AVh("valid",t.isValid)("invalid",!t.isValid),g.Y8G("svgIcon",t.isValid?"icon:done":"icon:clear")}}function UCt(n,e){1&n&&g.nrm(0,"div",5)}function GCt(n,e){if(1&n&&(g.j41(0,"li",3),g.DNE(1,zCt,1,5,"mat-icon",4)(2,UCt,1,0,"div",5),g.EFF(3),g.k0s()),2&n){const t=e.$implicit,i=g.XpG();g.R7$(),g.vxM(i.isInputDirty?1:2),g.R7$(2),g.SpI(" ",t.label," ")}}let HCt=(()=>{class n{constructor(){this.rules=[],this._value="",this.debouncer$=new ei.B,this.isInputDirty=!1,this.displayRules=[],this.debouncerActions$=this.debouncer$.pipe((0,knt.B)(100),(0,ta.M)(t=>{this._value=t,this.validateValue(t)}))}get value(){return this._value}set value(t){this.debouncer$.next(t)}get isPasswordValid(){return this.displayRules.every(t=>t.isValid)}ngOnInit(){this.displayRules=this.rules.map(t=>({...t,isValid:!1}))}validateValue(t){this.displayRules.forEach(i=>{i.isValid=i.validator(t)})}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-validation-rule-list"]],inputs:{rules:"rules",value:"value"},standalone:!0,features:[g.aNF],decls:4,vars:4,consts:[[4,"ngIf"],[1,"mx-validation-rule-list__content"],["class","mx-validation-rule-list__rule",4,"ngFor","ngForOf"],[1,"mx-validation-rule-list__rule"],[3,"valid","invalid","svgIcon"],[1,"mx-validation-rule-list__rule__dot"],[3,"svgIcon"]],template:function(i,r){1&i&&(g.DNE(0,VCt,1,0,"ng-container",0),g.nI1(1,"async"),g.j41(2,"ul",1),g.DNE(3,GCt,4,2,"li",2),g.k0s()),2&i&&(g.Y8G("ngIf",g.bMT(1,2,r.debouncerActions$)),g.R7$(3),g.Y8G("ngForOf",r.displayRules))},dependencies:[Oi.Jj,Oi.bT,Oi.pM,ea.m_,ea.An],styles:['.rounded-x-sm[_ngcontent-%COMP%]{border-radius:4px}.rounded-sm[_ngcontent-%COMP%]{border-radius:8px}.rounded-md[_ngcontent-%COMP%]{border-radius:12px}.rounded-lg[_ngcontent-%COMP%]{border-radius:16px}.rounded-x-lg[_ngcontent-%COMP%]{border-radius:28px}.rounded-full[_ngcontent-%COMP%], .mx-validation-rule-list__rule__dot[_ngcontent-%COMP%]:before{border-radius:50%}.gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%], .mx-validation-rule-list__rule[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}[_nghost-%COMP%]{display:block;margin-top:-21px}.mx-validation-rule-list__content[_ngcontent-%COMP%]{width:100%;padding:12px;margin:0;list-style:none}.mx-validation-rule-list__rule[_ngcontent-%COMP%]{display:flex;align-items:center}.mx-validation-rule-list__rule[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:4px}.mx-validation-rule-list__rule[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;width:20px;height:20px}.mx-validation-rule-list__rule__dot[_ngcontent-%COMP%]{padding:8px;margin-right:8px}.mx-validation-rule-list__rule__dot[_ngcontent-%COMP%]:before{content:"";display:block;width:4px;height:4px}']})}return n})(),$Ct=(()=>{class n{constructor(t,i,r){this.elRef=t,this.viewContainerRef=i,this.component=r,this.mxPasswordInputValidationRules=[],this.setInputDirty=()=>{this.componentRef.instance.isInputDirty=!0}}ngOnInit(){this.componentRef=this.viewContainerRef.createComponent(HCt),this.componentRef.instance.rules=this.mxPasswordInputValidationRules;const t=this.elRef.nativeElement.closest("mat-form-field");t&&t.append(this.componentRef.location.nativeElement),this.valueSubscription=this.component.stateChanges.subscribe(()=>{this.componentRef.instance.value=this.component.value}),this._addInputEventListener();const i=this.mxPasswordInputValidationRules.map(r=>o=>r.validator(o.value)?null:{passwordValidation:!0});this.component.ngControl.control&&i.length&&(this.component.ngControl.control.addValidators(i),this.component.ngControl.control.updateValueAndValidity())}ngOnDestroy(){this.valueSubscription&&this.valueSubscription.unsubscribe(),this.invalidSubscription&&this.invalidSubscription.unsubscribe(),this._removeInputEventListener()}_addInputEventListener(){const t=this.elRef.nativeElement.querySelector("input");t&&(t.addEventListener("blur",()=>{this.setInputDirty()}),t.addEventListener("input",()=>{this.setInputDirty()}))}_removeInputEventListener(){const t=this.elRef.nativeElement.querySelector("input");t&&(t.removeEventListener("blur",()=>{this.setInputDirty()}),t.removeEventListener("input",()=>{this.setInputDirty()}))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.c1b),g.rXU(Vz))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["mx-password-input","mxPasswordInputValidation",""]],inputs:{mxPasswordInputValidationRules:"mxPasswordInputValidationRules"},standalone:!0})}return n})();function WCt(n,e){if(1&n&&(g.j41(0,"mat-error",7),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t("blacklist-password-error")," ")}}function KCt(n,e){if(1&n&&(g.j41(0,"mat-error",7),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t("password-length-limit-error"),"")}}function XCt(n,e){if(1&n&&(g.j41(0,"mat-error",7),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit;g.R7$(),g.SpI(" ",t("invalid-password-char"),"")}}function YCt(n,e){if(1&n&&(g.j41(0,"mat-error"),g.EFF(1),g.k0s()),2&n){const t=g.XpG().$implicit,i=g.XpG();g.R7$(),g.SpI(" ",t(i.isNewPassword?"new-password-not-match":"password-not-match")," ")}}function ZCt(n,e){if(1&n&&(g.j41(0,"form",1)(1,"mat-form-field")(2,"mat-label"),g.EFF(3),g.k0s(),g.nrm(4,"mx-password-input",2),g.DNE(5,WCt,2,1,"mat-error",3)(6,KCt,2,1,"mat-error",3)(7,XCt,2,1,"mat-error",3),g.k0s(),g.j41(8,"mat-form-field",4)(9,"mat-label"),g.EFF(10),g.k0s(),g.nrm(11,"mx-password-input",5),g.DNE(12,YCt,2,1,"mat-error",6),g.k0s()()),2&n){let t,i,r;const o=e.$implicit,s=g.XpG();g.Y8G("formGroup",s.form),g.R7$(3),g.JRh(o(s.isNewPassword?"new-password":"password")),g.R7$(),g.Y8G("mxPasswordInputValidationRules",s.passwordRule),g.R7$(),g.Y8G("ngIf",null==(t=s.form.get("password"))?null:t.hasError("blacklistPassword")),g.R7$(),g.Y8G("ngIf",null==(i=s.form.get("password"))?null:i.hasError("maxlength")),g.R7$(),g.Y8G("ngIf",null==(r=s.form.get("password"))?null:r.hasError("invalidChar")),g.R7$(3),g.JRh(o(s.isNewPassword?"confirm-new-password-label":"confirm-password-label")),g.R7$(2),g.Y8G("ngIf",s.confirmPassowrdCtrl.hasError("notConfirmed"))}}let QCt=(()=>{class n extends st{#t=(0,g.WQX)(g.abz);#e=(0,g.WQX)(Pi.ze);#n=(0,g.WQX)(Z.Fx);disabled=!1;isNewPassword=!0;passwordStrength;showStrengthBar=!0;passwordUpperLimit=100;formValidators=[];form;passwordRule=[];passwordHide=!0;previousValidator=[];get passwordCtrl(){return this.form?.get("password")}get confirmPassowrdCtrl(){return this.form?.get("confirmPassword")}ngOnInit(){this.passwordRule=this.passwordStrength?this.#n.generatePasswordValidationRules(this.passwordStrength):this.#n.defaultPasswordStrengthRule,this.form=this.#e.group({password:["",[Pi.k0.required,Pi.k0.maxLength(this.passwordUpperLimit)]],confirmPassword:["",[this.checkConfirmPassword()]]}),this.formValidators.length>0&&(this.previousValidator=this.formValidators,this.form.get("password")?.addValidators(this.formValidators)),this.passwordCtrl.valueChanges.pipe((0,ta.M)(t=>{this.changePassword(t),this.confirmPassowrdCtrl&&this.confirmPassowrdCtrl.updateValueAndValidity()}),(0,eu.pQ)(this.#t)).subscribe(),this.confirmPassowrdCtrl.valueChanges.pipe((0,ta.M)(()=>{this.changePassword(this.passwordCtrl?.value)}),(0,eu.pQ)(this.#t)).subscribe()}ngOnChanges(t){!t.formValidators?.isFirstChange()&&t.formValidators?.currentValue?.length>0&&(this.previousValidator.length>0&&this.form.get("password")?.removeValidators(this.previousValidator),this.previousValidator=this.formValidators,this.form.get("password")?.addValidators(this.formValidators),this.form.get("password")?.updateValueAndValidity())}validate(){return this.passwordCtrl?.invalid?this.passwordCtrl.errors:this.confirmPassowrdCtrl?.invalid?this.confirmPassowrdCtrl.errors:null}changePassword(t){this.onChanged(t),this.onTouched()}checkPasswordChar(){return t=>/^[0-9a-zA-z~`!@#$%^&*()_\-+={}\\[\]|\\:\\";'<>?,.\\/]{8,255}$/.test(t.value)?null:{invalidChar:!0}}checkConfirmPassword(){return t=>this.passwordCtrl&&this.passwordCtrl.value!==t.value?{notConfirmed:!0}:null}writeValue(t){t||this.form.reset({password:"",confirmPassword:""})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-confirm-password"]],inputs:{isNewPassword:"isNewPassword",passwordStrength:"passwordStrength",showStrengthBar:"showStrengthBar",passwordUpperLimit:"passwordUpperLimit",formValidators:"formValidators"},standalone:!0,features:[g.Jv_([{provide:Pi.cz,useExisting:(0,g.Rfq)(()=>n),multi:!0},{provide:Pi.kq,useExisting:(0,g.Rfq)(()=>n),multi:!0}]),g.Vt3,g.OA$,g.aNF],decls:1,vars:1,consts:[["novalidate","",3,"formGroup",4,"transloco","translocoRead"],["novalidate","",3,"formGroup"],["mxPasswordInputValidation","","formControlName","password",3,"mxPasswordInputValidationRules"],["class","password-error",4,"ngIf"],[1,"confirm-password-field"],["formControlName","confirmPassword"],[4,"ngIf"],[1,"password-error"]],template:function(i,r){1&i&&g.DNE(0,ZCt,13,8,"form",0),2&i&&g.Y8G("translocoRead","shared-ui.confirm-password")},dependencies:[Oi.MD,Oi.bT,Pi.X1,Pi.qT,Pi.BC,Pi.cb,Pi.j4,Pi.JD,Sa.RG,Sa.rl,Sa.nJ,Sa.TL,rE.fS,ea.m_,Ai.Hl,pr.Q8,pr.bA,Vz,$Ct],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}.password-error[_ngcontent-%COMP%]{margin-top:12px;margin-left:-16px}.confirm-password-field[_ngcontent-%COMP%]{margin-top:16px}"],changeDetection:0})}return n})();function qCt(n){return e=>{const t=e.value;let i=!1;return n.map(r=>{r===t&&(i=!0)}),i?{blacklistPassword:!0}:null}}const JCt=n=>({passwordUpperLimit:n}),tMt=n=>({"password-error":n});function eMt(n,e){if(1&n&&(g.j41(0,"mx-infotip",10),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.JRh(t.changeFailMessage)}}function nMt(n,e){if(1&n&&(g.j41(0,"mat-error"),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2).$implicit;g.R7$(),g.JRh(t("input-required"))}}function iMt(n,e){if(1&n&&(g.j41(0,"mat-form-field",11)(1,"mat-label"),g.EFF(2),g.k0s(),g.nrm(3,"mx-password-input",12),g.DNE(4,nMt,2,1,"mat-error",13),g.k0s()),2&n){const t=g.XpG().$implicit,i=g.XpG();g.R7$(2),g.JRh(t("current-password")),g.R7$(2),g.Y8G("ngIf",i.currentPasswordFormControl.hasError("required"))}}function rMt(n,e){if(1&n&&(g.qex(0),g.nrm(1,"one-ui-confirm-password",14),g.bVm()),2&n){let t;const i=e.ngrxLet,r=g.XpG(2);g.R7$(),g.Y8G("passwordUpperLimit",i.passwordUpperLimit)("passwordStrength",r.passwordStrength)("formValidators",r.passwordValidator)("isNewPassword",!0)("ngClass",g.eq3(5,tMt,null==(t=r.form.get("_newPassword"))?null:t.hasError("blacklistPassword")))}}function oMt(n,e){if(1&n){const t=g.RV6();g.qex(0),g.j41(1,"form",1),g.bIt("submit",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.submitChangePassword())}),g.j41(2,"h1",2),g.EFF(3),g.k0s(),g.j41(4,"mat-dialog-content",3),g.DNE(5,eMt,2,1,"mx-infotip",4)(6,iMt,5,2,"mat-form-field",5)(7,rMt,2,7,"ng-container",6),g.k0s(),g.j41(8,"mat-dialog-actions"),g.nrm(9,"div",7),g.j41(10,"button",8),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.cancel())}),g.EFF(11),g.k0s(),g.j41(12,"button",9),g.EFF(13),g.k0s()()(),g.bVm()}if(2&n){const t=e.$implicit,i=g.XpG();g.R7$(),g.Y8G("formGroup",i.form),g.R7$(2),g.JRh(t("change-password")),g.R7$(2),g.Y8G("ngIf",i.failMessageContent),g.R7$(),g.Y8G("ngIf",!i.data.noCurrentPassword),g.R7$(),g.Y8G("ngrxLet",g.eq3(9,JCt,i.data.passwordUpperLimit)),g.R7$(4),g.SpI(" ",t("cancel")," "),g.R7$(),g.Y8G("mxButtonIsLoading",i.isLoading)("disabled",i.form.invalid||i.isLoading),g.R7$(),g.SpI(" ",t("save")," ")}}let sMt=(()=>{class n{#t=(0,g.WQX)(Pi.ze);#e=(0,g.WQX)(lt.CP);cd=(0,g.WQX)(g.gRc);data=(0,g.WQX)(lt.Vh);form=this.#t.group({currentPassword:["",[Pi.k0.required]],newPassword:["",[Pi.k0.required,Pi.k0.minLength(8),Pi.k0.maxLength(20)]]});isLoading=!1;changeFailMessage="";passwordValidator=[];changePassword=new g.bkB;passwordStrength={atLeastLowerCharacter:{enable:!1,minLimitation:1},atLeastUpperCharachter:{enable:!1,minLimitation:1},atLeastDigitCharachter:{enable:!1,minLimitation:1},atLeastSpecialCharachter:{enable:!1,minLimitation:1},atLeastCharachter:{enable:!0,minLimitation:8}};get currentPasswordFormControl(){return this.form.get("currentPassword")}get newPasswordFormControl(){return this.form.get("newPassword")}get failMessageContent(){return""!==this.changeFailMessage}ngOnInit(){this.data.noCurrentPassword?this.form=this.#t.group({newPassword:["",Pi.k0.required]}):this.form.get("currentPassword")?.valueChanges.subscribe(t=>{this.setBlacklistValidator([t]),this.cd.markForCheck()})}setBlacklistValidator(t){this.passwordValidator=[qCt(t)]}cancel(){this.#e.close()}submitChangePassword(){this.isLoading=!0,this.changeFailMessage="",this.changePassword.emit(this.data.noCurrentPassword?{newPassword:this.form.get("newPassword").value}:{oldPassword:this.form.get("currentPassword").value,newPassword:this.form.get("newPassword").value})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-change-password-dialog"]],standalone:!0,features:[g.aNF],decls:1,vars:1,consts:[[4,"transloco","translocoRead"],["novalidate","",3,"submit","formGroup"],["mat-dialog-title",""],[1,"change-password-dialog"],["class","change-default-err","mx-error-tip","",4,"ngIf"],["floatLabel","always",4,"ngIf"],[4,"ngrxLet"],[1,"gl-fill-remaining-space"],["type","button","mat-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"mxButtonIsLoading","disabled"],["mx-error-tip","",1,"change-default-err"],["floatLabel","always"],["formControlName","currentPassword"],[4,"ngIf"],["formControlName","newPassword",3,"passwordUpperLimit","passwordStrength","formValidators","isNewPassword","ngClass"]],template:function(i,r){1&i&&g.DNE(0,oMt,14,11,"ng-container",0),2&i&&g.Y8G("translocoRead","shared-ui.change-password-dialog")},dependencies:[Oi.MD,Oi.YU,Oi.bT,Pi.X1,Pi.qT,Pi.BC,Pi.cb,Pi.j4,Pi.JD,lt.hM,lt.BI,lt.E7,lt.Yi,Sa.RG,Sa.rl,Sa.nJ,Sa.TL,Ai.Hl,Ai.$z,Vz,jCt.u,BCt.h,Ant.Nj,QCt,pr.Q8,pr.bA],styles:["[_nghost-%COMP%]{display:block}mat-form-field[_ngcontent-%COMP%]{width:272px}.change-default-err[_ngcontent-%COMP%]{margin-bottom:16px}"],changeDetection:0})}return n})();var zz=P(2959);let Uz=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,Hn.he)(t)}get inset(){return this._inset}set inset(t){this._inset=(0,Hn.he)(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(g.BMQ("aria-orientation",r.vertical?"vertical":"horizontal"),g.AVh("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[g.aNF],decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),Gz=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Xi.yE,Xi.yE]})}return n})();const Int=["*"],Pnt=["unscopedContent"],aMt=["text"],lMt=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],cMt=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],Nnt=new g.nKC("ListOption");let Lnt=(()=>{class n{constructor(t){this._elementRef=t}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return n})(),Fnt=(()=>{class n{constructor(t){this._elementRef=t}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT))};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return n})(),DMt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return n})(),Bnt=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(Nnt,8))};static#e=this.\u0275dir=g.FsC({type:n,hostVars:4,hostBindings:function(i,r){2&i&&g.AVh("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}return n})(),OMt=(()=>{class n extends Bnt{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[g.Vt3]})}return n})(),TMt=(()=>{class n extends Bnt{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275dir=g.FsC({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[g.Vt3]})}return n})();const AMt=new g.nKC("MAT_LIST_CONFIG");let oE=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,g.WQX)(AMt,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,Hn.he)(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,Hn.he)(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275dir=g.FsC({type:n,hostVars:1,hostBindings:function(i,r){2&i&&g.BMQ("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),Hz=(()=>{class n{set lines(t){this._explicitLines=(0,Hn.OE)(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=(0,Hn.he)(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=(0,Hn.he)(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,s,a){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new As.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=s||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===a,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Xi.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Ur.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(oE,8),g.rXU(Io.OD),g.rXU(Xi.$E,8),g.rXU(g.bc$,8))};static#e=this.\u0275dir=g.FsC({type:n,contentQueries:function(i,r,o){if(1&i&&(g.wni(o,OMt,4),g.wni(o,TMt,4)),2&i){let s;g.mGM(s=g.lsd())&&(r._avatars=s),g.mGM(s=g.lsd())&&(r._icons=s)}},hostVars:4,hostBindings:function(i,r){2&i&&(g.BMQ("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),g.AVh("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),kMt=(()=>{class n extends Hz{get activated(){return this._activated}set activated(t){this._activated=(0,Hn.he)(t)}constructor(t,i,r,o,s,a){super(t,i,r,o,s,a),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(g.SKi),g.rXU(oE,8),g.rXU(Io.OD),g.rXU(Xi.$E,8),g.rXU(g.bc$,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,o){if(1&i&&(g.wni(o,Fnt,5),g.wni(o,Lnt,5),g.wni(o,DMt,5)),2&i){let s;g.mGM(s=g.lsd())&&(r._lines=s),g.mGM(s=g.lsd())&&(r._titles=s),g.mGM(s=g.lsd())&&(r._meta=s)}},viewQuery:function(i,r){if(1&i&&(g.GBs(Pnt,5),g.GBs(aMt,5)),2&i){let o;g.mGM(o=g.lsd())&&(r._unscopedContent=o.first),g.mGM(o=g.lsd())&&(r._itemText=o.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){2&i&&(g.BMQ("aria-current",r._getAriaCurrent()),g.AVh("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[g.Vt3,g.aNF],ngContentSelectors:cMt,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(lMt),g.SdG(0),g.j41(1,"span",1),g.SdG(2,1),g.SdG(3,2),g.j41(4,"span",2,0),g.bIt("cdkObserveContent",function(){return g.eBV(o),g.Njj(r._updateItemLines(!0))}),g.SdG(6,3),g.k0s()(),g.SdG(7,4),g.SdG(8,5),g.nrm(9,"div",3)}},dependencies:[zz.Wv],encapsulation:2,changeDetection:0})}return n})(),Vnt=(()=>{class n extends oE{constructor(){super(...arguments),this._isNonInteractive=!1}static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[g.Jv_([{provide:oE,useExisting:n}]),g.Vt3,g.aNF],ngContentSelectors:Int,decls:1,vars:0,template:function(i,r){1&i&&(g.NAR(),g.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}'],encapsulation:2,changeDetection:0})}return n})(),$z=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[zz.w5,Oi.MD,Xi.yE,Xi.pZ,Xi.O5,Gz]})}return n})();const LMt=["switch"],FMt=["*"];function BMt(n,e){1&n&&(g.j41(0,"span",10),g.qSk(),g.j41(1,"svg",12),g.nrm(2,"path",13),g.k0s(),g.j41(3,"svg",14),g.nrm(4,"path",15),g.k0s()())}const jMt=new g.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),VMt={provide:Pi.kq,useExisting:(0,g.Rfq)(()=>Wz),multi:!0};class znt{constructor(e,t){this.source=e,this.checked=t}}let zMt=0,Wz=(()=>{class n{_createChangeEvent(t){return new znt(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=l=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new g.bkB,this.toggleChange=new g.bkB,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++zMt,this.hideIcon=s.hideIcon??!1,this.disabledInteractive=s.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new znt(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#t=this.\u0275fac=function(i){return new(i||n)(g.rXU(g.aKT),g.rXU(Rr.FN),g.rXU(g.gRc),g.kS0("tabindex"),g.rXU(jMt),g.rXU(g.bc$,8))};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&g.GBs(LMt,5),2&i){let o;g.mGM(o=g.lsd())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(g.Mr5("id",r.id),g.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),g.HbH(r.color?"mat-"+r.color:""),g.AVh("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",g.L39],color:"color",disabled:[2,"disabled","disabled",g.L39],disableRipple:[2,"disableRipple","disableRipple",g.L39],tabIndex:[2,"tabIndex","tabIndex",t=>null==t?0:(0,g.Udg)(t)],checked:[2,"checked","checked",g.L39],hideIcon:[2,"hideIcon","hideIcon",g.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",g.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[g.Jv_([VMt,{provide:Pi.cz,useExisting:n,multi:!0}]),g.GFd,g.OA$,g.aNF],ngContentSelectors:FMt,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(),g.j41(0,"div",1)(1,"button",2,0),g.bIt("click",function(){return g.eBV(o),g.Njj(r._handleClick())}),g.nrm(3,"span",3),g.j41(4,"span",4)(5,"span",5)(6,"span",6),g.nrm(7,"span",7),g.k0s(),g.j41(8,"span",8),g.nrm(9,"span",9),g.k0s(),g.DNE(10,BMt,5,0,"span",10),g.k0s()()(),g.j41(11,"label",11),g.bIt("click",function(a){return g.eBV(o),g.Njj(a.stopPropagation())}),g.SdG(12),g.k0s()()}if(2&i){const o=g.sdS(2);g.Y8G("labelPosition",r.labelPosition),g.R7$(),g.AVh("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),g.Y8G("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),g.BMQ("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),g.R7$(8),g.Y8G("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),g.R7$(),g.vxM(r.hideIcon?-1:10),g.R7$(),g.Y8G("for",r.buttonId),g.BMQ("id",r._labelId)}},dependencies:[Xi.r6,Xi.tO],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape, var(--mat-app-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color, var(--mat-app-outline))}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-app-on-surface))}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-app-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-app-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-app-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-app-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-app-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-app-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-app-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-app-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-app-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-app-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-app-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-app-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-app-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-app-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-app-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-app-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-app-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-app-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color, var(--mat-app-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-app-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),HMt=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=g.$C({type:n});static#n=this.\u0275inj=g.G2t({imports:[Wz,Xi.yE,Xi.yE]})}return n})();function $Mt(n,e){if(1&n){const t=g.RV6();g.qex(0),g.j41(1,"div",2)(2,"div"),g.nrm(3,"p",3),g.j41(4,"p",4),g.EFF(5),g.k0s()(),g.j41(6,"button",5),g.nrm(7,"mat-icon",6),g.k0s()(),g.j41(8,"mat-menu",null,0)(10,"div",7)(11,"button",8),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.openChangePasswordDialog())}),g.EFF(12),g.k0s()(),g.nrm(13,"mat-divider"),g.j41(14,"div",9),g.bIt("click",function(r){return g.eBV(t),g.Njj(r.stopPropagation())}),g.j41(15,"button",10)(16,"mat-slide-toggle",11),g.bIt("change",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.toggleTheme())}),g.EFF(17),g.k0s()()(),g.nrm(18,"mat-divider"),g.j41(19,"div",7)(20,"button",8),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onLogout())}),g.EFF(21),g.k0s()()(),g.bVm()}if(2&n){const t=e.$implicit,i=g.sdS(9),r=g.XpG();g.R7$(),g.Y8G("matMenuTriggerFor",i),g.R7$(4),g.JRh(r.accountName),g.R7$(7),g.JRh(t("change-pwd")),g.R7$(4),g.Y8G("checked",r.isDarkTheme),g.R7$(),g.JRh(t("dark-theme")),g.R7$(4),g.JRh(t("sign-out"))}}let WMt=(()=>{class n{changePassword=new g.bkB;changeSessionTimeout=new g.bkB;#t=(0,g.WQX)(Ki.il);#e=(0,g.WQX)(Z.Fs);#n=(0,g.WQX)(g.abz);isDarkTheme;accountName="";ngOnInit(){this.#e.isDarkTheme$.pipe((0,eu.pQ)(this.#n)).subscribe(t=>{this.isDarkTheme=t}),this.#t.select(Z.bY).pipe((0,eu.pQ)(this.#n)).subscribe(t=>{t&&(this.accountName=t)})}onLogout(){this.#t.dispatch(Z.gi.logout())}toggleTheme(){this.#e.setDarkTheme(!this.isDarkTheme)}openChangePasswordDialog(){this.changePassword.emit(!0)}openSessionSettingDialog(){this.changeSessionTimeout.emit(!0)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-user-profile-menu"]],outputs:{changePassword:"changePassword",changeSessionTimeout:"changeSessionTimeout"},standalone:!0,features:[g.aNF],decls:1,vars:1,consts:[["menu","matMenu"],[4,"transloco","translocoRead"],[1,"user-profile-account",3,"matMenuTriggerFor"],[1,"gl-body-md","account-role"],[1,"gl-body-md","account-name"],["title","button","type","button","mat-icon-button","","disableRipple",""],["svgIcon","icon:arrow_drop_down"],["oneUiTheme",""],["type","button","mat-menu-item","",3,"click"],["oneUiTheme","",3,"click"],["mat-menu-item",""],["color","primary",3,"change","checked"]],template:function(i,r){1&i&&g.DNE(0,$Mt,22,6,"ng-container",1),2&i&&g.Y8G("translocoRead","app.user-profile-menu")},dependencies:[Oi.MD,lt.hM,Ai.Hl,Ai.iY,$z,Uz,wE,Xp,hd,RS,HMt,Wz,ea.m_,ea.An,Z.rE,pr.Q8,pr.bA],styles:[".user-profile-account[_ngcontent-%COMP%], .one-dark-theme[_ngcontent-%COMP%]   .user-profile-account[_ngcontent-%COMP%]{color:#fff}.user-profile-account[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center}.user-profile-account.mat-list-base[_ngcontent-%COMP%]{padding-top:0}.user-profile-account[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:48px!important}.user-profile-account[_ngcontent-%COMP%]   .account-role[_ngcontent-%COMP%]{margin-bottom:2px;font-size:.875rem;font-weight:500;letter-spacing:.01rem;line-height:1em;text-transform:capitalize}.user-profile-account[_ngcontent-%COMP%]   .account-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:400;letter-spacing:.025rem;line-height:1em}"],changeDetection:0})}return n})();var KMt=P(8030);function XMt(n,e){if(1&n&&g.eu8(0,7),2&n){g.XpG(2);const t=g.sdS(2);g.Y8G("ngTemplateOutlet",t)}}function YMt(n,e){if(1&n&&g.eu8(0,7),2&n){g.XpG(2);const t=g.sdS(4);g.Y8G("ngTemplateOutlet",t)}}function ZMt(n,e){if(1&n&&g.eu8(0,7),2&n){g.XpG(2);const t=g.sdS(6);g.Y8G("ngTemplateOutlet",t)}}function QMt(n,e){if(1&n){const t=g.RV6();g.j41(0,"mx-side-nav-item",9),g.bIt("onToggleGroup",function(r){g.eBV(t);const o=g.XpG(3);return g.Njj(o.toggleGroup(r))})("onClickRoute",function(r){g.eBV(t);const o=g.XpG(3);return g.Njj(o.clickRoute(r))}),g.k0s()}if(2&n){const t=e.$implicit,i=g.XpG(3);g.Y8G("data",t)("open",i.open)("isGroupItem","Group"===i.data.type)}}function qMt(n,e){if(1&n&&(g.j41(0,"mat-nav-list"),g.DNE(1,QMt,1,3,"mx-side-nav-item",8),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.Y8G("ngForOf",t.data.children)}}function JMt(n,e){if(1&n&&(g.qex(0),g.DNE(1,XMt,1,1,"ng-container",6)(2,YMt,1,1,"ng-container",6)(3,ZMt,1,1,"ng-container",6)(4,qMt,2,1,"mat-nav-list",5),g.bVm()),2&n){const t=g.XpG();g.R7$(),g.Y8G("ngIf","Category"===t.data.type),g.R7$(),g.Y8G("ngIf","Group"===t.data.type),g.R7$(),g.Y8G("ngIf","Route"===t.data.type),g.R7$(),g.Y8G("ngIf",t.showChildren)}}function tSt(n,e){if(1&n&&(g.j41(0,"span",12),g.EFF(1),g.k0s()),2&n){const t=g.XpG(2);g.R7$(),g.JRh(t.data.displayName)}}function eSt(n,e){1&n&&g.nrm(0,"mat-divider")}function nSt(n,e){if(1&n&&(g.j41(0,"div",10),g.DNE(1,tSt,2,1,"span",11)(2,eSt,1,0,"ng-template",null,3,g.C5r),g.k0s()),2&n){const t=g.sdS(3),i=g.XpG();g.R7$(),g.Y8G("ngIf",i.open)("ngIfElse",t)}}function iSt(n,e){if(1&n&&g.nrm(0,"mat-icon",17),2&n){const t=g.XpG(2);g.Y8G("svgIcon",t.data.iconName)}}function rSt(n,e){if(1&n){const t=g.RV6();g.j41(0,"mat-list-item",13),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.data.disabled||r.toggleGroup())}),g.j41(1,"div",14),g.nrm(2,"mat-icon",15),g.DNE(3,iSt,1,1,"mat-icon",16),g.j41(4,"div",12),g.EFF(5),g.k0s()()()}if(2&n){const t=g.XpG();g.AVh("is-active",t.isActive)("is-side-nav-close",!t.open),g.Y8G("disabled",t.data.disabled),g.R7$(2),g.Y8G("svgIcon",t.data.expand?"icon:keyboard_arrow_down":"icon:navigate_next"),g.R7$(),g.Y8G("ngIf",t.data.iconName),g.R7$(2),g.JRh(t.data.displayName)}}function oSt(n,e){if(1&n&&g.nrm(0,"mat-icon",17),2&n){const t=g.XpG(2);g.Y8G("svgIcon",t.data.iconName)}}function sSt(n,e){1&n&&g.nrm(0,"span")}function aSt(n,e){if(1&n){const t=g.RV6();g.j41(0,"mat-list-item",18),g.bIt("click",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.data.disabled||r.clickRoute())}),g.j41(1,"div",14),g.nrm(2,"span"),g.DNE(3,oSt,1,1,"mat-icon",19)(4,sSt,1,0,"ng-template",null,4,g.C5r),g.j41(6,"div",12),g.EFF(7),g.k0s()()()}if(2&n){const t=g.sdS(5),i=g.XpG();g.AVh("is-active",i.isActive)("is-group-item",i.isGroupItem)("is-side-nav-close",!i.open),g.Y8G("disabled",i.data.disabled),g.R7$(3),g.Y8G("ngIf",i.data.iconName)("ngIfElse",t),g.R7$(4),g.JRh(i.data.displayName)}}let lSt=(()=>{class n{constructor(){this.open=!1,this.isGroupItem=!1,this.onToggleGroup=new g.bkB,this.onClickRoute=new g.bkB}get isActive(){return this.data.isActive||this.isChildActive()}get showChildren(){return!!this.data.children&&!!this.data.children.length&&(this.data.expand??!0)&&!this.data.hide}isChildActive(){return!(!this.data.children||0==this.data.children.length||!this.data.children.find(t=>t.isActive))}toggleGroup(t=this.data){this.onToggleGroup.emit(t)}clickRoute(t=this.data){this.onClickRoute.emit(t)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-side-nav-item"]],inputs:{data:"data",open:[2,"open","open",g.L39],isGroupItem:[2,"isGroupItem","isGroupItem",g.L39]},outputs:{onToggleGroup:"onToggleGroup",onClickRoute:"onClickRoute"},standalone:!0,features:[g.Jv_([(0,g.Rfq)(()=>n)]),g.GFd,g.aNF],decls:7,vars:1,consts:[["category",""],["group",""],["route",""],["divider",""],["iconSpace",""],[4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"data","open","isGroupItem","onToggleGroup","onClickRoute",4,"ngFor","ngForOf"],[3,"onToggleGroup","onClickRoute","data","open","isGroupItem"],["category","",1,"mx-side-nav-node"],["class","node-name",4,"ngIf","ngIfElse"],[1,"node-name"],["group","",1,"mx-side-nav-node",3,"click","disabled"],[1,"mx-side-nav-node__item"],[1,"node-expand-icon",3,"svgIcon"],["class","node-icon","mat-list-icon","",3,"svgIcon",4,"ngIf"],["mat-list-icon","",1,"node-icon",3,"svgIcon"],["route","",1,"mx-side-nav-node",3,"click","disabled"],["class","node-icon","mat-list-icon","",3,"svgIcon",4,"ngIf","ngIfElse"]],template:function(i,r){1&i&&g.DNE(0,JMt,5,4,"ng-container",5)(1,nSt,4,2,"ng-template",null,0,g.C5r)(3,rSt,6,8,"ng-template",null,1,g.C5r)(5,aSt,8,10,"ng-template",null,2,g.C5r),2&i&&g.Y8G("ngIf",r.data)},dependencies:[n,Oi.MD,Oi.Sq,Oi.bT,Oi.T3,$z,Vnt,kMt,Uz,ea.m_,ea.An,Ai.Hl,Gz],styles:['.gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%], .mx-side-nav-node__item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%], .mx-side-nav-node[route].is-group-item.is-active[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%], .mx-side-nav-node[category][_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], .mx-side-nav-node[route].is-group-item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}.rounded-x-sm[_ngcontent-%COMP%], .mx-side-nav-node[_ngcontent-%COMP%]{border-radius:4px}.rounded-sm[_ngcontent-%COMP%]{border-radius:8px}.rounded-md[_ngcontent-%COMP%]{border-radius:12px}.rounded-lg[_ngcontent-%COMP%]{border-radius:16px}.rounded-x-lg[_ngcontent-%COMP%]{border-radius:28px}.rounded-full[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]{display:block}.mdc-list[_ngcontent-%COMP%], .mdc-list-item[_ngcontent-%COMP%]{padding:0}.mx-side-nav-node[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;height:40px!important}.mx-side-nav-node__item[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;grid-template-columns:24px 20px 1fr;align-items:center}.mx-side-nav-node__item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:20px;width:20px;padding:0;border-radius:0;font-size:20px;margin-right:8px}.mx-side-nav-node__item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{margin-left:8px;overflow:hidden;white-space:nowrap}.mx-side-nav-node[category][_ngcontent-%COMP%]{height:32px!important;display:flex;align-items:center;padding:0 0 0 4px}.mx-side-nav-node[category][_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{white-space:nowrap}.mx-side-nav-node[category][_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{width:100%}.mx-side-nav-node[group][_ngcontent-%COMP%]   .node-expand-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin:0 2px 0 6px}.mx-side-nav-node[route].is-active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;width:4px;opacity:1}.mx-side-nav-node[route].is-group-item.is-side-nav-close[_ngcontent-%COMP%]:after{content:"";display:inline-block;position:absolute;z-index:3;right:13px;width:1px;height:100%}.mx-side-nav-node[route].is-group-item[_ngcontent-%COMP%]   .node-name[_ngcontent-%COMP%]{margin-left:20px}']})}return n})();const cSt=[[["","mx-side-nav-header",""]]],uSt=["[mx-side-nav-header]"];function dSt(n,e){if(1&n){const t=g.RV6();g.j41(0,"mx-side-nav-item",6),g.bIt("onToggleGroup",function(r){g.eBV(t);const o=g.XpG(2);return g.Njj(o.toggleGroup(r))})("onClickRoute",function(r){g.eBV(t);const o=g.XpG(2);return g.Njj(o.clickRoute(r))}),g.k0s()}if(2&n){const t=e.$implicit,i=g.XpG(2);g.AVh("is-category","Category"===t.type),g.Y8G("data",t)("open",i.isOpen())}}function hSt(n,e){if(1&n&&(g.j41(0,"mat-nav-list"),g.DNE(1,dSt,1,4,"mx-side-nav-item",5),g.k0s()),2&n){const t=g.XpG();g.R7$(),g.Y8G("ngForOf",t.fixedData())}}function fSt(n,e){1&n&&g.nrm(0,"mat-divider")}function pSt(n,e){if(1&n){const t=g.RV6();g.j41(0,"mx-side-nav-item",6),g.bIt("onToggleGroup",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.toggleGroup(r))})("onClickRoute",function(r){g.eBV(t);const o=g.XpG();return g.Njj(o.clickRoute(r))}),g.k0s()}if(2&n){const t=e.$implicit,i=g.XpG();g.AVh("is-category","Category"===t.type),g.Y8G("data",t)("open",i.isOpen())}}let mSt=(()=>{class n{constructor(){this.containerHeight="100vh",this.onToggleGroup=new g.bkB,this.onClickRoute=new g.bkB,this.isOpen=(0,g.vPA)(!0),this.dataItems=(0,g.vPA)([]),this.expandItems=(0,g.vPA)({}),this.randomIdItems=(0,g.EWP)(()=>this.generateIDs(this.dataItems())),this.viewData=(0,g.EWP)(()=>this.updateItems(this.randomIdItems())),this.fixedData=(0,g.EWP)(()=>this.getFixedItems(this.viewData())),this.normalData=(0,g.EWP)(()=>this.getNormalItems(this.viewData())),this.isOpenWithAudit=(0,eu.ot)((0,eu.br)(this.isOpen).pipe((0,KMt.Z)(30)))}set data(t){this.dataItems.set(t)}set open(t){this.isOpen.set(t)}generateIDs(t,i=""){return t.map(r=>{const o=r.id??Math.random().toString(36).substring(2);return{...r,id:o,parentId:r.parentId??i,children:r.children&&this.generateIDs(r.children,o)}})}getFixedItems(t){const i=[],r=o=>{o.map(s=>{s.isFixed&&i.push({...s,isFixed:!1}),s.children&&r(s.children)})};return r(t),i}getNormalItems(t){const i=r=>r.filter(s=>!s.isFixed).map(s=>({...s,children:s.children&&i(s.children)}));return i(t)}updateItems(t){const i=this.expandItems();return t.map(r=>({...r,isActive:r.isActive,expand:i[r.id]?i[r.id].expand:r.expand,children:r.children&&this.updateItems(r.children)}))}toggleGroup(t){this.expandItems.update(i=>{const r=structuredClone(i);return r[t.id]={...t,expand:!t.expand},r}),this.onToggleGroup.emit(t)}clickRoute(t){this.onClickRoute.emit(t)}animationEnd(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-side-nav"]],inputs:{data:"data",open:[2,"open","open",g.L39],containerHeight:"containerHeight"},outputs:{onToggleGroup:"onToggleGroup",onClickRoute:"onClickRoute"},standalone:!0,features:[g.Jv_([(0,g.Rfq)(()=>n)]),g.GFd,g.aNF],ngContentSelectors:uSt,decls:9,vars:8,consts:[["header",""],[1,"mx-side-nav-wrapper"],[1,"mx-side-nav-header"],[4,"ngIf"],[1,"mx-side-nav-scrollable-container"],[3,"data","open","is-category","onToggleGroup","onClickRoute",4,"ngFor","ngForOf"],[3,"onToggleGroup","onClickRoute","data","open"]],template:function(i,r){if(1&i){const o=g.RV6();g.NAR(cSt),g.j41(0,"div",1),g.bIt("@openClose.done",function(){return g.eBV(o),g.Njj(r.animationEnd())}),g.j41(1,"div",2,0),g.SdG(3),g.DNE(4,hSt,2,1,"mat-nav-list",3),g.k0s(),g.DNE(5,fSt,1,0,"mat-divider",3),g.j41(6,"div",4)(7,"mat-nav-list"),g.DNE(8,pSt,1,4,"mx-side-nav-item",5),g.k0s()()()}if(2&i){const o=g.sdS(2);g.xc7("height",r.containerHeight),g.AVh("is-side-nav-close",!r.isOpen()),g.Y8G("@openClose",r.isOpen()?"open":"close"),g.R7$(4),g.Y8G("ngIf",r.fixedData().length>0),g.R7$(),g.Y8G("ngIf",o.children.length),g.R7$(3),g.Y8G("ngForOf",r.normalData())}},dependencies:[Oi.MD,Oi.Sq,Oi.bT,lSt,wE,$z,Vnt,Uz,ea.m_,Gz],styles:[".mx-side-nav-wrapper[_ngcontent-%COMP%]{padding:8px;box-sizing:border-box;overflow:hidden;display:flex;flex-direction:column;max-height:100vh}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mx-side-nav-scrollable-container[_ngcontent-%COMP%]{display:block;overflow:auto;flex:1}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mx-side-nav-scrollable-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin:8px 0}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .mdc-list[_ngcontent-%COMP%]{padding:0}.mx-side-nav-wrapper[_ngcontent-%COMP%]   .is-category[_ngcontent-%COMP%] + .is-category[_ngcontent-%COMP%]{margin-top:8px}"],data:{animation:[(0,et.hZ)("openClose",[(0,et.wk)("open",(0,et.iF)({width:"260px"})),(0,et.wk)("close",(0,et.iF)({width:"64px"})),(0,et.kY)("open => close",[(0,et.i0)("0.3s cubic-bezier(0.63, 0.06, 0.33, 0.93)")]),(0,et.kY)("close => open",[(0,et.i0)("0.3s cubic-bezier(0.63, 0.06, 0.33, 0.93)")])])]}})}return n})(),Unt=(()=>{class n extends Cr.Sf{constructor(){super((0,g.WQX)(Oi.qQ),(0,g.WQX)(Io.OD))}setContainerElement(t){this._containerElement=t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})(),Gnt=(()=>{class n extends Cr.hJ{#t;#e;constructor(){const t=(0,g.WQX)(Cr.Tv),i=(0,g.WQX)(Unt),r=(0,g.WQX)(g.OM3),o=(0,g.WQX)(Cr.lF),s=(0,g.WQX)(Cr.Jr),a=(0,g.WQX)(g.zZn),l=(0,g.WQX)(g.SKi),u=(0,g.WQX)(Oi.qQ),h=(0,g.WQX)(fu.dS),p=(0,g.WQX)(Oi.aZ),v=(0,g.WQX)(Cr.hr),y=(0,g.WQX)(g._9s);super(t,i,r,o,s,a,l,u,h,p,v),this.#e=y.createRenderer(null,null),this.#t=i}setContainerElement(t){this.#t.setContainerElement(t)}setTransform(t,i){i?this.#e.setStyle(t,"transform","translateZ(0)"):this.#e.removeStyle(t,"transform")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();var Zi=function(n){return n[n.EntitiesOnly=0]="EntitiesOnly",n[n.Both=1]="Both",n[n.None=2]="None",n}(Zi||{});function is(n){return function(t,i){const r={ids:[...i.ids],entities:{...i.entities}},o=n(t,r);return o===Zi.Both?Object.assign({},i,r):o===Zi.EntitiesOnly?{...i,entities:r.entities}:i}}function Mp(n,e){const t=e(n);return(0,g.naY)()&&void 0===t&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",e.toString()),t}function Hnt(n){function e(w,S){const C=Mp(w,n);return C in S.entities?Zi.None:(S.ids.push(C),S.entities[C]=w,Zi.Both)}function t(w,S){let C=!1;for(const D of w)C=e(D,S)!==Zi.None||C;return C?Zi.Both:Zi.None}function r(w,S){const C=Mp(w,n);return C in S.entities?(S.entities[C]=w,Zi.EntitiesOnly):(S.ids.push(C),S.entities[C]=w,Zi.Both)}function a(w,S){const D=(w instanceof Array?w:S.ids.filter(k=>w(S.entities[k]))).filter(k=>k in S.entities).map(k=>delete S.entities[k]).length>0;return D&&(S.ids=S.ids.filter(k=>k in S.entities)),D?Zi.Both:Zi.None}function h(w,S){return p([w],S)}function p(w,S){const C={};return(w=w.filter(k=>k.id in S.entities)).length>0?w.filter(T=>function u(w,S,C){const k=Object.assign({},C.entities[S.id],S.changes),T=Mp(k,n),I=T!==S.id;return I&&(w[S.id]=T,delete C.entities[S.id]),C.entities[T]=k,I}(C,T,S)).length>0?(S.ids=S.ids.map(T=>C[T]||T),Zi.Both):Zi.EntitiesOnly:Zi.None}function E(w,S){const C=[],D=[];for(const I of w){const F=Mp(I,n);F in S.entities?D.push({id:F,changes:I}):C.push(I)}const k=p(D,S),T=t(C,S);switch(!0){case T===Zi.None&&k===Zi.None:return Zi.None;case T===Zi.Both||k===Zi.Both:return Zi.Both;default:return Zi.EntitiesOnly}}return{removeAll:function l(w){return Object.assign({},w,{ids:[],entities:{}})},addOne:is(e),addMany:is(t),setAll:is(function i(w,S){return S.ids=[],S.entities={},t(w,S),Zi.Both}),setOne:is(r),setMany:is(function o(w,S){const C=w.map(D=>r(D,S));switch(!0){case C.some(D=>D===Zi.Both):return Zi.Both;case C.some(D=>D===Zi.EntitiesOnly):return Zi.EntitiesOnly;default:return Zi.None}}),updateOne:is(h),updateMany:is(p),upsertOne:is(function b(w,S){return E([w],S)}),upsertMany:is(E),removeOne:is(function s(w,S){return a([w],S)}),removeMany:is(a),map:is(function v(w,S){return p(S.ids.reduce((k,T)=>{const I=w(S.entities[T]);return I!==S.entities[T]&&k.push({id:T,changes:I}),k},[]).filter(({id:k})=>k in S.entities),S)}),mapOne:is(function y({map:w,id:S},C){const D=C.entities[S];return D?h({id:S,changes:w(D)},C):Zi.None})}}function bSt(n,e){const{removeOne:t,removeMany:i,removeAll:r}=Hnt(n);function o(C,D){return s([C],D)}function s(C,D){const k=C.filter(T=>!(Mp(T,n)in D.entities));return 0===k.length?Zi.None:(S(k,D),Zi.Both)}function l(C,D){const k=Mp(C,n);return k in D.entities?(D.ids=D.ids.filter(T=>T!==k),S([C],D),Zi.Both):o(C,D)}function h(C,D){return v([C],D)}function v(C,D){const k=[],T=C.filter(I=>function p(C,D,k){if(!(D.id in k.entities))return!1;const I=Object.assign({},k.entities[D.id],D.changes),F=Mp(I,n);return delete k.entities[D.id],C.push(I),F!==D.id}(k,I,D)).length>0;if(0===k.length)return Zi.None;{const I=D.ids,F=[];return D.ids=D.ids.filter((z,V)=>z in D.entities||(F.push(V),!1)),S(k,D),!T&&F.every(z=>D.ids[z]===I[z])?Zi.EntitiesOnly:Zi.Both}}function w(C,D){const k=[],T=[];for(const z of C){const V=Mp(z,n);V in D.entities?T.push({id:V,changes:z}):k.push(z)}const I=v(T,D),F=s(k,D);switch(!0){case F===Zi.None&&I===Zi.None:return Zi.None;case F===Zi.Both||I===Zi.Both:return Zi.Both;default:return Zi.EntitiesOnly}}function S(C,D){C.sort(e);const k=[];let T=0,I=0;for(;T<C.length&&I<D.ids.length;){const F=C[T],z=Mp(F,n),V=D.ids[I];e(F,D.entities[V])<=0?(k.push(z),T++):(k.push(V),I++)}D.ids=k.concat(T<C.length?C.slice(T).map(n):D.ids.slice(I)),C.forEach((F,z)=>{D.entities[n(F)]=F})}return{removeOne:t,removeMany:i,removeAll:r,addOne:is(o),updateOne:is(h),upsertOne:is(function E(C,D){return w([C],D)}),setAll:is(function a(C,D){return D.entities={},D.ids=[],s(C,D),Zi.Both}),setOne:is(l),setMany:is(function u(C,D){const k=C.map(T=>l(T,D));switch(!0){case k.some(T=>T===Zi.Both):return Zi.Both;case k.some(T=>T===Zi.EntitiesOnly):return Zi.EntitiesOnly;default:return Zi.None}}),addMany:is(s),updateMany:is(v),upsertMany:is(w),map:is(function y(C,D){return v(D.ids.reduce((T,I)=>{const F=C(D.entities[I]);return F!==D.entities[I]&&T.push({id:I,changes:F}),T},[]),D)}),mapOne:is(function b({map:C,id:D},k){const T=k.entities[D];return T?h({id:D,changes:C(T)},k):Zi.None})}}const Kz=(0,Ki.VP)("[Tp Menu Container] Create",(0,Ki.xk)()),$nt=(0,Ki.VP)("[Tp Menu Container] Remove Menu Item",(0,Ki.xk)()),Wnt=(0,Ki.VP)("[Tp Menu Container] Add Menu Item",(0,Ki.xk)()),Knt=(0,Ki.VP)("[Tp Menu Container] Toggle Menu Group",(0,Ki.xk)()),Xz=(0,Ki.VP)("[Tp Menu Container] Collapse Inactived Menu Group",(0,Ki.xk)()),Yz=(0,Ki.VP)("[Tp Menu Container] Set Menu Item or Group active",(0,Ki.xk)()),Zz=(0,Ki.VP)("[Tp Menu Container] Clear all Menu Item active state",(0,Ki.xk)()),Xnt=(0,Ki.VP)("[Tp Menu Container] Toggle hide status for menu item",(0,Ki.xk)()),Bg=((0,Ki.KC)({createAllMenuItem:Kz,removeMenuItem:$nt,addMenuItem:Wnt,toggleMenuGroup:Knt,toggleMenuItems:Xnt,collapaseInactivedMenuGroup:Xz,setActiveMenuItem:Yz,clearActiveMenuItem:Zz}),function _St(n={}){const{selectId:e,sortComparer:t}={selectId:n.selectId??(s=>s.id),sortComparer:n.sortComparer??!1},i=function vSt(){return{getInitialState:function n(e={}){return Object.assign({ids:[],entities:{}},e)}}}(),r=function ySt(){return{getSelectors:function n(e){const t=s=>s.ids,i=s=>s.entities,r=(0,Ki.Mz)(t,i,(s,a)=>s.map(l=>a[l])),o=(0,Ki.Mz)(t,s=>s.length);return e?{selectIds:(0,Ki.Mz)(e,t),selectEntities:(0,Ki.Mz)(e,i),selectAll:(0,Ki.Mz)(e,r),selectTotal:(0,Ki.Mz)(e,o)}:{selectIds:t,selectEntities:i,selectAll:r,selectTotal:o}}}}();return{selectId:e,sortComparer:t,...i,...r,...t?bSt(e,t):Hnt(e)}}({selectId:n=>n.id??"",sortComparer:!1})),ESt=Bg.getInitialState({loading:!1}),wSt=(0,Ki.vy)(ESt,(0,Ki.on)(Kz,(n,e)=>Bg.setAll(e.payload,n)),(0,Ki.on)($nt,(n,e)=>Bg.removeMany(e.payload,n)),(0,Ki.on)(Wnt,(n,e)=>Bg.addMany(e.payload,n)),(0,Ki.on)(Knt,(n,e)=>Bg.updateOne(e.payload,n)),(0,Ki.on)(Xnt,(n,e)=>Bg.updateMany(e.payload,n)),(0,Ki.on)(Yz,Zz,Xz,(n,e)=>Bg.updateMany(e.payload,n)));function xSt(n,e){return wSt(n,e)}const CSt=(0,Ki.UX)("menu"),{selectAll:MSt}=Bg.getSelectors(CSt);let Ynt=(()=>{class n extends Cr.Sf{constructor(t,i){super(t,i)}setContainerElement(t){this._containerElement=t}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Oi.qQ),g.KVO(Io.OD))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})(),SSt=(()=>{class n extends Cr.hJ{constructor(t,i,r,o,s,a,l,u,h,p,v,y){super(t,i,r,o,s,a,l,u,h,p,v),this.renderer=y.createRenderer(null,null),this._dynamicOverlayContainer=i}setContainerElement(t){this._dynamicOverlayContainer.setContainerElement(t)}setTransform(t,i){i?this.renderer.setStyle(t,"transform","translateZ(0)"):this.renderer.removeStyle(t,"transform")}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(Cr.Tv),g.KVO(Ynt),g.KVO(g.OM3),g.KVO(Cr.lF),g.KVO(Cr.Jr),g.KVO(g.zZn),g.KVO(g.SKi),g.KVO(Oi.qQ),g.KVO(fu.dS),g.KVO(Oi.aZ),g.KVO(Cr.hr),g.KVO(g._9s))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})(),DSt=(()=>{class n{constructor(){this.spinnerSize="default",this.spinnerColor="primary"}get isSizeDefault(){return"default"===this.spinnerSize}get isSizeSmall(){return"sm"===this.spinnerSize}get isColorPrimary(){return"primary"===this.spinnerColor}get isColorOnSurface(){return"onSurface"===this.spinnerColor}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=g.VBU({type:n,selectors:[["mx-progress-spinner"]],hostVars:8,hostBindings:function(i,r){2&i&&g.AVh("mx-progress-spinner--default",r.isSizeDefault)("mx-progress-spinner--sm",r.isSizeSmall)("mx-progress-spinner--primary",r.isColorPrimary)("mx-progress-spinner--on-surface",r.isColorOnSurface)},inputs:{spinnerSize:"spinnerSize",spinnerColor:"spinnerColor"},standalone:!0,features:[g.Jv_([SSt,Ynt]),g.aNF],decls:1,vars:0,consts:[[1,"mx-progress-spinner__circle"]],template:function(i,r){1&i&&g.nrm(0,"div",0)},styles:[".progress-spinner[_ngcontent-%COMP%], .mx-progress-spinner__circle[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spinnerAnimation .85s ease-in-out infinite;border-style:solid;border-radius:50%;box-sizing:border-box}.progress-spinner--default[_ngcontent-%COMP%], .mx-progress-spinner--default[_nghost-%COMP%]   .mx-progress-spinner__circle[_ngcontent-%COMP%]{border-width:4px;width:36px;height:36px}.progress-spinner--sm[_ngcontent-%COMP%], .mx-progress-spinner--sm[_nghost-%COMP%]   .mx-progress-spinner__circle[_ngcontent-%COMP%]{border-width:2px;width:14px;height:14px}@keyframes _ngcontent-%COMP%_spinnerAnimation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}[_nghost-%COMP%]{display:block}.mx-progress-spinner--default[_nghost-%COMP%]{padding:6px}.mx-progress-spinner--sm[_nghost-%COMP%]{padding:2px}"],changeDetection:0})}return n})();const OSt=["progressSpinnerRef"],TSt=["containerRef"],ASt=["contentRef"],kSt=[[["","progress-spinner-content",""]]],ISt=["[progress-spinner-content]"];function RSt(n,e){1&n&&g.nrm(0,"mx-progress-spinner")}let PSt=(()=>{class n{isLoading=!1;#t=(0,g.WQX)(g.c1b);#e=(0,g.WQX)(Gnt);#n;#i;progressSpinnerRef;containerRef;contentRef;ngOnInit(){this.#e.setContainerElement(this.containerRef.nativeElement);const t=this.#e.position().global().centerHorizontally().centerVertically(),i=new Cr.rR({hasBackdrop:!0,backdropClass:"cdk-overlay-transparent-backdrop",positionStrategy:t,scrollStrategy:this.#e.scrollStrategies.block()});this.#n=this.#e.create(i),this.#i=new vs.VA(this.progressSpinnerRef,this.#t),this.isLoading&&(this.#n.attach(this.#i),this.#e.setTransform(this.containerRef.nativeElement,!0),this.setContentTransparency(!0))}ngOnChanges(t){t.isLoading&&!t.isLoading.isFirstChange()&&(this.isLoading?(this.#n.attach(this.#i),this.#e.setTransform(this.containerRef.nativeElement,!0),this.setContentTransparency(!0)):(this.#n.detach(),this.#e.setTransform(this.containerRef.nativeElement,!1),this.setContentTransparency(!1)))}setContentTransparency(t){t?this.contentRef.nativeElement.setAttribute("class","gl-transparency"):this.contentRef.nativeElement.removeAttribute("class","gl-transparency")}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-page-spinner"]],viewQuery:function(i,r){if(1&i&&(g.GBs(OSt,7),g.GBs(TSt,7),g.GBs(ASt,7)),2&i){let o;g.mGM(o=g.lsd())&&(r.progressSpinnerRef=o.first),g.mGM(o=g.lsd())&&(r.containerRef=o.first),g.mGM(o=g.lsd())&&(r.contentRef=o.first)}},inputs:{isLoading:"isLoading"},standalone:!0,features:[g.Jv_([Unt,Gnt]),g.OA$,g.aNF],ngContentSelectors:ISt,decls:7,vars:4,consts:[["progressSpinnerRef",""],["containerRef",""],["contentRef",""]],template:function(i,r){1&i&&(g.NAR(kSt),g.DNE(0,RSt,1,0,"ng-template",null,0,g.C5r),g.j41(2,"div",null,1)(4,"div",null,2),g.SdG(6),g.k0s()()),2&i&&(g.R7$(2),g.xc7("height","100%"),g.R7$(2),g.xc7("height","100%"))},dependencies:[DSt],encapsulation:2,changeDetection:0})}return n})();const NSt=["*"];let LSt=(()=>{class n{set fixedMenu(t){this.isFixed.set(t),this.openMenu.set(t)}get fixedMenu(){return this.openMenu()}set enableHoverMenu(t){this.enableHover.set(t)}get enableHoverMenu(){return this.enableHover()}isPageLoading=!1;#t=(0,g.WQX)(Ki.il);#e=(0,g.WQX)(qs.Ix);openMenu=(0,g.vPA)(!1);isFixed=(0,g.vPA)(!1);enableHover=(0,g.vPA)(!0);activatedMenuItem=(0,g.vPA)(null);flatMenuItems=(0,eu.ot)(this.#t.select(MSt),{requireSync:!0});nestedMenuItems=(0,g.EWP)(()=>this.flatMenuItems()?.length?this.#r(this.flatMenuItems()):[]);routerChanged$=this.#e.events.pipe((0,H.p)(t=>t instanceof qs.wF),(0,H.p)(()=>!!this.flatMenuItems()?.length),(0,ta.M)(t=>{this.#i(t?.url)}),(0,eu.pQ)());#n=(0,g.QZP)(()=>{(0,g.O8t)(()=>{this.#i(this.#e.url)})},{allowSignalWrites:!0});constructor(){this.routerChanged$.subscribe()}changeRoute(t){t&&this.#e.navigate([t])}hoverSideNav(t){this.isFixed()||this.enableHover()&&this.openMenu.set(t)}#i(t){this.flatMenuItems().filter(i=>i.route&&t.includes(i.route)).forEach(i=>{this.#s(),this.#a(i),this.#o(i)})}#r(t){const i=JSON.parse(JSON.stringify(t)),r=i.reduce((a,l)=>(a[l.id]=!1,a),{}),o=[],s=a=>{const l=new Map;let u=!1;a.forEach(p=>{const v=i.find(y=>y.id===p.parentId);if(v){const y=l.get(v);l.set(v,y?.length?[...y,p]:[p])}else if(l.has(p)){const y=l.get(p)||[];l.set(p,[...y,...p.children])}else l.set(p,p.children);v&&(u=!0),r[p.id]=!0});const h=[...l].map(([p,v])=>(p.children=v,p));return u?s(h):h};for(const a of["Route","Group","Category"]){const l=i.filter(h=>h.type===a&&!r[h.id]),u=s(l);o.push(...u)}return o}#o(t){const i=this.flatMenuItems().filter(r=>r.expand&&!r.isActive&&(!t||r.id!==t.parentId)).map(r=>({id:r.id||"",changes:{expand:!1}}));i&&this.#t.dispatch(Xz({payload:i}))}#s(){const t=this.flatMenuItems().filter(i=>i.isActive).map(i=>({id:i.id||"",changes:{isActive:!1}}));this.#t.dispatch(Zz({payload:t}))}#a(t){const i=this.flatMenuItems().filter(o=>o.id===t.id).map(o=>({id:o.id||"",changes:{isActive:!0}})),r=this.flatMenuItems().filter(o=>o.id===t.parentId&&"Group"===o.type).map(o=>({id:o.id||"",changes:{isActive:!0,expand:!0}}));this.#t.dispatch(Yz({payload:i.concat(r)}))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-layout-container"]],inputs:{fixedMenu:[2,"fixedMenu","fixedMenu",g.L39],enableHoverMenu:[2,"enableHoverMenu","enableHoverMenu",g.L39],isPageLoading:[2,"isPageLoading","isPageLoading",g.L39]},standalone:!0,features:[g.GFd,g.aNF],ngContentSelectors:NSt,decls:6,vars:3,consts:[[1,"sidenav-container"],["containerHeight","calc(100vh - 64px)",1,"menu",3,"onClickRoute","mouseenter","mouseleave","data","open"],[1,"sidenav-content"],[3,"isLoading"],["progress-spinner-content","",1,"gl-page-content-wrapper"]],template:function(i,r){1&i&&(g.NAR(),g.j41(0,"div",0)(1,"mx-side-nav",1),g.bIt("onClickRoute",function(s){return r.changeRoute(s.route)})("mouseenter",function(){return r.hoverSideNav(!0)})("mouseleave",function(){return r.hoverSideNav(!1)}),g.k0s(),g.j41(2,"div",2)(3,"one-ui-page-spinner",3)(4,"div",4),g.SdG(5),g.k0s()()()()),2&i&&(g.R7$(),g.Y8G("data",r.nestedMenuItems())("open",r.openMenu()),g.R7$(2),g.Y8G("isLoading",r.isPageLoading))},dependencies:[PSt,mSt],styles:["[_nghost-%COMP%]{display:block;height:100vh}.sidenav-container[_ngcontent-%COMP%]{display:flex}.sidenav-container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{width:100%;overflow:auto}.gl-page-content-wrapper[_ngcontent-%COMP%]{padding-top:0}"],changeDetection:0})}return n})();var Qz=P(8752),Znt=P(1534),Qnt=P(4080);const FSt=n=>({isPageLoading:n});function BSt(n,e){if(1&n){const t=g.RV6();g.qex(0),g.j41(1,"mx-top-nav",1),g.bIt("onClickMenu",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.onToggle())}),g.nrm(2,"mx-top-nav-model-name",2),g.j41(3,"one-ui-user-profile-menu",3),g.bIt("changePassword",function(){g.eBV(t);const r=g.XpG();return g.Njj(r.openChangePasswordDialog())}),g.k0s()(),g.j41(4,"one-ui-layout-container",4),g.nrm(5,"router-outlet"),g.k0s(),g.bVm()}if(2&n){const t=e.ngrxLet,i=g.XpG();g.R7$(2),g.Y8G("modelName","Topology Web Demo"),g.R7$(2),g.Y8G("fixedMenu",i.isToggle)("isPageLoading",t.isPageLoading)}}const jSt=[{path:"",component:(()=>{class n{#t=(0,g.WQX)(Ki.il);#e=(0,g.WQX)(qs.Ix);#n=(0,g.WQX)(lt.bZ);#i=(0,g.WQX)(Z.uR);#r=(0,g.WQX)(ACt.U);#o=(0,g.WQX)(pr.JO);isToggle=!0;isDarkTheme=!1;isPageLoading$=this.#t.pipe((0,Ki.Lt)(Qz.pr)).pipe((0,eu.pQ)());passwordDialogRef=null;sessionDialogRef=null;constructor(){this.#e.events.pipe((0,eu.pQ)()).subscribe(t=>{t instanceof qs.Z?this.#t.dispatch(Qz.pe.pageLoading({isPageLoading:!0})):(t instanceof qs.wF||t instanceof qs.L6||t instanceof qs.j5||t instanceof qs.gx)&&this.#t.dispatch(Qz.pe.pageLoadingCompletion({isPageLoading:!1}))})}onToggle(){this.isToggle=!this.isToggle}openChangePasswordDialog(){this.passwordDialogRef=this.#n.open(sMt,{panelClass:"mx-dialog-sm",autoFocus:!0,disableClose:!0,data:{noCurrentPassword:!1,passwordUpperLimit:20}}),this.passwordDialogRef.componentInstance.changePassword.subscribe(this.sendUserPasswordUpdateRequest)}sendUserPasswordUpdateRequest=t=>{this.#i.changePassword(t).pipe((0,Znt.W)(()=>(this.passwordDialogRef&&(this.passwordDialogRef.componentInstance.isLoading=!1,this.passwordDialogRef.componentInstance.changeFailMessage=this.#o.translateObject("app.user-profile-menu.password-update-fail"),this.passwordDialogRef.componentInstance.cd.markForCheck()),Qnt.w))).subscribe(()=>{this.#r.open(this.#o.translateObject("app.user-profile-menu.password-update-success")),this.passwordDialogRef&&this.passwordDialogRef.close()})};static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-shell"]],standalone:!0,features:[g.aNF],decls:1,vars:3,consts:[[4,"ngrxLet"],[3,"onClickMenu"],["left-content","",3,"modelName"],["right-content","",3,"changePassword"],[3,"fixedMenu","isPageLoading"]],template:function(i,r){1&i&&g.DNE(0,BSt,6,3,"ng-container",0),2&i&&g.Y8G("ngrxLet",g.eq3(1,FSt,r.isPageLoading$))},dependencies:[qs.n3,LCt,FCt,LSt,WMt,Ant.Nj],styles:[".page-loading[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}"],changeDetection:0})}return n})(),children:[{path:"topology1",component:Ont,data:{breadcrumb:ee(kr,"Topology 1"),preload:!0}},{path:"topology2",component:Ont,data:{breadcrumb:ee(kr,"Topology 2"),preload:!0}},{path:"",redirectTo:"topology1",pathMatch:"full"}]},{path:"login",loadChildren:()=>P.e(680).then(P.bind(P,9680)).then(n=>n.AUTH_PAGE_ROUTES),data:{preload:!0}},{path:"500",redirectTo:"/internal-server-error"},{path:"**",redirectTo:"404"}],rS={production:!0,hideFeatures:!0,baseHref:"/topology-web/",api:{basePath:"/api/v1",privateBasePath:"/api"},socket:{host:location.host}};let zSt=(()=>{class n{enableDebug=!1;debug(t){this.enableDebug=t}getDebugStatus(){return this.enableDebug}error(t,i){this.enableDebug&&this.log(`\u{1f525}  ${t}`,i)}info(t,i){this.enableDebug&&this.log(`\u2139\ufe0f  ${t}`,i)}success(t,i){this.enableDebug&&this.log(`\u2705  ${t}`,i)}warn(t,i){this.enableDebug&&this.log(`\u26a0\ufe0f  ${t}`,i)}log(...t){this.enableDebug&&console.log.apply(window,["\u{1f4e2}"].concat(t))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),USt=(()=>{class n{#t=(0,g.WQX)(ea.tp);#e=(0,g.WQX)(x.up);#n=(0,g.WQX)(zSt);#i=(0,g.WQX)(Ki.il);initialize(t){rS.production||this.#n.debug(!0),this.#s(),this.#i.dispatch(Z.j4.loadInitState()),this.#i.dispatch(Kz({payload:this.#r([])})),t()}#r(t){const i=ur,r=[];for(const o of i)o.permission?.length>0&&!t.some(s=>!!o.permission?.includes(s))||(r.push({...o,children:[]}),o.children&&this.#o(o.children,r,t));return r}#o(t,i,r){for(const o of t)o.permission?.length>0&&!r.some(s=>!!o.permission?.includes(s))||(i.push({...o,children:[]}),o.children&&this.#o(o.children,i,r))}#s(){this.#t.addSvgIconSetInNamespace("icon",this.#e.bypassSecurityTrustResourceUrl("assets/icons-sprite.svg?ts="+(new Date).getTime()))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GSt(n){return()=>new Promise(e=>{n.initialize(e)})}let WSt=(()=>{class n{#t=(0,g.WQX)(G.Qq);getTranslation(t){return this.#t.get(`./assets/i18n/${t}.json`)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=g.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();new g.nKC("MQTT_OVER_WEBSOCKET_CONFIG"),new g.nKC("SSE_CONFIG");const ZSt=new g.nKC("WEBSOCKET_CONFIG");var qSt=P(1867),JSt=P(391),tDt=P(7650),eDt=P(3622),nDt=P(5799),iDt=P(5098),rDt=P(1531),oDt=P(7272),sDt=P(1391),aDt=P(782);const lDt=(0,oDt.L)(n=>function(t=null){n(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function uDt(n){throw new lDt(n)}var dDt=P(2422),hDt=P(1240),fDt=P(6058),pDt=P(1546);const oS="PERFORM_ACTION",nit="TOGGLE_ACTION",rit="JUMP_TO_STATE",oit="JUMP_TO_ACTION",qz="IMPORT_STATE",sit="LOCK_CHANGES",ait="PAUSE_RECORDING";class MP{constructor(e,t){if(this.action=e,this.timestamp=t,this.type=oS,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class gDt{constructor(){this.type="REFRESH"}}class vDt{constructor(e){this.timestamp=e,this.type="RESET"}}class yDt{constructor(e){this.timestamp=e,this.type="ROLLBACK"}}class bDt{constructor(e){this.timestamp=e,this.type="COMMIT"}}class _Dt{constructor(){this.type="SWEEP"}}class EDt{constructor(e){this.id=e,this.type=nit}}class wDt{constructor(e){this.index=e,this.type=rit}}class xDt{constructor(e){this.actionId=e,this.type=oit}}class CDt{constructor(e){this.nextLiftedState=e,this.type=qz}}class MDt{constructor(e){this.status=e,this.type=sit}}class SDt{constructor(e){this.status=e,this.type=ait}}const SP=new g.nKC("@ngrx/store-devtools Options"),lit=new g.nKC("@ngrx/store-devtools Initial Config");function cit(){return null}const DDt="NgRx Store DevTools";function ODt(n){const e={maxAge:!1,monitor:cit,actionSanitizer:void 0,stateSanitizer:void 0,name:DDt,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},t="function"==typeof n?n():n,r=t.features||!!t.logOnly&&{pause:!0,export:!0,test:!0}||e.features;!0===r.import&&(r.import="custom");const o=Object.assign({},e,{features:r},t);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function uit(n,e){return n.filter(t=>e.indexOf(t)<0)}function dit(n){const{computedStates:e,currentStateIndex:t}=n;if(t>=e.length){const{state:r}=e[e.length-1];return r}const{state:i}=e[t];return i}function sS(n){return new MP(n,+Date.now())}function TDt(n,e){return Object.keys(e).reduce((t,i)=>{const r=Number(i);return t[r]=hit(n,e[r],r),t},{})}function hit(n,e,t){return{...e,action:n(e.action,t)}}function ADt(n,e){return e.map((t,i)=>({state:fit(n,t.state,i),error:t.error}))}function fit(n,e,t){return n(e,t)}function pit(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function Jz(n,e,t,i,r){const o=t&&!t(n,e.action),s=i&&!e.action.type.match(i.map(l=>mit(l)).join("|")),a=r&&e.action.type.match(r.map(l=>mit(l)).join("|"));return o||s||a}function mit(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function git(n){return{ngZone:n?(0,g.WQX)(g.SKi):null,connectInZone:n}}let DP=(()=>{class n extends Ki.SS{static#t=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=g.xGo(n)))(r||n)}})();static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();const tU=new g.nKC("@ngrx/store-devtools Redux Devtools Extension");let vit=(()=>{class n{constructor(t,i,r){this.config=i,this.dispatcher=r,this.zoneConfig=git(this.config.connectInZone),this.devtoolsExtension=t,this.createActionStreams()}notify(t,i){if(this.devtoolsExtension)if(t.type===oS){if(i.isLocked||i.isPaused)return;const r=dit(i);if(pit(this.config)&&Jz(r,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const o=this.config.stateSanitizer?fit(this.config.stateSanitizer,r,i.currentStateIndex):r,s=this.config.actionSanitizer?hit(this.config.actionSanitizer,t,i.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(s,o))}else{const r={...i,stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?TDt(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?ADt(this.config.stateSanitizer,i.computedStates):i.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ld.c(t=>{const i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(r=>t.next(r)),i.unsubscribe}):Qnt.w}createActionStreams(){const t=this.createChangesObservable().pipe((0,eDt.u)()),i=t.pipe((0,H.p)(u=>"START"===u.type)),r=t.pipe((0,H.p)(u=>"STOP"===u.type)),o=t.pipe((0,H.p)(u=>"DISPATCH"===u.type),(0,fa.T)(u=>this.unwrapAction(u.payload)),(0,nDt.H)(u=>u.type===qz?this.dispatcher.pipe((0,H.p)(h=>h.type===Ki.q6),function cDt(n,e){const{first:t,each:i,with:r=uDt,scheduler:o=e??Qa.E,meta:s=null}=(0,iDt.v)(n)?{first:n}:"number"==typeof n?{each:n}:n;if(null==t&&null==i)throw new TypeError("No timeout provided.");return(0,rDt.N)((a,l)=>{let u,h,p=null,v=0;const y=b=>{h=(0,aDt.N)(l,o,()=>{try{u.unsubscribe(),(0,yE.Tg)(r({meta:s,lastValue:p,seen:v})).subscribe(l)}catch(E){l.error(E)}},b)};u=a.subscribe((0,sDt._)(l,b=>{h?.unsubscribe(),v++,l.next(p=b),i>0&&y(i)},void 0,void 0,()=>{h?.closed||h?.unsubscribe(),p=null})),!v&&y(null!=t?"number"==typeof t?t:+t-o.now():i)})}(1e3),(0,knt.B)(1e3),(0,fa.T)(()=>u),(0,Znt.W)(()=>(0,lo.of)(u)),(0,tc.s)(1)):(0,lo.of)(u))),a=t.pipe((0,H.p)(u=>"ACTION"===u.type),(0,fa.T)(u=>this.unwrapAction(u.payload))).pipe((0,Qo.Q)(r)),l=o.pipe((0,Qo.Q)(r));this.start$=i.pipe((0,Qo.Q)(r)),this.actions$=this.start$.pipe((0,mt.n)(()=>a)),this.liftedActions$=this.start$.pipe((0,mt.n)(()=>l))}unwrapAction(t){return"string"==typeof t?(0,eval)(`(${t})`):t}getExtensionConfig(t){const i={name:t.name,features:t.features,serialize:t.serialize,autoPause:t.autoPause??!1,trace:t.trace??!1,traceLimit:t.traceLimit??75};return!1!==t.maxAge&&(i.maxAge=t.maxAge),i}sendToReduxDevtools(t){try{t()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(tU),g.KVO(SP),g.KVO(DP))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();const TP={type:Ki.Zz},IDt={type:"@ngrx/store-devtools/recompute"};function yit(n,e,t,i,r){if(i)return{state:t,error:"Interrupted by an error up the chain"};let s,o=t;try{o=n(t,e)}catch(a){s=a.toString(),r.handleError(a)}return{state:o,error:s}}function AP(n,e,t,i,r,o,s,a,l){if(e>=n.length&&n.length===o.length)return n;const u=n.slice(0,e),h=o.length-(l?1:0);for(let p=e;p<h;p++){const v=o[p],y=r[v].action,b=u[p-1],E=b?b.state:i,w=b?b.error:void 0,C=s.indexOf(v)>-1?b:yit(t,y,E,w,a);u.push(C)}return l&&u.push(n[n.length-1]),u}let bit=(()=>{class n{constructor(t,i,r,o,s,a,l,u){const h=function RDt(n,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:sS(TP)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}(l,u.monitor),p=function PDt(n,e,t,i,r={}){return o=>(s,a)=>{let{monitorState:l,actionsById:u,nextActionId:h,stagedActionIds:p,skippedActionIds:v,committedState:y,currentStateIndex:b,computedStates:E,isLocked:w,isPaused:S}=s||e;function C(T){let I=T,F=p.slice(1,I+1);for(let z=0;z<F.length;z++){if(E[z+1].error){I=z,F=p.slice(1,I+1);break}delete u[F[z]]}v=v.filter(z=>-1===F.indexOf(z)),p=[0,...p.slice(I+1)],y=E[I].state,E=E.slice(I),b=b>I?b-I:0}function D(){u={0:sS(TP)},h=1,p=[0],v=[],y=E[b].state,b=0,E=[]}s||(u=Object.create(u));let k=0;switch(a.type){case sit:w=a.status,k=1/0;break;case ait:S=a.status,S?(p=[...p,h],u[h]=new MP({type:"@ngrx/devtools/pause"},+Date.now()),h++,k=p.length-1,E=E.concat(E[E.length-1]),b===p.length-2&&b++,k=1/0):D();break;case"RESET":u={0:sS(TP)},h=1,p=[0],v=[],y=n,b=0,E=[];break;case"COMMIT":D();break;case"ROLLBACK":u={0:sS(TP)},h=1,p=[0],v=[],b=0,E=[];break;case nit:{const{id:T}=a;v=-1===v.indexOf(T)?[T,...v]:v.filter(F=>F!==T),k=p.indexOf(T);break}case"SET_ACTIONS_ACTIVE":{const{start:T,end:I,active:F}=a,z=[];for(let V=T;V<I;V++)z.push(V);v=F?uit(v,z):[...v,...z],k=p.indexOf(T);break}case rit:b=a.index,k=1/0;break;case oit:{const T=p.indexOf(a.actionId);-1!==T&&(b=T),k=1/0;break}case"SWEEP":p=uit(p,v),v=[],b=Math.min(b,p.length-1);break;case oS:{if(w)return s||e;if(S||s&&Jz(s.computedStates[b],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){const I=E[E.length-1];E=[...E.slice(0,-1),yit(o,a.action,I.state,I.error,t)],k=1/0;break}r.maxAge&&p.length===r.maxAge&&C(1),b===p.length-1&&b++;const T=h++;u[T]=a,p=[...p,T],k=p.length-1;break}case qz:({monitorState:l,actionsById:u,nextActionId:h,stagedActionIds:p,skippedActionIds:v,committedState:y,currentStateIndex:b,computedStates:E,isLocked:w,isPaused:S}=a.nextLiftedState);break;case Ki.Zz:k=0,r.maxAge&&p.length>r.maxAge&&(E=AP(E,k,o,y,u,p,v,t,S),C(p.length-r.maxAge),k=1/0);break;case Ki.q6:if(E.filter(I=>I.error).length>0)k=0,r.maxAge&&p.length>r.maxAge&&(E=AP(E,k,o,y,u,p,v,t,S),C(p.length-r.maxAge),k=1/0);else{if(!S&&!w){b===p.length-1&&b++;const I=h++;u[I]=new MP(a,+Date.now()),p=[...p,I],k=p.length-1,E=AP(E,k,o,y,u,p,v,t,S)}E=E.map(I=>({...I,state:o(I.state,IDt)})),b=p.length-1,r.maxAge&&p.length>r.maxAge&&C(p.length-r.maxAge),k=1/0}break;default:k=1/0}return E=AP(E,k,o,y,u,p,v,t,S),l=i(l,a),{monitorState:l,actionsById:u,nextActionId:h,stagedActionIds:p,skippedActionIds:v,committedState:y,currentStateIndex:b,computedStates:E,isLocked:w,isPaused:S}}}(l,h,a,u.monitor,u),v=(0,Ur.h)((0,Ur.h)(i.asObservable().pipe((0,dDt.i)(1)),o.actions$).pipe((0,fa.T)(sS)),t,o.liftedActions$).pipe((0,hDt.Q)(JSt.T)),y=r.pipe((0,fa.T)(p)),b=git(u.connectInZone),E=new tDt.m(1);this.liftedStateSubscription=v.pipe((0,fDt.E)(y),_it(b),(0,pDt.S)(({state:C},[D,k])=>{let T=k(C,D);return D.type!==oS&&pit(u)&&(T=function kDt(n,e,t,i){const r=[],o={},s=[];return n.stagedActionIds.forEach((a,l)=>{const u=n.actionsById[a];u&&(l&&Jz(n.computedStates[l],u,e,t,i)||(o[a]=u,r.push(a),s.push(n.computedStates[l])))}),{...n,stagedActionIds:r,actionsById:o,computedStates:s}}(T,u.predicate,u.actionsSafelist,u.actionsBlocklist)),o.notify(D,T),{state:T,action:D}},{state:h,action:null})).subscribe(({state:C,action:D})=>{E.next(C),D.type===oS&&s.next(D.action)}),this.extensionStartSubscription=o.start$.pipe(_it(b)).subscribe(()=>{this.refresh()});const w=E.asObservable(),S=w.pipe((0,fa.T)(dit));Object.defineProperty(S,"state",{value:(0,eu.ot)(S,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=t,this.liftedState=w,this.state=S}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new MP(t,+Date.now()))}refresh(){this.dispatch(new gDt)}reset(){this.dispatch(new vDt(+Date.now()))}rollback(){this.dispatch(new yDt(+Date.now()))}commit(){this.dispatch(new bDt(+Date.now()))}sweep(){this.dispatch(new _Dt)}toggleAction(t){this.dispatch(new EDt(t))}jumpToAction(t){this.dispatch(new xDt(t))}jumpToState(t){this.dispatch(new wDt(t))}importState(t){this.dispatch(new CDt(t))}lockChanges(t){this.dispatch(new MDt(t))}pauseRecording(t){this.dispatch(new SDt(t))}static#t=this.\u0275fac=function(i){return new(i||n)(g.KVO(DP),g.KVO(Ki.SS),g.KVO(Ki.QU),g.KVO(vit),g.KVO(Ki.sA),g.KVO(g.zcH),g.KVO(Ki.N_),g.KVO(SP))};static#e=this.\u0275prov=g.jDH({token:n,factory:n.\u0275fac})}return n})();function _it({ngZone:n,connectInZone:e}){return t=>e?new ld.c(i=>t.subscribe({next:r=>n.run(()=>i.next(r)),error:r=>n.run(()=>i.error(r)),complete:()=>n.run(()=>i.complete())})):t}const NDt=new g.nKC("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function LDt(n,e){return!!n||e.monitor!==cit}function FDt(){const n="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[n]<"u"?window[n]:null}function BDt(n={}){return(0,g.EmA)([vit,DP,bit,{provide:lit,useValue:n},{provide:NDt,deps:[tU,SP],useFactory:LDt},{provide:tU,useFactory:FDt},{provide:SP,deps:[lit],useFactory:ODt},{provide:Ki.h1,deps:[bit],useFactory:jDt},{provide:Ki.Bh,useExisting:DP}])}function jDt(n){return n.state}const zDt={providers:[(0,g.oKB)([lt.hM,ut._T]),function nh(...n){const{configProvider:e,featureProviders:t}=function Kg(n){let e;const t=[],i=new Set;for(const r of n){if(i.has(r.kind))throw new Error(`Feature ${r.kind} is already provided.`);r.kind===Za.Config?e=r.providers[0]:t.push(...r.providers),i.add(r.kind)}return{configProvider:e??{provide:Ts,useValue:{prefix:Tp,separator:"|",caseSensitive:false}},featureProviders:t}}(n);return(0,g.EmA)([e,Ug,{provide:g.hnV,useFactory:Np,multi:!0},...t])}(function Ql(n){return od(Za.Config,[{provide:Ts,useValue:n}])}({separator:"_",prefix:"ngx"}),function Lp(){return od(Za.LocalStorage,[wo,Zl,kp])}(),function _y(){return od(Za.SessionStorage,[Os,eh,Gg])}()),(0,G.$R)((0,G.b$)([q.iZ,Z._L])),function zg(){return(0,g.ngT)("NgEagerAnimations"),[...Kl]}(),function XSt(){return[{provide:Xi.MJ,useClass:Z.p4,deps:[Xi.Ju]},{provide:Xi.de,useValue:Z.H0},{provide:ut.x6,useValue:{horizontalPosition:"right",verticalPosition:"bottom"}}]}(),function YSt(){return{provide:q.CH,useValue:{basePath:rS.api.basePath}}}(),function QSt(){return{provide:ZSt,useValue:{host:rS.socket.host}}}(),function VDt(){return[(0,Ki.NT)(Z.PG,{metaReducers:Z.h4}),(0,Ki.vQ)("menu",xSt),(0,Ki.vQ)(Z.nH,Z.li),(0,Ki.vQ)(Z.j3,Z.x1),(0,qSt.SI)([Z.oy,Z.Do,Z.oY]),BDt({maxAge:25,logOnly:!(0,g.naY)(),connectInZone:!0})]}(),function VSt(){return[(0,qs.lh)(jSt,(0,qs.Zy)(),(0,qs.Sn)(ih.vS),(0,qs.GB)()),(0,ql.y8)({serializer:ql.ME,stateKey:"router"}),{provide:ql.jr,useClass:ih.Gn},{provide:ih.$9,useValue:{defaultLoginRoute:"login",loginSuccessRedirectRoute:"topology1"}}]}(),function HSt(){return{provide:g.hnV,useFactory:GSt,deps:[USt],multi:!0}}(),function KSt(){return[(0,pr.$o)({config:{availableLangs:Z.gq,defaultLang:"en",reRenderOnLangChange:!0,prodMode:rS.production},loader:WSt})]}(),function $St(){return{provide:Oi.kB,useValue:rS.baseHref}}()]};let UDt=(()=>{class n{#t=(0,g.WQX)(Z.Fs);#e=(0,g.WQX)(g.abz);#n=(0,g.WQX)(Oi.qQ);#i=(0,g.WQX)(g.sFG);ngOnInit(){this.#t.isDarkTheme$.pipe((0,eu.pQ)(this.#e)).subscribe(t=>{t?this.#i.addClass(this.#n.body,"one-dark-theme"):this.#i.removeClass(this.#n.body,"one-dark-theme")})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=g.VBU({type:n,selectors:[["one-ui-root"]],standalone:!0,features:[g.aNF],decls:3,vars:0,consts:[["oneUiTheme","",1,"gl-full-height"],[1,"mat-app-background","gl-full-height"]],template:function(i,r){1&i&&(g.j41(0,"div",0)(1,"div",1),g.nrm(2,"router-outlet"),g.k0s()())},dependencies:[qs.n3,Z.rE],styles:["div[_ngcontent-%COMP%]{overflow:hidden}"],changeDetection:0})}return n})();(0,x.B8)(UDt,zDt).catch(n=>console.error(n))},3198:(dn,re,P)=>{"use strict";P.d(re,{nH:()=>Yt,pV:()=>Ue,Do:()=>He,_L:()=>wn,uR:()=>Ii,Fx:()=>tn,p4:()=>yt,gq:()=>jt,N:()=>Nn,H0:()=>Dt,PG:()=>Xe,oy:()=>ue,j3:()=>eo,oY:()=>Xr,Fs:()=>Tt,li:()=>ri,gi:()=>x,j4:()=>G,h4:()=>Tr,rE:()=>de,bY:()=>an,Pu:()=>Ye,AU:()=>di,m5:()=>ae,d0:()=>Rn,dO:()=>Cn,x1:()=>Jt});var x={};P.r(x),P.d(x,{clearAuthlocalStorage:()=>Vt,idleLogoutComfirmed:()=>pt,login:()=>xe,loginFail:()=>Ae,loginSuccess:()=>he,loginingReset:()=>qt,logout:()=>Ot,logoutCancelled:()=>dt,logoutComfirmed:()=>ht,logoutComfirmedByAuth:()=>it,logoutComfirmedByUser:()=>Et,logoutComplete:()=>Ct});var G={};P.r(G),P.d(G,{loadInitState:()=>kt,loadInitStateFail:()=>gt,loadInitStateSuccess:()=>Mt});var g=P(6569),lt=P(3580),et=(P(6943),P(8762)),Bt=P(1353),At=P(9393),ft=P(9469),vt=P(4291);const Dt={parse:{dateInput:"MMM DD, YYYY"},display:{dateInput:"MMM DD, YYYY",monthYearLabel:"YYYY MMM",dateA11yLabel:"YYYY-MM-DD",monthYearA11yLabel:"YYYY MMM"}};function Rt(ge,Sn){const ke=Array(ge);for(let Je=0;Je<ge;Je++)ke[Je]=Sn(Je);return ke}let yt=(()=>{class ge extends g.MJ{#t;constructor(ke){super(),this.setLocale(ke||"en")}setLocale(ke){super.setLocale(ke),lt.locale(ke),lt.extend(et),lt.extend(At),lt.extend(Bt),lt.extend(ft);const Je=lt().localeData();this.#t={firstDayOfWeek:Je.firstDayOfWeek(),longMonths:Je.months(),shortMonths:Je.monthsShort(),dates:Rt(31,Vn=>this.createDate(2017,0,Vn+1).format("D")),longDaysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDaysOfWeek:Je.weekdaysShort(),narrowDaysOfWeek:Je.weekdaysMin()}}addCalendarDays(ke,Je){return ke.add(Je,"day")}addCalendarMonths(ke,Je){return ke.add(Je,"month")}addCalendarYears(ke,Je){return ke.add(Je,"year")}clone(ke){return ke.clone()}createDate(ke,Je,Vn){if(Je<0||Je>11)throw Error(`Invalid month index "${Je}". Month index has to be between 0 and 11.`);if(Vn<1)throw Error(`Invalid date "${Vn}". Date has to be greater than 0.`);const si=new Date(ke,Je,Vn),ci=lt(si).locale(this.locale);if(!ci.isValid())throw Error(`Invalid date "${Vn}" for month with index "${Je}".`);return ci}format(ke,Je){if(ke=this.clone(ke),!this.isValid(ke))throw Error("CustomDayjsAdapter: Cannot format invalid date.");return ke.format(Je)}getDate(ke){return this.clone(ke).date()}getDateNames(){return this.#t.dates}getDayOfWeek(ke){return this.clone(ke).day()}getDayOfWeekNames(ke){return"long"===ke?this.#t.longDaysOfWeek:"short"===ke?this.#t.shortDaysOfWeek:this.#t.narrowDaysOfWeek}getFirstDayOfWeek(){return this.#t.firstDayOfWeek}getMonth(ke){return this.clone(ke).month()}getMonthNames(ke){return"long"===ke?this.#t.longMonths:this.#t.shortMonths}getNumDaysInMonth(ke){return this.clone(ke).daysInMonth()}getYear(ke){return this.clone(ke).year()}getYearName(ke){return this.clone(ke).format("YYYY")}invalid(){return lt()}isDateInstance(ke){return lt.isDayjs(ke)}isValid(ke){return this.clone(ke).isValid()}parse(ke,Je="MMM DD, YYYY"){return ke?lt(ke,Je):null}toIso8601(ke){return this.clone(ke).format()}today(){return lt()}deserialize(ke){let Je;if(ke instanceof Date)Je=lt(ke).locale(this.locale);else if(this.isDateInstance(ke))return this.clone(ke);if("string"==typeof ke){if(!ke)return null;Je=lt(ke).locale(this.locale)}return Je&&this.isValid(Je)?lt(Je).locale(this.locale):super.deserialize(ke)}static \u0275fac=function(Je){return new(Je||ge)(vt.KVO(g.Ju,8))};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const jt=["en"];var Ut=P(7083),le=P(7569),ve=P(2308);const Le={atLeastCharachter:{limitation:8,i18nKey:"at-least-characters"},atLeastDigitCharachter:{limitation:1,i18nKey:"at-least-numbers"},atLeastSpecialCharachter:{limitation:1,i18nKey:"at-least-special-charachers"},atLeastLowerCharacter:{limitation:1,i18nKey:"at-least-lower-charachers"},atLeastUpperCharachter:{limitation:1,i18nKey:"at-least-upper-charachers"}};let tn=(()=>{class ge{translocoService;defaultPasswordStrength;defaultPasswordValidationRules;passwordTranslateObject;strengthValidate={atLeastCharachter:(ke,Je)=>ke.length>=Je,atLeastDigitCharachter:(ke,Je)=>(ke.match(/\d/g)||[]).length>=Je,atLeastSpecialCharachter:(ke,Je)=>(ke.match(/\W|_/g)||[]).length>=Je,atLeastUpperCharachter:(ke,Je)=>(ke.match(/[A-Z]/g)||[]).length>=Je,atLeastLowerCharacter:(ke,Je)=>(ke.match(/[a-z]/g)||[]).length>=Je};get initPasswordStrength(){return this.defaultPasswordStrength}get defaultPasswordStrengthRule(){return this.defaultPasswordValidationRules}constructor(ke){this.translocoService=ke,this.translocoService.selectTranslateObject("shared-ui.change-password-service",this.convertToTranslateParams()).subscribe(Je=>{this.passwordTranslateObject=Je,this.defaultPasswordStrength={atLeastCharachter:{enable:!0,minLimitation:Le.atLeastCharachter.limitation},atLeastDigitCharachter:{enable:!0,minLimitation:Le.atLeastDigitCharachter.limitation},atLeastSpecialCharachter:{enable:!0,minLimitation:Le.atLeastSpecialCharachter.limitation},atLeastLowerCharacter:{enable:!0,minLimitation:Le.atLeastLowerCharacter.limitation},atLeastUpperCharachter:{enable:!0,minLimitation:Le.atLeastUpperCharachter.limitation}},this.defaultPasswordValidationRules=[{label:Je["at-least-characters"],validator:Vn=>this.strengthValidate.atLeastCharachter(Vn,Le.atLeastCharachter.limitation)},{label:Je["at-least-numbers"],validator:Vn=>this.strengthValidate.atLeastDigitCharachter(Vn,Le.atLeastDigitCharachter.limitation)},{label:Je["at-least-special-charachers"],validator:Vn=>this.strengthValidate.atLeastSpecialCharachter(Vn,Le.atLeastSpecialCharachter.limitation)},{label:Je["at-least-lower-charachers"],validator:Vn=>this.strengthValidate.atLeastLowerCharacter(Vn,Le.atLeastLowerCharacter.limitation)},{label:Je["at-least-upper-charachers"],validator:Vn=>this.strengthValidate.atLeastUpperCharachter(Vn,Le.atLeastUpperCharachter.limitation)}]})}generatePasswordValidationRules(ke){const Je=Object.keys(ke),Vn=[];return Je.forEach(si=>{ke[si].enable&&Vn.push({label:this.translocoService.translateObject(`shared-ui.change-password-service.${Le[si].i18nKey}`,{limitation:ke[si].minLimitation}),validator:ci=>this.strengthValidate[si](ci,ke[si].minLimitation)})}),Vn}convertToTranslateParams(){const ke={};return Object.keys(Le).forEach(Je=>{ke[Le[Je].i18nKey]={limitation:Le[Je].limitation}}),ke}static \u0275fac=function(Je){return new(Je||ge)(vt.KVO(ve.JO))};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();var be=P(5973);const We=(0,be.VP)("[Core] Toogle theme",(0,be.xk)()),Xt=(0,be.vy)(!1,(0,be.on)(We,(ge,{isDarkTheme:Sn})=>Sn)),zt=(0,be.UX)("isDarkTheme");let Tt=(()=>{class ge{#t=(0,vt.WQX)(be.il);isDarkTheme$=this.#t.pipe((0,be.Lt)(zt),(0,le.F)());setDarkTheme(ke){this.#t.dispatch(We({isDarkTheme:ke}))}static \u0275fac=function(Je){return new(Je||ge)};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),de=(()=>{class ge{#t=(0,vt.WQX)(vt.abz);#e=(0,vt.WQX)(Tt);#n=(0,vt.WQX)(vt.aKT);#i=(0,vt.WQX)(vt.sFG);ngOnInit(){this.#e.isDarkTheme$.pipe((0,le.F)(),(0,Ut.pQ)(this.#t)).subscribe(ke=>{ke?this.#i.addClass(this.#n.nativeElement,"one-dark-theme"):this.#i.removeClass(this.#n.nativeElement,"one-dark-theme")})}static \u0275fac=function(Je){return new(Je||ge)};static \u0275dir=vt.FsC({type:ge,selectors:[["","oneUiTheme",""]],standalone:!0})}return ge})();var Te=P(5263),te=P(633),$t=P(1534),Wt=P(5910),De=P(535);const xe=(0,be.VP)("[Auth Page] Login",(0,be.xk)()),he=(0,be.VP)("[Auth Page] Login Success",(0,be.xk)()),Ae=(0,be.VP)("[Auth API] Login Failed",(0,be.xk)()),qt=(0,be.VP)("[Auth Page] Logining Status Reset"),Ot=(0,be.VP)("[Auth] Confirmed Logout"),dt=(0,be.VP)("[Auth] Logout Cancelled"),ht=(0,be.VP)("[Auth] Logout Confirmed"),Et=(0,be.VP)("[Auth] Logout Confirmed by User"),it=(0,be.VP)("[Auth] Logout Confirmed by Auth"),Ct=(0,be.VP)("[Auth] Logout Compolete"),pt=(0,be.VP)("[Auth] Idle Timeout Logout Confirmed"),Vt=(0,be.VP)("[Auth] Clear Auth Local Storage");var _e=P(6627),Ee=P(1867),Oe=P(6148),cn=P(3204),Ln=P(8199),Di=P(6345),Fn=P(7071),ii=P(6058),Si=P(5044),ki=P(3815);let Ii=(()=>{class ge{#t=(0,vt.WQX)(ki.G9);attemptAuth(ke){return this.#t.post("/login",ke).pipe((0,Ln.T)(Je=>Je))}getCurrentUser(){return this.#t.get("/account/me").pipe((0,Ln.T)(ke=>ke))}changePassword=ke=>this.#t.put("/account/me/changePassword",ke);getSessionTimeout=()=>this.#t.get("/session").pipe((0,Ln.T)(ke=>({sessionTimeout:ke.data.session_timeout})));updateSessionTimeout=ke=>this.#t.put("/session",{session_timeout:ke.sessionTimeout}).pipe((0,Ln.T)(Je=>({sessionTimeout:Je.data.session_timeout})));logout$=()=>this.#t.post("/logout");static \u0275fac=function(Je){return new(Je||ge)};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})();const Fi=(0,be.VP)("[Router] Go",(0,be.xk)()),Dn=(0,be.VP)("[Router] Back"),on=(0,be.VP)("[Router] Forward");var _t=P(9284);let ue=(()=>{class ge{#t=(0,vt.WQX)(Ee.En);#e=(0,vt.WQX)(Te.Ix);#n=(0,vt.WQX)(_t.aZ);navigate$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(Fi),(0,Ln.T)(({payload:ke})=>ke),(0,Si.M)(({path:ke,query:Je,extras:Vn})=>{const si=this.#e.createUrlTree(ke,{...Vn,queryParams:Je});this.#e.navigateByUrl(si)})),{dispatch:!1});navigateBack$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(Dn),(0,Si.M)(()=>{this.#n.back()})),{dispatch:!1});navigateForward$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(on),(0,Si.M)(()=>{this.#n.back()})),{dispatch:!1});static \u0275fac=function(Je){return new(Je||ge)};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const me=(0,be.UX)("router");(0,be.Mz)(me,ge=>ge.state);let He=(()=>{class ge{#t=(0,vt.WQX)(Ee.En);#e=(0,vt.WQX)(Ii);#n=(0,vt.WQX)(Te.Ix);#i=(0,vt.WQX)(Oe.$9);#r=(0,vt.WQX)(_e.bZ);login$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(xe),(0,Ln.T)(({payload:ke})=>ke),(0,Di.p)(ke=>this.#e.attemptAuth(ke).pipe((0,Fn.n)(()=>this.#e.getCurrentUser().pipe((0,Ln.T)(Je=>he({payload:Je})))),(0,$t.W)(Je=>(console.error("errore",Je),(0,cn.of)(Ae({payload:Je}))))))));loginRedirect$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(he),(0,ii.E)(this.#n.routerState.root.queryParams),(0,Fn.n)(([ke,Je])=>{const Vn=[];return Vn.push(Fi(Je.returnUrl?{payload:{path:[Je.returnUrl]}}:{payload:{path:[this.#i.loginSuccessRedirectRoute??""]}})),Vn})));logout$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(Ot),(0,Ln.T)(()=>Et())));logoutConfirmedByUser$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(Et),(0,Fn.n)(()=>[Ct(),Fi({payload:{path:[this.#i.defaultLoginRoute]}})])));logoutConfirmedByAuth$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(it),(0,Si.M)(()=>this.#r.closeAll()),(0,Ln.T)(()=>Fi({payload:{path:[this.#i.defaultLoginRoute]}}))));logoutConfirmed$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(ht),(0,Si.M)(()=>this.#r.closeAll()),(0,Fn.n)(()=>[Ct(),Fi({payload:{path:[this.#i.defaultLoginRoute]}})])));idleTimeoutConfirmed$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(pt),(0,Si.M)(()=>{this.#r.closeAll()}),(0,Fn.n)(()=>[Ct(),Fi({payload:{path:[this.#i.defaultLoginRoute]}})])));logoutComplete$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(Ct),(0,Fn.n)(()=>this.#e.logout$())),{dispatch:!1});static \u0275fac=function(Je){return new(Je||ge)};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const sn={loading:!1,loadend:!1,loggedIn:!1,isLoginFail:!1,isLogoutByUser:!1,isLogoutByTimeout:!1,requestSuccess:!1,requestError:!1},Qn=(0,be.vy)(sn,(0,be.on)(xe,ge=>({...ge,loading:!0,loadend:!1,isLogoutByTimeout:!1,isLogoutByUser:!1,isLoginFail:!1})),(0,be.on)(qt,ge=>({...ge,loading:!1})),(0,be.on)(he,(ge,Sn)=>({...ge,session:{...Sn.payload},loading:!1,loadend:!0,loggedIn:!0})),(0,be.on)(Ae,ge=>({...ge,loading:!1,loadend:!1,loggedIn:!1,isLoginFail:!0})),(0,be.on)(Et,()=>({...sn,isLogoutByUser:!0})),(0,be.on)(pt,()=>({...sn,isLogoutByTimeout:!0})),(0,be.on)(Vt,it,()=>sn));function ri(ge,Sn){return Qn(ge,Sn)}const we=(0,be.UX)("auth"),gn=(0,be.Mz)(we,ge=>ge.loggedIn),ae=(0,be.Mz)(we,ge=>ge.loading),Cn=((0,be.Mz)(we,ge=>ge.loadend),(0,be.Mz)(gn,ge=>!ge),(0,be.Mz)(we,ge=>ge.isLogoutByUser)),Rn=(0,be.Mz)(we,ge=>ge.isLogoutByTimeout),di=(0,be.Mz)(we,ge=>ge.isLoginFail),an=((0,be.Mz)(we,ge=>ge.requestSuccess),(0,be.Mz)(we,ge=>ge.requestError),(0,be.Mz)(we,ge=>ge.session?.username??""));function wn(ge,Sn){const ke=(0,vt.WQX)(ve.JO),Je=(0,vt.WQX)(te.U),Vn=(0,vt.WQX)(be.il),si=(0,vt.WQX)(Te.Ix);return Sn(ge).pipe((0,$t.W)(ci=>(ci&&401===ci.status&&!ge.url.includes("/auth/revoke")&&"/login"!==si.url&&ke.selectTranslateObject("app.auth-interceptor.warn").pipe((0,Wt.s)(1)).subscribe(ti=>{Je.open(ti),Vn.dispatch(ht())}),(0,De.$)(()=>ci))))}var Ue=function(ge){return ge.none="none",ge.loading="loading",ge.success="success",ge.fail="fail",ge}(Ue||{});let Nn=(()=>{class ge{transform(ke){return ke?"./assets/logo-white.svg":"./assets/logo.svg"}static \u0275fac=function(Je){return new(Je||ge)};static \u0275pipe=vt.EJ8({name:"logoImg",type:ge,pure:!0,standalone:!0})}return ge})();const kt=(0,be.VP)("[Application Init] Get basic init state."),Mt=(0,be.VP)("[Application Init] Get basic init state success.",(0,be.xk)()),gt=(0,be.VP)("[Application Init] Get basic init state failed",(0,be.xk)());var Lt=P(1487),Ze=P(5561);const On=(0,be.VP)("[Core] Toogle language",(0,be.xk)()),qn=(0,be.vy)("",(0,be.on)(On,(ge,{language:Sn})=>Sn)),Be=((0,be.UX)("language"),(0,be.VP)("[Core] Page Loading",(0,be.xk)())),Ce=(0,be.VP)("[Core] Page Loading Completion",(0,be.xk)()),Gt=(0,be.vy)(!1,(0,be.on)(Be,(ge,{isPageLoading:Sn})=>Sn),(0,be.on)(Ce,(ge,{isPageLoading:Sn})=>Sn)),Yt=((0,be.UX)("isPageLoading"),"auth"),je={router:Ze.C_,isDarkTheme:Xt,language:qn,isPageLoading:Gt},Xe=new vt.nKC("ROOT_REDUCERS",{factory:()=>je}),Tr=[function Jn(ge){return(0,Lt.N)({features:[{stateKey:"isDarkTheme"},{stateKey:"language"},{stateKey:"permissionList",shouldSync:Sn=>!!Sn},{stateKey:Yt,excludeKeys:["isLoginFail","isLogoutByUser","isLogoutByTimeout","isLogoutByPassword"],shouldSync:Sn=>!!Sn}],storage:window.localStorage})(ge)}];let to=(()=>{class ge{#t=(0,vt.WQX)(ki.G9);load(){return this.#t.get("/model_name",{},{basePath:"/api/v1"})}static \u0275fac=function(Je){return new(Je||ge)};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac,providedIn:"root"})}return ge})(),Xr=(()=>{class ge{#t=(0,vt.WQX)(Ee.En);#e=(0,vt.WQX)(to);model_name="Application Framework";loadServerInitState$=(0,Ee.EH)(()=>this.#t.pipe((0,Ee.gp)(kt),(0,Fn.n)(()=>(0,cn.of)(Mt({payload:{model_name:this.model_name}})))));static \u0275fac=function(Je){return new(Je||ge)};static \u0275prov=vt.jDH({token:ge,factory:ge.\u0275fac})}return ge})();const eo="serverInitState",xn=(0,be.vy)({modelName:""},(0,be.on)(Mt,(ge,{payload:Sn})=>({...ge,modelName:Sn.model_name})));function Jt(ge,Sn){return xn(ge,Sn)}const Pe=(0,be.UX)(eo),Ye=(0,be.Mz)(Pe,ge=>ge.modelName)},3815:(dn,re,P)=>{"use strict";function x(ft,vt){if(ft.headers.has("mx-api-ts")||(ft=ft.clone({headers:ft.headers.set("mx-api-ts",`${(new Date).getTime()}`)})),!ft.headers.has("x-xsrf-token")&&localStorage.getItem("XSRF-TOKEN")){const Dt=localStorage.getItem("XSRF-TOKEN")??"";ft=ft.clone({headers:ft.headers.set("x-xsrf-token",Dt)})}return vt(ft)}P.d(re,{iZ:()=>x,CH:()=>Bt,G9:()=>At});var G=P(7715),g=P(4291),lt=P(1071),ut=P(535),et=P(1534);const Bt=new g.nKC("REST_CONFIG");let At=(()=>{class ft{#t={withCredentials:!1};#e=(0,g.WQX)(G.Qq);#n=(0,g.WQX)(Bt);#i=new lt.B;#r(Dt){return this.#i.next(Dt),(0,ut.$)(()=>Dt)}thrownErrors$=this.#i.asObservable();get(Dt,Rt,yt){const jt=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.get(`${jt}${Dt}`,{params:Rt}).pipe((0,et.W)(Ut=>this.#r(Ut)))}put(Dt,Rt,yt){const jt=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.put(`${jt}${Dt}`,Rt,this.#t).pipe((0,et.W)(Ut=>this.#r(Ut)))}patch(Dt,Rt,yt){const jt=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.patch(`${jt}${Dt}`,Rt,this.#t).pipe((0,et.W)(Ut=>this.#r(Ut)))}post(Dt,Rt,yt){const jt=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.post(`${jt}${Dt}`,Rt,this.#t).pipe((0,et.W)(Ut=>this.#r(Ut)))}delete(Dt,Rt,yt){const jt=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.request("DELETE",`${jt}${Dt}`,{body:Rt,withCredentials:this.#t.withCredentials}).pipe((0,et.W)(Ut=>this.#r(Ut)))}upload(Dt,Rt,yt){const jt=yt&&yt.basePath?yt.basePath:this.#n.basePath;return this.#e.request(yt&&yt.method?yt.method:"POST",`${jt}${Dt}`,{body:Rt,reportProgress:!0,observe:"events",withCredentials:this.#t.withCredentials}).pipe((0,et.W)(le=>this.#r(le)))}static \u0275fac=function(Rt){return new(Rt||ft)};static \u0275prov=g.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"})}return ft})()},6148:(dn,re,P)=>{"use strict";P.d(re,{Gn:()=>ut,vS:()=>lt,$9:()=>G});var x=P(4291);const G=new x.nKC("ROUTE_CONFIG");var g=P(4080);let lt=(()=>{class et{preload(At,ft){return At.data&&(this.hasGoodNetworkConnection()||At.data.preload)?ft():g.w}hasGoodNetworkConnection(){const At=navigator.connection;if(At){if(At.saveData)return!1;if(["slow-2g","2g","3g"].includes(At.effectiveType||""))return!1}return!0}static \u0275fac=function(ft){return new(ft||et)};static \u0275prov=x.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),ut=(()=>{class et{serialize(At){const{url:ft}=At,{queryParams:vt}=At.root;let Dt=At.root;for(;Dt.firstChild;)Dt=Dt.firstChild;const{params:Rt,data:yt}=Dt;return{url:ft,queryParams:vt,params:Rt,data:yt}}static \u0275fac=function(ft){return new(ft||et)};static \u0275prov=x.jDH({token:et,factory:et.\u0275fac})}return et})()},8752:(dn,re,P)=>{"use strict";P.d(re,{Fs:()=>$t,pe:()=>x,pr:()=>Ut});var x={};P.r(x),P.d(x,{pageLoading:()=>Rt,pageLoadingCompletion:()=>yt});var G=P(4291),lt=(P(1487),P(5561)),ut=P(5973);const et=(0,ut.VP)("[Core] Toogle theme",(0,ut.xk)()),Bt=(0,ut.vy)(!1,(0,ut.on)(et,(De,{isDarkTheme:xe})=>xe)),At=(0,ut.UX)("isDarkTheme"),ft=(0,ut.VP)("[Core] Toogle language",(0,ut.xk)()),vt=(0,ut.vy)("",(0,ut.on)(ft,(De,{language:xe})=>xe)),Rt=((0,ut.UX)("language"),(0,ut.VP)("[Core] Page Loading",(0,ut.xk)())),yt=(0,ut.VP)("[Core] Page Loading Completion",(0,ut.xk)()),jt=(0,ut.vy)(!1,(0,ut.on)(Rt,(De,{isPageLoading:xe})=>xe),(0,ut.on)(yt,(De,{isPageLoading:xe})=>xe)),Ut=(0,ut.UX)("isPageLoading"),ve={router:lt.C_,isDarkTheme:Bt,language:vt,isPageLoading:jt};new G.nKC("ROOT_REDUCERS",{factory:()=>ve}),(0,ut.VP)("[Router] Go",(0,ut.xk)()),(0,ut.VP)("[Router] Back"),(0,ut.VP)("[Router] Forward");const de=(0,ut.UX)("router");(0,ut.Mz)(de,De=>De.state);var te=P(7569);let $t=(()=>{class De{#t=(0,G.WQX)(ut.il);isDarkTheme$=this.#t.pipe((0,ut.Lt)(At),(0,te.F)());setDarkTheme(he){this.#t.dispatch(et({isDarkTheme:he}))}static \u0275fac=function(Ae){return new(Ae||De)};static \u0275prov=G.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}return De})()},3580:function(dn){dn.exports=function(){"use strict";var P=6e4,x=36e5,G="millisecond",g="second",lt="minute",ut="hour",et="day",Bt="week",At="month",ft="quarter",vt="year",Dt="date",Rt="Invalid Date",yt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,jt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ut={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var $t=["th","st","nd","rd"],Wt=te%100;return"["+te+($t[(Wt-20)%10]||$t[Wt]||$t[0])+"]"}},le=function(te,$t,Wt){var De=String(te);return!De||De.length>=$t?te:""+Array($t+1-De.length).join(Wt)+te},ve={s:le,z:function(te){var $t=-te.utcOffset(),Wt=Math.abs($t),De=Math.floor(Wt/60),xe=Wt%60;return($t<=0?"+":"-")+le(De,2,"0")+":"+le(xe,2,"0")},m:function te($t,Wt){if($t.date()<Wt.date())return-te(Wt,$t);var De=12*(Wt.year()-$t.year())+(Wt.month()-$t.month()),xe=$t.clone().add(De,At),he=Wt-xe<0,Ae=$t.clone().add(De+(he?-1:1),At);return+(-(De+(Wt-xe)/(he?xe-Ae:Ae-xe))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:At,y:vt,w:Bt,d:et,D:Dt,h:ut,m:lt,s:g,ms:G,Q:ft}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return void 0===te}},Le="en",tn={};tn[Le]=Ut;var be="$isDayjsObject",We=function(te){return te instanceof de||!(!te||!te[be])},Xt=function te($t,Wt,De){var xe;if(!$t)return Le;if("string"==typeof $t){var he=$t.toLowerCase();tn[he]&&(xe=he),Wt&&(tn[he]=Wt,xe=he);var Ae=$t.split("-");if(!xe&&Ae.length>1)return te(Ae[0])}else{var qt=$t.name;tn[qt]=$t,xe=qt}return!De&&xe&&(Le=xe),xe||!De&&Le},zt=function(te,$t){if(We(te))return te.clone();var Wt="object"==typeof $t?$t:{};return Wt.date=te,Wt.args=arguments,new de(Wt)},Tt=ve;Tt.l=Xt,Tt.i=We,Tt.w=function(te,$t){return zt(te,{locale:$t.$L,utc:$t.$u,x:$t.$x,$offset:$t.$offset})};var de=function(){function te(Wt){this.$L=Xt(Wt.locale,null,!0),this.parse(Wt),this.$x=this.$x||Wt.x||{},this[be]=!0}var $t=te.prototype;return $t.parse=function(Wt){this.$d=function(De){var xe=De.date,he=De.utc;if(null===xe)return new Date(NaN);if(Tt.u(xe))return new Date;if(xe instanceof Date)return new Date(xe);if("string"==typeof xe&&!/Z$/i.test(xe)){var Ae=xe.match(yt);if(Ae){var qt=Ae[2]-1||0,Ot=(Ae[7]||"0").substring(0,3);return he?new Date(Date.UTC(Ae[1],qt,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,Ot)):new Date(Ae[1],qt,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,Ot)}}return new Date(xe)}(Wt),this.init()},$t.init=function(){var Wt=this.$d;this.$y=Wt.getFullYear(),this.$M=Wt.getMonth(),this.$D=Wt.getDate(),this.$W=Wt.getDay(),this.$H=Wt.getHours(),this.$m=Wt.getMinutes(),this.$s=Wt.getSeconds(),this.$ms=Wt.getMilliseconds()},$t.$utils=function(){return Tt},$t.isValid=function(){return this.$d.toString()!==Rt},$t.isSame=function(Wt,De){var xe=zt(Wt);return this.startOf(De)<=xe&&xe<=this.endOf(De)},$t.isAfter=function(Wt,De){return zt(Wt)<this.startOf(De)},$t.isBefore=function(Wt,De){return this.endOf(De)<zt(Wt)},$t.$g=function(Wt,De,xe){return Tt.u(Wt)?this[De]:this.set(xe,Wt)},$t.unix=function(){return Math.floor(this.valueOf()/1e3)},$t.valueOf=function(){return this.$d.getTime()},$t.startOf=function(Wt,De){var xe=this,he=!!Tt.u(De)||De,Ae=Tt.p(Wt),qt=function(Vt,_e){var Ee=Tt.w(xe.$u?Date.UTC(xe.$y,_e,Vt):new Date(xe.$y,_e,Vt),xe);return he?Ee:Ee.endOf(et)},Ot=function(Vt,_e){return Tt.w(xe.toDate()[Vt].apply(xe.toDate("s"),(he?[0,0,0,0]:[23,59,59,999]).slice(_e)),xe)},dt=this.$W,ht=this.$M,Et=this.$D,it="set"+(this.$u?"UTC":"");switch(Ae){case vt:return he?qt(1,0):qt(31,11);case At:return he?qt(1,ht):qt(0,ht+1);case Bt:var Ct=this.$locale().weekStart||0,pt=(dt<Ct?dt+7:dt)-Ct;return qt(he?Et-pt:Et+(6-pt),ht);case et:case Dt:return Ot(it+"Hours",0);case ut:return Ot(it+"Minutes",1);case lt:return Ot(it+"Seconds",2);case g:return Ot(it+"Milliseconds",3);default:return this.clone()}},$t.endOf=function(Wt){return this.startOf(Wt,!1)},$t.$set=function(Wt,De){var xe,he=Tt.p(Wt),Ae="set"+(this.$u?"UTC":""),qt=(xe={},xe[et]=Ae+"Date",xe[Dt]=Ae+"Date",xe[At]=Ae+"Month",xe[vt]=Ae+"FullYear",xe[ut]=Ae+"Hours",xe[lt]=Ae+"Minutes",xe[g]=Ae+"Seconds",xe[G]=Ae+"Milliseconds",xe)[he],Ot=he===et?this.$D+(De-this.$W):De;if(he===At||he===vt){var dt=this.clone().set(Dt,1);dt.$d[qt](Ot),dt.init(),this.$d=dt.set(Dt,Math.min(this.$D,dt.daysInMonth())).$d}else qt&&this.$d[qt](Ot);return this.init(),this},$t.set=function(Wt,De){return this.clone().$set(Wt,De)},$t.get=function(Wt){return this[Tt.p(Wt)]()},$t.add=function(Wt,De){var xe,he=this;Wt=Number(Wt);var Ae=Tt.p(De),qt=function(ht){var Et=zt(he);return Tt.w(Et.date(Et.date()+Math.round(ht*Wt)),he)};if(Ae===At)return this.set(At,this.$M+Wt);if(Ae===vt)return this.set(vt,this.$y+Wt);if(Ae===et)return qt(1);if(Ae===Bt)return qt(7);var Ot=(xe={},xe[lt]=P,xe[ut]=x,xe[g]=1e3,xe)[Ae]||1,dt=this.$d.getTime()+Wt*Ot;return Tt.w(dt,this)},$t.subtract=function(Wt,De){return this.add(-1*Wt,De)},$t.format=function(Wt){var De=this,xe=this.$locale();if(!this.isValid())return xe.invalidDate||Rt;var he=Wt||"YYYY-MM-DDTHH:mm:ssZ",Ae=Tt.z(this),qt=this.$H,Ot=this.$m,dt=this.$M,ht=xe.weekdays,Et=xe.months,Ct=function(_e,Ee,Oe,cn){return _e&&(_e[Ee]||_e(De,he))||Oe[Ee].slice(0,cn)},pt=function(_e){return Tt.s(qt%12||12,_e,"0")},Vt=xe.meridiem||function(_e,Ee,Oe){var cn=_e<12?"AM":"PM";return Oe?cn.toLowerCase():cn};return he.replace(jt,function(_e,Ee){return Ee||function(Oe){switch(Oe){case"YY":return String(De.$y).slice(-2);case"YYYY":return Tt.s(De.$y,4,"0");case"M":return dt+1;case"MM":return Tt.s(dt+1,2,"0");case"MMM":return Ct(xe.monthsShort,dt,Et,3);case"MMMM":return Ct(Et,dt);case"D":return De.$D;case"DD":return Tt.s(De.$D,2,"0");case"d":return String(De.$W);case"dd":return Ct(xe.weekdaysMin,De.$W,ht,2);case"ddd":return Ct(xe.weekdaysShort,De.$W,ht,3);case"dddd":return ht[De.$W];case"H":return String(qt);case"HH":return Tt.s(qt,2,"0");case"h":return pt(1);case"hh":return pt(2);case"a":return Vt(qt,Ot,!0);case"A":return Vt(qt,Ot,!1);case"m":return String(Ot);case"mm":return Tt.s(Ot,2,"0");case"s":return String(De.$s);case"ss":return Tt.s(De.$s,2,"0");case"SSS":return Tt.s(De.$ms,3,"0");case"Z":return Ae}return null}(_e)||Ae.replace(":","")})},$t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$t.diff=function(Wt,De,xe){var he,Ae=this,qt=Tt.p(De),Ot=zt(Wt),dt=(Ot.utcOffset()-this.utcOffset())*P,ht=this-Ot,Et=function(){return Tt.m(Ae,Ot)};switch(qt){case vt:he=Et()/12;break;case At:he=Et();break;case ft:he=Et()/3;break;case Bt:he=(ht-dt)/6048e5;break;case et:he=(ht-dt)/864e5;break;case ut:he=ht/x;break;case lt:he=ht/P;break;case g:he=ht/1e3;break;default:he=ht}return xe?he:Tt.a(he)},$t.daysInMonth=function(){return this.endOf(At).$D},$t.$locale=function(){return tn[this.$L]},$t.locale=function(Wt,De){if(!Wt)return this.$L;var xe=this.clone(),he=Xt(Wt,De,!0);return he&&(xe.$L=he),xe},$t.clone=function(){return Tt.w(this.$d,this)},$t.toDate=function(){return new Date(this.valueOf())},$t.toJSON=function(){return this.isValid()?this.toISOString():null},$t.toISOString=function(){return this.$d.toISOString()},$t.toString=function(){return this.$d.toUTCString()},te}(),Te=de.prototype;return zt.prototype=Te,[["$ms",G],["$s",g],["$m",lt],["$H",ut],["$W",et],["$M",At],["$y",vt],["$D",Dt]].forEach(function(te){Te[te[1]]=function($t){return this.$g($t,te[0],te[1])}}),zt.extend=function(te,$t){return te.$i||(te($t,de,zt),te.$i=!0),zt},zt.locale=Xt,zt.isDayjs=We,zt.unix=function(te){return zt(1e3*te)},zt.en=tn[Le],zt.Ls=tn,zt.p={},zt}()},6943:function(dn){dn.exports=function(){"use strict";return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(re){var P=["th","st","nd","rd"],x=re%100;return"["+re+(P[(x-20)%10]||P[x]||P[0])+"]"}}}()},8762:function(dn){dn.exports=function(){"use strict";var re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},P=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,x=/\d/,G=/\d\d/,g=/\d\d?/,lt=/\d*[^-_:/,()\s\d]+/,ut={},et=function(yt){return(yt=+yt)+(yt>68?1900:2e3)},Bt=function(yt){return function(jt){this[yt]=+jt}},At=[/[+-]\d\d:?(\d\d)?|Z/,function(yt){(this.zone||(this.zone={})).offset=function(jt){if(!jt||"Z"===jt)return 0;var Ut=jt.match(/([+-]|\d\d)/g),le=60*Ut[1]+(+Ut[2]||0);return 0===le?0:"+"===Ut[0]?-le:le}(yt)}],ft=function(yt){var jt=ut[yt];return jt&&(jt.indexOf?jt:jt.s.concat(jt.f))},vt=function(yt,jt){var Ut,le=ut.meridiem;if(le){for(var ve=1;ve<=24;ve+=1)if(yt.indexOf(le(ve,0,jt))>-1){Ut=ve>12;break}}else Ut=yt===(jt?"pm":"PM");return Ut},Dt={A:[lt,function(yt){this.afternoon=vt(yt,!1)}],a:[lt,function(yt){this.afternoon=vt(yt,!0)}],Q:[x,function(yt){this.month=3*(yt-1)+1}],S:[x,function(yt){this.milliseconds=100*+yt}],SS:[G,function(yt){this.milliseconds=10*+yt}],SSS:[/\d{3}/,function(yt){this.milliseconds=+yt}],s:[g,Bt("seconds")],ss:[g,Bt("seconds")],m:[g,Bt("minutes")],mm:[g,Bt("minutes")],H:[g,Bt("hours")],h:[g,Bt("hours")],HH:[g,Bt("hours")],hh:[g,Bt("hours")],D:[g,Bt("day")],DD:[G,Bt("day")],Do:[lt,function(yt){var jt=ut.ordinal,Ut=yt.match(/\d+/);if(this.day=Ut[0],jt)for(var le=1;le<=31;le+=1)jt(le).replace(/\[|\]/g,"")===yt&&(this.day=le)}],w:[g,Bt("week")],ww:[G,Bt("week")],M:[g,Bt("month")],MM:[G,Bt("month")],MMM:[lt,function(yt){var jt=ft("months"),Ut=(ft("monthsShort")||jt.map(function(le){return le.slice(0,3)})).indexOf(yt)+1;if(Ut<1)throw new Error;this.month=Ut%12||Ut}],MMMM:[lt,function(yt){var jt=ft("months").indexOf(yt)+1;if(jt<1)throw new Error;this.month=jt%12||jt}],Y:[/[+-]?\d+/,Bt("year")],YY:[G,function(yt){this.year=et(yt)}],YYYY:[/\d{4}/,Bt("year")],Z:At,ZZ:At};return function(yt,jt,Ut){Ut.p.customParseFormat=!0,yt&&yt.parseTwoDigitYear&&(et=yt.parseTwoDigitYear);var le=jt.prototype,ve=le.parse;le.parse=function(Le){var tn=Le.date,be=Le.utc,We=Le.args;this.$u=be;var Xt=We[1];if("string"==typeof Xt){var zt=!0===We[2],Tt=!0===We[3],de=zt||Tt,Te=We[2];Tt&&(Te=We[2]),ut=this.$locale(),!zt&&Te&&(ut=Ut.Ls[Te]),this.$d=function(De,xe,he,Ae){try{if(["x","X"].indexOf(xe)>-1)return new Date(("X"===xe?1e3:1)*De);var qt=function Rt(yt){var Ut;Ut=ut&&ut.formats;for(var le=(yt=yt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(zt,Tt,de){var Te=de&&de.toUpperCase();return Tt||Ut[de]||re[de]||Ut[Te].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(te,$t,Wt){return $t||Wt.slice(1)})})).match(P),ve=le.length,Le=0;Le<ve;Le+=1){var tn=le[Le],be=Dt[tn],Xt=be&&be[1];le[Le]=Xt?{regex:be&&be[0],parser:Xt}:tn.replace(/^\[|\]$/g,"")}return function(zt){for(var Tt={},de=0,Te=0;de<ve;de+=1){var te=le[de];if("string"==typeof te)Te+=te.length;else{var $t=te.regex,Wt=te.parser,De=zt.slice(Te),xe=$t.exec(De)[0];Wt.call(Tt,xe),zt=zt.replace(xe,"")}}return function(he){var Ae=he.afternoon;if(void 0!==Ae){var qt=he.hours;Ae?qt<12&&(he.hours+=12):12===qt&&(he.hours=0),delete he.afternoon}}(Tt),Tt}}(xe)(De),Ot=qt.year,dt=qt.month,ht=qt.day,Et=qt.hours,it=qt.minutes,Ct=qt.seconds,pt=qt.milliseconds,Vt=qt.zone,_e=qt.week,Ee=new Date,Oe=ht||(Ot||dt?1:Ee.getDate()),cn=Ot||Ee.getFullYear(),Ln=0;Ot&&!dt||(Ln=dt>0?dt-1:Ee.getMonth());var Di,Fn=Et||0,ii=it||0,Si=Ct||0,ki=pt||0;return Vt?new Date(Date.UTC(cn,Ln,Oe,Fn,ii,Si,ki+60*Vt.offset*1e3)):he?new Date(Date.UTC(cn,Ln,Oe,Fn,ii,Si,ki)):(Di=new Date(cn,Ln,Oe,Fn,ii,Si,ki),_e&&(Di=Ae(Di).week(_e).toDate()),Di)}catch{return new Date("")}}(tn,Xt,be,Ut),this.init(),Te&&!0!==Te&&(this.$L=this.locale(Te).$L),de&&tn!=this.format(Xt)&&(this.$d=new Date("")),ut={}}else if(Xt instanceof Array)for(var te=Xt.length,$t=1;$t<=te;$t+=1){We[1]=Xt[$t-1];var Wt=Ut.apply(this,We);if(Wt.isValid()){this.$d=Wt.$d,this.$L=Wt.$L,this.init();break}$t===te&&(this.$d=new Date(""))}else ve.call(this,Le)}}}()},1353:function(dn){dn.exports=function(){"use strict";return function(re,P,x){var g=function(At){return At&&(At.indexOf?At:At.s)},lt=function(At,ft,vt,Dt,Rt){var yt=At.name?At:At.$locale(),jt=g(yt[ft]),Ut=g(yt[vt]),le=jt||Ut.map(function(Le){return Le.slice(0,Dt)});if(!Rt)return le;var ve=yt.weekStart;return le.map(function(Le,tn){return le[(tn+(ve||0))%7]})},ut=function(){return x.Ls[x.locale()]},et=function(At,ft){return At.formats[ft]||At.formats[ft.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Dt,Rt,yt){return Rt||yt.slice(1)})},Bt=function(){var At=this;return{months:function(ft){return ft?ft.format("MMMM"):lt(At,"months")},monthsShort:function(ft){return ft?ft.format("MMM"):lt(At,"monthsShort","months",3)},firstDayOfWeek:function(){return At.$locale().weekStart||0},weekdays:function(ft){return ft?ft.format("dddd"):lt(At,"weekdays")},weekdaysMin:function(ft){return ft?ft.format("dd"):lt(At,"weekdaysMin","weekdays",2)},weekdaysShort:function(ft){return ft?ft.format("ddd"):lt(At,"weekdaysShort","weekdays",3)},longDateFormat:function(ft){return et(At.$locale(),ft)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};P.prototype.localeData=function(){return Bt.bind(this)()},x.localeData=function(){var At=ut();return{firstDayOfWeek:function(){return At.weekStart||0},weekdays:function(){return x.weekdays()},weekdaysShort:function(){return x.weekdaysShort()},weekdaysMin:function(){return x.weekdaysMin()},months:function(){return x.months()},monthsShort:function(){return x.monthsShort()},longDateFormat:function(ft){return et(At,ft)},meridiem:At.meridiem,ordinal:At.ordinal}},x.months=function(){return lt(ut(),"months")},x.monthsShort=function(){return lt(ut(),"monthsShort","months",3)},x.weekdays=function(At){return lt(ut(),"weekdays",null,null,At)},x.weekdaysShort=function(At){return lt(ut(),"weekdaysShort","weekdays",3,At)},x.weekdaysMin=function(At){return lt(ut(),"weekdaysMin","weekdays",2,At)}}}()},9393:function(dn){dn.exports=function(){"use strict";var re={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(P,x,G){var g=x.prototype,lt=g.format;G.en.formats=re,g.format=function(ut){void 0===ut&&(ut="YYYY-MM-DDTHH:mm:ssZ");var ft,et=this.$locale().formats,Bt=(ft=void 0===et?{}:et,ut.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(vt,Dt,Rt){var yt=Rt&&Rt.toUpperCase();return Dt||ft[Rt]||re[Rt]||ft[yt].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(jt,Ut,le){return Ut||le.slice(1)})}));return lt.call(this,Bt)}}}()},9469:function(dn){dn.exports=function(){"use strict";return function(re,P){P.prototype.weekday=function(x){var G=this.$locale().weekStart||0,g=this.$W,lt=(g<G?g+7:g)-G;return this.$utils().u(x)?lt:this.subtract(lt,"day").add(x,"day")}}}()},8093:(dn,re,P)=>{"use strict";P.d(re,{t:()=>G});var x=P(1071);class G extends x.B{constructor(lt){super(),this._value=lt}get value(){return this.getValue()}_subscribe(lt){const ut=super._subscribe(lt);return!ut.closed&&lt.next(this._value),ut}getValue(){const{hasError:lt,thrownError:ut,_value:et}=this;if(lt)throw ut;return this._throwIfClosed(),et}next(lt){super.next(this._value=lt)}}},3982:(dn,re,P)=>{"use strict";P.d(re,{c:()=>At});var x=P(12),G=P(3479),g=P(7303),lt=P(3754),ut=P(1517),et=P(4834),Bt=P(4479);let At=(()=>{class Rt{constructor(jt){jt&&(this._subscribe=jt)}lift(jt){const Ut=new Rt;return Ut.source=this,Ut.operator=jt,Ut}subscribe(jt,Ut,le){const ve=function Dt(Rt){return Rt&&Rt instanceof x.vU||function vt(Rt){return Rt&&(0,et.T)(Rt.next)&&(0,et.T)(Rt.error)&&(0,et.T)(Rt.complete)}(Rt)&&(0,G.Uv)(Rt)}(jt)?jt:new x.Ms(jt,Ut,le);return(0,Bt.Y)(()=>{const{operator:Le,source:tn}=this;ve.add(Le?Le.call(ve,tn):tn?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(jt){try{return this._subscribe(jt)}catch(Ut){jt.error(Ut)}}forEach(jt,Ut){return new(Ut=ft(Ut))((le,ve)=>{const Le=new x.Ms({next:tn=>{try{jt(tn)}catch(be){ve(be),Le.unsubscribe()}},error:ve,complete:le});this.subscribe(Le)})}_subscribe(jt){var Ut;return null===(Ut=this.source)||void 0===Ut?void 0:Ut.subscribe(jt)}[g.s](){return this}pipe(...jt){return(0,lt.m)(jt)(this)}toPromise(jt){return new(jt=ft(jt))((Ut,le)=>{let ve;this.subscribe(Le=>ve=Le,Le=>le(Le),()=>Ut(ve))})}}return Rt.create=yt=>new Rt(yt),Rt})();function ft(Rt){var yt;return null!==(yt=Rt??ut.$.Promise)&&void 0!==yt?yt:Promise}},7650:(dn,re,P)=>{"use strict";P.d(re,{m:()=>g});var x=P(1071),G=P(360);class g extends x.B{constructor(ut=1/0,et=1/0,Bt=G.U){super(),this._bufferSize=ut,this._windowTime=et,this._timestampProvider=Bt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=et===1/0,this._bufferSize=Math.max(1,ut),this._windowTime=Math.max(1,et)}next(ut){const{isStopped:et,_buffer:Bt,_infiniteTimeWindow:At,_timestampProvider:ft,_windowTime:vt}=this;et||(Bt.push(ut),!At&&Bt.push(ft.now()+vt)),this._trimBuffer(),super.next(ut)}_subscribe(ut){this._throwIfClosed(),this._trimBuffer();const et=this._innerSubscribe(ut),{_infiniteTimeWindow:Bt,_buffer:At}=this,ft=At.slice();for(let vt=0;vt<ft.length&&!ut.closed;vt+=Bt?1:2)ut.next(ft[vt]);return this._checkFinalizedStatuses(ut),et}_trimBuffer(){const{_bufferSize:ut,_timestampProvider:et,_buffer:Bt,_infiniteTimeWindow:At}=this,ft=(At?1:2)*ut;if(ut<1/0&&ft<Bt.length&&Bt.splice(0,Bt.length-ft),!At){const vt=et.now();let Dt=0;for(let Rt=1;Rt<Bt.length&&Bt[Rt]<=vt;Rt+=2)Dt=Rt;Dt&&Bt.splice(0,Dt+1)}}}},1071:(dn,re,P)=>{"use strict";P.d(re,{B:()=>Bt});var x=P(3982),G=P(3479);const lt=(0,P(7272).L)(ft=>function(){ft(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=P(1935),et=P(4479);let Bt=(()=>{class ft extends x.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Dt){const Rt=new At(this,this);return Rt.operator=Dt,Rt}_throwIfClosed(){if(this.closed)throw new lt}next(Dt){(0,et.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Rt of this.currentObservers)Rt.next(Dt)}})}error(Dt){(0,et.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Dt;const{observers:Rt}=this;for(;Rt.length;)Rt.shift().error(Dt)}})}complete(){(0,et.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Dt}=this;for(;Dt.length;)Dt.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Dt;return(null===(Dt=this.observers)||void 0===Dt?void 0:Dt.length)>0}_trySubscribe(Dt){return this._throwIfClosed(),super._trySubscribe(Dt)}_subscribe(Dt){return this._throwIfClosed(),this._checkFinalizedStatuses(Dt),this._innerSubscribe(Dt)}_innerSubscribe(Dt){const{hasError:Rt,isStopped:yt,observers:jt}=this;return Rt||yt?G.Kn:(this.currentObservers=null,jt.push(Dt),new G.yU(()=>{this.currentObservers=null,(0,ut.o)(jt,Dt)}))}_checkFinalizedStatuses(Dt){const{hasError:Rt,thrownError:yt,isStopped:jt}=this;Rt?Dt.error(yt):jt&&Dt.complete()}asObservable(){const Dt=new x.c;return Dt.source=this,Dt}}return ft.create=(vt,Dt)=>new At(vt,Dt),ft})();class At extends Bt{constructor(vt,Dt){super(),this.destination=vt,this.source=Dt}next(vt){var Dt,Rt;null===(Rt=null===(Dt=this.destination)||void 0===Dt?void 0:Dt.next)||void 0===Rt||Rt.call(Dt,vt)}error(vt){var Dt,Rt;null===(Rt=null===(Dt=this.destination)||void 0===Dt?void 0:Dt.error)||void 0===Rt||Rt.call(Dt,vt)}complete(){var vt,Dt;null===(Dt=null===(vt=this.destination)||void 0===vt?void 0:vt.complete)||void 0===Dt||Dt.call(vt)}_subscribe(vt){var Dt,Rt;return null!==(Rt=null===(Dt=this.source)||void 0===Dt?void 0:Dt.subscribe(vt))&&void 0!==Rt?Rt:G.Kn}}},12:(dn,re,P)=>{"use strict";P.d(re,{Ms:()=>le,vU:()=>Rt});var x=P(4834),G=P(3479),g=P(1517),lt=P(6155),ut=P(1670);const et=ft("C",void 0,void 0);function ft(We,Xt,zt){return{kind:We,value:Xt,error:zt}}var vt=P(7547),Dt=P(4479);class Rt extends G.yU{constructor(Xt){super(),this.isStopped=!1,Xt?(this.destination=Xt,(0,G.Uv)(Xt)&&Xt.add(this)):this.destination=be}static create(Xt,zt,Tt){return new le(Xt,zt,Tt)}next(Xt){this.isStopped?tn(function At(We){return ft("N",We,void 0)}(Xt),this):this._next(Xt)}error(Xt){this.isStopped?tn(function Bt(We){return ft("E",void 0,We)}(Xt),this):(this.isStopped=!0,this._error(Xt))}complete(){this.isStopped?tn(et,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Xt){this.destination.next(Xt)}_error(Xt){try{this.destination.error(Xt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yt=Function.prototype.bind;function jt(We,Xt){return yt.call(We,Xt)}class Ut{constructor(Xt){this.partialObserver=Xt}next(Xt){const{partialObserver:zt}=this;if(zt.next)try{zt.next(Xt)}catch(Tt){ve(Tt)}}error(Xt){const{partialObserver:zt}=this;if(zt.error)try{zt.error(Xt)}catch(Tt){ve(Tt)}else ve(Xt)}complete(){const{partialObserver:Xt}=this;if(Xt.complete)try{Xt.complete()}catch(zt){ve(zt)}}}class le extends Rt{constructor(Xt,zt,Tt){let de;if(super(),(0,x.T)(Xt)||!Xt)de={next:Xt??void 0,error:zt??void 0,complete:Tt??void 0};else{let Te;this&&g.$.useDeprecatedNextContext?(Te=Object.create(Xt),Te.unsubscribe=()=>this.unsubscribe(),de={next:Xt.next&&jt(Xt.next,Te),error:Xt.error&&jt(Xt.error,Te),complete:Xt.complete&&jt(Xt.complete,Te)}):de=Xt}this.destination=new Ut(de)}}function ve(We){g.$.useDeprecatedSynchronousErrorHandling?(0,Dt.l)(We):(0,lt.m)(We)}function tn(We,Xt){const{onStoppedNotification:zt}=g.$;zt&&vt.f.setTimeout(()=>zt(We,Xt))}const be={closed:!0,next:ut.l,error:function Le(We){throw We},complete:ut.l}},3479:(dn,re,P)=>{"use strict";P.d(re,{Kn:()=>et,yU:()=>ut,Uv:()=>Bt});var x=P(4834);const g=(0,P(7272).L)(ft=>function(Dt){ft(this),this.message=Dt?`${Dt.length} errors occurred during unsubscription:\n${Dt.map((Rt,yt)=>`${yt+1}) ${Rt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Dt});var lt=P(1935);class ut{constructor(vt){this.initialTeardown=vt,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let vt;if(!this.closed){this.closed=!0;const{_parentage:Dt}=this;if(Dt)if(this._parentage=null,Array.isArray(Dt))for(const jt of Dt)jt.remove(this);else Dt.remove(this);const{initialTeardown:Rt}=this;if((0,x.T)(Rt))try{Rt()}catch(jt){vt=jt instanceof g?jt.errors:[jt]}const{_finalizers:yt}=this;if(yt){this._finalizers=null;for(const jt of yt)try{At(jt)}catch(Ut){vt=vt??[],Ut instanceof g?vt=[...vt,...Ut.errors]:vt.push(Ut)}}if(vt)throw new g(vt)}}add(vt){var Dt;if(vt&&vt!==this)if(this.closed)At(vt);else{if(vt instanceof ut){if(vt.closed||vt._hasParent(this))return;vt._addParent(this)}(this._finalizers=null!==(Dt=this._finalizers)&&void 0!==Dt?Dt:[]).push(vt)}}_hasParent(vt){const{_parentage:Dt}=this;return Dt===vt||Array.isArray(Dt)&&Dt.includes(vt)}_addParent(vt){const{_parentage:Dt}=this;this._parentage=Array.isArray(Dt)?(Dt.push(vt),Dt):Dt?[Dt,vt]:vt}_removeParent(vt){const{_parentage:Dt}=this;Dt===vt?this._parentage=null:Array.isArray(Dt)&&(0,lt.o)(Dt,vt)}remove(vt){const{_finalizers:Dt}=this;Dt&&(0,lt.o)(Dt,vt),vt instanceof ut&&vt._removeParent(this)}}ut.EMPTY=(()=>{const ft=new ut;return ft.closed=!0,ft})();const et=ut.EMPTY;function Bt(ft){return ft instanceof ut||ft&&"closed"in ft&&(0,x.T)(ft.remove)&&(0,x.T)(ft.add)&&(0,x.T)(ft.unsubscribe)}function At(ft){(0,x.T)(ft)?ft():ft.unsubscribe()}},1517:(dn,re,P)=>{"use strict";P.d(re,{$:()=>x});const x={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},103:(dn,re,P)=>{"use strict";P.d(re,{z:()=>vt});var x=P(3982),G=P(8568),g=P(3467),lt=P(7992),ut=P(1963),et=P(9323),Bt=P(2213),At=P(1391),ft=P(782);function vt(...yt){const jt=(0,et.lI)(yt),Ut=(0,et.ms)(yt),{args:le,keys:ve}=(0,G.D)(yt);if(0===le.length)return(0,g.H)([],jt);const Le=new x.c(function Dt(yt,jt,Ut=lt.D){return le=>{Rt(jt,()=>{const{length:ve}=yt,Le=new Array(ve);let tn=ve,be=ve;for(let We=0;We<ve;We++)Rt(jt,()=>{const Xt=(0,g.H)(yt[We],jt);let zt=!1;Xt.subscribe((0,At._)(le,Tt=>{Le[We]=Tt,zt||(zt=!0,be--),be||le.next(Ut(Le.slice()))},()=>{--tn||le.complete()}))},le)},le)}}(le,jt,ve?tn=>(0,Bt.e)(ve,tn):lt.D));return Ut?Le.pipe((0,ut.I)(Ut)):Le}function Rt(yt,jt,Ut){yt?(0,ft.N)(Ut,yt,jt):jt()}},3279:(dn,re,P)=>{"use strict";P.d(re,{x:()=>ut});var x=P(7294),g=P(9323),lt=P(3467);function ut(...et){return function G(){return(0,x.U)(1)}()((0,lt.H)(et,(0,g.lI)(et)))}},3777:(dn,re,P)=>{"use strict";P.d(re,{v:()=>g});var x=P(3982),G=P(4637);function g(lt){return new x.c(ut=>{(0,G.Tg)(lt()).subscribe(ut)})}},4080:(dn,re,P)=>{"use strict";P.d(re,{w:()=>G});const G=new(P(3982).c)(ut=>ut.complete())},745:(dn,re,P)=>{"use strict";P.d(re,{p:()=>At});var x=P(3982),G=P(8568),g=P(4637),lt=P(9323),ut=P(1391),et=P(1963),Bt=P(2213);function At(...ft){const vt=(0,lt.ms)(ft),{args:Dt,keys:Rt}=(0,G.D)(ft),yt=new x.c(jt=>{const{length:Ut}=Dt;if(!Ut)return void jt.complete();const le=new Array(Ut);let ve=Ut,Le=Ut;for(let tn=0;tn<Ut;tn++){let be=!1;(0,g.Tg)(Dt[tn]).subscribe((0,ut._)(jt,We=>{be||(be=!0,Le--),le[tn]=We},()=>ve--,void 0,()=>{(!ve||!be)&&(Le||jt.next(Rt?(0,Bt.e)(Rt,le):le),jt.complete())}))}});return vt?yt.pipe((0,et.I)(vt)):yt}},3467:(dn,re,P)=>{"use strict";P.d(re,{H:()=>zt});var x=P(4637),G=P(1240),g=P(1531);function lt(Tt,de=0){return(0,g.N)((Te,te)=>{te.add(Tt.schedule(()=>Te.subscribe(te),de))})}var Bt=P(3982),ft=P(8916),vt=P(4834),Dt=P(782);function yt(Tt,de){if(!Tt)throw new Error("Iterable cannot be null");return new Bt.c(Te=>{(0,Dt.N)(Te,de,()=>{const te=Tt[Symbol.asyncIterator]();(0,Dt.N)(Te,de,()=>{te.next().then($t=>{$t.done?Te.complete():Te.next($t.value)})},0,!0)})})}var jt=P(8228),Ut=P(2373),le=P(2454),ve=P(8296),Le=P(4566),tn=P(9958),be=P(7481);function zt(Tt,de){return de?function Xt(Tt,de){if(null!=Tt){if((0,jt.l)(Tt))return function ut(Tt,de){return(0,x.Tg)(Tt).pipe(lt(de),(0,G.Q)(de))}(Tt,de);if((0,le.X)(Tt))return function At(Tt,de){return new Bt.c(Te=>{let te=0;return de.schedule(function(){te===Tt.length?Te.complete():(Te.next(Tt[te++]),Te.closed||this.schedule())})})}(Tt,de);if((0,Ut.y)(Tt))return function et(Tt,de){return(0,x.Tg)(Tt).pipe(lt(de),(0,G.Q)(de))}(Tt,de);if((0,Le.T)(Tt))return yt(Tt,de);if((0,ve.x)(Tt))return function Rt(Tt,de){return new Bt.c(Te=>{let te;return(0,Dt.N)(Te,de,()=>{te=Tt[ft.l](),(0,Dt.N)(Te,de,()=>{let $t,Wt;try{({value:$t,done:Wt}=te.next())}catch(De){return void Te.error(De)}Wt?Te.complete():Te.next($t)},0,!0)}),()=>(0,vt.T)(te?.return)&&te.return()})}(Tt,de);if((0,be.U)(Tt))return function We(Tt,de){return yt((0,be.C)(Tt),de)}(Tt,de)}throw(0,tn.L)(Tt)}(Tt,de):(0,x.Tg)(Tt)}},8001:(dn,re,P)=>{"use strict";P.d(re,{R:()=>vt});var x=P(4637),G=P(3982),g=P(7252),lt=P(2454),ut=P(4834),et=P(1963);const Bt=["addListener","removeListener"],At=["addEventListener","removeEventListener"],ft=["on","off"];function vt(Ut,le,ve,Le){if((0,ut.T)(ve)&&(Le=ve,ve=void 0),Le)return vt(Ut,le,ve).pipe((0,et.I)(Le));const[tn,be]=function jt(Ut){return(0,ut.T)(Ut.addEventListener)&&(0,ut.T)(Ut.removeEventListener)}(Ut)?At.map(We=>Xt=>Ut[We](le,Xt,ve)):function Rt(Ut){return(0,ut.T)(Ut.addListener)&&(0,ut.T)(Ut.removeListener)}(Ut)?Bt.map(Dt(Ut,le)):function yt(Ut){return(0,ut.T)(Ut.on)&&(0,ut.T)(Ut.off)}(Ut)?ft.map(Dt(Ut,le)):[];if(!tn&&(0,lt.X)(Ut))return(0,g.Z)(We=>vt(We,le,ve))((0,x.Tg)(Ut));if(!tn)throw new TypeError("Invalid event target");return new G.c(We=>{const Xt=(...zt)=>We.next(1<zt.length?zt:zt[0]);return tn(Xt),()=>be(Xt)})}function Dt(Ut,le){return ve=>Le=>Ut[ve](le,Le)}},4637:(dn,re,P)=>{"use strict";P.d(re,{Tg:()=>yt});var x=P(3460),G=P(2454),g=P(2373),lt=P(3982),ut=P(8228),et=P(4566),Bt=P(9958),At=P(8296),ft=P(7481),vt=P(4834),Dt=P(6155),Rt=P(7303);function yt(We){if(We instanceof lt.c)return We;if(null!=We){if((0,ut.l)(We))return function jt(We){return new lt.c(Xt=>{const zt=We[Rt.s]();if((0,vt.T)(zt.subscribe))return zt.subscribe(Xt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,G.X)(We))return function Ut(We){return new lt.c(Xt=>{for(let zt=0;zt<We.length&&!Xt.closed;zt++)Xt.next(We[zt]);Xt.complete()})}(We);if((0,g.y)(We))return function le(We){return new lt.c(Xt=>{We.then(zt=>{Xt.closed||(Xt.next(zt),Xt.complete())},zt=>Xt.error(zt)).then(null,Dt.m)})}(We);if((0,et.T)(We))return Le(We);if((0,At.x)(We))return function ve(We){return new lt.c(Xt=>{for(const zt of We)if(Xt.next(zt),Xt.closed)return;Xt.complete()})}(We);if((0,ft.U)(We))return function tn(We){return Le((0,ft.C)(We))}(We)}throw(0,Bt.L)(We)}function Le(We){return new lt.c(Xt=>{(function be(We,Xt){var zt,Tt,de,Te;return(0,x.sH)(this,void 0,void 0,function*(){try{for(zt=(0,x.xN)(We);!(Tt=yield zt.next()).done;)if(Xt.next(Tt.value),Xt.closed)return}catch(te){de={error:te}}finally{try{Tt&&!Tt.done&&(Te=zt.return)&&(yield Te.call(zt))}finally{if(de)throw de.error}}Xt.complete()})})(We,Xt).catch(zt=>Xt.error(zt))})}},8169:(dn,re,P)=>{"use strict";P.d(re,{h:()=>et});var x=P(7294),G=P(4637),g=P(4080),lt=P(9323),ut=P(3467);function et(...Bt){const At=(0,lt.lI)(Bt),ft=(0,lt.R0)(Bt,1/0),vt=Bt;return vt.length?1===vt.length?(0,G.Tg)(vt[0]):(0,x.U)(ft)((0,ut.H)(vt,At)):g.w}},3204:(dn,re,P)=>{"use strict";P.d(re,{of:()=>g});var x=P(9323),G=P(3467);function g(...lt){const ut=(0,x.lI)(lt);return(0,G.H)(lt,ut)}},535:(dn,re,P)=>{"use strict";P.d(re,{$:()=>g});var x=P(3982),G=P(4834);function g(lt,ut){const et=(0,G.T)(lt)?lt:()=>lt,Bt=At=>At.error(et());return new x.c(ut?At=>ut.schedule(Bt,0,At):Bt)}},2388:(dn,re,P)=>{"use strict";P.d(re,{O:()=>ut});var x=P(3982),G=P(1201),g=P(5805),lt=P(5098);function ut(et=0,Bt,At=G.b){let ft=-1;return null!=Bt&&((0,g.m)(Bt)?At=Bt:ft=Bt),new x.c(vt=>{let Dt=(0,lt.v)(et)?+et-At.now():et;Dt<0&&(Dt=0);let Rt=0;return At.schedule(function(){vt.closed||(vt.next(Rt++),0<=ft?this.schedule(void 0,ft):vt.complete())},Dt)})}},1391:(dn,re,P)=>{"use strict";P.d(re,{H:()=>g,_:()=>G});var x=P(12);function G(lt,ut,et,Bt,At){return new g(lt,ut,et,Bt,At)}class g extends x.vU{constructor(ut,et,Bt,At,ft,vt){super(ut),this.onFinalize=ft,this.shouldUnsubscribe=vt,this._next=et?function(Dt){try{et(Dt)}catch(Rt){ut.error(Rt)}}:super._next,this._error=At?function(Dt){try{At(Dt)}catch(Rt){ut.error(Rt)}finally{this.unsubscribe()}}:super._error,this._complete=Bt?function(){try{Bt()}catch(Dt){ut.error(Dt)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ut;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:et}=this;super.unsubscribe(),!et&&(null===(ut=this.onFinalize)||void 0===ut||ut.call(this))}}}},8030:(dn,re,P)=>{"use strict";P.d(re,{Z:()=>Bt});var x=P(1201),G=P(1531),g=P(4637),lt=P(1391),et=P(2388);function Bt(At,ft=x.E){return function ut(At){return(0,G.N)((ft,vt)=>{let Dt=!1,Rt=null,yt=null,jt=!1;const Ut=()=>{if(yt?.unsubscribe(),yt=null,Dt){Dt=!1;const ve=Rt;Rt=null,vt.next(ve)}jt&&vt.complete()},le=()=>{yt=null,jt&&vt.complete()};ft.subscribe((0,lt._)(vt,ve=>{Dt=!0,Rt=ve,yt||(0,g.Tg)(At(ve)).subscribe(yt=(0,lt._)(vt,Ut,le))},()=>{jt=!0,(!Dt||!yt||yt.closed)&&vt.complete()}))})}(()=>(0,et.O)(At,ft))}},1534:(dn,re,P)=>{"use strict";P.d(re,{W:()=>lt});var x=P(4637),G=P(1391),g=P(1531);function lt(ut){return(0,g.N)((et,Bt)=>{let vt,At=null,ft=!1;At=et.subscribe((0,G._)(Bt,void 0,void 0,Dt=>{vt=(0,x.Tg)(ut(Dt,lt(ut)(et))),At?(At.unsubscribe(),At=null,vt.subscribe(Bt)):ft=!0})),ft&&(At.unsubscribe(),At=null,vt.subscribe(Bt))})}},5799:(dn,re,P)=>{"use strict";P.d(re,{H:()=>g});var x=P(7252),G=P(4834);function g(lt,ut){return(0,G.T)(ut)?(0,x.Z)(lt,ut,1):(0,x.Z)(lt,1)}},2151:(dn,re,P)=>{"use strict";P.d(re,{B:()=>lt});var x=P(1201),G=P(1531),g=P(1391);function lt(ut,et=x.E){return(0,G.N)((Bt,At)=>{let ft=null,vt=null,Dt=null;const Rt=()=>{if(ft){ft.unsubscribe(),ft=null;const jt=vt;vt=null,At.next(jt)}};function yt(){const jt=Dt+ut,Ut=et.now();if(Ut<jt)return ft=this.schedule(void 0,jt-Ut),void At.add(ft);Rt()}Bt.subscribe((0,g._)(At,jt=>{vt=jt,Dt=et.now(),ft||(ft=et.schedule(yt,ut),At.add(ft))},()=>{Rt(),At.complete()},void 0,()=>{vt=ft=null}))})}},7569:(dn,re,P)=>{"use strict";P.d(re,{F:()=>lt});var x=P(7992),G=P(1531),g=P(1391);function lt(et,Bt=x.D){return et=et??ut,(0,G.N)((At,ft)=>{let vt,Dt=!0;At.subscribe((0,g._)(ft,Rt=>{const yt=Bt(Rt);(Dt||!et(vt,yt))&&(Dt=!1,vt=yt,ft.next(Rt))}))})}function ut(et,Bt){return et===Bt}},6345:(dn,re,P)=>{"use strict";P.d(re,{p:()=>ut});var x=P(8199),G=P(4637),g=P(1531),lt=P(1391);function ut(et,Bt){return Bt?At=>At.pipe(ut((ft,vt)=>(0,G.Tg)(et(ft,vt)).pipe((0,x.T)((Dt,Rt)=>Bt(ft,Dt,vt,Rt))))):(0,g.N)((At,ft)=>{let vt=0,Dt=null,Rt=!1;At.subscribe((0,lt._)(ft,yt=>{Dt||(Dt=(0,lt._)(ft,void 0,()=>{Dt=null,Rt&&ft.complete()}),(0,G.Tg)(et(yt,vt++)).subscribe(Dt))},()=>{Rt=!0,!Dt&&ft.complete()}))})}},2647:(dn,re,P)=>{"use strict";P.d(re,{p:()=>g});var x=P(1531),G=P(1391);function g(lt,ut){return(0,x.N)((et,Bt)=>{let At=0;et.subscribe((0,G._)(Bt,ft=>lt.call(ut,ft,At++)&&Bt.next(ft)))})}},4507:(dn,re,P)=>{"use strict";P.d(re,{j:()=>G});var x=P(1531);function G(g){return(0,x.N)((lt,ut)=>{try{lt.subscribe(ut)}finally{ut.add(g)}})}},5266:(dn,re,P)=>{"use strict";P.d(re,{w:()=>lt});var x=P(1531),G=P(1391),g=P(1670);function lt(){return(0,x.N)((ut,et)=>{ut.subscribe((0,G._)(et,g.l))})}},8199:(dn,re,P)=>{"use strict";P.d(re,{T:()=>g});var x=P(1531),G=P(1391);function g(lt,ut){return(0,x.N)((et,Bt)=>{let At=0;et.subscribe((0,G._)(Bt,ft=>{Bt.next(lt.call(ut,ft,At++))}))})}},3498:(dn,re,P)=>{"use strict";P.d(re,{u:()=>G});var x=P(8199);function G(g){return(0,x.T)(()=>g)}},7294:(dn,re,P)=>{"use strict";P.d(re,{U:()=>g});var x=P(7252),G=P(7992);function g(lt=1/0){return(0,x.Z)(G.D,lt)}},7252:(dn,re,P)=>{"use strict";P.d(re,{Z:()=>At});var x=P(8199),G=P(4637),g=P(1531),lt=P(782),ut=P(1391),Bt=P(4834);function At(ft,vt,Dt=1/0){return(0,Bt.T)(vt)?At((Rt,yt)=>(0,x.T)((jt,Ut)=>vt(Rt,jt,yt,Ut))((0,G.Tg)(ft(Rt,yt))),Dt):("number"==typeof vt&&(Dt=vt),(0,g.N)((Rt,yt)=>function et(ft,vt,Dt,Rt,yt,jt,Ut,le){const ve=[];let Le=0,tn=0,be=!1;const We=()=>{be&&!ve.length&&!Le&&vt.complete()},Xt=Tt=>Le<Rt?zt(Tt):ve.push(Tt),zt=Tt=>{jt&&vt.next(Tt),Le++;let de=!1;(0,G.Tg)(Dt(Tt,tn++)).subscribe((0,ut._)(vt,Te=>{yt?.(Te),jt?Xt(Te):vt.next(Te)},()=>{de=!0},void 0,()=>{if(de)try{for(Le--;ve.length&&Le<Rt;){const Te=ve.shift();Ut?(0,lt.N)(vt,Ut,()=>zt(Te)):zt(Te)}We()}catch(Te){vt.error(Te)}}))};return ft.subscribe((0,ut._)(vt,Xt,()=>{be=!0,We()})),()=>{le?.()}}(Rt,yt,ft,Dt)))}},1240:(dn,re,P)=>{"use strict";P.d(re,{Q:()=>lt});var x=P(782),G=P(1531),g=P(1391);function lt(ut,et=0){return(0,G.N)((Bt,At)=>{Bt.subscribe((0,g._)(At,ft=>(0,x.N)(At,ut,()=>At.next(ft),et),()=>(0,x.N)(At,ut,()=>At.complete(),et),ft=>(0,x.N)(At,ut,()=>At.error(ft),et)))})}},1546:(dn,re,P)=>{"use strict";P.d(re,{S:()=>lt});var x=P(1531),G=P(1391);function lt(ut,et){return(0,x.N)(function g(ut,et,Bt,At,ft){return(vt,Dt)=>{let Rt=Bt,yt=et,jt=0;vt.subscribe((0,G._)(Dt,Ut=>{const le=jt++;yt=Rt?ut(yt,Ut,le):(Rt=!0,Ut),At&&Dt.next(yt)},ft&&(()=>{Rt&&Dt.next(yt),Dt.complete()})))}}(ut,et,arguments.length>=2,!0))}},3622:(dn,re,P)=>{"use strict";P.d(re,{u:()=>ut});var x=P(4637),G=P(1071),g=P(12),lt=P(1531);function ut(Bt={}){const{connector:At=()=>new G.B,resetOnError:ft=!0,resetOnComplete:vt=!0,resetOnRefCountZero:Dt=!0}=Bt;return Rt=>{let yt,jt,Ut,le=0,ve=!1,Le=!1;const tn=()=>{jt?.unsubscribe(),jt=void 0},be=()=>{tn(),yt=Ut=void 0,ve=Le=!1},We=()=>{const Xt=yt;be(),Xt?.unsubscribe()};return(0,lt.N)((Xt,zt)=>{le++,!Le&&!ve&&tn();const Tt=Ut=Ut??At();zt.add(()=>{le--,0===le&&!Le&&!ve&&(jt=et(We,Dt))}),Tt.subscribe(zt),!yt&&le>0&&(yt=new g.Ms({next:de=>Tt.next(de),error:de=>{Le=!0,tn(),jt=et(be,ft,de),Tt.error(de)},complete:()=>{ve=!0,tn(),jt=et(be,vt),Tt.complete()}}),(0,x.Tg)(Xt).subscribe(yt))})(Rt)}}function et(Bt,At,...ft){if(!0===At)return void Bt();if(!1===At)return;const vt=new g.Ms({next:()=>{vt.unsubscribe(),Bt()}});return(0,x.Tg)(At(...ft)).subscribe(vt)}},7621:(dn,re,P)=>{"use strict";P.d(re,{t:()=>g});var x=P(7650),G=P(3622);function g(lt,ut,et){let Bt,At=!1;return lt&&"object"==typeof lt?({bufferSize:Bt=1/0,windowTime:ut=1/0,refCount:At=!1,scheduler:et}=lt):Bt=lt??1/0,(0,G.u)({connector:()=>new x.m(Bt,ut,et),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:At})}},2422:(dn,re,P)=>{"use strict";P.d(re,{i:()=>G});var x=P(2647);function G(g){return(0,x.p)((lt,ut)=>g<=ut)}},613:(dn,re,P)=>{"use strict";P.d(re,{Z:()=>lt});var x=P(3279),G=P(9323),g=P(1531);function lt(...ut){const et=(0,G.lI)(ut);return(0,g.N)((Bt,At)=>{(et?(0,x.x)(ut,Bt,et):(0,x.x)(ut,Bt)).subscribe(At)})}},7071:(dn,re,P)=>{"use strict";P.d(re,{n:()=>lt});var x=P(4637),G=P(1531),g=P(1391);function lt(ut,et){return(0,G.N)((Bt,At)=>{let ft=null,vt=0,Dt=!1;const Rt=()=>Dt&&!ft&&At.complete();Bt.subscribe((0,g._)(At,yt=>{ft?.unsubscribe();let jt=0;const Ut=vt++;(0,x.Tg)(ut(yt,Ut)).subscribe(ft=(0,g._)(At,le=>At.next(et?et(yt,le,Ut,jt++):le),()=>{ft=null,Rt()}))},()=>{Dt=!0,Rt()}))})}},5910:(dn,re,P)=>{"use strict";P.d(re,{s:()=>lt});var x=P(4080),G=P(1531),g=P(1391);function lt(ut){return ut<=0?()=>x.w:(0,G.N)((et,Bt)=>{let At=0;et.subscribe((0,g._)(Bt,ft=>{++At<=ut&&(Bt.next(ft),ut<=At&&Bt.complete())}))})}},3796:(dn,re,P)=>{"use strict";P.d(re,{Q:()=>ut});var x=P(1531),G=P(1391),g=P(4637),lt=P(1670);function ut(et){return(0,x.N)((Bt,At)=>{(0,g.Tg)(et).subscribe((0,G._)(At,()=>At.complete(),lt.l)),!At.closed&&Bt.subscribe(At)})}},5044:(dn,re,P)=>{"use strict";P.d(re,{M:()=>ut});var x=P(4834),G=P(1531),g=P(1391),lt=P(7992);function ut(et,Bt,At){const ft=(0,x.T)(et)||Bt||At?{next:et,error:Bt,complete:At}:et;return ft?(0,G.N)((vt,Dt)=>{var Rt;null===(Rt=ft.subscribe)||void 0===Rt||Rt.call(ft);let yt=!0;vt.subscribe((0,g._)(Dt,jt=>{var Ut;null===(Ut=ft.next)||void 0===Ut||Ut.call(ft,jt),Dt.next(jt)},()=>{var jt;yt=!1,null===(jt=ft.complete)||void 0===jt||jt.call(ft),Dt.complete()},jt=>{var Ut;yt=!1,null===(Ut=ft.error)||void 0===Ut||Ut.call(ft,jt),Dt.error(jt)},()=>{var jt,Ut;yt&&(null===(jt=ft.unsubscribe)||void 0===jt||jt.call(ft)),null===(Ut=ft.finalize)||void 0===Ut||Ut.call(ft)}))}):lt.D}},6058:(dn,re,P)=>{"use strict";P.d(re,{E:()=>Bt});var x=P(1531),G=P(1391),g=P(4637),lt=P(7992),ut=P(1670),et=P(9323);function Bt(...At){const ft=(0,et.ms)(At);return(0,x.N)((vt,Dt)=>{const Rt=At.length,yt=new Array(Rt);let jt=At.map(()=>!1),Ut=!1;for(let le=0;le<Rt;le++)(0,g.Tg)(At[le]).subscribe((0,G._)(Dt,ve=>{yt[le]=ve,!Ut&&!jt[le]&&(jt[le]=!0,(Ut=jt.every(lt.D))&&(jt=null))},ut.l));vt.subscribe((0,G._)(Dt,le=>{if(Ut){const ve=[le,...yt];Dt.next(ft?ft(...ve):ve)}}))})}},7561:(dn,re,P)=>{"use strict";P.d(re,{R:()=>ut});var x=P(3479);class G extends x.yU{constructor(Bt,At){super()}schedule(Bt,At=0){return this}}const g={setInterval(et,Bt,...At){const{delegate:ft}=g;return ft?.setInterval?ft.setInterval(et,Bt,...At):setInterval(et,Bt,...At)},clearInterval(et){const{delegate:Bt}=g;return(Bt?.clearInterval||clearInterval)(et)},delegate:void 0};var lt=P(1935);class ut extends G{constructor(Bt,At){super(Bt,At),this.scheduler=Bt,this.work=At,this.pending=!1}schedule(Bt,At=0){var ft;if(this.closed)return this;this.state=Bt;const vt=this.id,Dt=this.scheduler;return null!=vt&&(this.id=this.recycleAsyncId(Dt,vt,At)),this.pending=!0,this.delay=At,this.id=null!==(ft=this.id)&&void 0!==ft?ft:this.requestAsyncId(Dt,this.id,At),this}requestAsyncId(Bt,At,ft=0){return g.setInterval(Bt.flush.bind(Bt,this),ft)}recycleAsyncId(Bt,At,ft=0){if(null!=ft&&this.delay===ft&&!1===this.pending)return At;null!=At&&g.clearInterval(At)}execute(Bt,At){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ft=this._execute(Bt,At);if(ft)return ft;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Bt,At){let vt,ft=!1;try{this.work(Bt)}catch(Dt){ft=!0,vt=Dt||new Error("Scheduled action threw falsy error")}if(ft)return this.unsubscribe(),vt}unsubscribe(){if(!this.closed){const{id:Bt,scheduler:At}=this,{actions:ft}=At;this.work=this.state=this.scheduler=null,this.pending=!1,(0,lt.o)(ft,this),null!=Bt&&(this.id=this.recycleAsyncId(At,Bt,null)),this.delay=null,super.unsubscribe()}}}},8792:(dn,re,P)=>{"use strict";P.d(re,{q:()=>g});var x=P(360);class G{constructor(ut,et=G.now){this.schedulerActionCtor=ut,this.now=et}schedule(ut,et=0,Bt){return new this.schedulerActionCtor(this,ut).schedule(Bt,et)}}G.now=x.U.now;class g extends G{constructor(ut,et=G.now){super(ut,et),this.actions=[],this._active=!1}flush(ut){const{actions:et}=this;if(this._active)return void et.push(ut);let Bt;this._active=!0;do{if(Bt=ut.execute(ut.state,ut.delay))break}while(ut=et.shift());if(this._active=!1,Bt){for(;ut=et.shift();)ut.unsubscribe();throw Bt}}}},7512:(dn,re,P)=>{"use strict";P.d(re,{X:()=>Bt});var x=P(7561),G=P(3479);const g={schedule(ft){let vt=requestAnimationFrame,Dt=cancelAnimationFrame;const{delegate:Rt}=g;Rt&&(vt=Rt.requestAnimationFrame,Dt=Rt.cancelAnimationFrame);const yt=vt(jt=>{Dt=void 0,ft(jt)});return new G.yU(()=>Dt?.(yt))},requestAnimationFrame(...ft){const{delegate:vt}=g;return(vt?.requestAnimationFrame||requestAnimationFrame)(...ft)},cancelAnimationFrame(...ft){const{delegate:vt}=g;return(vt?.cancelAnimationFrame||cancelAnimationFrame)(...ft)},delegate:void 0};var ut=P(8792);const Bt=new class et extends ut.q{flush(vt){this._active=!0;const Dt=this._scheduled;this._scheduled=void 0;const{actions:Rt}=this;let yt;vt=vt||Rt.shift();do{if(yt=vt.execute(vt.state,vt.delay))break}while((vt=Rt[0])&&vt.id===Dt&&Rt.shift());if(this._active=!1,yt){for(;(vt=Rt[0])&&vt.id===Dt&&Rt.shift();)vt.unsubscribe();throw yt}}}(class lt extends x.R{constructor(vt,Dt){super(vt,Dt),this.scheduler=vt,this.work=Dt}requestAsyncId(vt,Dt,Rt=0){return null!==Rt&&Rt>0?super.requestAsyncId(vt,Dt,Rt):(vt.actions.push(this),vt._scheduled||(vt._scheduled=g.requestAnimationFrame(()=>vt.flush(void 0))))}recycleAsyncId(vt,Dt,Rt=0){var yt;if(null!=Rt?Rt>0:this.delay>0)return super.recycleAsyncId(vt,Dt,Rt);const{actions:jt}=vt;null!=Dt&&(null===(yt=jt[jt.length-1])||void 0===yt?void 0:yt.id)!==Dt&&(g.cancelAnimationFrame(Dt),vt._scheduled=void 0)}})},7969:(dn,re,P)=>{"use strict";P.d(re,{$:()=>jt});var x=P(7561);let g,G=1;const lt={};function ut(le){return le in lt&&(delete lt[le],!0)}const et={setImmediate(le){const ve=G++;return lt[ve]=!0,g||(g=Promise.resolve()),g.then(()=>ut(ve)&&le()),ve},clearImmediate(le){ut(le)}},{setImmediate:At,clearImmediate:ft}=et,vt={setImmediate(...le){const{delegate:ve}=vt;return(ve?.setImmediate||At)(...le)},clearImmediate(le){const{delegate:ve}=vt;return(ve?.clearImmediate||ft)(le)},delegate:void 0};var Rt=P(8792);const jt=new class yt extends Rt.q{flush(ve){this._active=!0;const Le=this._scheduled;this._scheduled=void 0;const{actions:tn}=this;let be;ve=ve||tn.shift();do{if(be=ve.execute(ve.state,ve.delay))break}while((ve=tn[0])&&ve.id===Le&&tn.shift());if(this._active=!1,be){for(;(ve=tn[0])&&ve.id===Le&&tn.shift();)ve.unsubscribe();throw be}}}(class Dt extends x.R{constructor(ve,Le){super(ve,Le),this.scheduler=ve,this.work=Le}requestAsyncId(ve,Le,tn=0){return null!==tn&&tn>0?super.requestAsyncId(ve,Le,tn):(ve.actions.push(this),ve._scheduled||(ve._scheduled=vt.setImmediate(ve.flush.bind(ve,void 0))))}recycleAsyncId(ve,Le,tn=0){var be;if(null!=tn?tn>0:this.delay>0)return super.recycleAsyncId(ve,Le,tn);const{actions:We}=ve;null!=Le&&(null===(be=We[We.length-1])||void 0===be?void 0:be.id)!==Le&&(vt.clearImmediate(Le),ve._scheduled===Le&&(ve._scheduled=void 0))}})},1201:(dn,re,P)=>{"use strict";P.d(re,{E:()=>g,b:()=>lt});var x=P(7561);const g=new(P(8792).q)(x.R),lt=g},360:(dn,re,P)=>{"use strict";P.d(re,{U:()=>x});const x={now:()=>(x.delegate||Date).now(),delegate:void 0}},391:(dn,re,P)=>{"use strict";P.d(re,{T:()=>ut});var x=P(7561),g=P(8792);const ut=new class lt extends g.q{}(class G extends x.R{constructor(At,ft){super(At,ft),this.scheduler=At,this.work=ft}schedule(At,ft=0){return ft>0?super.schedule(At,ft):(this.delay=ft,this.state=At,this.scheduler.flush(this),this)}execute(At,ft){return ft>0||this.closed?super.execute(At,ft):this._execute(At,ft)}requestAsyncId(At,ft,vt=0){return null!=vt&&vt>0||null==vt&&this.delay>0?super.requestAsyncId(At,ft,vt):(At.flush(this),0)}})},7547:(dn,re,P)=>{"use strict";P.d(re,{f:()=>x});const x={setTimeout(G,g,...lt){const{delegate:ut}=x;return ut?.setTimeout?ut.setTimeout(G,g,...lt):setTimeout(G,g,...lt)},clearTimeout(G){const{delegate:g}=x;return(g?.clearTimeout||clearTimeout)(G)},delegate:void 0}},8916:(dn,re,P)=>{"use strict";P.d(re,{l:()=>G});const G=function x(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},7303:(dn,re,P)=>{"use strict";P.d(re,{s:()=>x});const x="function"==typeof Symbol&&Symbol.observable||"@@observable"},9323:(dn,re,P)=>{"use strict";P.d(re,{R0:()=>et,lI:()=>ut,ms:()=>lt});var x=P(4834),G=P(5805);function g(Bt){return Bt[Bt.length-1]}function lt(Bt){return(0,x.T)(g(Bt))?Bt.pop():void 0}function ut(Bt){return(0,G.m)(g(Bt))?Bt.pop():void 0}function et(Bt,At){return"number"==typeof g(Bt)?Bt.pop():At}},8568:(dn,re,P)=>{"use strict";P.d(re,{D:()=>ut});const{isArray:x}=Array,{getPrototypeOf:G,prototype:g,keys:lt}=Object;function ut(Bt){if(1===Bt.length){const At=Bt[0];if(x(At))return{args:At,keys:null};if(function et(Bt){return Bt&&"object"==typeof Bt&&G(Bt)===g}(At)){const ft=lt(At);return{args:ft.map(vt=>At[vt]),keys:ft}}}return{args:Bt,keys:null}}},1935:(dn,re,P)=>{"use strict";function x(G,g){if(G){const lt=G.indexOf(g);0<=lt&&G.splice(lt,1)}}P.d(re,{o:()=>x})},7272:(dn,re,P)=>{"use strict";function x(G){const lt=G(ut=>{Error.call(ut),ut.stack=(new Error).stack});return lt.prototype=Object.create(Error.prototype),lt.prototype.constructor=lt,lt}P.d(re,{L:()=>x})},2213:(dn,re,P)=>{"use strict";function x(G,g){return G.reduce((lt,ut,et)=>(lt[ut]=g[et],lt),{})}P.d(re,{e:()=>x})},4479:(dn,re,P)=>{"use strict";P.d(re,{Y:()=>g,l:()=>lt});var x=P(1517);let G=null;function g(ut){if(x.$.useDeprecatedSynchronousErrorHandling){const et=!G;if(et&&(G={errorThrown:!1,error:null}),ut(),et){const{errorThrown:Bt,error:At}=G;if(G=null,Bt)throw At}}else ut()}function lt(ut){x.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ut)}},782:(dn,re,P)=>{"use strict";function x(G,g,lt,ut=0,et=!1){const Bt=g.schedule(function(){lt(),et?G.add(this.schedule(null,ut)):this.unsubscribe()},ut);if(G.add(Bt),!et)return Bt}P.d(re,{N:()=>x})},7992:(dn,re,P)=>{"use strict";function x(G){return G}P.d(re,{D:()=>x})},2454:(dn,re,P)=>{"use strict";P.d(re,{X:()=>x});const x=G=>G&&"number"==typeof G.length&&"function"!=typeof G},4566:(dn,re,P)=>{"use strict";P.d(re,{T:()=>G});var x=P(4834);function G(g){return Symbol.asyncIterator&&(0,x.T)(g?.[Symbol.asyncIterator])}},5098:(dn,re,P)=>{"use strict";function x(G){return G instanceof Date&&!isNaN(G)}P.d(re,{v:()=>x})},4834:(dn,re,P)=>{"use strict";function x(G){return"function"==typeof G}P.d(re,{T:()=>x})},8228:(dn,re,P)=>{"use strict";P.d(re,{l:()=>g});var x=P(7303),G=P(4834);function g(lt){return(0,G.T)(lt[x.s])}},8296:(dn,re,P)=>{"use strict";P.d(re,{x:()=>g});var x=P(8916),G=P(4834);function g(lt){return(0,G.T)(lt?.[x.l])}},7375:(dn,re,P)=>{"use strict";P.d(re,{A:()=>g});var x=P(3982),G=P(4834);function g(lt){return!!lt&&(lt instanceof x.c||(0,G.T)(lt.lift)&&(0,G.T)(lt.subscribe))}},2373:(dn,re,P)=>{"use strict";P.d(re,{y:()=>G});var x=P(4834);function G(g){return(0,x.T)(g?.then)}},7481:(dn,re,P)=>{"use strict";P.d(re,{C:()=>g,U:()=>lt});var x=P(3460),G=P(4834);function g(ut){return(0,x.AQ)(this,arguments,function*(){const Bt=ut.getReader();try{for(;;){const{value:At,done:ft}=yield(0,x.N3)(Bt.read());if(ft)return yield(0,x.N3)(void 0);yield yield(0,x.N3)(At)}}finally{Bt.releaseLock()}})}function lt(ut){return(0,G.T)(ut?.getReader)}},5805:(dn,re,P)=>{"use strict";P.d(re,{m:()=>G});var x=P(4834);function G(g){return g&&(0,x.T)(g.schedule)}},1531:(dn,re,P)=>{"use strict";P.d(re,{N:()=>g,S:()=>G});var x=P(4834);function G(lt){return(0,x.T)(lt?.lift)}function g(lt){return ut=>{if(G(ut))return ut.lift(function(et){try{return lt(et,this)}catch(Bt){this.error(Bt)}});throw new TypeError("Unable to lift unknown Observable type")}}},1963:(dn,re,P)=>{"use strict";P.d(re,{I:()=>lt});var x=P(8199);const{isArray:G}=Array;function lt(ut){return(0,x.T)(et=>function g(ut,et){return G(et)?ut(...et):ut(et)}(ut,et))}},1670:(dn,re,P)=>{"use strict";function x(){}P.d(re,{l:()=>x})},3754:(dn,re,P)=>{"use strict";P.d(re,{F:()=>G,m:()=>g});var x=P(7992);function G(...lt){return g(lt)}function g(lt){return 0===lt.length?x.D:1===lt.length?lt[0]:function(et){return lt.reduce((Bt,At)=>At(Bt),et)}}},6155:(dn,re,P)=>{"use strict";P.d(re,{m:()=>g});var x=P(1517),G=P(7547);function g(lt){G.f.setTimeout(()=>{const{onUnhandledError:ut}=x.$;if(!ut)throw lt;ut(lt)})}},9958:(dn,re,P)=>{"use strict";function x(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(re,{L:()=>x})},1732:(dn,re,P)=>{"use strict";P.d(re,{FX:()=>Te,If:()=>x,K2:()=>et,MA:()=>Rt,Os:()=>ut,P:()=>jt,hZ:()=>g,i0:()=>lt,iF:()=>Bt,kY:()=>vt,kp:()=>G,sf:()=>Tt,ui:()=>de,wk:()=>At});var x=function(te){return te[te.State=0]="State",te[te.Transition=1]="Transition",te[te.Sequence=2]="Sequence",te[te.Group=3]="Group",te[te.Animate=4]="Animate",te[te.Keyframes=5]="Keyframes",te[te.Style=6]="Style",te[te.Trigger=7]="Trigger",te[te.Reference=8]="Reference",te[te.AnimateChild=9]="AnimateChild",te[te.AnimateRef=10]="AnimateRef",te[te.Query=11]="Query",te[te.Stagger=12]="Stagger",te}(x||{});const G="*";function g(te,$t){return{type:x.Trigger,name:te,definitions:$t,options:{}}}function lt(te,$t=null){return{type:x.Animate,styles:$t,timings:te}}function ut(te,$t=null){return{type:x.Group,steps:te,options:$t}}function et(te,$t=null){return{type:x.Sequence,steps:te,options:$t}}function Bt(te){return{type:x.Style,styles:te,offset:null}}function At(te,$t,Wt){return{type:x.State,name:te,styles:$t,options:Wt}}function vt(te,$t,Wt=null){return{type:x.Transition,expr:te,animation:$t,options:Wt}}function Rt(te=null){return{type:x.AnimateChild,options:te}}function jt(te,$t,Wt=null){return{type:x.Query,selector:te,animation:$t,options:Wt}}class Tt{constructor($t=0,Wt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=$t+Wt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach($t=>$t()),this._onDoneFns=[])}onStart($t){this._originalOnStartFns.push($t),this._onStartFns.push($t)}onDone($t){this._originalOnDoneFns.push($t),this._onDoneFns.push($t)}onDestroy($t){this._onDestroyFns.push($t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach($t=>$t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach($t=>$t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition($t){this._position=this.totalTime?$t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback($t){const Wt="start"==$t?this._onStartFns:this._onDoneFns;Wt.forEach(De=>De()),Wt.length=0}}class de{constructor($t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=$t;let Wt=0,De=0,xe=0;const he=this.players.length;0==he?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ae=>{Ae.onDone(()=>{++Wt==he&&this._onFinish()}),Ae.onDestroy(()=>{++De==he&&this._onDestroy()}),Ae.onStart(()=>{++xe==he&&this._onStart()})}),this.totalTime=this.players.reduce((Ae,qt)=>Math.max(Ae,qt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach($t=>$t()),this._onDoneFns=[])}init(){this.players.forEach($t=>$t.init())}onStart($t){this._onStartFns.push($t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach($t=>$t()),this._onStartFns=[])}onDone($t){this._onDoneFns.push($t)}onDestroy($t){this._onDestroyFns.push($t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach($t=>$t.play())}pause(){this.players.forEach($t=>$t.pause())}restart(){this.players.forEach($t=>$t.restart())}finish(){this._onFinish(),this.players.forEach($t=>$t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach($t=>$t.destroy()),this._onDestroyFns.forEach($t=>$t()),this._onDestroyFns=[])}reset(){this.players.forEach($t=>$t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition($t){const Wt=$t*this.totalTime;this.players.forEach(De=>{const xe=De.totalTime?Math.min(1,Wt/De.totalTime):1;De.setPosition(xe)})}getPosition(){const $t=this.players.reduce((Wt,De)=>null===Wt||De.totalTime>Wt.totalTime?De:Wt,null);return null!=$t?$t.getPosition():0}beforeDestroy(){this.players.forEach($t=>{$t.beforeDestroy&&$t.beforeDestroy()})}triggerCallback($t){const Wt="start"==$t?this._onStartFns:this._onDoneFns;Wt.forEach(De=>De()),Wt.length=0}}const Te="!"},6582:(dn,re,P)=>{"use strict";P.d(re,{Pd:()=>Me,Au:()=>dt,vr:()=>De,Bu:()=>ht,FN:()=>Ze,GX:()=>Qe,Q_:()=>Gt,Z7:()=>cn,Ai:()=>Nn,px:()=>zt,_G:()=>ae,w6:()=>Ie,Ae:()=>Tt});var x=P(9284),G=P(4291),g=P(3823),lt=P(1071),ut=P(3479),Bt=(P(7375),P(3204)),At=P(8093),ft=P(2675),vt=P(5044),Dt=P(2151),Rt=P(2647),yt=P(8199),Ut=(P(5910),P(2422)),le=P(7569),ve=P(3796),tn=P(2959),be=P(4498),We=P(3260);const Xt=" ";function zt(Zt,Ht,wt){const Yt=de(Zt,Ht);wt=wt.trim(),!Yt.some(je=>je.trim()===wt)&&(Yt.push(wt),Zt.setAttribute(Ht,Yt.join(Xt)))}function Tt(Zt,Ht,wt){const Yt=de(Zt,Ht);wt=wt.trim();const je=Yt.filter(Xe=>Xe!==wt);je.length?Zt.setAttribute(Ht,je.join(Xt)):Zt.removeAttribute(Ht)}function de(Zt,Ht){return Zt.getAttribute(Ht)?.match(/\S+/g)??[]}const te="cdk-describedby-message",$t="cdk-describedby-host";let Wt=0,De=(()=>{class Zt{constructor(wt,Yt){this._platform=Yt,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Wt++,this._document=wt,this._id=(0,G.WQX)(G.sZ2)+"-"+Wt++}describe(wt,Yt,je){if(!this._canBeDescribed(wt,Yt))return;const Xe=xe(Yt,je);"string"!=typeof Yt?(he(Yt,this._id),this._messageRegistry.set(Xe,{messageElement:Yt,referenceCount:0})):this._messageRegistry.has(Xe)||this._createMessageElement(Yt,je),this._isElementDescribedByMessage(wt,Xe)||this._addMessageReference(wt,Xe)}removeDescription(wt,Yt,je){if(!Yt||!this._isElementNode(wt))return;const Xe=xe(Yt,je);if(this._isElementDescribedByMessage(wt,Xe)&&this._removeMessageReference(wt,Xe),"string"==typeof Yt){const Jn=this._messageRegistry.get(Xe);Jn&&0===Jn.referenceCount&&this._deleteMessageElement(Xe)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const wt=this._document.querySelectorAll(`[${$t}="${this._id}"]`);for(let Yt=0;Yt<wt.length;Yt++)this._removeCdkDescribedByReferenceIds(wt[Yt]),wt[Yt].removeAttribute($t);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(wt,Yt){const je=this._document.createElement("div");he(je,this._id),je.textContent=wt,Yt&&je.setAttribute("role",Yt),this._createMessagesContainer(),this._messagesContainer.appendChild(je),this._messageRegistry.set(xe(wt,Yt),{messageElement:je,referenceCount:0})}_deleteMessageElement(wt){this._messageRegistry.get(wt)?.messageElement?.remove(),this._messageRegistry.delete(wt)}_createMessagesContainer(){if(this._messagesContainer)return;const wt="cdk-describedby-message-container",Yt=this._document.querySelectorAll(`.${wt}[platform="server"]`);for(let Xe=0;Xe<Yt.length;Xe++)Yt[Xe].remove();const je=this._document.createElement("div");je.style.visibility="hidden",je.classList.add(wt),je.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&je.setAttribute("platform","server"),this._document.body.appendChild(je),this._messagesContainer=je}_removeCdkDescribedByReferenceIds(wt){const Yt=de(wt,"aria-describedby").filter(je=>0!=je.indexOf(te));wt.setAttribute("aria-describedby",Yt.join(" "))}_addMessageReference(wt,Yt){const je=this._messageRegistry.get(Yt);zt(wt,"aria-describedby",je.messageElement.id),wt.setAttribute($t,this._id),je.referenceCount++}_removeMessageReference(wt,Yt){const je=this._messageRegistry.get(Yt);je.referenceCount--,Tt(wt,"aria-describedby",je.messageElement.id),wt.removeAttribute($t)}_isElementDescribedByMessage(wt,Yt){const je=de(wt,"aria-describedby"),Xe=this._messageRegistry.get(Yt),Jn=Xe&&Xe.messageElement.id;return!!Jn&&-1!=je.indexOf(Jn)}_canBeDescribed(wt,Yt){if(!this._isElementNode(wt))return!1;if(Yt&&"object"==typeof Yt)return!0;const je=null==Yt?"":`${Yt}`.trim(),Xe=wt.getAttribute("aria-label");return!(!je||Xe&&Xe.trim()===je)}_isElementNode(wt){return wt.nodeType===this._document.ELEMENT_NODE}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(x.qQ),G.KVO(g.OD))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();function xe(Zt,Ht){return"string"==typeof Zt?`${Ht||""}/${Zt}`:Zt}function he(Zt,Ht){Zt.id||(Zt.id=`${te}-${Ht}-${Wt++}`)}class qt{constructor(Ht,wt){this._letterKeyStream=new lt.B,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new lt.B,this.selectedItem=this._selectedItem;const Yt="number"==typeof wt?.debounceInterval?wt.debounceInterval:200;wt?.skipPredicate&&(this._skipPredicateFn=wt.skipPredicate),this.setItems(Ht),this._setupKeyHandler(Yt)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(Ht){this._selectedItemIndex=Ht}setItems(Ht){this._items=Ht}handleKey(Ht){const wt=Ht.keyCode;Ht.key&&1===Ht.key.length?this._letterKeyStream.next(Ht.key.toLocaleUpperCase()):(wt>=ft.A&&wt<=ft.Z||wt>=ft.f2&&wt<=ft.bn)&&this._letterKeyStream.next(String.fromCharCode(wt))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(Ht){this._letterKeyStream.pipe((0,vt.M)(wt=>this._pressedLetters.push(wt)),(0,Dt.B)(Ht),(0,Rt.p)(()=>this._pressedLetters.length>0),(0,yt.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(wt=>{for(let Yt=1;Yt<this._items.length+1;Yt++){const Xe=this._items[(this._selectedItemIndex+Yt)%this._items.length];if(!this._skipPredicateFn?.(Xe)&&0===Xe.getLabel?.().toLocaleUpperCase().trim().indexOf(wt)){this._selectedItem.next(Xe);break}}this._pressedLetters=[]})}}class Ot{constructor(Ht,wt){this._items=Ht,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=ut.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Yt=>Yt.disabled,this.tabOut=new lt.B,this.change=new lt.B,Ht instanceof G.rOR?this._itemChangesSubscription=Ht.changes.subscribe(Yt=>this._itemsChanged(Yt.toArray())):(0,G.Hps)(Ht)&&(this._effectRef=(0,G.QZP)(()=>this._itemsChanged(Ht()),{injector:wt}))}skipPredicate(Ht){return this._skipPredicateFn=Ht,this}withWrap(Ht=!0){return this._wrap=Ht,this}withVerticalOrientation(Ht=!0){return this._vertical=Ht,this}withHorizontalOrientation(Ht){return this._horizontal=Ht,this}withAllowedModifierKeys(Ht){return this._allowedModifierKeys=Ht,this}withTypeAhead(Ht=200){this._typeaheadSubscription.unsubscribe();const wt=this._getItemsArray();return this._typeahead=new qt(wt,{debounceInterval:"number"==typeof Ht?Ht:void 0,skipPredicate:Yt=>this._skipPredicateFn(Yt)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(Yt=>{this.setActiveItem(Yt)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(Ht=!0){return this._homeAndEnd=Ht,this}withPageUpDown(Ht=!0,wt=10){return this._pageUpAndDown={enabled:Ht,delta:wt},this}setActiveItem(Ht){const wt=this._activeItem;this.updateActiveItem(Ht),this._activeItem!==wt&&this.change.next(this._activeItemIndex)}onKeydown(Ht){const wt=Ht.keyCode,je=["altKey","ctrlKey","metaKey","shiftKey"].every(Xe=>!Ht[Xe]||this._allowedModifierKeys.indexOf(Xe)>-1);switch(wt){case ft.wn:return void this.tabOut.next();case ft.n6:if(this._vertical&&je){this.setNextItemActive();break}return;case ft.i7:if(this._vertical&&je){this.setPreviousItemActive();break}return;case ft.LE:if(this._horizontal&&je){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ft.UQ:if(this._horizontal&&je){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ft.yZ:if(this._homeAndEnd&&je){this.setFirstItemActive();break}return;case ft.Kp:if(this._homeAndEnd&&je){this.setLastItemActive();break}return;case ft.w_:if(this._pageUpAndDown.enabled&&je){const Xe=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Xe>0?Xe:0,1);break}return;case ft.dB:if(this._pageUpAndDown.enabled&&je){const Xe=this._activeItemIndex+this._pageUpAndDown.delta,Jn=this._getItemsArray().length;this._setActiveItemByIndex(Xe<Jn?Xe:Jn-1,-1);break}return;default:return void((je||(0,ft.rp)(Ht,"shiftKey"))&&this._typeahead?.handleKey(Ht))}this._typeahead?.reset(),Ht.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ht){const wt=this._getItemsArray(),Yt="number"==typeof Ht?Ht:wt.indexOf(Ht);this._activeItem=wt[Yt]??null,this._activeItemIndex=Yt,this._typeahead?.setCurrentSelectedItemIndex(Yt)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(Ht){this._wrap?this._setActiveInWrapMode(Ht):this._setActiveInDefaultMode(Ht)}_setActiveInWrapMode(Ht){const wt=this._getItemsArray();for(let Yt=1;Yt<=wt.length;Yt++){const je=(this._activeItemIndex+Ht*Yt+wt.length)%wt.length;if(!this._skipPredicateFn(wt[je]))return void this.setActiveItem(je)}}_setActiveInDefaultMode(Ht){this._setActiveItemByIndex(this._activeItemIndex+Ht,Ht)}_setActiveItemByIndex(Ht,wt){const Yt=this._getItemsArray();if(Yt[Ht]){for(;this._skipPredicateFn(Yt[Ht]);)if(!Yt[Ht+=wt])return;this.setActiveItem(Ht)}}_getItemsArray(){return(0,G.Hps)(this._items)?this._items():this._items instanceof G.rOR?this._items.toArray():this._items}_itemsChanged(Ht){if(this._typeahead?.setItems(Ht),this._activeItem){const wt=Ht.indexOf(this._activeItem);wt>-1&&wt!==this._activeItemIndex&&(this._activeItemIndex=wt,this._typeahead?.setCurrentSelectedItemIndex(wt))}}}class dt extends Ot{setActiveItem(Ht){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ht),this.activeItem&&this.activeItem.setActiveStyles()}}class ht extends Ot{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ht){return this._origin=Ht,this}setActiveItem(Ht){super.setActiveItem(Ht),this.activeItem&&this.activeItem.focus(this._origin)}}let cn=(()=>{class Zt{constructor(wt){this._platform=wt}isDisabled(wt){return wt.hasAttribute("disabled")}isVisible(wt){return function Di(Zt){return!!(Zt.offsetWidth||Zt.offsetHeight||"function"==typeof Zt.getClientRects&&Zt.getClientRects().length)}(wt)&&"visible"===getComputedStyle(wt).visibility}isTabbable(wt){if(!this._platform.isBrowser)return!1;const Yt=function Ln(Zt){try{return Zt.frameElement}catch{return null}}(function ue(Zt){return Zt.ownerDocument&&Zt.ownerDocument.defaultView||window}(wt));if(Yt&&(-1===Dn(Yt)||!this.isVisible(Yt)))return!1;let je=wt.nodeName.toLowerCase(),Xe=Dn(wt);return wt.hasAttribute("contenteditable")?-1!==Xe:!("iframe"===je||"object"===je||this._platform.WEBKIT&&this._platform.IOS&&!function on(Zt){let Ht=Zt.nodeName.toLowerCase(),wt="input"===Ht&&Zt.type;return"text"===wt||"password"===wt||"select"===Ht||"textarea"===Ht}(wt))&&("audio"===je?!!wt.hasAttribute("controls")&&-1!==Xe:"video"===je?-1!==Xe&&(null!==Xe||this._platform.FIREFOX||wt.hasAttribute("controls")):wt.tabIndex>=0)}isFocusable(wt,Yt){return function _t(Zt){return!function ii(Zt){return function ki(Zt){return"input"==Zt.nodeName.toLowerCase()}(Zt)&&"hidden"==Zt.type}(Zt)&&(function Fn(Zt){let Ht=Zt.nodeName.toLowerCase();return"input"===Ht||"select"===Ht||"button"===Ht||"textarea"===Ht}(Zt)||function Si(Zt){return function Ii(Zt){return"a"==Zt.nodeName.toLowerCase()}(Zt)&&Zt.hasAttribute("href")}(Zt)||Zt.hasAttribute("contenteditable")||Fi(Zt))}(wt)&&!this.isDisabled(wt)&&(Yt?.ignoreVisibility||this.isVisible(wt))}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(g.OD))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();function Fi(Zt){if(!Zt.hasAttribute("tabindex")||void 0===Zt.tabIndex)return!1;let Ht=Zt.getAttribute("tabindex");return!(!Ht||isNaN(parseInt(Ht,10)))}function Dn(Zt){if(!Fi(Zt))return null;const Ht=parseInt(Zt.getAttribute("tabindex")||"",10);return isNaN(Ht)?-1:Ht}class me{get enabled(){return this._enabled}set enabled(Ht){this._enabled=Ht,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ht,this._startAnchor),this._toggleAnchorTabIndex(Ht,this._endAnchor))}constructor(Ht,wt,Yt,je,Xe=!1,Jn){this._element=Ht,this._checker=wt,this._ngZone=Yt,this._document=je,this._injector=Jn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Xe||this.attachAnchors()}destroy(){const Ht=this._startAnchor,wt=this._endAnchor;Ht&&(Ht.removeEventListener("focus",this.startAnchorListener),Ht.remove()),wt&&(wt.removeEventListener("focus",this.endAnchorListener),wt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ht){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusInitialElement(Ht)))})}focusFirstTabbableElementWhenReady(Ht){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusFirstTabbableElement(Ht)))})}focusLastTabbableElementWhenReady(Ht){return new Promise(wt=>{this._executeOnStable(()=>wt(this.focusLastTabbableElement(Ht)))})}_getRegionBoundary(Ht){const wt=this._element.querySelectorAll(`[cdk-focus-region-${Ht}], [cdkFocusRegion${Ht}], [cdk-focus-${Ht}]`);return"start"==Ht?wt.length?wt[0]:this._getFirstTabbableElement(this._element):wt.length?wt[wt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ht){const wt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(wt){if(!this._checker.isFocusable(wt)){const Yt=this._getFirstTabbableElement(wt);return Yt?.focus(Ht),!!Yt}return wt.focus(Ht),!0}return this.focusFirstTabbableElement(Ht)}focusFirstTabbableElement(Ht){const wt=this._getRegionBoundary("start");return wt&&wt.focus(Ht),!!wt}focusLastTabbableElement(Ht){const wt=this._getRegionBoundary("end");return wt&&wt.focus(Ht),!!wt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ht){if(this._checker.isFocusable(Ht)&&this._checker.isTabbable(Ht))return Ht;const wt=Ht.children;for(let Yt=0;Yt<wt.length;Yt++){const je=wt[Yt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(wt[Yt]):null;if(je)return je}return null}_getLastTabbableElement(Ht){if(this._checker.isFocusable(Ht)&&this._checker.isTabbable(Ht))return Ht;const wt=Ht.children;for(let Yt=wt.length-1;Yt>=0;Yt--){const je=wt[Yt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(wt[Yt]):null;if(je)return je}return null}_createAnchor(){const Ht=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ht),Ht.classList.add("cdk-visually-hidden"),Ht.classList.add("cdk-focus-trap-anchor"),Ht.setAttribute("aria-hidden","true"),Ht}_toggleAnchorTabIndex(Ht,wt){Ht?wt.setAttribute("tabindex","0"):wt.removeAttribute("tabindex")}toggleAnchors(Ht){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ht,this._startAnchor),this._toggleAnchorTabIndex(Ht,this._endAnchor))}_executeOnStable(Ht){this._injector?(0,G.mal)(Ht,{injector:this._injector}):setTimeout(Ht)}}let Qe=(()=>{class Zt{constructor(wt,Yt,je){this._checker=wt,this._ngZone=Yt,this._injector=(0,G.WQX)(G.zZn),this._document=je}create(wt,Yt=!1){return new me(wt,this._checker,this._ngZone,this._document,Yt,this._injector)}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(cn),G.KVO(G.SKi),G.KVO(x.qQ))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();function ae(Zt){return 0===Zt.buttons||0===Zt.detail}function Ie(Zt){const Ht=Zt.touches&&Zt.touches[0]||Zt.changedTouches&&Zt.changedTouches[0];return!(!Ht||-1!==Ht.identifier||null!=Ht.radiusX&&1!==Ht.radiusX||null!=Ht.radiusY&&1!==Ht.radiusY)}const Ke=new G.nKC("cdk-input-modality-detector-options"),Cn={ignoreKeys:[ft.A$,ft.W3,ft.eg,ft.Ge,ft.FX]},di=(0,g.BQ)({passive:!0,capture:!0});let Re=(()=>{class Zt{get mostRecentModality(){return this._modality.value}constructor(wt,Yt,je,Xe){this._platform=wt,this._mostRecentTarget=null,this._modality=new At.t(null),this._lastTouchMs=0,this._onKeydown=Jn=>{this._options?.ignoreKeys?.some(Tr=>Tr===Jn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,g.Fb)(Jn))},this._onMousedown=Jn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ae(Jn)?"keyboard":"mouse"),this._mostRecentTarget=(0,g.Fb)(Jn))},this._onTouchstart=Jn=>{Ie(Jn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,g.Fb)(Jn))},this._options={...Cn,...Xe},this.modalityDetected=this._modality.pipe((0,Ut.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,le.F)()),wt.isBrowser&&Yt.runOutsideAngular(()=>{je.addEventListener("keydown",this._onKeydown,di),je.addEventListener("mousedown",this._onMousedown,di),je.addEventListener("touchstart",this._onTouchstart,di)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,di),document.removeEventListener("mousedown",this._onMousedown,di),document.removeEventListener("touchstart",this._onTouchstart,di))}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(g.OD),G.KVO(G.SKi),G.KVO(x.qQ),G.KVO(Ke,8))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();const Mn=new G.nKC("liveAnnouncerElement",{providedIn:"root",factory:function an(){return null}}),wn=new G.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ue=0,Nn=(()=>{class Zt{constructor(wt,Yt,je,Xe){this._ngZone=Yt,this._defaultOptions=Xe,this._document=je,this._liveElement=wt||this._createLiveElement()}announce(wt,...Yt){const je=this._defaultOptions;let Xe,Jn;return 1===Yt.length&&"number"==typeof Yt[0]?Jn=Yt[0]:[Xe,Jn]=Yt,this.clear(),clearTimeout(this._previousTimeout),Xe||(Xe=je&&je.politeness?je.politeness:"polite"),null==Jn&&je&&(Jn=je.duration),this._liveElement.setAttribute("aria-live",Xe),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Tr=>this._currentResolve=Tr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=wt,"number"==typeof Jn&&(this._previousTimeout=setTimeout(()=>this.clear(),Jn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const wt="cdk-live-announcer-element",Yt=this._document.getElementsByClassName(wt),je=this._document.createElement("div");for(let Xe=0;Xe<Yt.length;Xe++)Yt[Xe].remove();return je.classList.add(wt),je.classList.add("cdk-visually-hidden"),je.setAttribute("aria-atomic","true"),je.setAttribute("aria-live","polite"),je.id="cdk-live-announcer-"+Ue++,this._document.body.appendChild(je),je}_exposeAnnouncerToModals(wt){const Yt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let je=0;je<Yt.length;je++){const Xe=Yt[je],Jn=Xe.getAttribute("aria-owns");Jn?-1===Jn.indexOf(wt)&&Xe.setAttribute("aria-owns",Jn+" "+wt):Xe.setAttribute("aria-owns",wt)}}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(Mn,8),G.KVO(G.SKi),G.KVO(x.qQ),G.KVO(wn,8))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();var Mt=function(Zt){return Zt[Zt.IMMEDIATE=0]="IMMEDIATE",Zt[Zt.EVENTUAL=1]="EVENTUAL",Zt}(Mt||{});const gt=new G.nKC("cdk-focus-monitor-default-options"),Lt=(0,g.BQ)({passive:!0,capture:!0});let Ze=(()=>{class Zt{constructor(wt,Yt,je,Xe,Jn){this._ngZone=wt,this._platform=Yt,this._inputModalityDetector=je,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt.B,this._rootNodeFocusAndBlurListener=Tr=>{for(let Xr=(0,g.Fb)(Tr);Xr;Xr=Xr.parentElement)"focus"===Tr.type?this._onFocus(Tr,Xr):this._onBlur(Tr,Xr)},this._document=Xe,this._detectionMode=Jn?.detectionMode||Mt.IMMEDIATE}monitor(wt,Yt=!1){const je=(0,be.i8)(wt);if(!this._platform.isBrowser||1!==je.nodeType)return(0,Bt.of)();const Xe=(0,g.KT)(je)||this._getDocument(),Jn=this._elementInfo.get(je);if(Jn)return Yt&&(Jn.checkChildren=!0),Jn.subject;const Tr={checkChildren:Yt,subject:new lt.B,rootNode:Xe};return this._elementInfo.set(je,Tr),this._registerGlobalListeners(Tr),Tr.subject}stopMonitoring(wt){const Yt=(0,be.i8)(wt),je=this._elementInfo.get(Yt);je&&(je.subject.complete(),this._setClasses(Yt),this._elementInfo.delete(Yt),this._removeGlobalListeners(je))}focusVia(wt,Yt,je){const Xe=(0,be.i8)(wt);Xe===this._getDocument().activeElement?this._getClosestElementsInfo(Xe).forEach(([Tr,to])=>this._originChanged(Tr,Yt,to)):(this._setOrigin(Yt),"function"==typeof Xe.focus&&Xe.focus(je))}ngOnDestroy(){this._elementInfo.forEach((wt,Yt)=>this.stopMonitoring(Yt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(wt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(wt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:wt&&this._isLastInteractionFromInputLabel(wt)?"mouse":"program"}_shouldBeAttributedToTouch(wt){return this._detectionMode===Mt.EVENTUAL||!!wt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(wt,Yt){wt.classList.toggle("cdk-focused",!!Yt),wt.classList.toggle("cdk-touch-focused","touch"===Yt),wt.classList.toggle("cdk-keyboard-focused","keyboard"===Yt),wt.classList.toggle("cdk-mouse-focused","mouse"===Yt),wt.classList.toggle("cdk-program-focused","program"===Yt)}_setOrigin(wt,Yt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=wt,this._originFromTouchInteraction="touch"===wt&&Yt,this._detectionMode===Mt.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(wt,Yt){const je=this._elementInfo.get(Yt),Xe=(0,g.Fb)(wt);!je||!je.checkChildren&&Yt!==Xe||this._originChanged(Yt,this._getFocusOrigin(Xe),je)}_onBlur(wt,Yt){const je=this._elementInfo.get(Yt);!je||je.checkChildren&&wt.relatedTarget instanceof Node&&Yt.contains(wt.relatedTarget)||(this._setClasses(Yt),this._emitOrigin(je,null))}_emitOrigin(wt,Yt){wt.subject.observers.length&&this._ngZone.run(()=>wt.subject.next(Yt))}_registerGlobalListeners(wt){if(!this._platform.isBrowser)return;const Yt=wt.rootNode,je=this._rootNodeFocusListenerCount.get(Yt)||0;je||this._ngZone.runOutsideAngular(()=>{Yt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),Yt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Lt)}),this._rootNodeFocusListenerCount.set(Yt,je+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ve.Q)(this._stopInputModalityDetector)).subscribe(Xe=>{this._setOrigin(Xe,!0)}))}_removeGlobalListeners(wt){const Yt=wt.rootNode;if(this._rootNodeFocusListenerCount.has(Yt)){const je=this._rootNodeFocusListenerCount.get(Yt);je>1?this._rootNodeFocusListenerCount.set(Yt,je-1):(Yt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Lt),Yt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Lt),this._rootNodeFocusListenerCount.delete(Yt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(wt,Yt,je){this._setClasses(wt,Yt),this._emitOrigin(je,Yt),this._lastFocusOrigin=Yt}_getClosestElementsInfo(wt){const Yt=[];return this._elementInfo.forEach((je,Xe)=>{(Xe===wt||je.checkChildren&&Xe.contains(wt))&&Yt.push([Xe,je])}),Yt}_isLastInteractionFromInputLabel(wt){const{_mostRecentTarget:Yt,mostRecentModality:je}=this._inputModalityDetector;if("mouse"!==je||!Yt||Yt===wt||"INPUT"!==wt.nodeName&&"TEXTAREA"!==wt.nodeName||wt.disabled)return!1;const Xe=wt.labels;if(Xe)for(let Jn=0;Jn<Xe.length;Jn++)if(Xe[Jn].contains(Yt))return!0;return!1}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(G.SKi),G.KVO(g.OD),G.KVO(Re),G.KVO(x.qQ,8),G.KVO(gt,8))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})();var qn=function(Zt){return Zt[Zt.NONE=0]="NONE",Zt[Zt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Zt[Zt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Zt}(qn||{});const hi="cdk-high-contrast-black-on-white",Be="cdk-high-contrast-white-on-black",Ce="cdk-high-contrast-active";let Gt=(()=>{class Zt{constructor(wt,Yt){this._platform=wt,this._document=Yt,this._breakpointSubscription=(0,G.WQX)(We.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qn.NONE;const wt=this._document.createElement("div");wt.style.backgroundColor="rgb(1,2,3)",wt.style.position="absolute",this._document.body.appendChild(wt);const Yt=this._document.defaultView||window,je=Yt&&Yt.getComputedStyle?Yt.getComputedStyle(wt):null,Xe=(je&&je.backgroundColor||"").replace(/ /g,"");switch(wt.remove(),Xe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qn.BLACK_ON_WHITE}return qn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const wt=this._document.body.classList;wt.remove(Ce,hi,Be),this._hasCheckedHighContrastMode=!0;const Yt=this.getHighContrastMode();Yt===qn.BLACK_ON_WHITE?wt.add(Ce,hi):Yt===qn.WHITE_ON_BLACK&&wt.add(Ce,Be)}}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(g.OD),G.KVO(x.qQ))};static#e=this.\u0275prov=G.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})(),Me=(()=>{class Zt{constructor(wt){wt._applyBodyHighContrastModeCssClasses()}static#t=this.\u0275fac=function(Yt){return new(Yt||Zt)(G.KVO(Gt))};static#e=this.\u0275mod=G.$C({type:Zt});static#n=this.\u0275inj=G.G2t({imports:[tn.w5]})}return Zt})()},4700:(dn,re,P)=>{"use strict";P.d(re,{dS:()=>Bt,jI:()=>ft});var x=P(4291),G=P(9284);const g=new x.nKC("cdk-dir-doc",{providedIn:"root",factory:function lt(){return(0,x.WQX)(G.qQ)}}),ut=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Bt=(()=>{class vt{constructor(Rt){this.value="ltr",this.change=new x.bkB,Rt&&(this.value=function et(vt){const Dt=vt?.toLowerCase()||"";return"auto"===Dt&&typeof navigator<"u"&&navigator?.language?ut.test(navigator.language)?"rtl":"ltr":"rtl"===Dt?"rtl":"ltr"}((Rt.body?Rt.body.dir:null)||(Rt.documentElement?Rt.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#t=this.\u0275fac=function(yt){return new(yt||vt)(x.KVO(g,8))};static#e=this.\u0275prov=x.jDH({token:vt,factory:vt.\u0275fac,providedIn:"root"})}return vt})(),ft=(()=>{class vt{static#t=this.\u0275fac=function(yt){return new(yt||vt)};static#e=this.\u0275mod=x.$C({type:vt});static#n=this.\u0275inj=x.G2t({})}return vt})()},4498:(dn,re,P)=>{"use strict";P.d(re,{FG:()=>ut,OE:()=>g,a1:()=>et,he:()=>G,i8:()=>Bt});var x=P(4291);function G(ft){return null!=ft&&"false"!=`${ft}`}function g(ft,vt=0){return function lt(ft){return!isNaN(parseFloat(ft))&&!isNaN(Number(ft))}(ft)?Number(ft):2===arguments.length?vt:0}function ut(ft){return Array.isArray(ft)?ft:[ft]}function et(ft){return null==ft?"":"string"==typeof ft?ft:`${ft}px`}function Bt(ft){return ft instanceof x.aKT?ft.nativeElement:ft}},2675:(dn,re,P)=>{"use strict";P.d(re,{A:()=>it,A$:()=>At,FX:()=>et,Fm:()=>ut,Ge:()=>we,Kp:()=>Ut,LE:()=>tn,UQ:()=>ve,W3:()=>Bt,Z:()=>ri,_f:()=>Dt,bn:()=>qt,dB:()=>jt,eg:()=>vn,f2:()=>de,i7:()=>Le,n6:()=>be,rp:()=>Pn,t6:()=>Rt,w_:()=>yt,wn:()=>g,yZ:()=>le});const g=9,ut=13,et=16,Bt=17,At=18,Dt=27,Rt=32,yt=33,jt=34,Ut=35,le=36,ve=37,Le=38,tn=39,be=40,de=48,qt=57,it=65,ri=90,we=91,vn=224;function Pn(In,...pi){return pi.length?pi.some(bi=>In[bi]):In.altKey||In.shiftKey||In.ctrlKey||In.metaKey}},3260:(dn,re,P)=>{"use strict";P.d(re,{QP:()=>be,Rp:()=>Xt});var x=P(4291),G=P(4498),g=P(1071),lt=P(103),ut=P(3279),et=P(3982),Bt=P(5910),At=P(2422),ft=P(2151),vt=P(8199),Dt=P(613),Rt=P(3796),yt=P(3823);const Ut=new Set;let le,ve=(()=>{class zt{constructor(de,Te){this._platform=de,this._nonce=Te,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tn}matchMedia(de){return(this._platform.WEBKIT||this._platform.BLINK)&&function Le(zt,Tt){if(!Ut.has(zt))try{le||(le=document.createElement("style"),Tt&&le.setAttribute("nonce",Tt),le.setAttribute("type","text/css"),document.head.appendChild(le)),le.sheet&&(le.sheet.insertRule(`@media ${zt} {body{ }}`,0),Ut.add(zt))}catch(de){console.error(de)}}(de,this._nonce),this._matchMedia(de)}static#t=this.\u0275fac=function(Te){return new(Te||zt)(x.KVO(yt.OD),x.KVO(x.BIS,8))};static#e=this.\u0275prov=x.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();function tn(zt){return{matches:"all"===zt||""===zt,media:zt,addListener:()=>{},removeListener:()=>{}}}let be=(()=>{class zt{constructor(de,Te){this._mediaMatcher=de,this._zone=Te,this._queries=new Map,this._destroySubject=new g.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(de){return We((0,G.FG)(de)).some(te=>this._registerQuery(te).mql.matches)}observe(de){const te=We((0,G.FG)(de)).map(Wt=>this._registerQuery(Wt).observable);let $t=(0,lt.z)(te);return $t=(0,ut.x)($t.pipe((0,Bt.s)(1)),$t.pipe((0,At.i)(1),(0,ft.B)(0))),$t.pipe((0,vt.T)(Wt=>{const De={matches:!1,breakpoints:{}};return Wt.forEach(({matches:xe,query:he})=>{De.matches=De.matches||xe,De.breakpoints[he]=xe}),De}))}_registerQuery(de){if(this._queries.has(de))return this._queries.get(de);const Te=this._mediaMatcher.matchMedia(de),$t={observable:new et.c(Wt=>{const De=xe=>this._zone.run(()=>Wt.next(xe));return Te.addListener(De),()=>{Te.removeListener(De)}}).pipe((0,Dt.Z)(Te),(0,vt.T)(({matches:Wt})=>({query:de,matches:Wt})),(0,Rt.Q)(this._destroySubject)),mql:Te};return this._queries.set(de,$t),$t}static#t=this.\u0275fac=function(Te){return new(Te||zt)(x.KVO(ve),x.KVO(x.SKi))};static#e=this.\u0275prov=x.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();function We(zt){return zt.map(Tt=>Tt.split(",")).reduce((Tt,de)=>Tt.concat(de)).map(Tt=>Tt.trim())}const Xt={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2959:(dn,re,P)=>{"use strict";P.d(re,{Wv:()=>Dt,w5:()=>Rt});var x=P(4498),G=P(4291),g=P(3982),lt=P(1071),ut=P(8199),et=P(2647),Bt=P(2151);let ft=(()=>{class yt{create(Ut){return typeof MutationObserver>"u"?null:new MutationObserver(Ut)}static#t=this.\u0275fac=function(le){return new(le||yt)};static#e=this.\u0275prov=G.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),vt=(()=>{class yt{constructor(Ut){this._mutationObserverFactory=Ut,this._observedElements=new Map,this._ngZone=(0,G.WQX)(G.SKi)}ngOnDestroy(){this._observedElements.forEach((Ut,le)=>this._cleanupObserver(le))}observe(Ut){const le=(0,x.i8)(Ut);return new g.c(ve=>{const tn=this._observeElement(le).pipe((0,ut.T)(be=>be.filter(We=>!function At(yt){if("characterData"===yt.type&&yt.target instanceof Comment)return!0;if("childList"===yt.type){for(let jt=0;jt<yt.addedNodes.length;jt++)if(!(yt.addedNodes[jt]instanceof Comment))return!1;for(let jt=0;jt<yt.removedNodes.length;jt++)if(!(yt.removedNodes[jt]instanceof Comment))return!1;return!0}return!1}(We))),(0,et.p)(be=>!!be.length)).subscribe(be=>{this._ngZone.run(()=>{ve.next(be)})});return()=>{tn.unsubscribe(),this._unobserveElement(le)}})}_observeElement(Ut){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(Ut))this._observedElements.get(Ut).count++;else{const le=new lt.B,ve=this._mutationObserverFactory.create(Le=>le.next(Le));ve&&ve.observe(Ut,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(Ut,{observer:ve,stream:le,count:1})}return this._observedElements.get(Ut).stream})}_unobserveElement(Ut){this._observedElements.has(Ut)&&(this._observedElements.get(Ut).count--,this._observedElements.get(Ut).count||this._cleanupObserver(Ut))}_cleanupObserver(Ut){if(this._observedElements.has(Ut)){const{observer:le,stream:ve}=this._observedElements.get(Ut);le&&le.disconnect(),ve.complete(),this._observedElements.delete(Ut)}}static#t=this.\u0275fac=function(le){return new(le||yt)(G.KVO(ft))};static#e=this.\u0275prov=G.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),Dt=(()=>{class yt{get disabled(){return this._disabled}set disabled(Ut){this._disabled=Ut,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(Ut){this._debounce=(0,x.OE)(Ut),this._subscribe()}constructor(Ut,le){this._contentObserver=Ut,this._elementRef=le,this.event=new G.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const Ut=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?Ut.pipe((0,Bt.B)(this.debounce)):Ut).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#t=this.\u0275fac=function(le){return new(le||yt)(G.rXU(vt),G.rXU(G.aKT))};static#e=this.\u0275dir=G.FsC({type:yt,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",G.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[G.GFd]})}return yt})(),Rt=(()=>{class yt{static#t=this.\u0275fac=function(le){return new(le||yt)};static#e=this.\u0275mod=G.$C({type:yt});static#n=this.\u0275inj=G.G2t({providers:[ft]})}return yt})()},2926:(dn,re,P)=>{"use strict";P.d(re,{Jr:()=>Wt,Sf:()=>he,Tv:()=>We,hJ:()=>Ln,hr:()=>De,lF:()=>Oe,rR:()=>Xt,yY:()=>Ae,z_:()=>Fi});var x=P(9755),G=P(9284),g=P(4291),lt=P(4498),ut=P(3823),et=P(2647),Bt=P(3796),At=P(4700),ft=P(3068),vt=P(1071),Dt=P(3479),Rt=P(8169);const yt=(0,ut.CZ)();class jt{constructor(_t,ue){this._viewportRuler=_t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ue}attach(){}enable(){if(this._canBeEnabled()){const _t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=_t.style.left||"",this._previousHTMLStyles.top=_t.style.top||"",_t.style.left=(0,lt.a1)(-this._previousScrollPosition.left),_t.style.top=(0,lt.a1)(-this._previousScrollPosition.top),_t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const _t=this._document.documentElement,me=_t.style,Qe=this._document.body.style,He=me.scrollBehavior||"",sn=Qe.scrollBehavior||"";this._isEnabled=!1,me.left=this._previousHTMLStyles.left,me.top=this._previousHTMLStyles.top,_t.classList.remove("cdk-global-scrollblock"),yt&&(me.scrollBehavior=Qe.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yt&&(me.scrollBehavior=He,Qe.scrollBehavior=sn)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ue=this._document.body,me=this._viewportRuler.getViewportSize();return ue.scrollHeight>me.height||ue.scrollWidth>me.width}}class le{constructor(_t,ue,me,Qe){this._scrollDispatcher=_t,this._ngZone=ue,this._viewportRuler=me,this._config=Qe,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(_t){this._overlayRef=_t}enable(){if(this._scrollSubscription)return;const _t=this._scrollDispatcher.scrolled(0).pipe((0,et.p)(ue=>!ue||!this._overlayRef.overlayElement.contains(ue.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=_t.subscribe(()=>{const ue=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ue-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=_t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ve{enable(){}disable(){}attach(){}}function Le(on,_t){return _t.some(ue=>on.bottom<ue.top||on.top>ue.bottom||on.right<ue.left||on.left>ue.right)}function tn(on,_t){return _t.some(ue=>on.top<ue.top||on.bottom>ue.bottom||on.left<ue.left||on.right>ue.right)}class be{constructor(_t,ue,me,Qe){this._scrollDispatcher=_t,this._viewportRuler=ue,this._ngZone=me,this._config=Qe,this._scrollSubscription=null}attach(_t){this._overlayRef=_t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ue=this._overlayRef.overlayElement.getBoundingClientRect(),{width:me,height:Qe}=this._viewportRuler.getViewportSize();Le(ue,[{width:me,height:Qe,bottom:Qe,right:me,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let We=(()=>{class on{constructor(ue,me,Qe,He){this._scrollDispatcher=ue,this._viewportRuler=me,this._ngZone=Qe,this.noop=()=>new ve,this.close=sn=>new le(this._scrollDispatcher,this._ngZone,this._viewportRuler,sn),this.block=()=>new jt(this._viewportRuler,this._document),this.reposition=sn=>new be(this._scrollDispatcher,this._viewportRuler,this._ngZone,sn),this._document=He}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(x.R),g.KVO(x.Xj),g.KVO(g.SKi),g.KVO(G.qQ))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();class Xt{constructor(_t){if(this.scrollStrategy=new ve,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,_t){const ue=Object.keys(_t);for(const me of ue)void 0!==_t[me]&&(this[me]=_t[me])}}}class de{constructor(_t,ue){this.connectionPair=_t,this.scrollableViewProperties=ue}}let $t=(()=>{class on{constructor(ue){this._attachedOverlays=[],this._document=ue}ngOnDestroy(){this.detach()}add(ue){this.remove(ue),this._attachedOverlays.push(ue)}remove(ue){const me=this._attachedOverlays.indexOf(ue);me>-1&&this._attachedOverlays.splice(me,1),0===this._attachedOverlays.length&&this.detach()}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(G.qQ))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})(),Wt=(()=>{class on extends $t{constructor(ue,me){super(ue),this._ngZone=me,this._keydownListener=Qe=>{const He=this._attachedOverlays;for(let sn=He.length-1;sn>-1;sn--)if(He[sn]._keydownEvents.observers.length>0){const Qn=He[sn]._keydownEvents;this._ngZone?this._ngZone.run(()=>Qn.next(Qe)):Qn.next(Qe);break}}}add(ue){super.add(ue),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(G.qQ),g.KVO(g.SKi,8))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})(),De=(()=>{class on extends $t{constructor(ue,me,Qe){super(ue),this._platform=me,this._ngZone=Qe,this._cursorStyleIsSet=!1,this._pointerDownListener=He=>{this._pointerDownEventTarget=(0,ut.Fb)(He)},this._clickListener=He=>{const sn=(0,ut.Fb)(He),Qn="click"===He.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:sn;this._pointerDownEventTarget=null;const ri=this._attachedOverlays.slice();for(let we=ri.length-1;we>-1;we--){const gn=ri[we];if(gn._outsidePointerEvents.observers.length<1||!gn.hasAttached())continue;if(xe(gn.overlayElement,sn)||xe(gn.overlayElement,Qn))break;const ae=gn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>ae.next(He)):ae.next(He)}}}add(ue){if(super.add(ue),!this._isAttached){const me=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(me)):this._addEventListeners(me),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=me.style.cursor,me.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ue=this._document.body;ue.removeEventListener("pointerdown",this._pointerDownListener,!0),ue.removeEventListener("click",this._clickListener,!0),ue.removeEventListener("auxclick",this._clickListener,!0),ue.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ue.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ue){ue.addEventListener("pointerdown",this._pointerDownListener,!0),ue.addEventListener("click",this._clickListener,!0),ue.addEventListener("auxclick",this._clickListener,!0),ue.addEventListener("contextmenu",this._clickListener,!0)}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(G.qQ),g.KVO(ut.OD),g.KVO(g.SKi,8))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();function xe(on,_t){const ue=typeof ShadowRoot<"u"&&ShadowRoot;let me=_t;for(;me;){if(me===on)return!0;me=ue&&me instanceof ShadowRoot?me.host:me.parentNode}return!1}let he=(()=>{class on{constructor(ue,me){this._platform=me,this._document=ue}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ue="cdk-overlay-container";if(this._platform.isBrowser||(0,ut.v8)()){const Qe=this._document.querySelectorAll(`.${ue}[platform="server"], .${ue}[platform="test"]`);for(let He=0;He<Qe.length;He++)Qe[He].remove()}const me=this._document.createElement("div");me.classList.add(ue),(0,ut.v8)()?me.setAttribute("platform","test"):this._platform.isBrowser||me.setAttribute("platform","server"),this._document.body.appendChild(me),this._containerElement=me}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(G.qQ),g.KVO(ut.OD))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();class Ae{constructor(_t,ue,me,Qe,He,sn,Qn,ri,we,gn=!1,ae){this._portalOutlet=_t,this._host=ue,this._pane=me,this._config=Qe,this._ngZone=He,this._keyboardDispatcher=sn,this._document=Qn,this._location=ri,this._outsideClickDispatcher=we,this._animationsDisabled=gn,this._injector=ae,this._backdropElement=null,this._backdropClick=new vt.B,this._attachments=new vt.B,this._detachments=new vt.B,this._locationChanges=Dt.yU.EMPTY,this._backdropClickHandler=Ie=>this._backdropClick.next(Ie),this._backdropTransitionendHandler=Ie=>{this._disposeBackdrop(Ie.target)},this._keydownEvents=new vt.B,this._outsidePointerEvents=new vt.B,this._renders=new vt.B,Qe.scrollStrategy&&(this._scrollStrategy=Qe.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=Qe.positionStrategy,this._afterRenderRef=(0,g.O8t)(()=>(0,g.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(_t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ue=this._portalOutlet.attach(_t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,g.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ue?.onDestroy&&ue.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ue}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const _t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),_t}dispose(){const _t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,_t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(_t){_t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=_t,this.hasAttached()&&(_t.attach(this),this.updatePosition()))}updateSize(_t){this._config={...this._config,..._t},this._updateElementSize()}setDirection(_t){this._config={...this._config,direction:_t},this._updateElementDirection()}addPanelClass(_t){this._pane&&this._toggleClasses(this._pane,_t,!0)}removePanelClass(_t){this._pane&&this._toggleClasses(this._pane,_t,!1)}getDirection(){const _t=this._config.direction;return _t?"string"==typeof _t?_t:_t.value:"ltr"}updateScrollStrategy(_t){_t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=_t,this.hasAttached()&&(_t.attach(this),_t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const _t=this._pane.style;_t.width=(0,lt.a1)(this._config.width),_t.height=(0,lt.a1)(this._config.height),_t.minWidth=(0,lt.a1)(this._config.minWidth),_t.minHeight=(0,lt.a1)(this._config.minHeight),_t.maxWidth=(0,lt.a1)(this._config.maxWidth),_t.maxHeight=(0,lt.a1)(this._config.maxHeight)}_togglePointerEvents(_t){this._pane.style.pointerEvents=_t?"":"none"}_attachBackdrop(){const _t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(_t)})}):this._backdropElement.classList.add(_t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const _t=this._backdropElement;if(_t){if(this._animationsDisabled)return void this._disposeBackdrop(_t);_t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{_t.addEventListener("transitionend",this._backdropTransitionendHandler)}),_t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(_t)},500))}}_toggleClasses(_t,ue,me){const Qe=(0,lt.FG)(ue||[]).filter(He=>!!He);Qe.length&&(me?_t.classList.add(...Qe):_t.classList.remove(...Qe))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const _t=this._renders.pipe((0,Bt.Q)((0,Rt.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),_t.unsubscribe())})})}_disposeScrollStrategy(){const _t=this._scrollStrategy;_t&&(_t.disable(),_t.detach&&_t.detach())}_disposeBackdrop(_t){_t&&(_t.removeEventListener("click",this._backdropClickHandler),_t.removeEventListener("transitionend",this._backdropTransitionendHandler),_t.remove(),this._backdropElement===_t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qt="cdk-overlay-connected-position-bounding-box",Ot=/([A-Za-z%]+)$/;class dt{get positions(){return this._preferredPositions}constructor(_t,ue,me,Qe,He){this._viewportRuler=ue,this._document=me,this._platform=Qe,this._overlayContainer=He,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new vt.B,this._resizeSubscription=Dt.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(_t)}attach(_t){this._validatePositions(),_t.hostElement.classList.add(qt),this._overlayRef=_t,this._boundingBox=_t.hostElement,this._pane=_t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const _t=this._originRect,ue=this._overlayRect,me=this._viewportRect,Qe=this._containerRect,He=[];let sn;for(let Qn of this._preferredPositions){let ri=this._getOriginPoint(_t,Qe,Qn),we=this._getOverlayPoint(ri,ue,Qn),gn=this._getOverlayFit(we,ue,me,Qn);if(gn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Qn,ri);this._canFitWithFlexibleDimensions(gn,we,me)?He.push({position:Qn,origin:ri,overlayRect:ue,boundingBoxRect:this._calculateBoundingBoxRect(ri,Qn)}):(!sn||sn.overlayFit.visibleArea<gn.visibleArea)&&(sn={overlayFit:gn,overlayPoint:we,originPoint:ri,position:Qn,overlayRect:ue})}if(He.length){let Qn=null,ri=-1;for(const we of He){const gn=we.boundingBoxRect.width*we.boundingBoxRect.height*(we.position.weight||1);gn>ri&&(ri=gn,Qn=we)}return this._isPushed=!1,void this._applyPosition(Qn.position,Qn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(sn.position,sn.originPoint);this._applyPosition(sn.position,sn.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ht(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const _t=this._lastPosition;if(_t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ue=this._getOriginPoint(this._originRect,this._containerRect,_t);this._applyPosition(_t,ue)}else this.apply()}withScrollableContainers(_t){return this._scrollables=_t,this}withPositions(_t){return this._preferredPositions=_t,-1===_t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(_t){return this._viewportMargin=_t,this}withFlexibleDimensions(_t=!0){return this._hasFlexibleDimensions=_t,this}withGrowAfterOpen(_t=!0){return this._growAfterOpen=_t,this}withPush(_t=!0){return this._canPush=_t,this}withLockedPosition(_t=!0){return this._positionLocked=_t,this}setOrigin(_t){return this._origin=_t,this}withDefaultOffsetX(_t){return this._offsetX=_t,this}withDefaultOffsetY(_t){return this._offsetY=_t,this}withTransformOriginOn(_t){return this._transformOriginSelector=_t,this}_getOriginPoint(_t,ue,me){let Qe,He;if("center"==me.originX)Qe=_t.left+_t.width/2;else{const sn=this._isRtl()?_t.right:_t.left,Qn=this._isRtl()?_t.left:_t.right;Qe="start"==me.originX?sn:Qn}return ue.left<0&&(Qe-=ue.left),He="center"==me.originY?_t.top+_t.height/2:"top"==me.originY?_t.top:_t.bottom,ue.top<0&&(He-=ue.top),{x:Qe,y:He}}_getOverlayPoint(_t,ue,me){let Qe,He;return Qe="center"==me.overlayX?-ue.width/2:"start"===me.overlayX?this._isRtl()?-ue.width:0:this._isRtl()?0:-ue.width,He="center"==me.overlayY?-ue.height/2:"top"==me.overlayY?0:-ue.height,{x:_t.x+Qe,y:_t.y+He}}_getOverlayFit(_t,ue,me,Qe){const He=it(ue);let{x:sn,y:Qn}=_t,ri=this._getOffset(Qe,"x"),we=this._getOffset(Qe,"y");ri&&(sn+=ri),we&&(Qn+=we);let Ie=0-Qn,Ke=Qn+He.height-me.height,Cn=this._subtractOverflows(He.width,0-sn,sn+He.width-me.width),Rn=this._subtractOverflows(He.height,Ie,Ke),di=Cn*Rn;return{visibleArea:di,isCompletelyWithinViewport:He.width*He.height===di,fitsInViewportVertically:Rn===He.height,fitsInViewportHorizontally:Cn==He.width}}_canFitWithFlexibleDimensions(_t,ue,me){if(this._hasFlexibleDimensions){const Qe=me.bottom-ue.y,He=me.right-ue.x,sn=Et(this._overlayRef.getConfig().minHeight),Qn=Et(this._overlayRef.getConfig().minWidth);return(_t.fitsInViewportVertically||null!=sn&&sn<=Qe)&&(_t.fitsInViewportHorizontally||null!=Qn&&Qn<=He)}return!1}_pushOverlayOnScreen(_t,ue,me){if(this._previousPushAmount&&this._positionLocked)return{x:_t.x+this._previousPushAmount.x,y:_t.y+this._previousPushAmount.y};const Qe=it(ue),He=this._viewportRect,sn=Math.max(_t.x+Qe.width-He.width,0),Qn=Math.max(_t.y+Qe.height-He.height,0),ri=Math.max(He.top-me.top-_t.y,0),we=Math.max(He.left-me.left-_t.x,0);let gn=0,ae=0;return gn=Qe.width<=He.width?we||-sn:_t.x<this._viewportMargin?He.left-me.left-_t.x:0,ae=Qe.height<=He.height?ri||-Qn:_t.y<this._viewportMargin?He.top-me.top-_t.y:0,this._previousPushAmount={x:gn,y:ae},{x:_t.x+gn,y:_t.y+ae}}_applyPosition(_t,ue){if(this._setTransformOrigin(_t),this._setOverlayElementStyles(ue,_t),this._setBoundingBoxStyles(ue,_t),_t.panelClass&&this._addPanelClasses(_t.panelClass),this._positionChanges.observers.length){const me=this._getScrollVisibility();if(_t!==this._lastPosition||!this._lastScrollVisibility||!function Ct(on,_t){return on===_t||on.isOriginClipped===_t.isOriginClipped&&on.isOriginOutsideView===_t.isOriginOutsideView&&on.isOverlayClipped===_t.isOverlayClipped&&on.isOverlayOutsideView===_t.isOverlayOutsideView}(this._lastScrollVisibility,me)){const Qe=new de(_t,me);this._positionChanges.next(Qe)}this._lastScrollVisibility=me}this._lastPosition=_t,this._isInitialRender=!1}_setTransformOrigin(_t){if(!this._transformOriginSelector)return;const ue=this._boundingBox.querySelectorAll(this._transformOriginSelector);let me,Qe=_t.overlayY;me="center"===_t.overlayX?"center":this._isRtl()?"start"===_t.overlayX?"right":"left":"start"===_t.overlayX?"left":"right";for(let He=0;He<ue.length;He++)ue[He].style.transformOrigin=`${me} ${Qe}`}_calculateBoundingBoxRect(_t,ue){const me=this._viewportRect,Qe=this._isRtl();let He,sn,Qn,gn,ae,Ie;if("top"===ue.overlayY)sn=_t.y,He=me.height-sn+this._viewportMargin;else if("bottom"===ue.overlayY)Qn=me.height-_t.y+2*this._viewportMargin,He=me.height-Qn+this._viewportMargin;else{const Ke=Math.min(me.bottom-_t.y+me.top,_t.y),Cn=this._lastBoundingBoxSize.height;He=2*Ke,sn=_t.y-Ke,He>Cn&&!this._isInitialRender&&!this._growAfterOpen&&(sn=_t.y-Cn/2)}if("end"===ue.overlayX&&!Qe||"start"===ue.overlayX&&Qe)Ie=me.width-_t.x+2*this._viewportMargin,gn=_t.x-this._viewportMargin;else if("start"===ue.overlayX&&!Qe||"end"===ue.overlayX&&Qe)ae=_t.x,gn=me.right-_t.x;else{const Ke=Math.min(me.right-_t.x+me.left,_t.x),Cn=this._lastBoundingBoxSize.width;gn=2*Ke,ae=_t.x-Ke,gn>Cn&&!this._isInitialRender&&!this._growAfterOpen&&(ae=_t.x-Cn/2)}return{top:sn,left:ae,bottom:Qn,right:Ie,width:gn,height:He}}_setBoundingBoxStyles(_t,ue){const me=this._calculateBoundingBoxRect(_t,ue);!this._isInitialRender&&!this._growAfterOpen&&(me.height=Math.min(me.height,this._lastBoundingBoxSize.height),me.width=Math.min(me.width,this._lastBoundingBoxSize.width));const Qe={};if(this._hasExactPosition())Qe.top=Qe.left="0",Qe.bottom=Qe.right=Qe.maxHeight=Qe.maxWidth="",Qe.width=Qe.height="100%";else{const He=this._overlayRef.getConfig().maxHeight,sn=this._overlayRef.getConfig().maxWidth;Qe.height=(0,lt.a1)(me.height),Qe.top=(0,lt.a1)(me.top),Qe.bottom=(0,lt.a1)(me.bottom),Qe.width=(0,lt.a1)(me.width),Qe.left=(0,lt.a1)(me.left),Qe.right=(0,lt.a1)(me.right),Qe.alignItems="center"===ue.overlayX?"center":"end"===ue.overlayX?"flex-end":"flex-start",Qe.justifyContent="center"===ue.overlayY?"center":"bottom"===ue.overlayY?"flex-end":"flex-start",He&&(Qe.maxHeight=(0,lt.a1)(He)),sn&&(Qe.maxWidth=(0,lt.a1)(sn))}this._lastBoundingBoxSize=me,ht(this._boundingBox.style,Qe)}_resetBoundingBoxStyles(){ht(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ht(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(_t,ue){const me={},Qe=this._hasExactPosition(),He=this._hasFlexibleDimensions,sn=this._overlayRef.getConfig();if(Qe){const gn=this._viewportRuler.getViewportScrollPosition();ht(me,this._getExactOverlayY(ue,_t,gn)),ht(me,this._getExactOverlayX(ue,_t,gn))}else me.position="static";let Qn="",ri=this._getOffset(ue,"x"),we=this._getOffset(ue,"y");ri&&(Qn+=`translateX(${ri}px) `),we&&(Qn+=`translateY(${we}px)`),me.transform=Qn.trim(),sn.maxHeight&&(Qe?me.maxHeight=(0,lt.a1)(sn.maxHeight):He&&(me.maxHeight="")),sn.maxWidth&&(Qe?me.maxWidth=(0,lt.a1)(sn.maxWidth):He&&(me.maxWidth="")),ht(this._pane.style,me)}_getExactOverlayY(_t,ue,me){let Qe={top:"",bottom:""},He=this._getOverlayPoint(ue,this._overlayRect,_t);return this._isPushed&&(He=this._pushOverlayOnScreen(He,this._overlayRect,me)),"bottom"===_t.overlayY?Qe.bottom=this._document.documentElement.clientHeight-(He.y+this._overlayRect.height)+"px":Qe.top=(0,lt.a1)(He.y),Qe}_getExactOverlayX(_t,ue,me){let sn,Qe={left:"",right:""},He=this._getOverlayPoint(ue,this._overlayRect,_t);return this._isPushed&&(He=this._pushOverlayOnScreen(He,this._overlayRect,me)),sn=this._isRtl()?"end"===_t.overlayX?"left":"right":"end"===_t.overlayX?"right":"left","right"===sn?Qe.right=this._document.documentElement.clientWidth-(He.x+this._overlayRect.width)+"px":Qe.left=(0,lt.a1)(He.x),Qe}_getScrollVisibility(){const _t=this._getOriginRect(),ue=this._pane.getBoundingClientRect(),me=this._scrollables.map(Qe=>Qe.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tn(_t,me),isOriginOutsideView:Le(_t,me),isOverlayClipped:tn(ue,me),isOverlayOutsideView:Le(ue,me)}}_subtractOverflows(_t,...ue){return ue.reduce((me,Qe)=>me-Math.max(Qe,0),_t)}_getNarrowedViewportRect(){const _t=this._document.documentElement.clientWidth,ue=this._document.documentElement.clientHeight,me=this._viewportRuler.getViewportScrollPosition();return{top:me.top+this._viewportMargin,left:me.left+this._viewportMargin,right:me.left+_t-this._viewportMargin,bottom:me.top+ue-this._viewportMargin,width:_t-2*this._viewportMargin,height:ue-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(_t,ue){return"x"===ue?null==_t.offsetX?this._offsetX:_t.offsetX:null==_t.offsetY?this._offsetY:_t.offsetY}_validatePositions(){}_addPanelClasses(_t){this._pane&&(0,lt.FG)(_t).forEach(ue=>{""!==ue&&-1===this._appliedPanelClasses.indexOf(ue)&&(this._appliedPanelClasses.push(ue),this._pane.classList.add(ue))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(_t=>{this._pane.classList.remove(_t)}),this._appliedPanelClasses=[])}_getOriginRect(){const _t=this._origin;if(_t instanceof g.aKT)return _t.nativeElement.getBoundingClientRect();if(_t instanceof Element)return _t.getBoundingClientRect();const ue=_t.width||0,me=_t.height||0;return{top:_t.y,bottom:_t.y+me,left:_t.x,right:_t.x+ue,height:me,width:ue}}}function ht(on,_t){for(let ue in _t)_t.hasOwnProperty(ue)&&(on[ue]=_t[ue]);return on}function Et(on){if("number"!=typeof on&&null!=on){const[_t,ue]=on.split(Ot);return ue&&"px"!==ue?null:parseFloat(_t)}return on||null}function it(on){return{top:Math.floor(on.top),right:Math.floor(on.right),bottom:Math.floor(on.bottom),left:Math.floor(on.left),width:Math.floor(on.width),height:Math.floor(on.height)}}const _e="cdk-global-overlay-wrapper";class Ee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(_t){const ue=_t.getConfig();this._overlayRef=_t,this._width&&!ue.width&&_t.updateSize({width:this._width}),this._height&&!ue.height&&_t.updateSize({height:this._height}),_t.hostElement.classList.add(_e),this._isDisposed=!1}top(_t=""){return this._bottomOffset="",this._topOffset=_t,this._alignItems="flex-start",this}left(_t=""){return this._xOffset=_t,this._xPosition="left",this}bottom(_t=""){return this._topOffset="",this._bottomOffset=_t,this._alignItems="flex-end",this}right(_t=""){return this._xOffset=_t,this._xPosition="right",this}start(_t=""){return this._xOffset=_t,this._xPosition="start",this}end(_t=""){return this._xOffset=_t,this._xPosition="end",this}width(_t=""){return this._overlayRef?this._overlayRef.updateSize({width:_t}):this._width=_t,this}height(_t=""){return this._overlayRef?this._overlayRef.updateSize({height:_t}):this._height=_t,this}centerHorizontally(_t=""){return this.left(_t),this._xPosition="center",this}centerVertically(_t=""){return this.top(_t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const _t=this._overlayRef.overlayElement.style,ue=this._overlayRef.hostElement.style,me=this._overlayRef.getConfig(),{width:Qe,height:He,maxWidth:sn,maxHeight:Qn}=me,ri=!("100%"!==Qe&&"100vw"!==Qe||sn&&"100%"!==sn&&"100vw"!==sn),we=!("100%"!==He&&"100vh"!==He||Qn&&"100%"!==Qn&&"100vh"!==Qn),gn=this._xPosition,ae=this._xOffset,Ie="rtl"===this._overlayRef.getConfig().direction;let Ke="",Cn="",Rn="";ri?Rn="flex-start":"center"===gn?(Rn="center",Ie?Cn=ae:Ke=ae):Ie?"left"===gn||"end"===gn?(Rn="flex-end",Ke=ae):("right"===gn||"start"===gn)&&(Rn="flex-start",Cn=ae):"left"===gn||"start"===gn?(Rn="flex-start",Ke=ae):("right"===gn||"end"===gn)&&(Rn="flex-end",Cn=ae),_t.position=this._cssPosition,_t.marginLeft=ri?"0":Ke,_t.marginTop=we?"0":this._topOffset,_t.marginBottom=this._bottomOffset,_t.marginRight=ri?"0":Cn,ue.justifyContent=Rn,ue.alignItems=we?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const _t=this._overlayRef.overlayElement.style,ue=this._overlayRef.hostElement,me=ue.style;ue.classList.remove(_e),me.justifyContent=me.alignItems=_t.marginTop=_t.marginBottom=_t.marginLeft=_t.marginRight=_t.position="",this._overlayRef=null,this._isDisposed=!0}}let Oe=(()=>{class on{constructor(ue,me,Qe,He){this._viewportRuler=ue,this._document=me,this._platform=Qe,this._overlayContainer=He}global(){return new Ee}flexibleConnectedTo(ue){return new dt(ue,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(x.Xj),g.KVO(G.qQ),g.KVO(ut.OD),g.KVO(he))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})(),cn=0,Ln=(()=>{class on{constructor(ue,me,Qe,He,sn,Qn,ri,we,gn,ae,Ie,Ke){this.scrollStrategies=ue,this._overlayContainer=me,this._componentFactoryResolver=Qe,this._positionBuilder=He,this._keyboardDispatcher=sn,this._injector=Qn,this._ngZone=ri,this._document=we,this._directionality=gn,this._location=ae,this._outsideClickDispatcher=Ie,this._animationsModuleType=Ke}create(ue){const me=this._createHostElement(),Qe=this._createPaneElement(me),He=this._createPortalOutlet(Qe),sn=new Xt(ue);return sn.direction=sn.direction||this._directionality.value,new Ae(He,me,Qe,sn,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(g.uvJ))}position(){return this._positionBuilder}_createPaneElement(ue){const me=this._document.createElement("div");return me.id="cdk-overlay-"+cn++,me.classList.add("cdk-overlay-pane"),ue.appendChild(me),me}_createHostElement(){const ue=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ue),ue}_createPortalOutlet(ue){return this._appRef||(this._appRef=this._injector.get(g.o8S)),new ft.aI(ue,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#t=this.\u0275fac=function(me){return new(me||on)(g.KVO(We),g.KVO(he),g.KVO(g.OM3),g.KVO(Oe),g.KVO(Wt),g.KVO(g.zZn),g.KVO(g.SKi),g.KVO(G.qQ),g.KVO(At.dS),g.KVO(G.aZ),g.KVO(De),g.KVO(g.bc$,8))};static#e=this.\u0275prov=g.jDH({token:on,factory:on.\u0275fac,providedIn:"root"})}return on})();const Ii={provide:new g.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const on=(0,g.WQX)(Ln);return()=>on.scrollStrategies.reposition()}}),deps:[Ln],useFactory:function ki(on){return()=>on.scrollStrategies.reposition()}};let Fi=(()=>{class on{static#t=this.\u0275fac=function(me){return new(me||on)};static#e=this.\u0275mod=g.$C({type:on});static#n=this.\u0275inj=g.G2t({providers:[Ln,Ii],imports:[At.jI,ft.jc,x.E9,x.E9]})}return on})()},3823:(dn,re,P)=>{"use strict";P.d(re,{BD:()=>le,BQ:()=>Dt,CZ:()=>Ut,Fb:()=>We,KT:()=>tn,MU:()=>At,OD:()=>lt,r5:()=>Rt,v8:()=>Xt,vc:()=>be});var x=P(4291),G=P(9284);let g;try{g=typeof Intl<"u"&&Intl.v8BreakIterator}catch{g=!1}let et,lt=(()=>{class zt{constructor(de){this._platformId=de,this.isBrowser=this._platformId?(0,G.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!g)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#t=this.\u0275fac=function(Te){return new(Te||zt)(x.KVO(x.Agw))};static#e=this.\u0275prov=x.jDH({token:zt,factory:zt.\u0275fac,providedIn:"root"})}return zt})();const Bt=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function At(){if(et)return et;if("object"!=typeof document||!document)return et=new Set(Bt),et;let zt=document.createElement("input");return et=new Set(Bt.filter(Tt=>(zt.setAttribute("type",Tt),zt.type===Tt))),et}let ft;function Dt(zt){return function vt(){if(null==ft&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ft=!0}))}finally{ft=ft||!1}return ft}()?zt:!!zt.capture}var Rt=function(zt){return zt[zt.NORMAL=0]="NORMAL",zt[zt.NEGATED=1]="NEGATED",zt[zt.INVERTED=2]="INVERTED",zt}(Rt||{});let yt,jt,ve;function Ut(){if(null==jt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jt=!1,jt;if("scrollBehavior"in document.documentElement.style)jt=!0;else{const zt=Element.prototype.scrollTo;jt=!!zt&&!/\{\s*\[native code\]\s*\}/.test(zt.toString())}}return jt}function le(){if("object"!=typeof document||!document)return Rt.NORMAL;if(null==yt){const zt=document.createElement("div"),Tt=zt.style;zt.dir="rtl",Tt.width="1px",Tt.overflow="auto",Tt.visibility="hidden",Tt.pointerEvents="none",Tt.position="absolute";const de=document.createElement("div"),Te=de.style;Te.width="2px",Te.height="1px",zt.appendChild(de),document.body.appendChild(zt),yt=Rt.NORMAL,0===zt.scrollLeft&&(zt.scrollLeft=1,yt=0===zt.scrollLeft?Rt.NEGATED:Rt.INVERTED),zt.remove()}return yt}function tn(zt){if(function Le(){if(null==ve){const zt=typeof document<"u"?document.head:null;ve=!(!zt||!zt.createShadowRoot&&!zt.attachShadow)}return ve}()){const Tt=zt.getRootNode?zt.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Tt instanceof ShadowRoot)return Tt}return null}function be(){let zt=typeof document<"u"&&document?document.activeElement:null;for(;zt&&zt.shadowRoot;){const Tt=zt.shadowRoot.activeElement;if(Tt===zt)break;zt=Tt}return zt}function We(zt){return zt.composedPath?zt.composedPath()[0]:zt.target}function Xt(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},3068:(dn,re,P)=>{"use strict";P.d(re,{A8:()=>vt,I3:()=>tn,VA:()=>Dt,aI:()=>Ut,jc:()=>We,lb:()=>yt});var x=P(4291),G=P(9284);class ft{attach(Tt){return this._attachedHost=Tt,Tt.attach(this)}detach(){let Tt=this._attachedHost;null!=Tt&&(this._attachedHost=null,Tt.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Tt){this._attachedHost=Tt}}class vt extends ft{constructor(Tt,de,Te,te,$t){super(),this.component=Tt,this.viewContainerRef=de,this.injector=Te,this.componentFactoryResolver=te,this.projectableNodes=$t}}class Dt extends ft{constructor(Tt,de,Te,te){super(),this.templateRef=Tt,this.viewContainerRef=de,this.context=Te,this.injector=te}get origin(){return this.templateRef.elementRef}attach(Tt,de=this.context){return this.context=de,super.attach(Tt)}detach(){return this.context=void 0,super.detach()}}class Rt extends ft{constructor(Tt){super(),this.element=Tt instanceof x.aKT?Tt.nativeElement:Tt}}class yt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Tt){return Tt instanceof vt?(this._attachedPortal=Tt,this.attachComponentPortal(Tt)):Tt instanceof Dt?(this._attachedPortal=Tt,this.attachTemplatePortal(Tt)):this.attachDomPortal&&Tt instanceof Rt?(this._attachedPortal=Tt,this.attachDomPortal(Tt)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Tt){this._disposeFn=Tt}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ut extends yt{constructor(Tt,de,Te,te,$t){super(),this.outletElement=Tt,this._componentFactoryResolver=de,this._appRef=Te,this._defaultInjector=te,this.attachDomPortal=Wt=>{const De=Wt.element,xe=this._document.createComment("dom-portal");De.parentNode.insertBefore(xe,De),this.outletElement.appendChild(De),this._attachedPortal=Wt,super.setDisposeFn(()=>{xe.parentNode&&xe.parentNode.replaceChild(De,xe)})},this._document=$t}attachComponentPortal(Tt){const Te=(Tt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Tt.component);let te;return Tt.viewContainerRef?(te=Tt.viewContainerRef.createComponent(Te,Tt.viewContainerRef.length,Tt.injector||Tt.viewContainerRef.injector,Tt.projectableNodes||void 0),this.setDisposeFn(()=>te.destroy())):(te=Te.create(Tt.injector||this._defaultInjector||x.zZn.NULL),this._appRef.attachView(te.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(te.hostView),te.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(te)),this._attachedPortal=Tt,te}attachTemplatePortal(Tt){let de=Tt.viewContainerRef,Te=de.createEmbeddedView(Tt.templateRef,Tt.context,{injector:Tt.injector});return Te.rootNodes.forEach(te=>this.outletElement.appendChild(te)),Te.detectChanges(),this.setDisposeFn(()=>{let te=de.indexOf(Te);-1!==te&&de.remove(te)}),this._attachedPortal=Tt,Te}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Tt){return Tt.hostView.rootNodes[0]}}let tn=(()=>{class zt extends yt{constructor(de,Te,te){super(),this._componentFactoryResolver=de,this._viewContainerRef=Te,this._isInitialized=!1,this.attached=new x.bkB,this.attachDomPortal=$t=>{const Wt=$t.element,De=this._document.createComment("dom-portal");$t.setAttachedHost(this),Wt.parentNode.insertBefore(De,Wt),this._getRootNode().appendChild(Wt),this._attachedPortal=$t,super.setDisposeFn(()=>{De.parentNode&&De.parentNode.replaceChild(Wt,De)})},this._document=te}get portal(){return this._attachedPortal}set portal(de){this.hasAttached()&&!de&&!this._isInitialized||(this.hasAttached()&&super.detach(),de&&super.attach(de),this._attachedPortal=de||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(de){de.setAttachedHost(this);const Te=null!=de.viewContainerRef?de.viewContainerRef:this._viewContainerRef,$t=(de.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(de.component),Wt=Te.createComponent($t,Te.length,de.injector||Te.injector,de.projectableNodes||void 0);return Te!==this._viewContainerRef&&this._getRootNode().appendChild(Wt.hostView.rootNodes[0]),super.setDisposeFn(()=>Wt.destroy()),this._attachedPortal=de,this._attachedRef=Wt,this.attached.emit(Wt),Wt}attachTemplatePortal(de){de.setAttachedHost(this);const Te=this._viewContainerRef.createEmbeddedView(de.templateRef,de.context,{injector:de.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=de,this._attachedRef=Te,this.attached.emit(Te),Te}_getRootNode(){const de=this._viewContainerRef.element.nativeElement;return de.nodeType===de.ELEMENT_NODE?de:de.parentNode}static#t=this.\u0275fac=function(Te){return new(Te||zt)(x.rXU(x.OM3),x.rXU(x.c1b),x.rXU(G.qQ))};static#e=this.\u0275dir=x.FsC({type:zt,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[x.Vt3]})}return zt})(),We=(()=>{class zt{static#t=this.\u0275fac=function(Te){return new(Te||zt)};static#e=this.\u0275mod=x.$C({type:zt});static#n=this.\u0275inj=x.G2t({})}return zt})()},9755:(dn,re,P)=>{"use strict";P.d(re,{E9:()=>dt,Gj:()=>Ot,R:()=>Xt,Xj:()=>de,uv:()=>zt});var x=P(4498),G=P(4291),g=P(1071),lt=P(3204),ut=P(3982),et=P(8001),ft=(P(7512),P(7969),P(8030)),vt=P(2647),Dt=P(3796),Rt=P(3823),yt=P(9284),jt=P(4700);let Xt=(()=>{class ht{constructor(it,Ct,pt){this._ngZone=it,this._platform=Ct,this._scrolled=new g.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=pt}register(it){this.scrollContainers.has(it)||this.scrollContainers.set(it,it.elementScrolled().subscribe(()=>this._scrolled.next(it)))}deregister(it){const Ct=this.scrollContainers.get(it);Ct&&(Ct.unsubscribe(),this.scrollContainers.delete(it))}scrolled(it=20){return this._platform.isBrowser?new ut.c(Ct=>{this._globalSubscription||this._addGlobalListener();const pt=it>0?this._scrolled.pipe((0,ft.Z)(it)).subscribe(Ct):this._scrolled.subscribe(Ct);return this._scrolledCount++,()=>{pt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,lt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((it,Ct)=>this.deregister(Ct)),this._scrolled.complete()}ancestorScrolled(it,Ct){const pt=this.getAncestorScrollContainers(it);return this.scrolled(Ct).pipe((0,vt.p)(Vt=>!Vt||pt.indexOf(Vt)>-1))}getAncestorScrollContainers(it){const Ct=[];return this.scrollContainers.forEach((pt,Vt)=>{this._scrollableContainsElement(Vt,it)&&Ct.push(Vt)}),Ct}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(it,Ct){let pt=(0,x.i8)(Ct),Vt=it.getElementRef().nativeElement;do{if(pt==Vt)return!0}while(pt=pt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const it=this._getWindow();return(0,et.R)(it.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#t=this.\u0275fac=function(Ct){return new(Ct||ht)(G.KVO(G.SKi),G.KVO(Rt.OD),G.KVO(yt.qQ,8))};static#e=this.\u0275prov=G.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})(),zt=(()=>{class ht{constructor(it,Ct,pt,Vt){this.elementRef=it,this.scrollDispatcher=Ct,this.ngZone=pt,this.dir=Vt,this._destroyed=new g.B,this._elementScrolled=new ut.c(_e=>this.ngZone.runOutsideAngular(()=>(0,et.R)(this.elementRef.nativeElement,"scroll").pipe((0,Dt.Q)(this._destroyed)).subscribe(_e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(it){const Ct=this.elementRef.nativeElement,pt=this.dir&&"rtl"==this.dir.value;null==it.left&&(it.left=pt?it.end:it.start),null==it.right&&(it.right=pt?it.start:it.end),null!=it.bottom&&(it.top=Ct.scrollHeight-Ct.clientHeight-it.bottom),pt&&(0,Rt.BD)()!=Rt.r5.NORMAL?(null!=it.left&&(it.right=Ct.scrollWidth-Ct.clientWidth-it.left),(0,Rt.BD)()==Rt.r5.INVERTED?it.left=it.right:(0,Rt.BD)()==Rt.r5.NEGATED&&(it.left=it.right?-it.right:it.right)):null!=it.right&&(it.left=Ct.scrollWidth-Ct.clientWidth-it.right),this._applyScrollToOptions(it)}_applyScrollToOptions(it){const Ct=this.elementRef.nativeElement;(0,Rt.CZ)()?Ct.scrollTo(it):(null!=it.top&&(Ct.scrollTop=it.top),null!=it.left&&(Ct.scrollLeft=it.left))}measureScrollOffset(it){const Ct="left",Vt=this.elementRef.nativeElement;if("top"==it)return Vt.scrollTop;if("bottom"==it)return Vt.scrollHeight-Vt.clientHeight-Vt.scrollTop;const _e=this.dir&&"rtl"==this.dir.value;return"start"==it?it=_e?"right":Ct:"end"==it&&(it=_e?Ct:"right"),_e&&(0,Rt.BD)()==Rt.r5.INVERTED?it==Ct?Vt.scrollWidth-Vt.clientWidth-Vt.scrollLeft:Vt.scrollLeft:_e&&(0,Rt.BD)()==Rt.r5.NEGATED?it==Ct?Vt.scrollLeft+Vt.scrollWidth-Vt.clientWidth:-Vt.scrollLeft:it==Ct?Vt.scrollLeft:Vt.scrollWidth-Vt.clientWidth-Vt.scrollLeft}static#t=this.\u0275fac=function(Ct){return new(Ct||ht)(G.rXU(G.aKT),G.rXU(Xt),G.rXU(G.SKi),G.rXU(jt.dS,8))};static#e=this.\u0275dir=G.FsC({type:ht,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return ht})(),de=(()=>{class ht{constructor(it,Ct,pt){this._platform=it,this._change=new g.B,this._changeListener=Vt=>{this._change.next(Vt)},this._document=pt,Ct.runOutsideAngular(()=>{if(it.isBrowser){const Vt=this._getWindow();Vt.addEventListener("resize",this._changeListener),Vt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const it=this._getWindow();it.removeEventListener("resize",this._changeListener),it.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const it={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),it}getViewportRect(){const it=this.getViewportScrollPosition(),{width:Ct,height:pt}=this.getViewportSize();return{top:it.top,left:it.left,bottom:it.top+pt,right:it.left+Ct,height:pt,width:Ct}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const it=this._document,Ct=this._getWindow(),pt=it.documentElement,Vt=pt.getBoundingClientRect();return{top:-Vt.top||it.body.scrollTop||Ct.scrollY||pt.scrollTop||0,left:-Vt.left||it.body.scrollLeft||Ct.scrollX||pt.scrollLeft||0}}change(it=20){return it>0?this._change.pipe((0,ft.Z)(it)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const it=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:it.innerWidth,height:it.innerHeight}:{width:0,height:0}}static#t=this.\u0275fac=function(Ct){return new(Ct||ht)(G.KVO(Rt.OD),G.KVO(G.SKi),G.KVO(yt.qQ,8))};static#e=this.\u0275prov=G.jDH({token:ht,factory:ht.\u0275fac,providedIn:"root"})}return ht})(),Ot=(()=>{class ht{static#t=this.\u0275fac=function(Ct){return new(Ct||ht)};static#e=this.\u0275mod=G.$C({type:ht});static#n=this.\u0275inj=G.G2t({})}return ht})(),dt=(()=>{class ht{static#t=this.\u0275fac=function(Ct){return new(Ct||ht)};static#e=this.\u0275mod=G.$C({type:ht});static#n=this.\u0275inj=G.G2t({imports:[jt.jI,Ot,jt.jI,Ot]})}return ht})()},9284:(dn,re,P)=>{"use strict";P.d(re,{AJ:()=>$a,Jj:()=>Ni,MD:()=>Da,N0:()=>Xd,QT:()=>g,Sq:()=>ce,T3:()=>po,UE:()=>xc,VF:()=>ut,Vy:()=>zl,YU:()=>ci,ZD:()=>lt,_b:()=>Je,aZ:()=>Le,bT:()=>Pn,fw:()=>ve,hb:()=>jt,hj:()=>ft,kB:()=>Ut,pM:()=>ce,qQ:()=>Bt});var x=P(4291);let G=null;function g(){return G}function lt(j){G??=j}class ut{}const Bt=new x.nKC("");let At=(()=>{class j{historyGo(W){throw new Error("")}static#t=this.\u0275fac=function(nt){return new(nt||j)};static#e=this.\u0275prov=x.jDH({token:j,factory:()=>(0,x.WQX)(vt),providedIn:"platform"})}return j})();const ft=new x.nKC("");let vt=(()=>{class j extends At{constructor(){super(),this._doc=(0,x.WQX)(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return g().getBaseHref(this._doc)}onPopState(W){const nt=g().getGlobalEventTarget(this._doc,"window");return nt.addEventListener("popstate",W,!1),()=>nt.removeEventListener("popstate",W)}onHashChange(W){const nt=g().getGlobalEventTarget(this._doc,"window");return nt.addEventListener("hashchange",W,!1),()=>nt.removeEventListener("hashchange",W)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(W){this._location.pathname=W}pushState(W,nt,ee){this._history.pushState(W,nt,ee)}replaceState(W,nt,ee){this._history.replaceState(W,nt,ee)}forward(){this._history.forward()}back(){this._history.back()}historyGo(W=0){this._history.go(W)}getState(){return this._history.state}static#t=this.\u0275fac=function(nt){return new(nt||j)};static#e=this.\u0275prov=x.jDH({token:j,factory:()=>new j,providedIn:"platform"})}return j})();function Dt(j,st){if(0==j.length)return st;if(0==st.length)return j;let W=0;return j.endsWith("/")&&W++,st.startsWith("/")&&W++,2==W?j+st.substring(1):1==W?j+st:j+"/"+st}function Rt(j){const st=j.match(/#|\?|$/),W=st&&st.index||j.length;return j.slice(0,W-("/"===j[W-1]?1:0))+j.slice(W)}function yt(j){return j&&"?"!==j[0]?"?"+j:j}let jt=(()=>{class j{historyGo(W){throw new Error("")}static#t=this.\u0275fac=function(nt){return new(nt||j)};static#e=this.\u0275prov=x.jDH({token:j,factory:()=>(0,x.WQX)(le),providedIn:"root"})}return j})();const Ut=new x.nKC("");let le=(()=>{class j extends jt{constructor(W,nt){super(),this._platformLocation=W,this._removeListenerFns=[],this._baseHref=nt??this._platformLocation.getBaseHrefFromDOM()??(0,x.WQX)(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}prepareExternalUrl(W){return Dt(this._baseHref,W)}path(W=!1){const nt=this._platformLocation.pathname+yt(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&W?`${nt}${ee}`:nt}pushState(W,nt,ee,nn){const _n=this.prepareExternalUrl(ee+yt(nn));this._platformLocation.pushState(W,nt,_n)}replaceState(W,nt,ee,nn){const _n=this.prepareExternalUrl(ee+yt(nn));this._platformLocation.replaceState(W,nt,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.KVO(At),x.KVO(Ut,8))};static#e=this.\u0275prov=x.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}return j})(),ve=(()=>{class j extends jt{constructor(W,nt){super(),this._platformLocation=W,this._baseHref="",this._removeListenerFns=[],null!=nt&&(this._baseHref=nt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(W){this._removeListenerFns.push(this._platformLocation.onPopState(W),this._platformLocation.onHashChange(W))}getBaseHref(){return this._baseHref}path(W=!1){const nt=this._platformLocation.hash??"#";return nt.length>0?nt.substring(1):nt}prepareExternalUrl(W){const nt=Dt(this._baseHref,W);return nt.length>0?"#"+nt:nt}pushState(W,nt,ee,nn){let _n=this.prepareExternalUrl(ee+yt(nn));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.pushState(W,nt,_n)}replaceState(W,nt,ee,nn){let _n=this.prepareExternalUrl(ee+yt(nn));0==_n.length&&(_n=this._platformLocation.pathname),this._platformLocation.replaceState(W,nt,_n)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(W=0){this._platformLocation.historyGo?.(W)}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.KVO(At),x.KVO(Ut,8))};static#e=this.\u0275prov=x.jDH({token:j,factory:j.\u0275fac})}return j})(),Le=(()=>{class j{constructor(W){this._subject=new x.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=W;const nt=this._locationStrategy.getBaseHref();this._basePath=function Xt(j){if(new RegExp("^(https?:)?//").test(j)){const[,W]=j.split(/\/\/[^\/]+/);return W}return j}(Rt(We(nt))),this._locationStrategy.onPopState(ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:ee.state,type:ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(W=!1){return this.normalize(this._locationStrategy.path(W))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(W,nt=""){return this.path()==this.normalize(W+yt(nt))}normalize(W){return j.stripTrailingSlash(function be(j,st){if(!j||!st.startsWith(j))return st;const W=st.substring(j.length);return""===W||["/",";","?","#"].includes(W[0])?W:st}(this._basePath,We(W)))}prepareExternalUrl(W){return W&&"/"!==W[0]&&(W="/"+W),this._locationStrategy.prepareExternalUrl(W)}go(W,nt="",ee=null){this._locationStrategy.pushState(ee,"",W,nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+yt(nt)),ee)}replaceState(W,nt="",ee=null){this._locationStrategy.replaceState(ee,"",W,nt),this._notifyUrlChangeListeners(this.prepareExternalUrl(W+yt(nt)),ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(W=0){this._locationStrategy.historyGo?.(W)}onUrlChange(W){return this._urlChangeListeners.push(W),this._urlChangeSubscription??=this.subscribe(nt=>{this._notifyUrlChangeListeners(nt.url,nt.state)}),()=>{const nt=this._urlChangeListeners.indexOf(W);this._urlChangeListeners.splice(nt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(W="",nt){this._urlChangeListeners.forEach(ee=>ee(W,nt))}subscribe(W,nt,ee){return this._subject.subscribe({next:W,error:nt,complete:ee})}static#t=this.normalizeQueryParams=yt;static#e=this.joinWithSlash=Dt;static#n=this.stripTrailingSlash=Rt;static#i=this.\u0275fac=function(nt){return new(nt||j)(x.KVO(jt))};static#r=this.\u0275prov=x.jDH({token:j,factory:()=>function tn(){return new Le((0,x.KVO)(jt))}(),providedIn:"root"})}return j})();function We(j){return j.replace(/\/index.html$/,"")}function Je(j,st){st=encodeURIComponent(st);for(const W of j.split(";")){const nt=W.indexOf("="),[ee,nn]=-1==nt?[W,""]:[W.slice(0,nt),W.slice(nt+1)];if(ee.trim()===st)return decodeURIComponent(nn)}return null}const Vn=/\s+/,si=[];let ci=(()=>{class j{constructor(W,nt){this._ngEl=W,this._renderer=nt,this.initialClasses=si,this.stateMap=new Map}set klass(W){this.initialClasses=null!=W?W.trim().split(Vn):si}set ngClass(W){this.rawClass="string"==typeof W?W.trim().split(Vn):W}ngDoCheck(){for(const nt of this.initialClasses)this._updateState(nt,!0);const W=this.rawClass;if(Array.isArray(W)||W instanceof Set)for(const nt of W)this._updateState(nt,!0);else if(null!=W)for(const nt of Object.keys(W))this._updateState(nt,!!W[nt]);this._applyStateDiff()}_updateState(W,nt){const ee=this.stateMap.get(W);void 0!==ee?(ee.enabled!==nt&&(ee.changed=!0,ee.enabled=nt),ee.touched=!0):this.stateMap.set(W,{enabled:nt,changed:!0,touched:!0})}_applyStateDiff(){for(const W of this.stateMap){const nt=W[0],ee=W[1];ee.changed?(this._toggleClass(nt,ee.enabled),ee.changed=!1):ee.touched||(ee.enabled&&this._toggleClass(nt,!1),this.stateMap.delete(nt)),ee.touched=!1}}_toggleClass(W,nt){(W=W.trim()).length>0&&W.split(Vn).forEach(ee=>{nt?this._renderer.addClass(this._ngEl.nativeElement,ee):this._renderer.removeClass(this._ngEl.nativeElement,ee)})}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.rXU(x.aKT),x.rXU(x.sFG))};static#e=this.\u0275dir=x.FsC({type:j,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return j})();class se{constructor(st,W,nt,ee){this.$implicit=st,this.ngForOf=W,this.index=nt,this.count=ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ce=(()=>{class j{set ngForOf(W){this._ngForOf=W,this._ngForOfDirty=!0}set ngForTrackBy(W){this._trackByFn=W}get ngForTrackBy(){return this._trackByFn}constructor(W,nt,ee){this._viewContainer=W,this._template=nt,this._differs=ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(W){W&&(this._template=W)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const W=this._ngForOf;!this._differ&&W&&(this._differ=this._differs.find(W).create(this.ngForTrackBy))}if(this._differ){const W=this._differ.diff(this._ngForOf);W&&this._applyChanges(W)}}_applyChanges(W){const nt=this._viewContainer;W.forEachOperation((ee,nn,_n)=>{if(null==ee.previousIndex)nt.createEmbeddedView(this._template,new se(ee.item,this._ngForOf,-1,-1),null===_n?void 0:_n);else if(null==_n)nt.remove(null===nn?void 0:nn);else if(null!==nn){const ui=nt.get(nn);nt.move(ui,_n),Ne(ui,ee)}});for(let ee=0,nn=nt.length;ee<nn;ee++){const ui=nt.get(ee).context;ui.index=ee,ui.count=nn,ui.ngForOf=this._ngForOf}W.forEachIdentityChange(ee=>{Ne(nt.get(ee.currentIndex),ee)})}static ngTemplateContextGuard(W,nt){return!0}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.rXU(x.c1b),x.rXU(x.C4Q),x.rXU(x._q3))};static#e=this.\u0275dir=x.FsC({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return j})();function Ne(j,st){j.context.$implicit=st.item}let Pn=(()=>{class j{constructor(W,nt){this._viewContainer=W,this._context=new In,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=nt}set ngIf(W){this._context.$implicit=this._context.ngIf=W,this._updateView()}set ngIfThen(W){pi("ngIfThen",W),this._thenTemplateRef=W,this._thenViewRef=null,this._updateView()}set ngIfElse(W){pi("ngIfElse",W),this._elseTemplateRef=W,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(W,nt){return!0}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.rXU(x.c1b),x.rXU(x.C4Q))};static#e=this.\u0275dir=x.FsC({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return j})();class In{constructor(){this.$implicit=null,this.ngIf=null}}function pi(j,st){if(st&&!st.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,x.Tbb)(st)}'.`)}let po=(()=>{class j{constructor(W){this._viewContainerRef=W,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(W){if(this._shouldRecreateView(W)){const nt=this._viewContainerRef;if(this._viewRef&&nt.remove(nt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ee=this._createContextForwardProxy();this._viewRef=nt.createEmbeddedView(this.ngTemplateOutlet,ee,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(W){return!!W.ngTemplateOutlet||!!W.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(W,nt,ee)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,nt,ee),get:(W,nt,ee)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,nt,ee)}})}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.rXU(x.c1b))};static#e=this.\u0275dir=x.FsC({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[x.OA$]})}return j})();class Ve{createSubscription(st,W){return(0,x.O8t)(()=>st.subscribe({next:W,error:nt=>{throw nt}}))}dispose(st){(0,x.O8t)(()=>st.unsubscribe())}}class en{createSubscription(st,W){return st.then(W,nt=>{throw nt})}dispose(st){}}const Bn=new en,Xn=new Ve;let Ni=(()=>{class j{constructor(W){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=W}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(W){if(!this._obj){if(W)try{this.markForCheckOnValueUpdate=!1,this._subscribe(W)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return W!==this._obj?(this._dispose(),this.transform(W)):this._latestValue}_subscribe(W){this._obj=W,this._strategy=this._selectStrategy(W),this._subscription=this._strategy.createSubscription(W,nt=>this._updateLatestValue(W,nt))}_selectStrategy(W){if((0,x.jNT)(W))return Bn;if((0,x.zjR)(W))return Xn;throw function Se(j,st){return new x.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(W,nt){W===this._obj&&(this._latestValue=nt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#t=this.\u0275fac=function(nt){return new(nt||j)(x.rXU(x.gRc,16))};static#e=this.\u0275pipe=x.EJ8({name:"async",type:j,pure:!1,standalone:!0})}return j})(),Da=(()=>{class j{static#t=this.\u0275fac=function(nt){return new(nt||j)};static#e=this.\u0275mod=x.$C({type:j});static#n=this.\u0275inj=x.G2t({})}return j})();const $a="browser",da="server";function xc(j){return j===$a}function zl(j){return j===da}class Xd{}},7715:(dn,re,P)=>{"use strict";P.d(re,{$R:()=>On,Qq:()=>Ct,b$:()=>qn});var x=P(6994),G=P(4291),g=P(3204),lt=P(3982),ut=P(3467),et=P(5799),Bt=P(2647),At=P(8199),ft=P(4507),vt=P(7071),Dt=P(9284);class Rt{}class yt{}class jt{constructor(se){this.normalizedNames=new Map,this.lazyUpdate=null,se?"string"==typeof se?this.lazyInit=()=>{this.headers=new Map,se.split("\n").forEach(ce=>{const Ne=ce.indexOf(":");if(Ne>0){const vn=ce.slice(0,Ne),Pn=vn.toLowerCase(),In=ce.slice(Ne+1).trim();this.maybeSetNormalizedName(vn,Pn),this.headers.has(Pn)?this.headers.get(Pn).push(In):this.headers.set(Pn,[In])}})}:typeof Headers<"u"&&se instanceof Headers?(this.headers=new Map,se.forEach((ce,Ne)=>{this.setHeaderEntries(Ne,ce)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(se).forEach(([ce,Ne])=>{this.setHeaderEntries(ce,Ne)})}:this.headers=new Map}has(se){return this.init(),this.headers.has(se.toLowerCase())}get(se){this.init();const ce=this.headers.get(se.toLowerCase());return ce&&ce.length>0?ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(se){return this.init(),this.headers.get(se.toLowerCase())||null}append(se,ce){return this.clone({name:se,value:ce,op:"a"})}set(se,ce){return this.clone({name:se,value:ce,op:"s"})}delete(se,ce){return this.clone({name:se,value:ce,op:"d"})}maybeSetNormalizedName(se,ce){this.normalizedNames.has(ce)||this.normalizedNames.set(ce,se)}init(){this.lazyInit&&(this.lazyInit instanceof jt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(se=>this.applyUpdate(se)),this.lazyUpdate=null))}copyFrom(se){se.init(),Array.from(se.headers.keys()).forEach(ce=>{this.headers.set(ce,se.headers.get(ce)),this.normalizedNames.set(ce,se.normalizedNames.get(ce))})}clone(se){const ce=new jt;return ce.lazyInit=this.lazyInit&&this.lazyInit instanceof jt?this.lazyInit:this,ce.lazyUpdate=(this.lazyUpdate||[]).concat([se]),ce}applyUpdate(se){const ce=se.name.toLowerCase();switch(se.op){case"a":case"s":let Ne=se.value;if("string"==typeof Ne&&(Ne=[Ne]),0===Ne.length)return;this.maybeSetNormalizedName(se.name,ce);const vn=("a"===se.op?this.headers.get(ce):void 0)||[];vn.push(...Ne),this.headers.set(ce,vn);break;case"d":const Pn=se.value;if(Pn){let In=this.headers.get(ce);if(!In)return;In=In.filter(pi=>-1===Pn.indexOf(pi)),0===In.length?(this.headers.delete(ce),this.normalizedNames.delete(ce)):this.headers.set(ce,In)}else this.headers.delete(ce),this.normalizedNames.delete(ce)}}setHeaderEntries(se,ce){const Ne=(Array.isArray(ce)?ce:[ce]).map(Pn=>Pn.toString()),vn=se.toLowerCase();this.headers.set(vn,Ne),this.maybeSetNormalizedName(se,vn)}forEach(se){this.init(),Array.from(this.normalizedNames.keys()).forEach(ce=>se(this.normalizedNames.get(ce),this.headers.get(ce)))}}class le{encodeKey(se){return be(se)}encodeValue(se){return be(se)}decodeKey(se){return decodeURIComponent(se)}decodeValue(se){return decodeURIComponent(se)}}const Le=/%(\d[a-f0-9])/gi,tn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function be(xt){return encodeURIComponent(xt).replace(Le,(se,ce)=>tn[ce]??se)}function We(xt){return`${xt}`}class Xt{constructor(se={}){if(this.updates=null,this.cloneFrom=null,this.encoder=se.encoder||new le,se.fromString){if(se.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ve(xt,se){const ce=new Map;return xt.length>0&&xt.replace(/^\?/,"").split("&").forEach(vn=>{const Pn=vn.indexOf("="),[In,pi]=-1==Pn?[se.decodeKey(vn),""]:[se.decodeKey(vn.slice(0,Pn)),se.decodeValue(vn.slice(Pn+1))],bi=ce.get(In)||[];bi.push(pi),ce.set(In,bi)}),ce}(se.fromString,this.encoder)}else se.fromObject?(this.map=new Map,Object.keys(se.fromObject).forEach(ce=>{const Ne=se.fromObject[ce],vn=Array.isArray(Ne)?Ne.map(We):[We(Ne)];this.map.set(ce,vn)})):this.map=null}has(se){return this.init(),this.map.has(se)}get(se){this.init();const ce=this.map.get(se);return ce?ce[0]:null}getAll(se){return this.init(),this.map.get(se)||null}keys(){return this.init(),Array.from(this.map.keys())}append(se,ce){return this.clone({param:se,value:ce,op:"a"})}appendAll(se){const ce=[];return Object.keys(se).forEach(Ne=>{const vn=se[Ne];Array.isArray(vn)?vn.forEach(Pn=>{ce.push({param:Ne,value:Pn,op:"a"})}):ce.push({param:Ne,value:vn,op:"a"})}),this.clone(ce)}set(se,ce){return this.clone({param:se,value:ce,op:"s"})}delete(se,ce){return this.clone({param:se,value:ce,op:"d"})}toString(){return this.init(),this.keys().map(se=>{const ce=this.encoder.encodeKey(se);return this.map.get(se).map(Ne=>ce+"="+this.encoder.encodeValue(Ne)).join("&")}).filter(se=>""!==se).join("&")}clone(se){const ce=new Xt({encoder:this.encoder});return ce.cloneFrom=this.cloneFrom||this,ce.updates=(this.updates||[]).concat(se),ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(se=>this.map.set(se,this.cloneFrom.map.get(se))),this.updates.forEach(se=>{switch(se.op){case"a":case"s":const ce=("a"===se.op?this.map.get(se.param):void 0)||[];ce.push(We(se.value)),this.map.set(se.param,ce);break;case"d":if(void 0===se.value){this.map.delete(se.param);break}{let Ne=this.map.get(se.param)||[];const vn=Ne.indexOf(We(se.value));-1!==vn&&Ne.splice(vn,1),Ne.length>0?this.map.set(se.param,Ne):this.map.delete(se.param)}}}),this.cloneFrom=this.updates=null)}}class Tt{constructor(){this.map=new Map}set(se,ce){return this.map.set(se,ce),this}get(se){return this.map.has(se)||this.map.set(se,se.defaultValue()),this.map.get(se)}delete(se){return this.map.delete(se),this}has(se){return this.map.has(se)}keys(){return this.map.keys()}}function Te(xt){return typeof ArrayBuffer<"u"&&xt instanceof ArrayBuffer}function te(xt){return typeof Blob<"u"&&xt instanceof Blob}function $t(xt){return typeof FormData<"u"&&xt instanceof FormData}class De{constructor(se,ce,Ne,vn){let Pn;if(this.url=ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=se.toUpperCase(),function de(xt){switch(xt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||vn?(this.body=void 0!==Ne?Ne:null,Pn=vn):Pn=Ne,Pn&&(this.reportProgress=!!Pn.reportProgress,this.withCredentials=!!Pn.withCredentials,Pn.responseType&&(this.responseType=Pn.responseType),Pn.headers&&(this.headers=Pn.headers),Pn.context&&(this.context=Pn.context),Pn.params&&(this.params=Pn.params),this.transferCache=Pn.transferCache),this.headers??=new jt,this.context??=new Tt,this.params){const In=this.params.toString();if(0===In.length)this.urlWithParams=ce;else{const pi=ce.indexOf("?");this.urlWithParams=ce+(-1===pi?"?":pi<ce.length-1?"&":"")+In}}else this.params=new Xt,this.urlWithParams=ce}serializeBody(){return null===this.body?null:"string"==typeof this.body||Te(this.body)||te(this.body)||$t(this.body)||function Wt(xt){return typeof URLSearchParams<"u"&&xt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Xt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$t(this.body)?null:te(this.body)?this.body.type||null:Te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(se={}){const ce=se.method||this.method,Ne=se.url||this.url,vn=se.responseType||this.responseType,Pn=se.transferCache??this.transferCache,In=void 0!==se.body?se.body:this.body,pi=se.withCredentials??this.withCredentials,bi=se.reportProgress??this.reportProgress;let or=se.headers||this.headers,jr=se.params||this.params;const cr=se.context??this.context;return void 0!==se.setHeaders&&(or=Object.keys(se.setHeaders).reduce((Pr,Yr)=>Pr.set(Yr,se.setHeaders[Yr]),or)),se.setParams&&(jr=Object.keys(se.setParams).reduce((Pr,Yr)=>Pr.set(Yr,se.setParams[Yr]),jr)),new De(ce,Ne,In,{params:jr,headers:or,context:cr,reportProgress:bi,responseType:vn,withCredentials:pi,transferCache:Pn})}}var xe=function(xt){return xt[xt.Sent=0]="Sent",xt[xt.UploadProgress=1]="UploadProgress",xt[xt.ResponseHeader=2]="ResponseHeader",xt[xt.DownloadProgress=3]="DownloadProgress",xt[xt.Response=4]="Response",xt[xt.User=5]="User",xt}(xe||{});class he{constructor(se,ce=200,Ne="OK"){this.headers=se.headers||new jt,this.status=void 0!==se.status?se.status:ce,this.statusText=se.statusText||Ne,this.url=se.url||null,this.ok=this.status>=200&&this.status<300}}class Ae extends he{constructor(se={}){super(se),this.type=xe.ResponseHeader}clone(se={}){return new Ae({headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class qt extends he{constructor(se={}){super(se),this.type=xe.Response,this.body=void 0!==se.body?se.body:null}clone(se={}){return new qt({body:void 0!==se.body?se.body:this.body,headers:se.headers||this.headers,status:void 0!==se.status?se.status:this.status,statusText:se.statusText||this.statusText,url:se.url||this.url||void 0})}}class Ot extends he{constructor(se){super(se,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${se.url||"(unknown url)"}`:`Http failure response for ${se.url||"(unknown url)"}: ${se.status} ${se.statusText}`,this.error=se.error||null}}function it(xt,se){return{body:se,headers:xt.headers,context:xt.context,observe:xt.observe,params:xt.params,reportProgress:xt.reportProgress,responseType:xt.responseType,withCredentials:xt.withCredentials,transferCache:xt.transferCache}}let Ct=(()=>{class xt{constructor(ce){this.handler=ce}request(ce,Ne,vn={}){let Pn;if(ce instanceof De)Pn=ce;else{let bi,or;bi=vn.headers instanceof jt?vn.headers:new jt(vn.headers),vn.params&&(or=vn.params instanceof Xt?vn.params:new Xt({fromObject:vn.params})),Pn=new De(ce,Ne,void 0!==vn.body?vn.body:null,{headers:bi,context:vn.context,params:or,reportProgress:vn.reportProgress,responseType:vn.responseType||"json",withCredentials:vn.withCredentials,transferCache:vn.transferCache})}const In=(0,g.of)(Pn).pipe((0,et.H)(bi=>this.handler.handle(bi)));if(ce instanceof De||"events"===vn.observe)return In;const pi=In.pipe((0,Bt.p)(bi=>bi instanceof qt));switch(vn.observe||"body"){case"body":switch(Pn.responseType){case"arraybuffer":return pi.pipe((0,At.T)(bi=>{if(null!==bi.body&&!(bi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bi.body}));case"blob":return pi.pipe((0,At.T)(bi=>{if(null!==bi.body&&!(bi.body instanceof Blob))throw new Error("Response is not a Blob.");return bi.body}));case"text":return pi.pipe((0,At.T)(bi=>{if(null!==bi.body&&"string"!=typeof bi.body)throw new Error("Response is not a string.");return bi.body}));default:return pi.pipe((0,At.T)(bi=>bi.body))}case"response":return pi;default:throw new Error(`Unreachable: unhandled observe type ${vn.observe}}`)}}delete(ce,Ne={}){return this.request("DELETE",ce,Ne)}get(ce,Ne={}){return this.request("GET",ce,Ne)}head(ce,Ne={}){return this.request("HEAD",ce,Ne)}jsonp(ce,Ne){return this.request("JSONP",ce,{params:(new Xt).append(Ne,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ce,Ne={}){return this.request("OPTIONS",ce,Ne)}patch(ce,Ne,vn={}){return this.request("PATCH",ce,it(vn,Ne))}post(ce,Ne,vn={}){return this.request("POST",ce,it(vn,Ne))}put(ce,Ne,vn={}){return this.request("PUT",ce,it(vn,Ne))}static#t=this.\u0275fac=function(Ne){return new(Ne||xt)(G.KVO(Rt))};static#e=this.\u0275prov=G.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const pt=/^\)\]\}',?\n/;function _e(xt){if(xt.url)return xt.url;const se="X-Request-URL".toLocaleLowerCase();return xt.headers.get(se)}let Ee=(()=>{class xt{constructor(){this.fetchImpl=(0,G.WQX)(Oe,{optional:!0})?.fetch??((...ce)=>globalThis.fetch(...ce)),this.ngZone=(0,G.WQX)(G.SKi)}handle(ce){return new lt.c(Ne=>{const vn=new AbortController;return this.doRequest(ce,vn.signal,Ne).then(cn,Pn=>Ne.error(new Ot({error:Pn}))),()=>vn.abort()})}doRequest(ce,Ne,vn){var Pn=this;return(0,x.A)(function*(){const In=Pn.createRequestInit(ce);let pi;try{const fo=Pn.ngZone.runOutsideAngular(()=>Pn.fetchImpl(ce.urlWithParams,{signal:Ne,...In}));(function Ln(xt){xt.then(cn,cn)})(fo),vn.next({type:xe.Sent}),pi=yield fo}catch(fo){return void vn.error(new Ot({error:fo,status:fo.status??0,statusText:fo.statusText,url:ce.urlWithParams,headers:fo.headers}))}const bi=new jt(pi.headers),or=pi.statusText,jr=_e(pi)??ce.urlWithParams;let cr=pi.status,Pr=null;if(ce.reportProgress&&vn.next(new Ae({headers:bi,status:cr,statusText:or,url:jr})),pi.body){const fo=pi.headers.get("content-length"),Vi=[],mr=pi.body.getReader();let Ft,Se,po=0;const Ve=typeof Zone<"u"&&Zone.current;yield Pn.ngZone.runOutsideAngular((0,x.A)(function*(){for(;;){const{done:Bn,value:Xn}=yield mr.read();if(Bn)break;if(Vi.push(Xn),po+=Xn.length,ce.reportProgress){Se="text"===ce.responseType?(Se??"")+(Ft??=new TextDecoder).decode(Xn,{stream:!0}):void 0;const Ni=()=>vn.next({type:xe.DownloadProgress,total:fo?+fo:void 0,loaded:po,partialText:Se});Ve?Ve.run(Ni):Ni()}}}));const en=Pn.concatChunks(Vi,po);try{const Bn=pi.headers.get("Content-Type")??"";Pr=Pn.parseBody(ce,en,Bn)}catch(Bn){return void vn.error(new Ot({error:Bn,headers:new jt(pi.headers),status:pi.status,statusText:pi.statusText,url:_e(pi)??ce.urlWithParams}))}}0===cr&&(cr=Pr?200:0),cr>=200&&cr<300?(vn.next(new qt({body:Pr,headers:bi,status:cr,statusText:or,url:jr})),vn.complete()):vn.error(new Ot({error:Pr,headers:bi,status:cr,statusText:or,url:jr}))})()}parseBody(ce,Ne,vn){switch(ce.responseType){case"json":const Pn=(new TextDecoder).decode(Ne).replace(pt,"");return""===Pn?null:JSON.parse(Pn);case"text":return(new TextDecoder).decode(Ne);case"blob":return new Blob([Ne],{type:vn});case"arraybuffer":return Ne.buffer}}createRequestInit(ce){const Ne={},vn=ce.withCredentials?"include":void 0;if(ce.headers.forEach((Pn,In)=>Ne[Pn]=In.join(",")),ce.headers.has("Accept")||(Ne.Accept="application/json, text/plain, */*"),!ce.headers.has("Content-Type")){const Pn=ce.detectContentTypeHeader();null!==Pn&&(Ne["Content-Type"]=Pn)}return{body:ce.serializeBody(),method:ce.method,headers:Ne,credentials:vn}}concatChunks(ce,Ne){const vn=new Uint8Array(Ne);let Pn=0;for(const In of ce)vn.set(In,Pn),Pn+=In.length;return vn}static#t=this.\u0275fac=function(Ne){return new(Ne||xt)};static#e=this.\u0275prov=G.jDH({token:xt,factory:xt.\u0275fac})}return xt})();class Oe{}function cn(){}function Di(xt,se){return se(xt)}const ki=new G.nKC(""),Ii=new G.nKC(""),Fi=new G.nKC("",{providedIn:"root",factory:()=>!0});let ue=(()=>{class xt extends Rt{constructor(ce,Ne){super(),this.backend=ce,this.injector=Ne,this.chain=null,this.pendingTasks=(0,G.WQX)(G.TgB),this.contributeToStability=(0,G.WQX)(Fi)}handle(ce){if(null===this.chain){const Ne=Array.from(new Set([...this.injector.get(ki),...this.injector.get(Ii,[])]));this.chain=Ne.reduceRight((vn,Pn)=>function ii(xt,se,ce){return(Ne,vn)=>(0,G.N4e)(ce,()=>se(Ne,Pn=>xt(Pn,vn)))}(vn,Pn,this.injector),Di)}if(this.contributeToStability){const Ne=this.pendingTasks.add();return this.chain(ce,vn=>this.backend.handle(vn)).pipe((0,ft.j)(()=>this.pendingTasks.remove(Ne)))}return this.chain(ce,Ne=>this.backend.handle(Ne))}static#t=this.\u0275fac=function(Ne){return new(Ne||xt)(G.KVO(yt),G.KVO(G.uvJ))};static#e=this.\u0275prov=G.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const Cn=/^\)\]\}',?\n/;let di=(()=>{class xt{constructor(ce){this.xhrFactory=ce}handle(ce){if("JSONP"===ce.method)throw new G.wOt(-2800,!1);const Ne=this.xhrFactory;return(Ne.\u0275loadImpl?(0,ut.H)(Ne.\u0275loadImpl()):(0,g.of)(null)).pipe((0,vt.n)(()=>new lt.c(Pn=>{const In=Ne.build();if(In.open(ce.method,ce.urlWithParams),ce.withCredentials&&(In.withCredentials=!0),ce.headers.forEach((Vi,mr)=>In.setRequestHeader(Vi,mr.join(","))),ce.headers.has("Accept")||In.setRequestHeader("Accept","application/json, text/plain, */*"),!ce.headers.has("Content-Type")){const Vi=ce.detectContentTypeHeader();null!==Vi&&In.setRequestHeader("Content-Type",Vi)}if(ce.responseType){const Vi=ce.responseType.toLowerCase();In.responseType="json"!==Vi?Vi:"text"}const pi=ce.serializeBody();let bi=null;const or=()=>{if(null!==bi)return bi;const Vi=In.statusText||"OK",mr=new jt(In.getAllResponseHeaders()),po=function Rn(xt){return"responseURL"in xt&&xt.responseURL?xt.responseURL:/^X-Request-URL:/m.test(xt.getAllResponseHeaders())?xt.getResponseHeader("X-Request-URL"):null}(In)||ce.url;return bi=new Ae({headers:mr,status:In.status,statusText:Vi,url:po}),bi},jr=()=>{let{headers:Vi,status:mr,statusText:po,url:Ft}=or(),Se=null;204!==mr&&(Se=typeof In.response>"u"?In.responseText:In.response),0===mr&&(mr=Se?200:0);let Ve=mr>=200&&mr<300;if("json"===ce.responseType&&"string"==typeof Se){const en=Se;Se=Se.replace(Cn,"");try{Se=""!==Se?JSON.parse(Se):null}catch(Bn){Se=en,Ve&&(Ve=!1,Se={error:Bn,text:Se})}}Ve?(Pn.next(new qt({body:Se,headers:Vi,status:mr,statusText:po,url:Ft||void 0})),Pn.complete()):Pn.error(new Ot({error:Se,headers:Vi,status:mr,statusText:po,url:Ft||void 0}))},cr=Vi=>{const{url:mr}=or(),po=new Ot({error:Vi,status:In.status||0,statusText:In.statusText||"Unknown Error",url:mr||void 0});Pn.error(po)};let Pr=!1;const Yr=Vi=>{Pr||(Pn.next(or()),Pr=!0);let mr={type:xe.DownloadProgress,loaded:Vi.loaded};Vi.lengthComputable&&(mr.total=Vi.total),"text"===ce.responseType&&In.responseText&&(mr.partialText=In.responseText),Pn.next(mr)},fo=Vi=>{let mr={type:xe.UploadProgress,loaded:Vi.loaded};Vi.lengthComputable&&(mr.total=Vi.total),Pn.next(mr)};return In.addEventListener("load",jr),In.addEventListener("error",cr),In.addEventListener("timeout",cr),In.addEventListener("abort",cr),ce.reportProgress&&(In.addEventListener("progress",Yr),null!==pi&&In.upload&&In.upload.addEventListener("progress",fo)),In.send(pi),Pn.next({type:xe.Sent}),()=>{In.removeEventListener("error",cr),In.removeEventListener("abort",cr),In.removeEventListener("load",jr),In.removeEventListener("timeout",cr),ce.reportProgress&&(In.removeEventListener("progress",Yr),null!==pi&&In.upload&&In.upload.removeEventListener("progress",fo)),In.readyState!==In.DONE&&In.abort()}})))}static#t=this.\u0275fac=function(Ne){return new(Ne||xt)(G.KVO(Dt.N0))};static#e=this.\u0275prov=G.jDH({token:xt,factory:xt.\u0275fac})}return xt})();const Re=new G.nKC(""),an=new G.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ue=new G.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Nn{}let kt=(()=>{class xt{constructor(ce,Ne,vn){this.doc=ce,this.platform=Ne,this.cookieName=vn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ce=this.doc.cookie||"";return ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Dt._b)(ce,this.cookieName),this.lastCookieString=ce),this.lastToken}static#t=this.\u0275fac=function(Ne){return new(Ne||xt)(G.KVO(Dt.qQ),G.KVO(G.Agw),G.KVO(an))};static#e=this.\u0275prov=G.jDH({token:xt,factory:xt.\u0275fac})}return xt})();function Mt(xt,se){const ce=xt.url.toLowerCase();if(!(0,G.WQX)(Re)||"GET"===xt.method||"HEAD"===xt.method||ce.startsWith("http://")||ce.startsWith("https://"))return se(xt);const Ne=(0,G.WQX)(Nn).getToken(),vn=(0,G.WQX)(Ue);return null!=Ne&&!xt.headers.has(vn)&&(xt=xt.clone({headers:xt.headers.set(vn,Ne)})),se(xt)}var Lt=function(xt){return xt[xt.Interceptors=0]="Interceptors",xt[xt.LegacyInterceptors=1]="LegacyInterceptors",xt[xt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",xt[xt.NoXsrfProtection=3]="NoXsrfProtection",xt[xt.JsonpSupport=4]="JsonpSupport",xt[xt.RequestsMadeViaParent=5]="RequestsMadeViaParent",xt[xt.Fetch=6]="Fetch",xt}(Lt||{});function On(...xt){const se=[Ct,di,ue,{provide:Rt,useExisting:ue},{provide:yt,useFactory:()=>(0,G.WQX)(Ee,{optional:!0})??(0,G.WQX)(di)},{provide:ki,useValue:Mt,multi:!0},{provide:Re,useValue:!0},{provide:Nn,useClass:kt}];for(const ce of xt)se.push(...ce.\u0275providers);return(0,G.EmA)(se)}function qn(xt){return function Ze(xt,se){return{\u0275kind:xt,\u0275providers:se}}(Lt.Interceptors,xt.map(se=>({provide:ki,useValue:se,multi:!0})))}},4291:(dn,re,P)=>{"use strict";function x(c,d){return Object.is(c,d)}P.d(re,{bc$:()=>pN,iLQ:()=>H_,sZ2:()=>Ic,hnV:()=>Mk,o8S:()=>Fu,BIS:()=>$y,gRc:()=>oC,Ql9:()=>Ok,OM3:()=>Zv,Ocv:()=>d4,abz:()=>pd,Z63:()=>ss,aKT:()=>Qp,uvJ:()=>Ts,zcH:()=>md,bkB:()=>no,y_5:()=>td,$GK:()=>Mi,nKC:()=>ti,zZn:()=>Ei,_q3:()=>n1,MKu:()=>r1,xe9:()=>eC,Co$:()=>pT,Vns:()=>Ih,SKi:()=>ji,Xx1:()=>gl,Agw:()=>Hy,PLl:()=>Gy,rOR:()=>gd,sFG:()=>A3,_9s:()=>cx,czy:()=>lb,WPN:()=>Pa,kdw:()=>Ul,C4Q:()=>Vv,NYb:()=>e4,giA:()=>Qh,RxE:()=>j_,c1b:()=>Tm,gXe:()=>Hl,mal:()=>a0,Tzd:()=>Al,Af3:()=>Sc,tdH:()=>Lh,L39:()=>i6,EWP:()=>l6,sbv:()=>iT,a0P:()=>p1,Ol2:()=>ia,w6W:()=>aL,QZP:()=>pI,Rfq:()=>kt,oKB:()=>Ug,WQX:()=>_i,hFB:()=>rD,naY:()=>w4,Hps:()=>Hf,QuC:()=>Xl,EmA:()=>Qs,Udg:()=>r6,CGW:()=>mh,N4e:()=>ih,vPA:()=>ZO,O8t:()=>c6,ebz:()=>Mx,H3F:()=>L0,H8p:()=>mf,KH2:()=>Il,TgB:()=>Ef,wOt:()=>Dn,WHO:()=>xk,e01:()=>Ck,lNU:()=>Fi,h9k:()=>ib,$MX:()=>eb,ZF7:()=>am,Kcf:()=>lm,e5t:()=>RD,UyX:()=>MN,cWb:()=>CN,osQ:()=>ID,H5H:()=>ho,Zy3:()=>on,mq5:()=>ep,JZv:()=>Cn,TL3:()=>z4,LfX:()=>Ye,plB:()=>Ah,jNT:()=>K2,zjR:()=>X2,ngT:()=>qo,TL$:()=>ks,Tbb:()=>an,rcV:()=>yd,nM4:()=>cT,Vt3:()=>Tx,GFd:()=>fT,OA$:()=>El,Jv_:()=>Pl,aNF:()=>T2,R7$:()=>bw,BMQ:()=>Qb,HbH:()=>GT,AVh:()=>Zm,vxM:()=>KT,wni:()=>Od,C6U:()=>D_,SS7:()=>A_,VBU:()=>qd,FsC:()=>hf,jDH:()=>Qt,G2t:()=>Jt,$C:()=>Zs,EJ8:()=>Ap,rXU:()=>ym,nrm:()=>qx,eu8:()=>__,bVm:()=>tg,qex:()=>x0,k0s:()=>Jm,j41:()=>b_,RV6:()=>oA,xGo:()=>Ny,Mr5:()=>Jx,KVO:()=>Ar,kS0:()=>lv,QTQ:()=>Av,bIt:()=>d2,lsd:()=>Lu,joV:()=>TS,qSk:()=>OS,XpG:()=>eg,nI1:()=>P2,bMT:()=>P_,SdG:()=>xA,NAR:()=>wA,Y8G:()=>o_,eq3:()=>A2,ziG:()=>og,NyB:()=>DA,mGM:()=>O0,r8f:()=>I_,sdS:()=>ng,Dyx:()=>qT,Z7z:()=>ZT,fX1:()=>YT,Vm6:()=>XT,Njj:()=>_S,eBV:()=>bS,npT:()=>Of,B4B:()=>wv,n$t:()=>zD,bH3:()=>k_,xc7:()=>a_,Kam:()=>h2,zvX:()=>t2,DNE:()=>Vb,C5r:()=>P0,EFF:()=>PA,JRh:()=>_2,SpI:()=>T_,DH7:()=>Kh,mxI:()=>Rd,R50:()=>zc,GBs:()=>bo,wEZ:()=>T0});let G=null,g=!1,lt=1;const ut=Symbol("SIGNAL");function et(c){const d=G;return G=c,d}function Bt(){return G}const vt={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dt(c){if(g)throw new Error("");if(null===G)return;G.consumerOnSignalRead(c);const d=G.nextProducerIndex++;Tt(G),d<G.producerNode.length&&G.producerNode[d]!==c&&zt(G)&&Xt(G.producerNode[d],G.producerIndexOfThis[d]),G.producerNode[d]!==c&&(G.producerNode[d]=c,G.producerIndexOfThis[d]=zt(G)?We(c,G,d):0),G.producerLastReadVersion[d]=c.version}function yt(c){if((!zt(c)||c.dirty)&&(c.dirty||c.lastCleanEpoch!==lt)){if(!c.producerMustRecompute(c)&&!tn(c))return c.dirty=!1,void(c.lastCleanEpoch=lt);c.producerRecomputeValue(c),c.dirty=!1,c.lastCleanEpoch=lt}}function jt(c){if(void 0===c.liveConsumerNode)return;const d=g;g=!0;try{for(const f of c.liveConsumerNode)f.dirty||le(f)}finally{g=d}}function Ut(){return!1!==G?.consumerAllowSignalWrites}function le(c){c.dirty=!0,jt(c),c.consumerMarkedDirty?.(c)}function ve(c){return c&&(c.nextProducerIndex=0),et(c)}function Le(c,d){if(et(d),c&&void 0!==c.producerNode&&void 0!==c.producerIndexOfThis&&void 0!==c.producerLastReadVersion){if(zt(c))for(let f=c.nextProducerIndex;f<c.producerNode.length;f++)Xt(c.producerNode[f],c.producerIndexOfThis[f]);for(;c.producerNode.length>c.nextProducerIndex;)c.producerNode.pop(),c.producerLastReadVersion.pop(),c.producerIndexOfThis.pop()}}function tn(c){Tt(c);for(let d=0;d<c.producerNode.length;d++){const f=c.producerNode[d],m=c.producerLastReadVersion[d];if(m!==f.version||(yt(f),m!==f.version))return!0}return!1}function be(c){if(Tt(c),zt(c))for(let d=0;d<c.producerNode.length;d++)Xt(c.producerNode[d],c.producerIndexOfThis[d]);c.producerNode.length=c.producerLastReadVersion.length=c.producerIndexOfThis.length=0,c.liveConsumerNode&&(c.liveConsumerNode.length=c.liveConsumerIndexOfThis.length=0)}function We(c,d,f){if(de(c),0===c.liveConsumerNode.length&&Te(c))for(let m=0;m<c.producerNode.length;m++)c.producerIndexOfThis[m]=We(c.producerNode[m],c,m);return c.liveConsumerIndexOfThis.push(f),c.liveConsumerNode.push(d)-1}function Xt(c,d){if(de(c),1===c.liveConsumerNode.length&&Te(c))for(let m=0;m<c.producerNode.length;m++)Xt(c.producerNode[m],c.producerIndexOfThis[m]);const f=c.liveConsumerNode.length-1;if(c.liveConsumerNode[d]=c.liveConsumerNode[f],c.liveConsumerIndexOfThis[d]=c.liveConsumerIndexOfThis[f],c.liveConsumerNode.length--,c.liveConsumerIndexOfThis.length--,d<c.liveConsumerNode.length){const m=c.liveConsumerIndexOfThis[d],_=c.liveConsumerNode[d];Tt(_),_.producerIndexOfThis[m]=d}}function zt(c){return c.consumerIsAlwaysLive||(c?.liveConsumerNode?.length??0)>0}function Tt(c){c.producerNode??=[],c.producerIndexOfThis??=[],c.producerLastReadVersion??=[]}function de(c){c.liveConsumerNode??=[],c.liveConsumerIndexOfThis??=[]}function Te(c){return void 0!==c.producerNode}function te(c){const d=Object.create(xe);d.computation=c;const f=()=>{if(yt(d),Dt(d),d.value===De)throw d.error;return d.value};return f[ut]=d,f}const $t=Symbol("UNSET"),Wt=Symbol("COMPUTING"),De=Symbol("ERRORED"),xe={...vt,value:$t,dirty:!0,error:null,equal:x,producerMustRecompute:c=>c.value===$t||c.value===Wt,producerRecomputeValue(c){if(c.value===Wt)throw new Error("Detected cycle in computations.");const d=c.value;c.value=Wt;const f=ve(c);let m;try{m=c.computation()}catch(_){m=De,c.error=_}finally{Le(c,f)}d!==$t&&d!==De&&m!==De&&c.equal(d,m)?c.value=d:(c.value=m,c.version++)}};let Ae=function he(){throw new Error};function qt(){Ae()}let dt=null;function Ct(c,d){Ut()||qt(),c.equal(c.value,d)||(c.value=d,function Ee(c){c.version++,function Rt(){lt++}(),jt(c),dt?.()}(c))}const _e={...vt,equal:x,value:void 0};const cn=()=>{},Ln={...vt,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:c=>{null!==c.schedule&&c.schedule(c.ref)},hasRun:!1,cleanupFn:cn};var Fn=P(8093),ii=P(1071),Si=P(3479),ki=P(8199);const Fi="https://g.co/ng/security#xss";class Dn extends Error{constructor(d,f){super(on(d,f)),this.code=d}}function on(c,d){return`NG0${Math.abs(c)}${d?": "+d:""}`}const _t=Symbol("InputSignalNode#UNSET"),ue={..._e,transformFn:void 0,applyValueToInputSignal(c,d){Ct(c,d)}};function He(c,d){const f=Object.create(ue);function m(){if(Dt(f),f.value===_t)throw new Dn(-950,!1);return f.value}return f.value=c,f.transformFn=d?.transform,m[ut]=f,m}function sn(c){return{toString:c}.toString()}const ri="__parameters__";function Ie(c,d,f){return sn(()=>{const m=function ae(c){return function(...f){if(c){const m=c(...f);for(const _ in m)this[_]=m[_]}}}(d);function _(...M){if(this instanceof _)return m.apply(this,M),this;const O=new _(...M);return R.annotation=O,R;function R(B,X,tt){const St=B.hasOwnProperty(ri)?B[ri]:Object.defineProperty(B,ri,{value:[]})[ri];for(;St.length<=tt;)St.push(null);return(St[tt]=St[tt]||[]).push(O),B}}return f&&(_.prototype=Object.create(f.prototype)),_.prototype.ngMetadataName=c,_.annotationCls=_,_})}const Cn=globalThis;function Re(c){for(let d in c)if(c[d]===Re)return d;throw Error("Could not find renamed property on target object.")}function Mn(c,d){for(const f in d)d.hasOwnProperty(f)&&!c.hasOwnProperty(f)&&(c[f]=d[f])}function an(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(an).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const d=c.toString();if(null==d)return""+d;const f=d.indexOf("\n");return-1===f?d:d.substring(0,f)}function wn(c,d){return null==c||""===c?null===d?"":d:null==d||""===d?c:c+" "+d}const Nn=Re({__forward_ref__:Re});function kt(c){return c.__forward_ref__=kt,c.toString=function(){return an(this())},c}function Mt(c){return gt(c)?c():c}function gt(c){return"function"==typeof c&&c.hasOwnProperty(Nn)&&c.__forward_ref__===kt}function Qt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Jt(c){return{providers:c.providers||[],imports:c.imports||[]}}function Pe(c){return ge(c,Je)||ge(c,si)}function Ye(c){return null!==Pe(c)}function ge(c,d){return c.hasOwnProperty(d)?c[d]:null}function ke(c){return c&&(c.hasOwnProperty(Vn)||c.hasOwnProperty(ci))?c[Vn]:null}const Je=Re({\u0275prov:Re}),Vn=Re({\u0275inj:Re}),si=Re({ngInjectableDef:Re}),ci=Re({ngInjectorDef:Re});class ti{constructor(d,f){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Qt({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jr(c){return c&&!!c.\u0275providers}const cr=Re({\u0275cmp:Re}),Pr=Re({\u0275dir:Re}),Yr=Re({\u0275pipe:Re}),fo=Re({\u0275mod:Re}),Vi=Re({\u0275fac:Re}),mr=Re({__NG_ELEMENT_ID__:Re}),po=Re({__NG_ENV_ID__:Re});function Ft(c){return"string"==typeof c?c:null==c?"":String(c)}function wr(c,d){throw new Dn(-201,!1)}var Mi=function(c){return c[c.Default=0]="Default",c[c.Host=1]="Host",c[c.Self=2]="Self",c[c.SkipSelf=4]="SkipSelf",c[c.Optional=8]="Optional",c}(Mi||{});let $o;function Mr(){return $o}function Zr(c){const d=$o;return $o=c,d}function iu(c,d,f){const m=Pe(c);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:f&Mi.Optional?null:void 0!==d?d:void wr()}const _c={},ru="__NG_DI_FLAG__",ou="ngTempTokenPath",qu=/\n/gm,Ec="__source";let ca;function ua(c){const d=ca;return ca=c,d}function Ha(c,d=Mi.Default){if(void 0===ca)throw new Dn(-203,!1);return null===ca?iu(c,void 0,d):ca.get(c,d&Mi.Optional?null:void 0,d)}function Ar(c,d=Mi.Default){return(Mr()||Ha)(Mt(c),d)}function _i(c,d=Mi.Default){return Ar(c,Da(d))}function Da(c){return typeof c>"u"||"number"==typeof c?c:(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)}function $a(c){const d=[];for(let f=0;f<c.length;f++){const m=Mt(c[f]);if(Array.isArray(m)){if(0===m.length)throw new Dn(900,!1);let _,M=Mi.Default;for(let O=0;O<m.length;O++){const R=m[O],B=xc(R);"number"==typeof B?-1===B?_=R.token:M|=B:_=R}d.push(Ar(_,M))}else d.push(Ar(m))}return d}function da(c,d){return c[ru]=d,c.prototype[ru]=d,c}function xc(c){return c[ru]}const td=da(Ie("Inject",c=>({token:c})),-1),gl=da(Ie("Optional"),8),Ul=da(Ie("SkipSelf"),4);function os(c,d){return c.hasOwnProperty(Vi)?c[Vi]:null}function vl(c,d){c.forEach(f=>Array.isArray(f)?vl(f,d):d(f))}function Oa(c,d,f){d>=c.length?c.push(f):c.splice(d,0,f)}function Ta(c,d){return d>=c.length-1?c.pop():c.splice(d,1)[0]}function Ao(c,d,f){let m=bl(c,d);return m>=0?c[1|m]=f:(m=~m,function Yd(c,d,f,m){let _=c.length;if(_==d)c.push(f,m);else if(1===_)c.push(m,c[0]),c[0]=f;else{for(_--,c.push(c[_-1],c[_]);_>d;)c[_]=c[_-2],_--;c[d]=f,c[d+1]=m}}(c,m,d,f)),m}function au(c,d){const f=bl(c,d);if(f>=0)return c[1|f]}function bl(c,d){return function cf(c,d,f){let m=0,_=c.length>>f;for(;_!==m;){const M=m+(_-m>>1),O=c[M<<f];if(d===O)return M<<f;O>d?_=M:m=M+1}return~(_<<f)}(c,d,1)}const Xs={},sr=[],ss=new ti(""),ed=new ti("",-1),lu=new ti("");class Xa{get(d,f=_c){if(f===_c){const m=new Error(`NullInjectorError: No provider for ${an(d)}!`);throw m.name="NullInjectorError",m}return f}}var Gl=function(c){return c[c.OnPush=0]="OnPush",c[c.Default=1]="Default",c}(Gl||{}),Hl=function(c){return c[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",c}(Hl||{}),Oi=function(c){return c[c.None=0]="None",c[c.SignalBased=1]="SignalBased",c[c.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",c}(Oi||{});function $l(c,d,f){let m=c.length;for(;;){const _=c.indexOf(d,f);if(-1===_)return _;if(0===_||c.charCodeAt(_-1)<=32){const M=d.length;if(_+M===m||c.charCodeAt(_+M)<=32)return _}f=_+1}}function Wl(c,d,f){let m=0;for(;m<f.length;){const _=f[m];if("number"==typeof _){if(0!==_)break;m++;const M=f[m++],O=f[m++],R=f[m++];c.setAttribute(d,O,R,M)}else{const M=_,O=f[++m];nd(M)?c.setProperty(d,M,O):c.setAttribute(d,M,O),m++}}return m}function Op(c){return 3===c||4===c||6===c}function nd(c){return 64===c.charCodeAt(0)}function Kl(c,d){if(null!==d&&0!==d.length)if(null===c||0===c.length)c=d.slice();else{let f=-1;for(let m=0;m<d.length;m++){const _=d[m];"number"==typeof _?f=_:0===f||Zd(c,f,_,null,-1===f||2===f?d[++m]:null)}}return c}function Zd(c,d,f,m,_){let M=0,O=c.length;if(-1===d)O=-1;else for(;M<c.length;){const R=c[M++];if("number"==typeof R){if(R===d){O=-1;break}if(R>d){O=M-1;break}}}for(;M<c.length;){const R=c[M];if("number"==typeof R)break;if(R===f){if(null===m)return void(null!==_&&(c[M+1]=_));if(m===c[M+1])return void(c[M+2]=_)}M++,null!==m&&M++,null!==_&&M++}-1!==O&&(c.splice(O,0,d),M=O+1),c.splice(M++,0,f),null!==m&&c.splice(M++,0,m),null!==_&&c.splice(M++,0,_)}const uf="ng-template";function zg(c,d,f,m){let _=0;if(m){for(;_<d.length&&"string"==typeof d[_];_+=2)if("class"===d[_]&&-1!==$l(d[_+1].toLowerCase(),f,0))return!0}else if(cu(c))return!1;if(_=d.indexOf(1,_),_>-1){let M;for(;++_<d.length&&"string"==typeof(M=d[_]);)if(M.toLowerCase()===f)return!0}return!1}function cu(c){return 4===c.type&&c.value!==uf}function id(c,d,f){return d===(4!==c.type||f?c.value:uf)}function Z(c,d,f){let m=4;const _=c.attrs,M=null!==_?function mi(c){for(let d=0;d<c.length;d++)if(Op(c[d]))return d;return c.length}(_):0;let O=!1;for(let R=0;R<d.length;R++){const B=d[R];if("number"!=typeof B){if(!O)if(4&m){if(m=2|1&m,""!==B&&!id(c,B,f)||""===B&&1===d.length){if(q(m))return!1;O=!0}}else if(8&m){if(null===_||!zg(c,_,B,f)){if(q(m))return!1;O=!0}}else{const X=d[++R],tt=H(B,_,cu(c),f);if(-1===tt){if(q(m))return!1;O=!0;continue}if(""!==X){let St;if(St=tt>M?"":_[tt+1].toLowerCase(),2&m&&X!==St){if(q(m))return!1;O=!0}}}}else{if(!O&&!q(m)&&!q(B))return!1;if(O&&q(B))continue;O=!1,m=B|1&m}}return q(m)||O}function q(c){return!(1&c)}function H(c,d,f,m){if(null===d)return-1;let _=0;if(m||!f){let M=!1;for(;_<d.length;){const O=d[_];if(O===c)return _;if(3===O||6===O)M=!0;else{if(1===O||2===O){let R=d[++_];for(;"string"==typeof R;)R=d[++_];continue}if(4===O)break;if(0===O){_+=4;continue}}_+=M?1:2}return-1}return function ei(c,d){let f=c.indexOf(4);if(f>-1)for(f++;f<c.length;){const m=c[f];if("number"==typeof m)return-1;if(m===d)return f;f++}return-1}(d,c)}function mt(c,d,f=!1){for(let m=0;m<d.length;m++)if(Z(c,d[m],f))return!0;return!1}function lo(c,d){t:for(let f=0;f<d.length;f++){const m=d[f];if(c.length===m.length){for(let _=0;_<c.length;_++)if(c[_]!==m[_])continue t;return!0}}return!1}function Ds(c,d){return c?":not("+d.trim()+")":d}function Qd(c){let d=c[0],f=1,m=2,_="",M=!1;for(;f<c.length;){let O=c[f];if("string"==typeof O)if(2&m){const R=c[++f];_+="["+O+(R.length>0?'="'+R+'"':"")+"]"}else 8&m?_+="."+O:4&m&&(_+=" "+O);else""!==_&&!q(O)&&(d+=Ds(M,_),_=""),m=O,M=M||!q(m);f++}return""!==_&&(d+=Ds(M,_)),d}function qd(c){return sn(()=>{const d=uu(c),f={...d,decls:c.decls,vars:c.vars,template:c.template,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,onPush:c.changeDetection===Gl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:d.standalone&&c.dependencies||null,getStandaloneInjector:null,signals:c.signals??!1,data:c.data||{},encapsulation:c.encapsulation||Hl.Emulated,styles:c.styles||sr,_:null,schemas:c.schemas||null,tView:null,id:""};Yl(f);const m=c.dependencies;return f.directiveDefs=Ya(m,!1),f.pipeDefs=Ya(m,!0),f.id=function rd(c){let d=0;const f=[c.selectors,c.ngContentSelectors,c.hostVars,c.hostAttrs,c.consts,c.vars,c.decls,c.encapsulation,c.standalone,c.signals,c.exportAs,JSON.stringify(c.inputs),JSON.stringify(c.outputs),Object.getOwnPropertyNames(c.type.prototype),!!c.contentQueries,!!c.viewQuery].join("|");for(const _ of f)d=Math.imul(31,d)+_.charCodeAt(0)|0;return d+=2147483648,"c"+d}(f),f})}function Jd(c){return er(c)||wo(c)}function Ys(c){return null!==c}function Zs(c){return sn(()=>({type:c.type,bootstrap:c.bootstrap||sr,declarations:c.declarations||sr,imports:c.imports||sr,exports:c.exports||sr,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null}))}function th(c,d){if(null==c)return Xs;const f={};for(const m in c)if(c.hasOwnProperty(m)){const _=c[m];let M,O,R=Oi.None;Array.isArray(_)?(R=_[0],M=_[1],O=_[2]??M):(M=_,O=_),d?(f[M]=R!==Oi.None?[m,R]:m,d[M]=O):f[M]=m}return f}function hf(c){return sn(()=>{const d=uu(c);return Yl(d),d})}function Ap(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,standalone:!0===c.standalone,onDestroy:c.type.prototype.ngOnDestroy||null}}function er(c){return c[cr]||null}function wo(c){return c[Pr]||null}function as(c){return c[Yr]||null}function Xl(c){const d=er(c)||wo(c)||as(c);return null!==d&&d.standalone}function Os(c,d){const f=c[fo]||null;if(!f&&!0===d)throw new Error(`Type ${an(c)} does not have '\u0275mod' property.`);return f}function uu(c){const d={};return{type:c.type,providersResolver:null,factory:null,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:d,inputTransforms:null,inputConfig:c.inputs||Xs,exportAs:c.exportAs||null,standalone:!0===c.standalone,signals:!0===c.signals,selectors:c.selectors||sr,viewQuery:c.viewQuery||null,features:c.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:th(c.inputs,d),outputs:th(c.outputs),debugInfo:null}}function Yl(c){c.features?.forEach(d=>d(c))}function Ya(c,d){if(!c)return null;const f=d?as:Jd;return()=>("function"==typeof c?c():c).map(m=>f(m)).filter(Ys)}function Qs(c){return{\u0275providers:c}}function Ug(...c){return{\u0275providers:kp(0,c),\u0275fromNgModule:!0}}function kp(c,...d){const f=[],m=new Set;let _;const M=O=>{f.push(O)};return vl(d,O=>{const R=O;ff(R,M,[],m)&&(_||=[],_.push(R))}),void 0!==_&&Gg(_,M),f}function Gg(c,d){for(let f=0;f<c.length;f++){const{ngModule:m,providers:_}=c[f];Hg(_,M=>{d(M,m)})}}function ff(c,d,f,m){if(!(c=Mt(c)))return!1;let _=null,M=ke(c);const O=!M&&er(c);if(M||O){if(O&&!O.standalone)return!1;_=c}else{const B=c.ngModule;if(M=ke(B),!M)return!1;_=B}const R=m.has(_);if(O){if(R)return!1;if(m.add(_),O.dependencies){const B="function"==typeof O.dependencies?O.dependencies():O.dependencies;for(const X of B)ff(X,d,f,m)}}else{if(!M)return!1;{if(null!=M.imports&&!R){let X;m.add(_);try{vl(M.imports,tt=>{ff(tt,d,f,m)&&(X||=[],X.push(tt))})}finally{}void 0!==X&&Gg(X,d)}if(!R){const X=os(_)||(()=>new _);d({provide:_,useFactory:X,deps:sr},_),d({provide:lu,useValue:_,multi:!0},_),d({provide:ss,useValue:()=>Ar(_),multi:!0},_)}const B=M.providers;if(null!=B&&!R){const X=c;Hg(B,tt=>{d(tt,X)})}}}return _!==c&&void 0!==c.providers}function Hg(c,d){for(let f of c)jr(f)&&(f=f.\u0275providers),Array.isArray(f)?Hg(f,d):d(f)}const $g=Re({provide:String,useValue:Re});function Mc(c){return null!==c&&"object"==typeof c&&$g in c}function Zl(c){return"function"==typeof c}const mf=new ti(""),eh={},Ip={};let Rp;function Pp(){return void 0===Rp&&(Rp=new Xa),Rp}class Ts{}class Za extends Ts{get destroyed(){return this._destroyed}constructor(d,f,m,_){super(),this.parent=f,this.source=m,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ql(d,O=>this.processProvider(O)),this.records.set(ed,Ql(void 0,this)),_.has("environment")&&this.records.set(Ts,Ql(void 0,this));const M=this.records.get(mf);null!=M&&"string"==typeof M.value&&this.scopes.add(M.value),this.injectorDefTypes=new Set(this.get(lu,sr,Mi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const d=et(null);try{for(const m of this._ngOnDestroyHooks)m.ngOnDestroy();const f=this._onDestroyHooks;this._onDestroyHooks=[];for(const m of f)m()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),et(d)}}onDestroy(d){return this.assertNotDestroyed(),this._onDestroyHooks.push(d),()=>this.removeOnDestroy(d)}runInContext(d){this.assertNotDestroyed();const f=ua(this),m=Zr(void 0);try{return d()}finally{ua(f),Zr(m)}}get(d,f=_c,m=Mi.Default){if(this.assertNotDestroyed(),d.hasOwnProperty(po))return d[po](this);m=Da(m);const M=ua(this),O=Zr(void 0);try{if(!(m&Mi.SkipSelf)){let B=this.records.get(d);if(void 0===B){const X=function qs(c){return"function"==typeof c||"object"==typeof c&&c instanceof ti}(d)&&Pe(d);B=X&&this.injectableDefInScope(X)?Ql(Np(d),eh):null,this.records.set(d,B)}if(null!=B)return this.hydrate(d,B)}return(m&Mi.Self?Pp():this.parent).get(d,f=m&Mi.Optional&&f===_c?null:f)}catch(R){if("NullInjectorError"===R.name){if((R[ou]=R[ou]||[]).unshift(an(d)),M)throw R;return function zl(c,d,f,m){const _=c[ou];throw d[Ec]&&_.unshift(d[Ec]),c.message=function Ju(c,d,f,m=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.slice(2):c;let _=an(d);if(Array.isArray(d))_=d.map(an).join(" -> ");else if("object"==typeof d){let M=[];for(let O in d)if(d.hasOwnProperty(O)){let R=d[O];M.push(O+":"+("string"==typeof R?JSON.stringify(R):an(R)))}_=`{${M.join(", ")}}`}return`${f}${m?"("+m+")":""}[${_}]: ${c.replace(qu,"\n  ")}`}("\n"+c.message,_,f,m),c.ngTokenPath=_,c[ou]=null,c}(R,d,"R3InjectorError",this.source)}throw R}finally{Zr(O),ua(M)}}resolveInjectorInitializers(){const d=et(null),f=ua(this),m=Zr(void 0);try{const M=this.get(ss,sr,Mi.Self);for(const O of M)O()}finally{ua(f),Zr(m),et(d)}}toString(){const d=[],f=this.records;for(const m of f.keys())d.push(an(m));return`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Dn(205,!1)}processProvider(d){let f=Zl(d=Mt(d))?d:Mt(d&&d.provide);const m=function Kg(c){return Mc(c)?Ql(void 0,c.useValue):Ql(od(c),eh)}(d);if(!Zl(d)&&!0===d.multi){let _=this.records.get(f);_||(_=Ql(void 0,eh,!0),_.factory=()=>$a(_.multi),this.records.set(f,_)),f=d,_.multi.push(d)}this.records.set(f,m)}hydrate(d,f){const m=et(null);try{return f.value===eh&&(f.value=Ip,f.value=f.factory()),"object"==typeof f.value&&f.value&&function _y(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}finally{et(m)}}injectableDefInScope(d){if(!d.providedIn)return!1;const f=Mt(d.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(d){const f=this._onDestroyHooks.indexOf(d);-1!==f&&this._onDestroyHooks.splice(f,1)}}function Np(c){const d=Pe(c),f=null!==d?d.factory:os(c);if(null!==f)return f;if(c instanceof ti)throw new Dn(204,!1);if(c instanceof Function)return function nh(c){if(c.length>0)throw new Dn(204,!1);const f=function Sn(c){return c&&(c[Je]||c[si])||null}(c);return null!==f?()=>f.factory(c):()=>new c}(c);throw new Dn(204,!1)}function od(c,d,f){let m;if(Zl(c)){const _=Mt(c);return os(_)||Np(_)}if(Mc(c))m=()=>Mt(c.useValue);else if(function pf(c){return!(!c||!c.useFactory)}(c))m=()=>c.useFactory(...$a(c.deps||[]));else if(function Wg(c){return!(!c||!c.useExisting)}(c))m=()=>Ar(Mt(c.useExisting));else{const _=Mt(c&&(c.useClass||c.provide));if(!function Lp(c){return!!c.deps}(c))return os(_)||Np(_);m=()=>new _(...$a(c.deps))}return m}function Ql(c,d,f=!1){return{factory:c,value:d,multi:f?[]:void 0}}function ql(c,d){for(const f of c)Array.isArray(f)?ql(f,d):f&&jr(f)?ql(f.\u0275providers,d):d(f)}function ih(c,d){c instanceof Za&&c.assertNotDestroyed();const m=ua(c),_=Zr(void 0);try{return d()}finally{ua(m),Zr(_)}}function gf(){return void 0!==Mr()||null!=function wc(){return ca}()}function Sc(c){if(!gf())throw new Dn(-203,!1)}const Ti=0,yn=1,wi=2,Sr=3,vr=4,zr=5,Wo=6,Fs=7,yr=8,ko=9,ha=10,Bi=11,vf=12,Xg=13,ad=14,Ir=15,rh=16,Fp=17,hu=18,Bp=19,jp=20,Jl=21,Aa=22,Rr=23,Hn=25,Io=1,Qa=7,oh=9,Zo=10;var ld=function(c){return c[c.None=0]="None",c[c.HasTransplantedViews=2]="HasTransplantedViews",c}(ld||{});function Ur(c){return Array.isArray(c)&&"object"==typeof c[Io]}function Js(c){return Array.isArray(c)&&!0===c[Io]}function Qo(c){return!!(4&c.flags)}function fa(c){return c.componentOffset>-1}function tc(c){return!(1&~c.flags)}function ta(c){return!!c.template}function ec(c){return!!(512&c[wi])}class _l{constructor(d,f,m){this.previousValue=d,this.currentValue=f,this.firstChange=m}isFirstChange(){return this.firstChange}}function ls(c,d,f,m){null!==d?d.applyValueToInputSignal(d,m):c[f]=m}function El(){return qa}function qa(c){return c.type.prototype.ngOnChanges&&(c.setInput=hE),sh}function sh(){const c=zp(this),d=c?.current;if(d){const f=c.previous;if(f===Xs)c.previous=d;else for(let m in d)f[m]=d[m];c.current=null,this.ngOnChanges(d)}}function hE(c,d,f,m,_){const M=this.declaredInputs[m],O=zp(c)||function hS(c,d){return c[ah]=d}(c,{previous:Xs,current:null}),R=O.current||(O.current={}),B=O.previous,X=B[M];R[M]=new _l(X&&X.currentValue,f,B===Xs),ls(c,d,_,f)}El.ngInherit=!0;const ah="__ngSimpleChanges__";function zp(c){return c[ah]||null}const cd=function(c,d,f){},Up="svg";function Lr(c){for(;Array.isArray(c);)c=c[Ti];return c}function Gp(c,d){return Lr(d[c])}function xo(c,d){return Lr(d[c.index])}function Jg(c,d){return c.data[d]}function lh(c,d){return c[d]}function Ja(c,d){const f=d[c];return Ur(f)?f:f[Ti]}function Hp(c){return!(128&~c[wi])}function nc(c,d){return null==d?null:c[d]}function fS(c){c[Fp]=0}function pS(c){1024&c[wi]||(c[wi]|=1024,Hp(c)&&tv(c))}function ch(c){return!!(9216&c[wi]||c[Rr]?.dirty)}function mS(c){c[ha].changeDetectionScheduler?.notify(8),64&c[wi]&&(c[wi]|=1024),ch(c)&&tv(c)}function tv(c){c[ha].changeDetectionScheduler?.notify(0);let d=ud(c);for(;null!==d&&!(8192&d[wi])&&(d[wi]|=8192,Hp(d));)d=ud(d)}function Cy(c,d){if(!(256&~c[wi]))throw new Dn(911,!1);null===c[Jl]&&(c[Jl]=[]),c[Jl].push(d)}function ud(c){const d=c[Sr];return Js(d)?d[Sr]:d}const $i={lFrame:SS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let gS=!1;function yS(){return $i.bindingsEnabled}function $p(){return null!==$i.skipHydrationRootTNode}function hn(){return $i.lFrame.lView}function Ai(){return $i.lFrame.tView}function bS(c){return $i.lFrame.contextLView=c,c[yr]}function _S(c){return $i.lFrame.contextLView=null,c}function co(){let c=VP();for(;null!==c&&64===c.type;)c=c.parent;return c}function VP(){return $i.lFrame.currentTNode}function pu(c,d){const f=$i.lFrame;f.currentTNode=c,f.isParent=d}function ES(){return $i.lFrame.isParent}function wS(){$i.lFrame.isParent=!1}function Sy(){return $i.lFrame.contextLView}function Pi(){return gS}function Xi(c){gS=c}function Ia(){const c=$i.lFrame;let d=c.bindingRootIndex;return-1===d&&(d=c.bindingRootIndex=c.tView.bindingStartIndex),d}function Dc(){return $i.lFrame.bindingIndex++}function mu(c){const d=$i.lFrame,f=d.bindingIndex;return d.bindingIndex=d.bindingIndex+c,f}function UP(c,d){const f=$i.lFrame;f.bindingIndex=f.bindingRootIndex=c,Dy(d)}function Dy(c){$i.lFrame.currentDirectiveIndex=c}function Oy(c){const d=$i.lFrame.currentDirectiveIndex;return-1===d?null:c[d]}function iv(){return $i.lFrame.currentQueryIndex}function Ty(c){$i.lFrame.currentQueryIndex=c}function ea(c){const d=c[yn];return 2===d.type?d.declTNode:1===d.type?c[zr]:null}function gE(c,d,f){if(f&Mi.SkipSelf){let _=d,M=c;for(;!(_=_.parent,null!==_||f&Mi.Host||(_=ea(M),null===_||(M=M[ad],10&_.type))););if(null===_)return!1;d=_,c=M}const m=$i.lFrame=MS();return m.currentTNode=d,m.lView=c,!0}function vE(c){const d=MS(),f=c[yn];$i.lFrame=d,d.currentTNode=f.firstChild,d.lView=c,d.tView=f,d.contextLView=c,d.bindingIndex=f.bindingStartIndex,d.inI18n=!1}function MS(){const c=$i.lFrame,d=null===c?null:c.child;return null===d?SS(c):d}function SS(c){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=d),d}function DS(){const c=$i.lFrame;return $i.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const yE=DS;function Ay(){const c=DS();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function vs(){return $i.lFrame.selectedIndex}function Cr(c){$i.lFrame.selectedIndex=c}function Co(){const c=$i.lFrame;return Jg(c.tView,c.selectedIndex)}function OS(){$i.lFrame.currentNamespace=Up}function TS(){!function HP(){$i.lFrame.currentNamespace=null}()}let ky=!0;function hd(){return ky}function fd(c){ky=c}function _E(c,d){for(let f=d.directiveStart,m=d.directiveEnd;f<m;f++){const M=c.data[f].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:R,ngAfterViewInit:B,ngAfterViewChecked:X,ngOnDestroy:tt}=M;O&&(c.contentHooks??=[]).push(-f,O),R&&((c.contentHooks??=[]).push(f,R),(c.contentCheckHooks??=[]).push(f,R)),B&&(c.viewHooks??=[]).push(-f,B),X&&((c.viewHooks??=[]).push(f,X),(c.viewCheckHooks??=[]).push(f,X)),null!=tt&&(c.destroyHooks??=[]).push(f,tt)}}function Iy(c,d,f){$P(c,d,3,f)}function EE(c,d,f,m){(3&c[wi])===f&&$P(c,d,f,m)}function Wp(c,d){let f=c[wi];(3&f)===d&&(f&=16383,f+=1,c[wi]=f)}function $P(c,d,f,m){const M=m??-1,O=d.length-1;let R=0;for(let B=void 0!==m?65535&c[Fp]:0;B<O;B++)if("number"==typeof d[B+1]){if(R=d[B],null!=m&&R>=m)break}else d[B]<0&&(c[Fp]+=65536),(R<M||-1==M)&&(KP(c,f,d,B),c[Fp]=(4294901760&c[Fp])+B+2),B++}function WP(c,d){cd(4,c,d);const f=et(null);try{d.call(c)}finally{et(f),cd(5,c,d)}}function KP(c,d,f,m){const _=f[m]<0,M=f[m+1],R=c[_?-f[m]:f[m]];_?c[wi]>>14<c[Fp]>>16&&(3&c[wi])===d&&(c[wi]+=16384,WP(R,M)):WP(R,M)}const Kp=-1;class rv{constructor(d,f,m){this.factory=d,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=m}}const xE={};class uh{constructor(d,f){this.injector=d,this.parentInjector=f}get(d,f,m){m=Da(m);const _=this.injector.get(d,xE,m);return _!==xE||f===xE?_:this.parentInjector.get(d,f,m)}}function PS(c){return c!==Kp}function Yp(c){return 32767&c}function ov(c,d){let f=function YP(c){return c>>16}(c),m=d;for(;f>0;)m=m[ad],f--;return m}let CE=!0;function ME(c){const d=CE;return CE=c,d}const SE=255,NS=5;let qP=0;const gu={};function sv(c,d){const f=tN(c,d);if(-1!==f)return f;const m=d[yn];m.firstCreatePass&&(c.injectorIndex=d.length,DE(m.data,c),DE(d,null),DE(m.blueprint,null));const _=av(c,d),M=c.injectorIndex;if(PS(_)){const O=Yp(_),R=ov(_,d),B=R[yn].data;for(let X=0;X<8;X++)d[M+X]=R[O+X]|B[O+X]}return d[M+8]=_,M}function DE(c,d){c.push(0,0,0,0,0,0,0,0,d)}function tN(c,d){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===d[c.injectorIndex+8]?-1:c.injectorIndex}function av(c,d){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let f=0,m=null,_=d;for(;null!==_;){if(m=zS(_),null===m)return Kp;if(f++,_=_[ad],-1!==m.injectorIndex)return m.injectorIndex|f<<16}return Kp}function OE(c,d,f){!function JP(c,d,f){let m;"string"==typeof f?m=f.charCodeAt(0)||0:f.hasOwnProperty(mr)&&(m=f[mr]),null==m&&(m=f[mr]=qP++);const _=m&SE;d.data[c+(_>>NS)]|=1<<_}(c,d,f)}function Oc(c,d,f){if(f&Mi.Optional||void 0!==c)return c;wr()}function bf(c,d,f,m){if(f&Mi.Optional&&void 0===m&&(m=null),!(f&(Mi.Self|Mi.Host))){const _=c[ko],M=Zr(void 0);try{return _?_.get(d,m,f&Mi.Optional):iu(d,m,f&Mi.Optional)}finally{Zr(M)}}return Oc(m,0,f)}function LS(c,d,f,m=Mi.Default,_){if(null!==c){if(2048&d[wi]&&!(m&Mi.Self)){const O=function hh(c,d,f,m,_){let M=c,O=d;for(;null!==M&&null!==O&&2048&O[wi]&&!(512&O[wi]);){const R=FS(M,O,f,m|Mi.Self,gu);if(R!==gu)return R;let B=M.parent;if(!B){const X=O[jp];if(X){const tt=X.get(f,gu,m);if(tt!==gu)return tt}B=zS(O),O=O[ad]}M=B}return _}(c,d,f,m,gu);if(O!==gu)return O}const M=FS(c,d,f,m,gu);if(M!==gu)return M}return bf(d,f,m,_)}function FS(c,d,f,m,_){const M=function wl(c){if("string"==typeof c)return c.charCodeAt(0)||0;const d=c.hasOwnProperty(mr)?c[mr]:void 0;return"number"==typeof d?d>=0?d&SE:VS:d}(f);if("function"==typeof M){if(!gE(d,c,m))return m&Mi.Host?Oc(_,0,m):bf(d,f,m,_);try{let O;if(O=M(m),null!=O||m&Mi.Optional)return O;wr()}finally{yE()}}else if("number"==typeof M){let O=null,R=tN(c,d),B=Kp,X=m&Mi.Host?d[Ir][zr]:null;for((-1===R||m&Mi.SkipSelf)&&(B=-1===R?av(c,d):d[R+8],B!==Kp&&jS(m,!1)?(O=d[yn],R=Yp(B),d=ov(B,d)):R=-1);-1!==R;){const tt=d[yn];if(BS(M,R,tt.data)){const St=eN(R,d,f,O,m,X);if(St!==gu)return St}B=d[R+8],B!==Kp&&jS(m,d[yn].data[R+8]===X)&&BS(M,R,d)?(O=tt,R=Yp(B),d=ov(B,d)):R=-1}}return _}function eN(c,d,f,m,_,M){const O=d[yn],R=O.data[c+8],tt=Py(R,O,f,null==m?fa(R)&&CE:m!=O&&!!(3&R.type),_&Mi.Host&&M===R);return null!==tt?_f(d,O,tt,R):gu}function Py(c,d,f,m,_){const M=c.providerIndexes,O=d.data,R=1048575&M,B=c.directiveStart,tt=M>>20,oe=_?R+tt:c.directiveEnd;for(let pe=m?R:R+tt;pe<oe;pe++){const Fe=O[pe];if(pe<B&&f===Fe||pe>=B&&Fe.type===f)return pe}if(_){const pe=O[B];if(pe&&ta(pe)&&pe.type===f)return B}return null}function _f(c,d,f,m){let _=c[f];const M=d.data;if(function Xp(c){return c instanceof rv}(_)){const O=_;O.resolving&&function Bn(c,d){throw d&&d.join(" > "),new Dn(-200,c)}(function Se(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Ft(c)}(M[f]));const R=ME(O.canSeeViewProviders);O.resolving=!0;const X=O.injectImpl?Zr(O.injectImpl):null;gE(c,m,Mi.Default);try{_=c[f]=O.factory(void 0,M,c,m),d.firstCreatePass&&f>=m.directiveStart&&function lU(c,d,f){const{ngOnChanges:m,ngOnInit:_,ngDoCheck:M}=d.type.prototype;if(m){const O=qa(d);(f.preOrderHooks??=[]).push(c,O),(f.preOrderCheckHooks??=[]).push(c,O)}_&&(f.preOrderHooks??=[]).push(0-c,_),M&&((f.preOrderHooks??=[]).push(c,M),(f.preOrderCheckHooks??=[]).push(c,M))}(f,M[f],d)}finally{null!==X&&Zr(X),ME(R),O.resolving=!1,yE()}}return _}function BS(c,d,f){return!!(f[d+(c>>NS)]&1<<c)}function jS(c,d){return!(c&Mi.Self||c&Mi.Host&&d)}class uo{constructor(d,f){this._tNode=d,this._lView=f}get(d,f,m){return LS(this._tNode,this._lView,d,Da(m),f)}}function VS(){return new uo(co(),hn())}function Ny(c){return sn(()=>{const d=c.prototype.constructor,f=d[Vi]||Ly(d),m=Object.prototype;let _=Object.getPrototypeOf(c.prototype).constructor;for(;_&&_!==m;){const M=_[Vi]||Ly(_);if(M&&M!==f)return M;_=Object.getPrototypeOf(_)}return M=>new M})}function Ly(c){return gt(c)?()=>{const d=Ly(Mt(c));return d&&d()}:os(c)}function zS(c){const d=c[yn],f=d.type;return 2===f?d.declTNode:1===f?c[zr]:null}function lv(c){return function yf(c,d){if("class"===d)return c.classes;if("style"===d)return c.styles;const f=c.attrs;if(f){const m=f.length;let _=0;for(;_<m;){const M=f[_];if(Op(M))break;if(0===M)_+=2;else if("number"==typeof M)for(_++;_<m&&"string"==typeof f[_];)_++;else{if(M===d)return f[_+1];_+=2}}}return null}(co(),c)}function HS(c,d=null,f=null,m){const _=$S(c,d,f,m);return _.resolveInjectorInitializers(),_}function $S(c,d=null,f=null,m,_=new Set){const M=[f||sr,Ug(c)];return m=m||("object"==typeof c?void 0:an(c)),new Za(M,d||Pp(),m||null,_)}class Ei{static#t=this.THROW_IF_NOT_FOUND=_c;static#e=this.NULL=new Xa;static create(d,f){if(Array.isArray(d))return HS({name:""},f,d,"");{const m=d.name??"";return HS({name:m},d.parent,d.providers,m)}}static#n=this.\u0275prov=Qt({token:Ei,providedIn:"any",factory:()=>Ar(ed)});static#i=this.__NG_ELEMENT_ID__=-1}new ti("").__NG_ELEMENT_ID__=c=>{const d=co();if(null===d)throw new Dn(204,!1);if(2&d.type)return d.value;if(c&Mi.Optional)return null;throw new Dn(204,!1)};function Ui(c){return c.ngOriginalError}const br=!0;let pd=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=XS;static#e=this.__NG_ENV_ID__=f=>f}return c})();class fh extends pd{constructor(d){super(),this._lView=d}onDestroy(d){return Cy(this._lView,d),()=>function My(c,d){if(null===c[Jl])return;const f=c[Jl].indexOf(d);-1!==f&&c[Jl].splice(f,1)}(this._lView,d)}}function XS(){return new fh(hn())}let Ef=(()=>{class c{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#t=this.\u0275prov=Qt({token:c,providedIn:"root",factory:()=>new c})}return c})();const no=class Ro extends ii.B{constructor(d=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=d,gf()&&(this.destroyRef=_i(pd,{optional:!0})??void 0,this.pendingTasks=_i(Ef,{optional:!0})??void 0)}emit(d){const f=et(null);try{super.next(d)}finally{et(f)}}subscribe(d,f,m){let _=d,M=f||(()=>null),O=m;if(d&&"object"==typeof d){const B=d;_=B.next?.bind(B),M=B.error?.bind(B),O=B.complete?.bind(B)}this.__isAsync&&(M=this.wrapInTimeout(M),_&&(_=this.wrapInTimeout(_)),O&&(O=this.wrapInTimeout(O)));const R=super.subscribe({next:_,error:M,complete:O});return d instanceof Si.yU&&d.add(R),R}wrapInTimeout(d){return f=>{const m=this.pendingTasks?.add();setTimeout(()=>{d(f),void 0!==m&&this.pendingTasks?.remove(m)})}}};function cv(...c){}function ZS(c){let d,f;function m(){c=cv;try{void 0!==f&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(f),void 0!==d&&clearTimeout(d)}catch{}}return d=setTimeout(()=>{c(),m()}),"function"==typeof requestAnimationFrame&&(f=requestAnimationFrame(()=>{c(),m()})),()=>m()}function QS(c){return queueMicrotask(()=>c()),()=>{c=cv}}const PE="isAngularZone",Fy=PE+"_ID";let rN=0;class ji{constructor(d){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1);const{enableLongStackTrace:f=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:_=!1,scheduleInRootZone:M=br}=d;if(typeof Zone>"u")throw new Dn(908,!1);Zone.assertZonePatched();const O=this;O._nesting=0,O._outer=O._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(O._inner=O._inner.fork(new Zone.TaskTrackingZoneSpec)),f&&Zone.longStackTraceZoneSpec&&(O._inner=O._inner.fork(Zone.longStackTraceZoneSpec)),O.shouldCoalesceEventChangeDetection=!_&&m,O.shouldCoalesceRunChangeDetection=_,O.callbackScheduled=!1,O.scheduleInRootZone=M,function NE(c){const d=()=>{!function JS(c){function d(){ZS(()=>{c.callbackScheduled=!1,vu(c),c.isCheckStableRunning=!0,ph(c),c.isCheckStableRunning=!1})}c.isCheckStableRunning||c.callbackScheduled||(c.callbackScheduled=!0,c.scheduleInRootZone?Zone.root.run(()=>{d()}):c._outer.run(()=>{d()}),vu(c))}(c)},f=rN++;c._inner=c._inner.fork({name:"angular",properties:{[PE]:!0,[Fy]:f,[Fy+f]:!0},onInvokeTask:(m,_,M,O,R,B)=>{if(function tD(c){return wf(c,"__ignore_ng_zone__")}(B))return m.invokeTask(M,O,R,B);try{return LE(c),m.invokeTask(M,O,R,B)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===O.type||c.shouldCoalesceRunChangeDetection)&&d(),xl(c)}},onInvoke:(m,_,M,O,R,B,X)=>{try{return LE(c),m.invoke(M,O,R,B,X)}finally{c.shouldCoalesceRunChangeDetection&&!c.callbackScheduled&&!function ma(c){return wf(c,"__scheduler_tick__")}(B)&&d(),xl(c)}},onHasTask:(m,_,M,O)=>{m.hasTask(M,O),_===M&&("microTask"==O.change?(c._hasPendingMicrotasks=O.microTask,vu(c),ph(c)):"macroTask"==O.change&&(c.hasPendingMacrotasks=O.macroTask))},onHandleError:(m,_,M,O)=>(m.handleError(M,O),c.runOutsideAngular(()=>c.onError.emit(O)),!1)})}(O)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(PE)}static assertInAngularZone(){if(!ji.isInAngularZone())throw new Dn(909,!1)}static assertNotInAngularZone(){if(ji.isInAngularZone())throw new Dn(909,!1)}run(d,f,m){return this._inner.run(d,f,m)}runTask(d,f,m,_){const M=this._inner,O=M.scheduleEventTask("NgZoneEvent: "+_,d,qS,cv,cv);try{return M.runTask(O,f,m)}finally{M.cancelTask(O)}}runGuarded(d,f,m){return this._inner.runGuarded(d,f,m)}runOutsideAngular(d){return this._outer.run(d)}}const qS={};function ph(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function vu(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&!0===c.callbackScheduled)}function LE(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function xl(c){c._nesting--,ph(c)}class FE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no,this.onMicrotaskEmpty=new no,this.onStable=new no,this.onError=new no}run(d,f,m){return d.apply(f,m)}runGuarded(d,f,m){return d.apply(f,m)}runOutsideAngular(d){return d()}runTask(d,f,m,_){return d.apply(f,m)}}function wf(c,d){return!(!Array.isArray(c)||1!==c.length)&&!0===c[0]?.data?.[d]}class md{constructor(){this._console=console}handleError(d){const f=this._findOriginalError(d);this._console.error("ERROR",d),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(d){let f=d&&Ui(d);for(;f&&Ui(f);)f=Ui(f);return f||null}}const nD=new ti("",{providedIn:"root",factory:()=>{const c=_i(ji),d=_i(md);return f=>c.runOutsideAngular(()=>d.handleError(f))}});class BE{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=_i(md,{optional:!0}),this.destroyRef=_i(pd),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(d){if(this.destroyed)throw new Dn(953,!1);return(this.listeners??=[]).push(d),{unsubscribe:()=>{const f=this.listeners?.indexOf(d);void 0!==f&&-1!==f&&this.listeners?.splice(f,1)}}}emit(d){if(this.destroyed)throw new Dn(953,!1);if(null===this.listeners)return;const f=et(null);try{for(const m of this.listeners)try{m(d)}catch(_){this.errorHandler?.handleError(_)}}finally{et(f)}}}function mh(c){return new BE}function gh(c,d){return He(c,d)}const rD=(gh.required=function iD(c){return He(_t,c)},gh);function oD(){return vh(co(),hn())}function vh(c,d){return new Qp(xo(c,d))}let Qp=(()=>{class c{constructor(f){this.nativeElement=f}static#t=this.__NG_ELEMENT_ID__=oD}return c})();function sD(c){return c instanceof Qp?c.nativeElement:c}function By(){return this._results[Symbol.iterator]()}class gd{static#t=Symbol.iterator;get changes(){return this._changes??=new no}constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const f=gd.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=By)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,f){return this._results.reduce(d,f)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,f){this.dirty=!1;const m=function Vr(c){return c.flat(Number.POSITIVE_INFINITY)}(d);(this._changesDetected=!function Ss(c,d,f){if(c.length!==d.length)return!1;for(let m=0;m<c.length;m++){let _=c[m],M=d[m];if(f&&(_=f(_),M=f(M)),M!==_)return!1}return!0}(this._results,m,f))&&(this._results=m,this.length=m.length,this.last=m[this.length-1],this.first=m[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(d){this._onDirty=d}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function uv(c){return!(128&~c.flags)}const jE=new Map;let sN=0;function Vy(c){jE.delete(c[Bp])}const dv="__ngContext__";function ga(c,d){Ur(d)?(c[dv]=d[Bp],function cD(c){jE.set(c[Bp],c)}(d)):c[dv]=d}function hD(c){return hv(c[vf])}function fD(c){return hv(c[vr])}function hv(c){for(;null!==c&&!Js(c);)c=c[vr];return c}let kc;function ks(c){kc=c}function Ra(){if(void 0!==kc)return kc;if(typeof document<"u")return document;throw new Dn(210,!1)}const Ic=new ti("",{providedIn:"root",factory:()=>$E}),$E="ng",Gy=new ti(""),Hy=new ti("",{providedIn:"platform",factory:()=>"unknown"}),pN=new ti(""),$y=new ti("",{providedIn:"root",factory:()=>Ra().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ZE=()=>null;function QE(c,d,f=!1){return ZE(c,d,f)}const DD=new ti("",{providedIn:"root",factory:()=>!1});let qy,Jy;function om(c){return function nw(){if(void 0===qy&&(qy=null,Cn.trustedTypes))try{qy=Cn.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return qy}()?.createHTML(c)||c}function iw(){if(void 0===Jy&&(Jy=null,Cn.trustedTypes))try{Jy=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch{}return Jy}function AD(c){return iw()?.createHTML(c)||c}function kD(c){return iw()?.createScriptURL(c)||c}class Sf{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fi})`}}class Mo extends Sf{getTypeName(){return"HTML"}}class _N extends Sf{getTypeName(){return"Style"}}class Zn extends Sf{getTypeName(){return"Script"}}class EN extends Sf{getTypeName(){return"URL"}}class wN extends Sf{getTypeName(){return"ResourceURL"}}function yd(c){return c instanceof Sf?c.changingThisBreaksApplicationSecurity:c}function am(c,d){const f=function xN(c){return c instanceof Sf&&c.getTypeName()||null}(c);if(null!=f&&f!==d){if("ResourceURL"===f&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${f} (see ${Fi})`)}return f===d}function lm(c){return new Mo(c)}function CN(c){return new _N(c)}function MN(c){return new Zn(c)}function ID(c){return new EN(c)}function RD(c){return new wN(c)}class SN{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const f=(new window.DOMParser).parseFromString(om(d),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(d):(f.firstChild?.remove(),f)}catch{return null}}}class DN{constructor(d){this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(d){const f=this.inertDocument.createElement("template");return f.innerHTML=om(d),f}}const TN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eb(c){return(c=String(c)).match(TN)?c:"unsafe:"+c}function rc(c){const d={};for(const f of c.split(","))d[f]=!0;return d}function cm(...c){const d={};for(const f of c)for(const m in f)f.hasOwnProperty(m)&&(d[m]=!0);return d}const PD=rc("area,br,col,hr,img,wbr"),um=rc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ND=rc("rp,rt"),Df=cm(PD,cm(um,rc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cm(ND,rc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cm(ND,um)),ow=rc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dm=cm(ow,rc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LD=rc("script,style,template");class RN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let f=d.firstChild,m=!0,_=[];for(;f;)if(f.nodeType===Node.ELEMENT_NODE?m=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,m&&f.firstChild)_.push(f),f=NN(f);else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let M=FD(f);if(M){f=M;break}f=_.pop()}return this.buf.join("")}startElement(d){const f=sw(d).toLowerCase();if(!Df.hasOwnProperty(f))return this.sanitizedSomething=!0,!LD.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const m=d.attributes;for(let _=0;_<m.length;_++){const M=m.item(_),O=M.name,R=O.toLowerCase();if(!dm.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let B=M.value;ow[R]&&(B=eb(B)),this.buf.push(" ",O,'="',jD(B),'"')}return this.buf.push(">"),!0}endElement(d){const f=sw(d).toLowerCase();Df.hasOwnProperty(f)&&!PD.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(d){this.buf.push(jD(d))}}function FD(c){const d=c.nextSibling;if(d&&c!==d.previousSibling)throw BD(d);return d}function NN(c){const d=c.firstChild;if(d&&function PN(c,d){return(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(c,d))throw BD(d);return d}function sw(c){const d=c.nodeName;return"string"==typeof d?d:"FORM"}function BD(c){return new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`)}const vi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LN=/([^\#-~ |!])/g;function jD(c){return c.replace(/&/g,"&amp;").replace(vi,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(LN,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nb;function ib(c,d){let f=null;try{nb=nb||function tb(c){const d=new DN(c);return function ON(){try{return!!(new window.DOMParser).parseFromString(om(""),"text/html")}catch{return!1}}()?new SN(d):d}(c);let m=d?String(d):"";f=nb.getInertBodyElement(m);let _=5,M=m;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,m=M,M=f.innerHTML,f=nb.getInertBodyElement(m)}while(m!==M);return om((new RN).sanitizeChildren(wh(f)||f))}finally{if(f){const m=wh(f)||f;for(;m.firstChild;)m.firstChild.remove()}}}function wh(c){return"content"in c&&function FN(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var Pa=function(c){return c[c.NONE=0]="NONE",c[c.HTML=1]="HTML",c[c.STYLE=2]="STYLE",c[c.SCRIPT=3]="SCRIPT",c[c.URL=4]="URL",c[c.RESOURCE_URL=5]="RESOURCE_URL",c}(Pa||{});function Of(c){const d=_u();return d?AD(d.sanitize(Pa.HTML,c)||""):am(c,"HTML")?AD(yd(c)):ib(Ra(),Ft(c))}function wv(c){const d=_u();return d?d.sanitize(Pa.URL,c)||"":am(c,"URL")?yd(c):eb(Ft(c))}function rb(c){const d=_u();if(d)return kD(d.sanitize(Pa.RESOURCE_URL,c)||"");if(am(c,"ResourceURL"))return kD(yd(c));throw new Dn(904,!1)}function zD(c,d,f){return function ya(c,d){return"src"===d&&("embed"===c||"frame"===c||"iframe"===c||"media"===c||"script"===c)||"href"===d&&("base"===c||"link"===c)?rb:wv}(d,f)(c)}function _u(){const c=hn();return c&&c[ha].sanitizer}const Po=/^>|^->|<!--|-->|--!>|<!-$/g,zN=/(<|>)/g,UN="\u200b$1\u200b";function Cl(c){return c instanceof Function?c():c}function Ml(c){return"browser"===(c??_i(Ei)).get(Hy)}var lb=function(c){return c[c.Important=1]="Important",c[c.DashCase=2]="DashCase",c}(lb||{});let Sv;function Ji(c,d){return Sv(c,d)}function vo(c,d,f,m,_){if(null!=m){let M,O=!1;Js(m)?M=m:Ur(m)&&(O=!0,m=m[Ti]);const R=Lr(m);0===c&&null!==f?null==_?ZD(d,f,R):Eu(d,f,R,_||null,!0):1===c&&null!==f?Eu(d,f,R,_||null,!0):2===c?function gm(c,d,f){c.removeChild(null,d,f)}(d,R,O):3===c&&d.destroyNode(R),null!=M&&function Na(c,d,f,m,_){const M=f[Qa];M!==Lr(f)&&vo(d,c,m,M,_);for(let R=Zo;R<f.length;R++){const B=f[R];db(B[yn],B,c,d,m,M)}}(d,c,M,f,_)}}function Kt(c,d){return c.createComment(function UD(c){return c.replace(Po,d=>d.replace(zN,UN))}(d))}function cb(c,d,f){return c.createElement(d,f)}function dw(c,d){d[ha].changeDetectionScheduler?.notify(9),db(c,d,d[Bi],2,null,null)}function hw(c,d){const f=c[oh],m=d[Sr];(Ur(m)||d[Ir]!==m[Sr][Ir])&&(c[wi]|=ld.HasTransplantedViews),null===f?c[oh]=[d]:f.push(d)}function ub(c,d){const f=c[oh],m=f.indexOf(d);f.splice(m,1)}function pm(c,d){if(c.length<=Zo)return;const f=Zo+d,m=c[f];if(m){const _=m[rh];null!==_&&_!==c&&ub(_,m),d>0&&(c[f-1][vr]=m[vr]);const M=Ta(c,Zo+d);!function ni(c,d){dw(c,d),d[Ti]=null,d[zr]=null}(m[yn],m);const O=M[hu];null!==O&&O.detachView(M[yn]),m[Sr]=null,m[vr]=null,m[wi]&=-129}return m}function Ov(c,d){if(!(256&d[wi])){const f=d[Bi];f.destroyNode&&db(c,d,f,3,null,null),function ZN(c){let d=c[vf];if(!d)return fw(c[yn],c);for(;d;){let f=null;if(Ur(d))f=d[vf];else{const m=d[Zo];m&&(f=m)}if(!f){for(;d&&!d[vr]&&d!==c;)Ur(d)&&fw(d[yn],d),d=d[Sr];null===d&&(d=c),Ur(d)&&fw(d[yn],d),f=d&&d[vr]}d=f}}(d)}}function fw(c,d){if(256&d[wi])return;const f=et(null);try{d[wi]&=-129,d[wi]|=256,d[Rr]&&be(d[Rr]),function mm(c,d){let f;if(null!=c&&null!=(f=c.destroyHooks))for(let m=0;m<f.length;m+=2){const _=d[f[m]];if(!(_ instanceof rv)){const M=f[m+1];if(Array.isArray(M))for(let O=0;O<M.length;O+=2){const R=_[M[O]],B=M[O+1];cd(4,R,B);try{B.call(R)}finally{cd(5,R,B)}}else{cd(4,_,M);try{M.call(_)}finally{cd(5,_,M)}}}}}(c,d),function QN(c,d){const f=c.cleanup,m=d[Fs];if(null!==f)for(let M=0;M<f.length-1;M+=2)if("string"==typeof f[M]){const O=f[M+3];O>=0?m[O]():m[-O].unsubscribe(),M+=2}else f[M].call(m[f[M+1]]);null!==m&&(d[Fs]=null);const _=d[Jl];if(null!==_){d[Jl]=null;for(let M=0;M<_.length;M++)(0,_[M])()}}(c,d),1===d[yn].type&&d[Bi].destroy();const m=d[rh];if(null!==m&&Js(d[Sr])){m!==d[Sr]&&ub(m,d);const _=d[hu];null!==_&&_.detachView(c)}Vy(d)}finally{et(f)}}function pw(c,d,f){return function YD(c,d,f){let m=d;for(;null!==m&&168&m.type;)m=(d=m).parent;if(null===m)return f[Ti];{const{componentOffset:_}=m;if(_>-1){const{encapsulation:M}=c.data[m.directiveStart+_];if(M===Hl.None||M===Hl.Emulated)return null}return xo(m,f)}}(c,d.parent,f)}function Eu(c,d,f,m,_){c.insertBefore(d,f,m,_)}function ZD(c,d,f){c.appendChild(d,f)}function QD(c,d,f,m,_){null!==m?Eu(c,d,f,m,_):ZD(c,d,f)}function mw(c,d){return c.parentNode(d)}function Tv(c,d,f){return qD(c,d,f)}let Ch,qD=function gw(c,d,f){return 40&c.type?xo(c,f):null};function Af(c,d,f,m){const _=pw(c,m,d),M=d[Bi],R=Tv(m.parent||d[zr],m,d);if(null!=_)if(Array.isArray(f))for(let B=0;B<f.length;B++)QD(M,_,f[B],R,!1);else QD(M,_,f,R,!1);void 0!==Ch&&Ch(M,m,d,f,_)}function wu(c,d){if(null!==d){const f=d.type;if(3&f)return xo(d,c);if(4&f)return xu(-1,c[d.index]);if(8&f){const m=d.child;if(null!==m)return wu(c,m);{const _=c[d.index];return Js(_)?xu(-1,_):Lr(_)}}if(128&f)return wu(c,d.next);if(32&f)return Ji(d,c)()||Lr(c[d.index]);{const m=tO(c,d);return null!==m?Array.isArray(m)?m[0]:wu(ud(c[Ir]),m):wu(c,d.next)}}return null}function tO(c,d){return null!==d?c[Ir][zr].projection[d.projection]:null}function xu(c,d){const f=Zo+c+1;if(f<d.length){const m=d[f],_=m[yn].firstChild;if(null!==_)return wu(m,_)}return d[Qa]}function vm(c,d,f,m,_,M,O){for(;null!=f;){if(128===f.type){f=f.next;continue}const R=m[f.index],B=f.type;if(O&&0===d&&(R&&ga(Lr(R),m),f.flags|=2),32&~f.flags)if(8&B)vm(c,d,f.child,m,_,M,!1),vo(d,c,_,R,M);else if(32&B){const X=Ji(f,m);let tt;for(;tt=X();)vo(d,c,_,tt,M);vo(d,c,_,R,M)}else 16&B?vw(c,d,m,f,_,M):vo(d,c,_,R,M);f=O?f.projectionNext:f.next}}function db(c,d,f,m,_,M){vm(f,m,c.firstChild,d,_,M,!1)}function vw(c,d,f,m,_,M){const O=f[Ir],B=O[zr].projection[m.projection];if(Array.isArray(B))for(let X=0;X<B.length;X++)vo(d,c,_,B[X],M);else{let X=B;const tt=O[Sr];uv(m)&&(X.flags|=128),vm(c,d,X,tt,_,M,!0)}}function rO(c,d,f){""===f?c.removeAttribute(d,"class"):c.setAttribute(d,"class",f)}function oO(c,d,f){const{mergedAttrs:m,classes:_,styles:M}=f;null!==m&&Wl(c,d,m),null!==_&&rO(c,d,_),null!==M&&function iO(c,d,f){c.setAttribute(d,"style",f)}(c,d,M)}const tr={};function bw(c=1){sO(Ai(),hn(),vs()+c,!1)}function sO(c,d,f,m){if(!m)if(3&~d[wi]){const M=c.preOrderHooks;null!==M&&EE(d,M,0,f)}else{const M=c.preOrderCheckHooks;null!==M&&Iy(d,M,f)}Cr(f)}function ym(c,d=Mi.Default){const f=hn();return null===f?Ar(c,d):LS(co(),f,Mt(c),d)}function Av(){throw new Error("invalid")}function aO(c,d,f,m,_,M){const O=et(null);try{let R=null;_&Oi.SignalBased&&(R=d[m][ut]),null!==R&&void 0!==R.transformFn&&(M=R.transformFn(M)),_&Oi.HasDecoratorInputTransform&&(M=c.inputTransforms[m].call(d,M)),null!==c.setInput?c.setInput(d,R,M,f,m):ls(d,R,m,M)}finally{et(O)}}function hb(c,d,f,m,_,M,O,R,B,X,tt){const St=d.blueprint.slice();return St[Ti]=_,St[wi]=204|m,(null!==X||c&&2048&c[wi])&&(St[wi]|=2048),fS(St),St[Sr]=St[ad]=c,St[yr]=f,St[ha]=O||c&&c[ha],St[Bi]=R||c&&c[Bi],St[ko]=B||c&&c[ko]||null,St[zr]=M,St[Bp]=function lD(){return sN++}(),St[Wo]=tt,St[jp]=X,St[Ir]=2==d.type?c[Ir]:St,St}function kf(c,d,f,m,_){let M=c.data[d];if(null===M)M=function fb(c,d,f,m,_){const M=VP(),O=ES(),B=c.data[d]=function dO(c,d,f,m,_,M){let O=d?d.injectorIndex:-1,R=0;return $p()&&(R|=128),{type:f,index:m,insertBeforeIndex:null,injectorIndex:O,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:R,providerIndexes:0,value:_,attrs:M,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?M:M&&M.parent,f,d,m,_);return null===c.firstChild&&(c.firstChild=B),null!==M&&(O?null==M.child&&null!==B.parent&&(M.child=B):null===M.next&&(M.next=B,B.prev=M)),B}(c,d,f,m,_),function zP(){return $i.lFrame.inI18n}()&&(M.flags|=32);else if(64&M.type){M.type=f,M.value=m,M.attrs=_;const O=function ic(){const c=$i.lFrame,d=c.currentTNode;return c.isParent?d:d.parent}();M.injectorIndex=null===O?-1:O.injectorIndex}return pu(M,!0),M}function kv(c,d,f,m){if(0===f)return-1;const _=d.length;for(let M=0;M<f;M++)d.push(m),c.blueprint.push(m),c.data.push(null);return _}function _w(c,d,f,m,_){const M=vs(),O=2&m;try{Cr(-1),O&&d.length>Hn&&sO(c,d,Hn,!1),cd(O?2:0,_),f(m,_)}finally{Cr(M),cd(O?3:1,_)}}function Iv(c,d,f){if(Qo(d)){const m=et(null);try{const M=d.directiveEnd;for(let O=d.directiveStart;O<M;O++){const R=c.data[O];R.contentQueries&&R.contentQueries(1,f[O],O)}}finally{et(m)}}}function If(c,d,f){yS()&&(function Tw(c,d,f,m){const _=f.directiveStart,M=f.directiveEnd;fa(f)&&function o3(c,d,f){const m=xo(d,c),_=lO(f);let O=16;f.signals?O=4096:f.onPush&&(O=64);const R=Lv(c,hb(c,_,null,O,m,d,null,c[ha].rendererFactory.createRenderer(m,f),null,null,null));c[d.index]=R}(d,f,c.data[_+f.componentOffset]),c.firstCreatePass||sv(f,d),ga(m,d);const O=f.initialInputs;for(let R=_;R<M;R++){const B=c.data[R],X=_f(d,c,R,f);ga(X,d),null!==O&&s3(0,R-_,X,B,0,O),ta(B)&&(Ja(f.index,d)[yr]=_f(d,c,R,f))}}(c,d,f,xo(f,d)),!(64&~f.flags)&&Aw(c,d,f))}function Ew(c,d,f=xo){const m=d.localNames;if(null!==m){let _=d.index+1;for(let M=0;M<m.length;M+=2){const O=m[M+1],R=-1===O?f(d,c):c[O];c[_++]=R}}}function lO(c){const d=c.tView;return null===d||d.incompleteFirstPass?c.tView=ww(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts,c.id):d}function ww(c,d,f,m,_,M,O,R,B,X,tt){const St=Hn+m,oe=St+_,pe=function JN(c,d){const f=[];for(let m=0;m<d;m++)f.push(m<c?null:tr);return f}(St,oe),Fe="function"==typeof X?X():X;return pe[yn]={type:c,blueprint:pe,template:f,queries:null,viewQuery:R,declTNode:d,data:pe.slice().fill(null,St),bindingStartIndex:St,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof M?M():M,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:B,consts:Fe,incompleteFirstPass:!1,ssrId:tt}}let uO=()=>null;function hO(c,d,f,m,_){for(let M in d){if(!d.hasOwnProperty(M))continue;const O=d[M];if(void 0===O)continue;m??={};let R,B=Oi.None;Array.isArray(O)?(R=O[0],B=O[1]):R=O;let X=M;if(null!==_){if(!_.hasOwnProperty(M))continue;X=_[M]}0===c?Sw(m,f,X,R,B):Sw(m,f,X,R)}return m}function Sw(c,d,f,m,_){let M;c.hasOwnProperty(f)?(M=c[f]).push(d,m):M=c[f]=[d,m],void 0!==_&&M.push(_)}function el(c,d,f,m,_,M,O,R){const B=xo(d,f);let tt,X=d.inputs;!R&&null!=X&&(tt=X[m])?(Lw(c,f,tt,m,_),fa(d)&&function n3(c,d){const f=Ja(d,c);16&f[wi]||(f[wi]|=64)}(f,d.index)):3&d.type&&(m=function fO(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(m),_=null!=O?O(_,d.value||"",m):_,M.setProperty(B,m,_))}function Dw(c,d,f,m){if(yS()){const _=null===m?null:{"":-1},M=function Pv(c,d){const f=c.directiveRegistry;let m=null,_=null;if(f)for(let M=0;M<f.length;M++){const O=f[M];if(mt(d,O.selectors,!1))if(m||(m=[]),ta(O))if(null!==O.findHostDirectiveDefs){const R=[];_=_||new Map,O.findHostDirectiveDefs(O,R,_),m.unshift(...R,O),_m(c,d,R.length)}else m.unshift(O),_m(c,d,0);else _=_||new Map,O.findHostDirectiveDefs?.(O,m,_),m.push(O)}return null===m?null:[m,_]}(c,f);let O,R;null===M?O=R=null:[O,R]=M,null!==O&&pO(c,d,f,O,_,R),_&&function Em(c,d,f){if(d){const m=c.localNames=[];for(let _=0;_<d.length;_+=2){const M=f[d[_+1]];if(null==M)throw new Dn(-301,!1);m.push(d[_],M)}}}(f,m,_)}f.mergedAttrs=Kl(f.mergedAttrs,f.attrs)}function pO(c,d,f,m,_,M){for(let X=0;X<m.length;X++)OE(sv(f,d),c,m[X].type);!function Cu(c,d,f){c.flags|=1,c.directiveStart=d,c.directiveEnd=d+f,c.providerIndexes=d}(f,c.data.length,m.length);for(let X=0;X<m.length;X++){const tt=m[X];tt.providersResolver&&tt.providersResolver(tt)}let O=!1,R=!1,B=kv(c,d,m.length,null);for(let X=0;X<m.length;X++){const tt=m[X];f.mergedAttrs=Kl(f.mergedAttrs,tt.hostAttrs),r3(c,f,d,B,tt),Nv(B,tt,_),null!==tt.contentQueries&&(f.flags|=4),(null!==tt.hostBindings||null!==tt.hostAttrs||0!==tt.hostVars)&&(f.flags|=64);const St=tt.type.prototype;!O&&(St.ngOnChanges||St.ngOnInit||St.ngDoCheck)&&((c.preOrderHooks??=[]).push(f.index),O=!0),!R&&(St.ngOnChanges||St.ngDoCheck)&&((c.preOrderCheckHooks??=[]).push(f.index),R=!0),B++}!function e3(c,d,f){const _=d.directiveEnd,M=c.data,O=d.attrs,R=[];let B=null,X=null;for(let tt=d.directiveStart;tt<_;tt++){const St=M[tt],oe=f?f.get(St):null,Fe=oe?oe.outputs:null;B=hO(0,St.inputs,tt,B,oe?oe.inputs:null),X=hO(1,St.outputs,tt,X,Fe);const bn=null===B||null===O||cu(d)?null:a3(B,tt,O);R.push(bn)}null!==B&&(B.hasOwnProperty("class")&&(d.flags|=8),B.hasOwnProperty("style")&&(d.flags|=16)),d.initialInputs=R,d.inputs=B,d.outputs=X}(c,f,M)}function Aw(c,d,f){const m=f.directiveStart,_=f.directiveEnd,M=f.index,O=function CS(){return $i.lFrame.currentDirectiveIndex}();try{Cr(M);for(let R=m;R<_;R++){const B=c.data[R],X=d[R];Dy(R),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Rv(B,X)}}finally{Cr(-1),Dy(O)}}function Rv(c,d){null!==c.hostBindings&&c.hostBindings(1,d)}function _m(c,d,f){d.componentOffset=f,(c.components??=[]).push(d.index)}function Nv(c,d,f){if(f){if(d.exportAs)for(let m=0;m<d.exportAs.length;m++)f[d.exportAs[m]]=c;ta(d)&&(f[""]=c)}}function r3(c,d,f,m,_){c.data[m]=_;const M=_.factory||(_.factory=os(_.type)),O=new rv(M,ta(_),ym);c.blueprint[m]=O,f[m]=O,function Ow(c,d,f,m,_){const M=_.hostBindings;if(M){let O=c.hostBindingOpCodes;null===O&&(O=c.hostBindingOpCodes=[]);const R=~d.index;(function mO(c){let d=c.length;for(;d>0;){const f=c[--d];if("number"==typeof f&&f<0)return f}return 0})(O)!=R&&O.push(R),O.push(f,m,M)}}(c,d,m,kv(c,f,_.hostVars,tr),_)}function Mu(c,d,f,m,_,M){const O=xo(c,d);!function kw(c,d,f,m,_,M,O){if(null==M)c.removeAttribute(d,_,f);else{const R=null==O?Ft(M):O(M,m||"",_);c.setAttribute(d,_,R,f)}}(d[Bi],O,M,c.value,f,m,_)}function s3(c,d,f,m,_,M){const O=M[d];if(null!==O)for(let R=0;R<O.length;)aO(m,f,O[R++],O[R++],O[R++],O[R++])}function a3(c,d,f){let m=null,_=0;for(;_<f.length;){const M=f[_];if(0!==M)if(5!==M){if("number"==typeof M)break;if(c.hasOwnProperty(M)){null===m&&(m=[]);const O=c[M];for(let R=0;R<O.length;R+=3)if(O[R]===d){m.push(M,O[R+1],O[R+2],f[_+1]);break}}_+=2}else _+=2;else _+=4}return m}function gO(c,d,f,m){return[c,!0,0,d,null,m,null,f,null,null]}function Iw(c,d){const f=c.contentQueries;if(null!==f){const m=et(null);try{for(let _=0;_<f.length;_+=2){const O=f[_+1];if(-1!==O){const R=c.data[O];Ty(f[_]),R.contentQueries(2,d[O],O)}}}finally{et(m)}}}function Lv(c,d){return c[vf]?c[Xg][vr]=d:c[vf]=d,c[Xg]=d,d}function Rw(c,d,f){Ty(0);const m=et(null);try{d(c,f)}finally{et(m)}}function Pw(c){return c[Fs]??=[]}function Fv(c){return c.cleanup??=[]}function Nw(c,d,f){return(null===c||ta(c))&&(f=function wy(c){for(;Array.isArray(c);){if("object"==typeof c[Io])return c;c=c[Ti]}return null}(f[d.index])),f[Bi]}function Rf(c,d){const f=c[ko],m=f?f.get(md,null):null;m&&m.handleError(d)}function Lw(c,d,f,m,_){for(let M=0;M<f.length;){const O=f[M++],R=f[M++],B=f[M++];aO(c.data[O],d[O],m,R,B,_)}}function nl(c,d){const f=Ja(d,c),m=f[yn];!function vO(c,d){for(let f=d.length;f<c.blueprint.length;f++)d.push(c.blueprint[f])}(m,f);const _=f[Ti];null!==_&&null===f[Wo]&&(f[Wo]=QE(_,f[ko])),Fw(m,f,f[yr])}function Fw(c,d,f){vE(d);try{const m=c.viewQuery;null!==m&&Rw(1,m,f);const _=c.template;null!==_&&_w(c,d,_,1,f),c.firstCreatePass&&(c.firstCreatePass=!1),d[hu]?.finishViewCreation(c),c.staticContentQueries&&Iw(c,d),c.staticViewQueries&&Rw(2,c.viewQuery,f);const M=c.components;null!==M&&function yO(c,d){for(let f=0;f<d.length;f++)nl(c,d[f])}(d,M)}catch(m){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),m}finally{d[wi]&=-5,Ay()}}function _d(c,d,f,m){const _=et(null);try{const M=d.tView,B=hb(c,M,f,4096&c[wi]?4096:16,null,d,null,null,m?.injector??null,m?.embeddedViewInjector??null,m?.dehydratedView??null);B[rh]=c[d.index];const tt=c[hu];return null!==tt&&(B[hu]=tt.createEmbeddedView(M)),Fw(M,B,f),B}finally{et(_)}}function Mh(c,d){const f=Zo+d;if(f<c.length)return c[f]}function Sl(c,d){return!d||null===d.firstChild||uv(c)}function Pf(c,d,f,m=!0){const _=d[yn];if(function Dv(c,d,f,m){const _=Zo+m,M=f.length;m>0&&(f[_-1][vr]=d),m<M-Zo?(d[vr]=f[_],Oa(f,Zo+m,d)):(f.push(d),d[vr]=null),d[Sr]=f;const O=d[rh];null!==O&&f!==O&&hw(O,d);const R=d[hu];null!==R&&R.insertView(c),mS(d),d[wi]|=128}(_,d,c,f),m){const O=xu(f,c),R=d[Bi],B=mw(R,c[Qa]);null!==B&&function uw(c,d,f,m,_,M){m[Ti]=_,m[zr]=d,db(c,m,f,1,_,M)}(_,c[zr],R,d,B,O)}const M=d[Wo];null!==M&&null!==M.firstChild&&(M.firstChild=null)}function mb(c,d){const f=pm(c,d);return void 0!==f&&Ov(f[yn],f),f}function Bv(c,d,f,m,_=!1){for(;null!==f;){if(128===f.type){f=_?f.projectionNext:f.next;continue}const M=d[f.index];null!==M&&m.push(Lr(M)),Js(M)&&oc(M,m);const O=f.type;if(8&O)Bv(c,d,f.child,m);else if(32&O){const R=Ji(f,d);let B;for(;B=R();)m.push(B)}else if(16&O){const R=tO(d,f);if(Array.isArray(R))m.push(...R);else{const B=ud(d[Ir]);Bv(B[yn],B,R,m,!0)}}f=_?f.projectionNext:f.next}return m}function oc(c,d){for(let f=Zo;f<c.length;f++){const m=c[f],_=m[yn].firstChild;null!==_&&Bv(m[yn],m,_,d)}c[Qa]!==c[Ti]&&d.push(c[Qa])}let Bw=[];const bO={...vt,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{tv(c.lView)},consumerOnSignalRead(){this.lView[Rr]=this}},c3={...vt,consumerIsAlwaysLive:!0,consumerMarkedDirty:c=>{let d=ud(c.lView);for(;d&&!_O(d[yn]);)d=ud(d);d&&pS(d)},consumerOnSignalRead(){this.lView[Rr]=this}};function _O(c){return 2!==c.type}const u3=100;function vb(c,d=!0,f=0){const m=c[ha],_=m.rendererFactory;_.begin?.();try{!function d3(c,d){const f=Pi();try{Xi(!0),Hw(c,d);let m=0;for(;ch(c);){if(m===u3)throw new Dn(103,!1);m++,Hw(c,1)}}finally{Xi(f)}}(c,f)}catch(O){throw d&&Rf(c,O),O}finally{_.end?.(),m.inlineEffectRunner?.flush()}}function EO(c,d,f,m){const _=d[wi];if(!(256&~_))return;d[ha].inlineEffectRunner?.flush(),vE(d);let R=!0,B=null,X=null;_O(c)?(X=function gb(c){return c[Rr]??function jw(c){const d=Bw.pop()??Object.create(bO);return d.lView=c,d}(c)}(d),B=ve(X)):null===Bt()?(R=!1,X=function l3(c){const d=c[Rr]??Object.create(c3);return d.lView=c,d}(d),B=ve(X)):d[Rr]&&(be(d[Rr]),d[Rr]=null);try{fS(d),function xS(c){return $i.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==f&&_w(c,d,f,2,m);const tt=!(3&~_);if(tt){const pe=c.preOrderCheckHooks;null!==pe&&Iy(d,pe,null)}else{const pe=c.preOrderHooks;null!==pe&&EE(d,pe,0,null),Wp(d,0)}if(function h3(c){for(let d=hD(c);null!==d;d=fD(d)){if(!(d[wi]&ld.HasTransplantedViews))continue;const f=d[oh];for(let m=0;m<f.length;m++)pS(f[m])}}(d),zw(d,0),null!==c.contentQueries&&Iw(c,d),tt){const pe=c.contentCheckHooks;null!==pe&&Iy(d,pe)}else{const pe=c.contentHooks;null!==pe&&EE(d,pe,1),Wp(d,1)}!function bm(c,d){const f=c.hostBindingOpCodes;if(null!==f)try{for(let m=0;m<f.length;m++){const _=f[m];if(_<0)Cr(~_);else{const M=_,O=f[++m],R=f[++m];UP(O,M),R(2,d[M])}}}finally{Cr(-1)}}(c,d);const St=c.components;null!==St&&wO(d,St,0);const oe=c.viewQuery;if(null!==oe&&Rw(2,oe,m),tt){const pe=c.viewCheckHooks;null!==pe&&Iy(d,pe)}else{const pe=c.viewHooks;null!==pe&&EE(d,pe,2),Wp(d,2)}if(!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),d[Aa]){for(const pe of d[Aa])pe();d[Aa]=null}d[wi]&=-73}catch(tt){throw tv(d),tt}finally{null!==X&&(Le(X,B),R&&function Ed(c){c.lView[Rr]!==c&&(c.lView=null,Bw.push(c))}(X)),Ay()}}function zw(c,d){for(let f=hD(c);null!==f;f=fD(f))for(let m=Zo;m<f.length;m++)Gw(f[m],d)}function Uw(c,d,f){Gw(Ja(d,c),f)}function Gw(c,d){Hp(c)&&Hw(c,d)}function Hw(c,d){const m=c[yn],_=c[wi],M=c[Rr];let O=!!(0===d&&16&_);if(O||=!!(64&_&&0===d),O||=!!(1024&_),O||=!(!M?.dirty||!tn(M)),O||=!1,M&&(M.dirty=!1),c[wi]&=-9217,O)EO(m,c,m.template,c[yr]);else if(8192&_){zw(c,1);const R=m.components;null!==R&&wO(c,R,1)}}function wO(c,d,f){for(let m=0;m<d.length;m++)Uw(c,d[m],f)}function wm(c,d){const f=Pi()?64:1088;for(c[ha].changeDetectionScheduler?.notify(d);c;){c[wi]|=f;const m=ud(c);if(ec(c)&&!m)return c;c=m}return null}class jv{get rootNodes(){const d=this._lView,f=d[yn];return Bv(f,d,f.firstChild,[])}constructor(d,f,m=!0){this._lView=d,this._cdRefInjectingView=f,this.notifyErrorHandler=m,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yr]}set context(d){this._lView[yr]=d}get destroyed(){return!(256&~this._lView[wi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[Sr];if(Js(d)){const f=d[8],m=f?f.indexOf(this):-1;m>-1&&(pm(d,m),Ta(f,m))}this._attachedToViewContainer=!1}Ov(this._lView[yn],this._lView)}onDestroy(d){Cy(this._lView,d)}markForCheck(){wm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[wi]&=-129}reattach(){mS(this._lView),this._lView[wi]|=128}detectChanges(){this._lView[wi]|=1024,vb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Dn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const d=ec(this._lView),f=this._lView[rh];null!==f&&!d&&ub(f,this._lView),dw(this._lView[yn],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Dn(902,!1);this._appRef=d;const f=ec(this._lView),m=this._lView[rh];null!==m&&!f&&hw(m,this._lView),mS(this._lView)}}let Vv=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=f3}return c})();const $w=Vv,xO=class extends $w{constructor(d,f,m){super(),this._declarationLView=d,this._declarationTContainer=f,this.elementRef=m}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(d,f){return this.createEmbeddedViewImpl(d,f)}createEmbeddedViewImpl(d,f,m){const _=_d(this._declarationLView,this._declarationTContainer,d,{embeddedViewInjector:f,dehydratedView:m});return new jv(_)}};function f3(){return yb(co(),hn())}function yb(c,d){return 4&c.type?new xO(d,c,vh(c,d)):null}let IO=()=>null;function Th(c,d){return IO(c,d)}class zf{}const Yv=new ti("",{providedIn:"root",factory:()=>!1}),RO=new ti(""),ax=new ti("");class lx{}class Db{}class NO{resolveComponentFactory(d){throw function T3(c){const d=Error(`No component factory found for ${an(c)}.`);return d.ngComponent=c,d}(d)}}class Zv{static#t=this.NULL=new NO}class cx{}let A3=(()=>{class c{constructor(){this.destroyNode=null}static#t=this.__NG_ELEMENT_ID__=()=>function k3(){const c=hn(),f=Ja(co().index,c);return(Ur(f)?f:c)[Bi]}()}return c})(),I3=(()=>{class c{static#t=this.\u0275prov=Qt({token:c,providedIn:"root",factory:()=>null})}return c})();function Ah(c){return!!Os(c)}function Om(c,d,f){let m=f?c.styles:null,_=f?c.classes:null,M=0;if(null!==d)for(let O=0;O<d.length;O++){const R=d[O];"number"==typeof R?M=R:1==M?_=wn(_,R):2==M&&(m=wn(m,R+": "+d[++O]+";"))}f?c.styles=m:c.stylesWithoutHost=m,f?c.classes=_:c.classesWithoutHost=_}class hx extends Zv{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const f=er(d);return new Bs(f,this.ngModule)}}function FO(c,d){const f=[];for(const m in c){if(!c.hasOwnProperty(m))continue;const _=c[m];if(void 0===_)continue;const M=Array.isArray(_),O=M?_[0]:_;f.push(d?{propName:O,templateName:m,isSignal:!!((M?_[1]:Oi.None)&Oi.SignalBased)}:{propName:O,templateName:m})}return f}class Bs extends Db{get inputs(){const d=this.componentDef,f=d.inputTransforms,m=FO(d.inputs,!0);if(null!==f)for(const _ of m)f.hasOwnProperty(_.propName)&&(_.transform=f[_.propName]);return m}get outputs(){return FO(this.componentDef.outputs,!1)}constructor(d,f){super(),this.componentDef=d,this.ngModule=f,this.componentType=d.type,this.selector=function df(c){return c.map(Qd).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!f}create(d,f,m,_){const M=et(null);try{let O=(_=_||this.ngModule)instanceof Ts?_:_?.injector;O&&null!==this.componentDef.getStandaloneInjector&&(O=this.componentDef.getStandaloneInjector(O)||O);const R=O?new uh(d,O):d,B=R.get(cx,null);if(null===B)throw new Dn(407,!1);const St={rendererFactory:B,sanitizer:R.get(I3,null),inlineEffectRunner:null,changeDetectionScheduler:R.get(zf,null)},oe=B.createRenderer(null,this.componentDef),pe=this.componentDef.selectors[0][0]||"div",Fe=m?function cO(c,d,f,m){const M=m.get(DD,!1)||f===Hl.ShadowDom,O=c.selectRootElement(d,M);return function xw(c){uO(c)}(O),O}(oe,m,this.componentDef.encapsulation,R):cb(oe,pe,function P3(c){const d=c.toLowerCase();return"svg"===d?Up:"math"===d?"math":null}(pe));let bn=512;this.componentDef.signals?bn|=4096:this.componentDef.onPush||(bn|=16);let jn=null;null!==Fe&&(jn=QE(Fe,R,!0));const Gn=ww(0,null,null,1,0,null,null,null,null,null,null),mn=hb(null,Gn,null,bn,null,null,St,oe,R,null,jn);vE(mn);let Yi,_r,oo=null;try{const ps=this.componentDef;let Ea,cp=null;ps.findHostDirectiveDefs?(Ea=[],cp=new Map,ps.findHostDirectiveDefs(ps,Ea,cp),Ea.push(ps)):Ea=[ps];const EC=function Tl(c,d){const f=c[yn],m=Hn;return c[m]=d,kf(f,m,2,"#host",null)}(mn,Fe);oo=function N3(c,d,f,m,_,M,O){const R=_[yn];!function L3(c,d,f,m){for(const _ of c)d.mergedAttrs=Kl(d.mergedAttrs,_.hostAttrs);null!==d.mergedAttrs&&(Om(d,d.mergedAttrs,!0),null!==f&&oO(m,f,d))}(m,c,d,O);let B=null;null!==d&&(B=QE(d,_[ko]));const X=M.rendererFactory.createRenderer(d,f);let tt=16;f.signals?tt=4096:f.onPush&&(tt=64);const St=hb(_,lO(f),null,tt,_[c.index],c,M,X,null,null,B);return R.firstCreatePass&&_m(R,c,m.length-1),Lv(_,St),_[c.index]=St}(EC,Fe,ps,Ea,mn,St,oe),_r=Jg(Gn,Hn),Fe&&function jO(c,d,f,m){if(m)Wl(c,f,["ng-version","18.2.9"]);else{const{attrs:_,classes:M}=function Tp(c){const d=[],f=[];let m=1,_=2;for(;m<c.length;){let M=c[m];if("string"==typeof M)2===_?""!==M&&d.push(M,c[++m]):8===_&&f.push(M);else{if(!q(_))break;_=M}m++}return{attrs:d,classes:f}}(d.selectors[0]);_&&Wl(c,f,_),M&&M.length>0&&rO(c,f,M.join(" "))}}(oe,ps,Fe,m),void 0!==f&&function VO(c,d,f){const m=c.projection=[];for(let _=0;_<d.length;_++){const M=f[_];m.push(null!=M?Array.from(M):null)}}(_r,this.ngContentSelectors,f),Yi=function F3(c,d,f,m,_,M){const O=co(),R=_[yn],B=xo(O,_);pO(R,_,O,f,null,m);for(let tt=0;tt<f.length;tt++)ga(_f(_,R,O.directiveStart+tt,O),_);Aw(R,_,O),B&&ga(B,_);const X=_f(_,R,O.directiveStart+O.componentOffset,O);if(c[yr]=_[yr]=X,null!==M)for(const tt of M)tt(X,d);return Iv(R,O,_),X}(oo,ps,Ea,cp,mn,[fx]),Fw(Gn,mn,null)}catch(ps){throw null!==oo&&Vy(oo),Vy(mn),ps}finally{Ay()}return new BO(this.componentType,Yi,vh(_r,mn),mn,_r)}finally{et(M)}}}class BO extends lx{constructor(d,f,m,_,M){super(),this.location=m,this._rootLView=_,this._tNode=M,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new jv(_,void 0,!1),this.componentType=d}setInput(d,f){const m=this._tNode.inputs;let _;if(null!==m&&(_=m[d])){if(this.previousInputValues??=new Map,this.previousInputValues.has(d)&&Object.is(this.previousInputValues.get(d),f))return;const M=this._rootLView;Lw(M[yn],M,_,d,f),this.previousInputValues.set(d,f),wm(Ja(this._tNode.index,M),1)}}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}function fx(){const c=co();_E(hn()[yn],c)}let Tm=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=px}return c})();function px(){return GO(co(),hn())}const zO=Tm,Jv=class extends zO{constructor(d,f,m){super(),this._lContainer=d,this._hostTNode=f,this._hostLView=m}get element(){return vh(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const d=av(this._hostTNode,this._hostLView);if(PS(d)){const f=ov(d,this._hostLView),m=Yp(d);return new uo(f[yn].data[m+8],f)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const f=UO(this._lContainer);return null!==f&&f[d]||null}get length(){return this._lContainer.length-Zo}createEmbeddedView(d,f,m){let _,M;"number"==typeof m?_=m:null!=m&&(_=m.index,M=m.injector);const O=Th(this._lContainer,d.ssrId),R=d.createEmbeddedViewImpl(f||{},M,O);return this.insertImpl(R,_,Sl(this._hostTNode,O)),R}createComponent(d,f,m,_,M){const O=d&&!function ee(c){return"function"==typeof c}(d);let R;if(O)R=f;else{const Fe=f||{};R=Fe.index,m=Fe.injector,_=Fe.projectableNodes,M=Fe.environmentInjector||Fe.ngModuleRef}const B=O?d:new Bs(er(d)),X=m||this.parentInjector;if(!M&&null==B.ngModule){const bn=(O?X:this.parentInjector).get(Ts,null);bn&&(M=bn)}const tt=er(B.componentType??{}),St=Th(this._lContainer,tt?.id??null),pe=B.create(X,_,St?.firstChild??null,M);return this.insertImpl(pe.hostView,R,Sl(this._hostTNode,St)),pe}insert(d,f){return this.insertImpl(d,f,!0)}insertImpl(d,f,m){const _=d._lView;if(function xy(c){return Js(c[Sr])}(_)){const R=this.indexOf(d);if(-1!==R)this.detach(R);else{const B=_[Sr],X=new Jv(B,B[zr],B[Sr]);X.detach(X.indexOf(d))}}const M=this._adjustIndex(f),O=this._lContainer;return Pf(O,_,M,m),d.attachToViewContainerRef(),Oa(mx(O),M,d),d}move(d,f){return this.insert(d,f)}indexOf(d){const f=UO(this._lContainer);return null!==f?f.indexOf(d):-1}remove(d){const f=this._adjustIndex(d,-1),m=pm(this._lContainer,f);m&&(Ta(mx(this._lContainer),f),Ov(m[yn],m))}detach(d){const f=this._adjustIndex(d,-1),m=pm(this._lContainer,f);return m&&null!=Ta(mx(this._lContainer),f)?new jv(m):null}_adjustIndex(d,f=0){return d??this.length+f}};function UO(c){return c[8]}function mx(c){return c[8]||(c[8]=[])}function GO(c,d){let f;const m=d[c.index];return Js(m)?f=m:(f=gO(m,d,null,c),d[c.index]=f,Lv(d,f)),t0(f,d,c,m),new Jv(f,c,d)}let t0=function vx(c,d,f,m){if(c[Qa])return;let _;_=8&f.type?Lr(m):function B3(c,d){const f=c[Bi],m=f.createComment(""),_=xo(d,c);return Eu(f,mw(f,_),m,function qN(c,d){return c.nextSibling(d)}(f,_),!1),m}(d,f),c[Qa]=_},gx=()=>!1;class Ob{constructor(d){this.queryList=d,this.matches=null}clone(){return new Ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class Am{constructor(d=[]){this.queries=d}createEmbeddedView(d){const f=d.queries;if(null!==f){const m=null!==d.contentQueries?d.contentQueries[0]:f.length,_=[];for(let M=0;M<m;M++){const O=f.getByIndex(M);_.push(this.queries[O.indexInDeclarationView].clone())}return new Am(_)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}finishViewCreation(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let f=0;f<this.queries.length;f++)null!==Lo(d,f).matches&&this.queries[f].setDirty()}}class Tb{constructor(d,f,m=null){this.flags=f,this.read=m,this.predicate="string"==typeof d?function G3(c){return c.split(",").map(d=>d.trim())}(d):d}}class Ab{constructor(d=[]){this.queries=d}elementStart(d,f){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(d,f)}elementEnd(d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(d)}embeddedTView(d){let f=null;for(let m=0;m<this.length;m++){const _=null!==f?f.length:0,M=this.getByIndex(m).embeddedTView(d,_);M&&(M.indexInDeclarationView=m,null!==f?f.push(M):f=[M])}return null!==f?new Ab(f):null}template(d,f){for(let m=0;m<this.queries.length;m++)this.queries[m].template(d,f)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class yx{constructor(d,f=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(d,f){this.isApplyingToNode(f)&&this.matchTNode(d,f)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,f){this.elementStart(d,f)}embeddedTView(d,f){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,f),new yx(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1&~this.metadata.flags){const f=this._declarationNodeIndex;let m=d.parent;for(;null!==m&&8&m.type&&m.index!==f;)m=m.parent;return f===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(d,f){const m=this.metadata.predicate;if(Array.isArray(m))for(let _=0;_<m.length;_++){const M=m[_];this.matchTNodeWithReadOption(d,f,V3(f,M)),this.matchTNodeWithReadOption(d,f,Py(f,d,M,!1,!1))}else m===Vv?4&f.type&&this.matchTNodeWithReadOption(d,f,-1):this.matchTNodeWithReadOption(d,f,Py(f,d,m,!1,!1))}matchTNodeWithReadOption(d,f,m){if(null!==m){const _=this.metadata.read;if(null!==_)if(_===Qp||_===Tm||_===Vv&&4&f.type)this.addMatch(f.index,-2);else{const M=Py(f,d,_,!1,!1);null!==M&&this.addMatch(f.index,M)}else this.addMatch(f.index,m)}}addMatch(d,f){null===this.matches?this.matches=[d,f]:this.matches.push(d,f)}}function V3(c,d){const f=c.localNames;if(null!==f)for(let m=0;m<f.length;m+=2)if(f[m]===d)return f[m+1];return null}function WO(c,d,f,m){return-1===f?function z3(c,d){return 11&c.type?vh(c,d):4&c.type?yb(c,d):null}(d,c):-2===f?function U3(c,d,f){return f===Qp?vh(d,c):f===Vv?yb(d,c):f===Tm?GO(d,c):void 0}(c,d,m):_f(c,c[yn],f,d)}function KO(c,d,f,m){const _=d[hu].queries[m];if(null===_.matches){const M=c.data,O=f.matches,R=[];for(let B=0;null!==O&&B<O.length;B+=2){const X=O[B];R.push(X<0?null:WO(d,M[X],O[B+1],f.metadata.read))}_.matches=R}return _.matches}function bx(c,d,f,m){const _=c.queries.getByIndex(f),M=_.matches;if(null!==M){const O=KO(c,d,_,f);for(let R=0;R<M.length;R+=2){const B=M[R];if(B>0)m.push(O[R/2]);else{const X=M[R+1],tt=d[-B];for(let St=Zo;St<tt.length;St++){const oe=tt[St];oe[rh]===oe[Sr]&&bx(oe[yn],oe,X,m)}if(null!==tt[oh]){const St=tt[oh];for(let oe=0;oe<St.length;oe++){const pe=St[oe];bx(pe[yn],pe,X,m)}}}}}return m}function kb(c,d){return c[hu].queries[d].queryList}function _x(c,d,f){const m=new gd(!(4&~f));return function Mw(c,d,f,m){const _=Pw(d);_.push(f),c.firstCreatePass&&Fv(c).push(m,_.length-1)}(c,d,m,m.destroy),(d[hu]??=new Am).queries.push(new Ob(m))-1}function XO(c,d,f){const m=Ai();return m.firstCreatePass&&(YO(m,new Tb(c,d,f),-1),!(2&~d)&&(m.staticViewQueries=!0)),_x(m,hn(),d)}function Ib(c,d,f,m){const _=Ai();if(_.firstCreatePass){const M=co();YO(_,new Tb(d,f,m),M.index),function H3(c,d){const f=c.contentQueries||(c.contentQueries=[]);d!==(f.length?f[f.length-1]:-1)&&f.push(c.queries.length-1,d)}(_,c),!(2&~f)&&(_.staticContentQueries=!0)}return _x(_,hn(),f)}function YO(c,d,f){null===c.queries&&(c.queries=new Ab),c.queries.track(new yx(d,f))}function Lo(c,d){return c.queries.getByIndex(d)}function Gf(c,d){const f=c[yn],m=Lo(f,d);return m.crossesNgTemplate?bx(f,c,d,[]):KO(f,c,m,d)}const Fa=new Set;function qo(c){Fa.has(c)||(Fa.add(c),performance?.mark?.("mark_feature_usage",{detail:{feature:c}}))}function Hf(c){return"function"==typeof c&&void 0!==c[ut]}function ZO(c,d){qo("NgSignals");const f=function ht(c){const d=Object.create(_e);d.value=c;const f=()=>(Dt(d),d.value);return f[ut]=d,f}(c),m=f[ut];return d?.equal&&(m.equal=d.equal),f.set=_=>Ct(m,_),f.update=_=>function pt(c,d){Ut()||qt(),Ct(c,d(c.value))}(m,_),f.asReadonly=QO.bind(f),f}function QO(){const c=this[ut];if(void 0===c.readonlyFn){const d=()=>this();d[ut]=c,c.readonlyFn=d}return c.readonlyFn}function qO(c){return Hf(c)&&"function"==typeof c.set}function wx(c,d){let f;const m=te(()=>{f._dirtyCounter();const _=function W3(c,d){const f=c._lView,m=c._queryIndex;if(void 0===f||void 0===m||4&f[wi])return d?void 0:sr;const _=kb(f,m),M=Gf(f,m);return _.reset(M,sD),d?_.first:_._changesDetected||void 0===c._flatValue?c._flatValue=_.toArray():c._flatValue}(f,c);if(d&&void 0===_)throw new Dn(-951,!1);return _});return f=m[ut],f._dirtyCounter=ZO(0),f._flatValue=void 0,m}function xx(){return wx(!0,!1)}function JO(){return wx(!0,!0)}function Rb(c,d){const f=c[ut];f._lView=hn(),f._queryIndex=d,f._queryList=kb(f._lView,d),f._queryList.onDirty(()=>f._dirtyCounter.update(m=>m+1))}function eT(c,d){return xx()}const Mx=(eT.required=function Cx(c,d){return JO()},eT);function nT(c,d){return xx()}const iT=(nT.required=function K3(c,d){return JO()},nT);function Tx(c){let d=function Ox(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),f=!0;const m=[c];for(;d;){let _;if(ta(c))_=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Dn(903,!1);_=d.\u0275dir}if(_){if(f){m.push(_);const O=c;O.inputs=Lb(c.inputs),O.inputTransforms=Lb(c.inputTransforms),O.declaredInputs=Lb(c.declaredInputs),O.outputs=Lb(c.outputs);const R=_.hostBindings;R&&kh(c,R);const B=_.viewQuery,X=_.contentQueries;if(B&&Ax(c,B),X&&Fb(c,X),iL(c,_),Mn(c.outputs,_.outputs),ta(_)&&_.data.animation){const tt=c.data;tt.animation=(tt.animation||[]).concat(_.data.animation)}}const M=_.features;if(M)for(let O=0;O<M.length;O++){const R=M[O];R&&R.ngInherit&&R(c),R===Tx&&(f=!1)}}d=Object.getPrototypeOf(d)}!function rL(c){let d=0,f=null;for(let m=c.length-1;m>=0;m--){const _=c[m];_.hostVars=d+=_.hostVars,_.hostAttrs=Kl(_.hostAttrs,f=Kl(f,_.hostAttrs))}}(m)}function iL(c,d){for(const f in d.inputs){if(!d.inputs.hasOwnProperty(f)||c.inputs.hasOwnProperty(f))continue;const m=d.inputs[f];if(void 0!==m&&(c.inputs[f]=m,c.declaredInputs[f]=d.declaredInputs[f],null!==d.inputTransforms)){const _=Array.isArray(m)?m[0]:m;if(!d.inputTransforms.hasOwnProperty(_))continue;c.inputTransforms??={},c.inputTransforms[_]=d.inputTransforms[_]}}}function Lb(c){return c===Xs?{}:c===sr?[]:c}function Ax(c,d){const f=c.viewQuery;c.viewQuery=f?(m,_)=>{d(m,_),f(m,_)}:d}function Fb(c,d){const f=c.contentQueries;c.contentQueries=f?(m,_,M)=>{d(m,_,M),f(m,_,M)}:d}function kh(c,d){const f=c.hostBindings;c.hostBindings=f?(m,_)=>{d(m,_),f(m,_)}:d}function cT(c){const d=f=>{const m=(Array.isArray(c)?c:c()).map(_=>"function"==typeof _?{directive:Mt(_),inputs:Xs,outputs:Xs}:{directive:Mt(_.directive),inputs:Rm(_.inputs),outputs:Rm(_.outputs)});null===f.hostDirectives?(f.findHostDirectiveDefs=uT,f.hostDirectives=m):f.hostDirectives.unshift(...m)};return d.ngInherit=!0,d}function uT(c,d,f){if(null!==c.hostDirectives)for(const m of c.hostDirectives){const _=wo(m.directive);dT(_.declaredInputs,m.inputs),uT(_,d,f),f.set(_,m),d.push(_)}}function Rm(c){if(void 0===c||0===c.length)return Xs;const d={};for(let f=0;f<c.length;f+=2)d[c[f]]=c[f+1];return d}function dT(c,d){for(const f in d)d.hasOwnProperty(f)&&(c[d[f]]=c[f])}function fT(c){const d=c.inputConfig,f={};for(const m in d)if(d.hasOwnProperty(m)){const _=d[m];Array.isArray(_)&&_[3]&&(f[m]=_[3])}c.inputTransforms=f}class Ih{}class pT{}function aL(c,d){return new r0(c,d??null,[])}class r0 extends Ih{constructor(d,f,m,_=!0){super(),this.ngModuleType=d,this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hx(this);const M=Os(d);this._bootstrapComponents=Cl(M.bootstrap),this._r3Injector=$S(d,f,[{provide:Ih,useValue:this},{provide:Zv,useValue:this.componentFactoryResolver},...m],an(d),new Set(["environment"])),_&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class Bb extends pT{constructor(d){super(),this.moduleType=d}create(d){return new r0(this.moduleType,d,[])}}class mT extends Ih{constructor(d){super(),this.componentFactoryResolver=new hx(this),this.instance=null;const f=new Za([...d.providers,{provide:Ih,useValue:this},{provide:Zv,useValue:this.componentFactoryResolver}],d.parent||Pp(),d.debugName,new Set(["environment"]));this.injector=f,d.runEnvironmentInitializers&&f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(d){this.injector.onDestroy(d)}}function ia(c,d,f=null){return new mT({providers:c,parent:d,debugName:f,runEnvironmentInitializers:!0}).injector}function jb(c){return!!Xo(c)&&(Array.isArray(c)||!(c instanceof Map)&&Symbol.iterator in c)}function Xo(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function ku(c,d,f){return c[d]=f}function us(c,d,f){return!Object.is(c[d],f)&&(c[d]=f,!0)}function Rh(c,d,f,m){const _=us(c,d,f);return us(c,d+1,m)||_}function Lm(c,d,f,m,_,M,O,R,B,X){const tt=f+Hn,St=d.firstCreatePass?function hL(c,d,f,m,_,M,O,R,B){const X=d.consts,tt=kf(d,c,4,O||null,R||null);Dw(d,f,tt,nc(X,B)),_E(d,tt);const St=tt.tView=ww(2,tt,m,_,M,d.directiveRegistry,d.pipeRegistry,null,d.schemas,X,null);return null!==d.queries&&(d.queries.template(d,tt),St.queries=d.queries.embeddedTView(tt)),tt}(tt,d,c,m,_,M,O,R,B):d.data[tt];pu(St,!1);const oe=Rx(d,c,St,f);hd()&&Af(d,c,oe,St),ga(oe,c);const pe=gO(oe,c,oe,St);return c[tt]=pe,Lv(c,pe),function e0(c,d,f){return gx(c,d,f)}(pe,St,c),tc(St)&&If(d,c,St),null!=B&&Ew(c,St,X),St}function Vb(c,d,f,m,_,M,O,R){const B=hn(),X=Ai();return Lm(B,X,c,d,f,m,_,nc(X.consts,M),O,R),Vb}let Rx=function Px(c,d,f,m){return fd(!0),d[Bi].createComment("")};function Lh(c,d){if(null!==Bt())throw new Dn(-602,!1)}var Wf=function(c){return c[c.EarlyRead=0]="EarlyRead",c[c.Write=1]="Write",c[c.MixedReadWrite=2]="MixedReadWrite",c[c.Read=3]="Read",c}(Wf||{});let bT=(()=>{class c{constructor(){this.impl=null}execute(){this.impl?.execute()}static#t=this.\u0275prov=Qt({token:c,providedIn:"root",factory:()=>new c})}return c})();class Fm{constructor(){this.ngZone=_i(ji),this.scheduler=_i(zf),this.errorHandler=_i(md,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static#t=this.PHASES=[Wf.EarlyRead,Wf.Write,Wf.MixedReadWrite,Wf.Read];execute(){this.executing=!0;for(const d of Fm.PHASES)for(const f of this.sequences)if(!f.erroredOrDestroyed&&f.hooks[d])try{f.pipelinedValue=this.ngZone.runOutsideAngular(()=>f.hooks[d](f.pipelinedValue))}catch(m){f.erroredOrDestroyed=!0,this.errorHandler?.handleError(m)}this.executing=!1;for(const d of this.sequences)d.afterRun(),d.once&&(this.sequences.delete(d),d.destroy());for(const d of this.deferredRegistrations)this.sequences.add(d);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(d){this.executing?this.deferredRegistrations.add(d):(this.sequences.add(d),this.scheduler.notify(6))}unregister(d){this.executing&&this.sequences.has(d)?(d.erroredOrDestroyed=!0,d.pipelinedValue=void 0,d.once=!0):(this.sequences.delete(d),this.deferredRegistrations.delete(d))}static#e=this.\u0275prov=Qt({token:Fm,providedIn:"root",factory:()=>new Fm})}class Ci{constructor(d,f,m,_){this.impl=d,this.hooks=f,this.once=m,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=_?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Al(c,d){!d?.injector&&Sc();const f=d?.injector??_i(Ei);return Ml(f)?(qo("NgAfterRender"),_T(c,f,d,!1)):l0}function a0(c,d){!d?.injector&&Sc();const f=d?.injector??_i(Ei);return Ml(f)?(qo("NgAfterNextRender"),_T(c,f,d,!0)):l0}function _T(c,d,f,m){const _=d.get(bT);_.impl??=d.get(Fm);const M=f?.phase??Wf.MixedReadWrite,O=!0!==f?.manualCleanup?d.get(pd):null,R=new Ci(_.impl,function fL(c,d){if(c instanceof Function){const f=[void 0,void 0,void 0,void 0];return f[d]=c,f}return[c.earlyRead,c.write,c.mixedReadWrite,c.read]}(c,M),m,O);return _.impl.register(R),R}const l0={destroy(){}};function Qb(c,d,f,m){const _=hn();return us(_,Dc(),d)&&(Ai(),Mu(Co(),_,c,d,f,m)),Qb}function t_(c,d){return c<<17|d<<2}function Iu(c){return c>>17&32767}function e_(c){return 2|c}function Jf(c){return(131068&c)>>2}function Xm(c,d){return-131069&c|d<<2}function n_(c){return 1|c}function BT(c,d,f,m){const _=c[f+1],M=null===d;let O=m?Iu(_):Jf(_),R=!1;for(;0!==O&&(!1===R||M);){const X=c[O+1];jT(c[O],d)&&(R=!0,c[O+1]=m?n_(X):e_(X)),O=m?Iu(X):Jf(X)}R&&(c[f+1]=m?e_(_):n_(_))}function jT(c,d){return null===c||null==d||(Array.isArray(c)?c[1]:c)===d||!(!Array.isArray(c)||"string"!=typeof d)&&bl(c,d)>=0}const hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function i_(c){return c.substring(hs.key,hs.keyEnd)}function VT(c,d){const f=hs.textEnd;return f===d?-1:(d=hs.keyEnd=function kL(c,d,f){for(;d<f&&c.charCodeAt(d)>32;)d++;return d}(c,hs.key=d,f),Ym(c,d,f))}function Ym(c,d,f){for(;d<f&&c.charCodeAt(d)<=32;)d++;return d}function o_(c,d,f){const m=hn();return us(m,Dc(),d)&&el(Ai(),Co(),m,c,d,m[Bi],f,!1),o_}function s_(c,d,f,m,_){const O=_?"class":"style";Lw(c,f,d.inputs[O],O,m)}function a_(c,d,f){return Bc(c,d,f,!1),a_}function Zm(c,d){return Bc(c,d,null,!0),Zm}function GT(c){!function ll(c,d,f,m){const _=Ai(),M=mu(2);_.firstUpdatePass&&b0(_,null,M,m);const O=hn();if(f!==tr&&us(O,M,f)){const R=_.data[vs()];if(f_(R,m)&&!y0(_,M)){let B=m?R.classesWithoutHost:R.stylesWithoutHost;null!==B&&(f=wn(B,f||"")),s_(_,R,O,f,m)}else!function HT(c,d,f,m,_,M,O,R){_===tr&&(_=sr);let B=0,X=0,tt=0<_.length?_[0]:null,St=0<M.length?M[0]:null;for(;null!==tt||null!==St;){const oe=B<_.length?_[B+1]:void 0,pe=X<M.length?M[X+1]:void 0;let bn,Fe=null;tt===St?(B+=2,X+=2,oe!==pe&&(Fe=St,bn=pe)):null===St||null!==tt&&tt<St?(B+=2,Fe=tt):(X+=2,Fe=St,bn=pe),null!==Fe&&_0(c,d,f,m,Fe,bn,O,R),tt=B<_.length?_[B]:null,St=X<M.length?M[X]:null}}(_,R,O,O[Bi],O[M+1],O[M+1]=function h_(c,d,f){if(null==f||""===f)return sr;const m=[],_=yd(f);if(Array.isArray(_))for(let M=0;M<_.length;M++)c(m,_[M],!0);else if("object"==typeof _)for(const M in _)_.hasOwnProperty(M)&&c(m,M,_[M]);else"string"==typeof _&&d(m,_);return m}(c,d,f),m,M)}}(Zx,cc,c,!0)}function cc(c,d){for(let f=function Xx(c){return function Yx(c){hs.key=0,hs.keyEnd=0,hs.value=0,hs.valueEnd=0,hs.textEnd=c.length}(c),VT(c,Ym(c,0,hs.textEnd))}(d);f>=0;f=VT(d,f))Ao(c,i_(d),!0)}function Bc(c,d,f,m){const _=hn(),M=Ai(),O=mu(2);M.firstUpdatePass&&b0(M,c,O,m),d!==tr&&us(_,O,d)&&_0(M,M.data[vs()],_,_[Bi],c,_[O+1]=function uc(c,d){return null==c||""===c||("string"==typeof d?c+=d:"object"==typeof c&&(c=an(yd(c)))),c}(d,f),m,O)}function y0(c,d){return d>=c.expandoStartIndex}function b0(c,d,f,m){const _=c.data;if(null===_[f+1]){const M=_[vs()],O=y0(c,f);f_(M,m)&&null===d&&!O&&(d=!1),d=function l_(c,d,f,m){const _=Oy(c);let M=m?d.residualClasses:d.residualStyles;if(null===_)0===(m?d.classBindings:d.styleBindings)&&(f=zh(f=Qm(null,c,d,f,m),d.attrs,m),M=null);else{const O=d.directiveStylingLast;if(-1===O||c[O]!==_)if(f=Qm(_,c,d,f,m),null===M){let B=function c_(c,d,f){const m=f?d.classBindings:d.styleBindings;if(0!==Jf(m))return c[Iu(m)]}(c,d,m);void 0!==B&&Array.isArray(B)&&(B=Qm(null,c,d,B[1],m),B=zh(B,d.attrs,m),function u_(c,d,f,m){c[Iu(f?d.classBindings:d.styleBindings)]=m}(c,d,m,B))}else M=function d_(c,d,f){let m;const _=d.directiveEnd;for(let M=1+d.directiveStylingLast;M<_;M++)m=zh(m,c[M].hostAttrs,f);return zh(m,d.attrs,f)}(c,d,m)}return void 0!==M&&(m?d.residualClasses=M:d.residualStyles=M),f}(_,M,d,m),function OL(c,d,f,m,_,M){let O=M?d.classBindings:d.styleBindings,R=Iu(O),B=Jf(O);c[m]=f;let tt,X=!1;if(Array.isArray(f)?(tt=f[1],(null===tt||bl(f,tt)>0)&&(X=!0)):tt=f,_)if(0!==B){const oe=Iu(c[R+1]);c[m+1]=t_(oe,R),0!==oe&&(c[oe+1]=Xm(c[oe+1],m)),c[R+1]=function Km(c,d){return 131071&c|d<<17}(c[R+1],m)}else c[m+1]=t_(R,0),0!==R&&(c[R+1]=Xm(c[R+1],m)),R=m;else c[m+1]=t_(B,0),0===R?R=m:c[B+1]=Xm(c[B+1],m),B=m;X&&(c[m+1]=e_(c[m+1])),BT(c,tt,m,!0),BT(c,tt,m,!1),function TL(c,d,f,m,_){const M=_?c.residualClasses:c.residualStyles;null!=M&&"string"==typeof d&&bl(M,d)>=0&&(f[m+1]=n_(f[m+1]))}(d,tt,c,m,M),O=t_(R,B),M?d.classBindings=O:d.styleBindings=O}(_,M,d,f,O,m)}}function Qm(c,d,f,m,_){let M=null;const O=f.directiveEnd;let R=f.directiveStylingLast;for(-1===R?R=f.directiveStart:R++;R<O&&(M=d[R],m=zh(m,M.hostAttrs,_),M!==c);)R++;return null!==c&&(f.directiveStylingLast=R),m}function zh(c,d,f){const m=f?1:2;let _=-1;if(null!==d)for(let M=0;M<d.length;M++){const O=d[M];"number"==typeof O?_=O:_===m&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Ao(c,O,!!f||d[++M]))}return void 0===c?null:c}function Zx(c,d,f){const m=String(d);""!==m&&!m.includes(" ")&&Ao(c,m,f)}function _0(c,d,f,m,_,M,O,R){if(!(3&d.type))return;const B=c.data,X=B[R+1],tt=function Vh(c){return!(1&~c)}(X)?kl(B,d,f,_,Jf(X),O):void 0;Ba(tt)||(Ba(M)||function DL(c){return!(2&~c)}(X)&&(M=kl(B,null,f,_,R,O)),function yw(c,d,f,m,_){if(d)_?c.addClass(f,m):c.removeClass(f,m);else{let M=-1===m.indexOf("-")?void 0:lb.DashCase;null==_?c.removeStyle(f,m,M):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),M|=lb.Important),c.setStyle(f,m,_,M))}}(m,O,Gp(vs(),f),_,M))}function kl(c,d,f,m,_,M){const O=null===d;let R;for(;_>0;){const B=c[_],X=Array.isArray(B),tt=X?B[1]:B,St=null===tt;let oe=f[_+1];oe===tr&&(oe=St?sr:void 0);let pe=St?au(oe,m):tt===m?oe:void 0;if(X&&!Ba(pe)&&(pe=au(B,m)),Ba(pe)&&(R=pe,O))return R;const Fe=c[_+1];_=O?Iu(Fe):Jf(Fe)}if(null!==d){let B=M?d.residualClasses:d.residualStyles;null!=B&&(R=au(B,m))}return R}function Ba(c){return void 0!==c}function f_(c,d){return!!(c.flags&(d?8:16))}class zL{destroy(d){}updateValue(d,f){}swap(d,f){const m=Math.min(d,f),_=Math.max(d,f),M=this.detach(_);if(_-m>1){const O=this.detach(m);this.attach(m,M),this.attach(_,O)}else this.attach(m,M)}move(d,f){this.attach(f,this.detach(d))}}function E0(c,d,f,m,_){return c===f&&Object.is(d,m)?1:Object.is(_(c,d),_(f,m))?-1:0}function m_(c,d,f,m){return!(void 0===d||!d.has(m)||(c.attach(f,d.get(m)),d.delete(m),0))}function g_(c,d,f,m,_){if(m_(c,d,m,f(m,_)))c.updateValue(m,_);else{const M=c.create(m,_);c.attach(m,M)}}function w0(c,d,f,m){const _=new Set;for(let M=d;M<=f;M++)_.add(m(M,c.at(M)));return _}class Qx{constructor(){this.kvMap=new Map,this._vMap=void 0}has(d){return this.kvMap.has(d)}delete(d){if(!this.has(d))return!1;const f=this.kvMap.get(d);return void 0!==this._vMap&&this._vMap.has(f)?(this.kvMap.set(d,this._vMap.get(f)),this._vMap.delete(f)):this.kvMap.delete(d),!0}get(d){return this.kvMap.get(d)}set(d,f){if(this.kvMap.has(d)){let m=this.kvMap.get(d);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(m);)m=_.get(m);_.set(m,f)}else this.kvMap.set(d,f)}forEach(d){for(let[f,m]of this.kvMap)if(d(m,f),void 0!==this._vMap){const _=this._vMap;for(;_.has(m);)m=_.get(m),d(m,f)}}}function KT(c,d){qo("NgControlFlow");const f=hn(),m=Dc(),_=f[m]!==tr?f[m]:-1,M=-1!==_?v_(f,Hn+_):void 0;if(us(f,m,c)){const R=et(null);try{if(void 0!==M&&mb(M,0),-1!==c){const B=Hn+c,X=v_(f,B),tt=y_(f[yn],B),St=Th(X,tt.tView.ssrId);Pf(X,_d(f,tt,d,{dehydratedView:St}),0,Sl(tt,St))}}finally{et(R)}}else if(void 0!==M){const R=Mh(M,0);void 0!==R&&(R[yr]=d)}}class GL{constructor(d,f,m){this.lContainer=d,this.$implicit=f,this.$index=m}get $count(){return this.lContainer.length-Zo}}function XT(c){return c}function YT(c,d){return d}class HL{constructor(d,f,m){this.hasEmptyBlock=d,this.trackByFn=f,this.liveCollection=m}}function ZT(c,d,f,m,_,M,O,R,B,X,tt,St,oe){qo("NgControlFlow");const pe=hn(),Fe=Ai(),bn=void 0!==B,jn=hn(),Gn=R?O.bind(jn[Ir][yr]):O,mn=new HL(bn,Gn);jn[Hn+c]=mn,Lm(pe,Fe,c+1,d,f,m,_,nc(Fe.consts,M)),bn&&Lm(pe,Fe,c+2,B,X,tt,St,nc(Fe.consts,oe))}class QT extends zL{constructor(d,f,m){super(),this.lContainer=d,this.hostLView=f,this.templateTNode=m,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Zo}at(d){return this.getLView(d)[yr].$implicit}attach(d,f){const m=f[Wo];this.needsIndexUpdate||=d!==this.length,Pf(this.lContainer,f,d,Sl(this.templateTNode,m))}detach(d){return this.needsIndexUpdate||=d!==this.length-1,function JT(c,d){return pm(c,d)}(this.lContainer,d)}create(d,f){const m=Th(this.lContainer,this.templateTNode.tView.ssrId),_=_d(this.hostLView,this.templateTNode,new GL(this.lContainer,f,d),{dehydratedView:m});return this.operationsCounter?.recordCreate(),_}destroy(d){Ov(d[yn],d),this.operationsCounter?.recordDestroy()}updateValue(d,f){this.getLView(d)[yr].$implicit=f}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let d=0;d<this.length;d++)this.getLView(d)[yr].$index=d}getLView(d){return function $L(c,d){return Mh(c,d)}(this.lContainer,d)}}function qT(c){const d=et(null),f=vs();try{const m=hn(),_=m[yn],M=m[f],O=f+1,R=v_(m,O);if(void 0===M.liveCollection){const X=y_(_,O);M.liveCollection=new QT(R,m,X)}else M.liveCollection.reset();const B=M.liveCollection;if(function UL(c,d,f){let m,_,M=0,O=c.length-1;if(Array.isArray(d)){let B=d.length-1;for(;M<=O&&M<=B;){const X=c.at(M),tt=d[M],St=E0(M,X,M,tt,f);if(0!==St){St<0&&c.updateValue(M,tt),M++;continue}const oe=c.at(O),pe=d[B],Fe=E0(O,oe,B,pe,f);if(0!==Fe){Fe<0&&c.updateValue(O,pe),O--,B--;continue}const bn=f(M,X),jn=f(O,oe),Gn=f(M,tt);if(Object.is(Gn,jn)){const mn=f(B,pe);Object.is(mn,bn)?(c.swap(M,O),c.updateValue(O,pe),B--,O--):c.move(O,M),c.updateValue(M,tt),M++}else if(m??=new Qx,_??=w0(c,M,O,f),m_(c,m,M,Gn))c.updateValue(M,tt),M++,O++;else if(_.has(Gn))m.set(bn,c.detach(M)),O--;else{const mn=c.create(M,d[M]);c.attach(M,mn),M++,O++}}for(;M<=B;)g_(c,m,f,M,d[M]),M++}else if(null!=d){const B=d[Symbol.iterator]();let X=B.next();for(;!X.done&&M<=O;){const tt=c.at(M),St=X.value,oe=E0(M,tt,M,St,f);if(0!==oe)oe<0&&c.updateValue(M,St),M++,X=B.next();else{m??=new Qx,_??=w0(c,M,O,f);const pe=f(M,St);if(m_(c,m,M,pe))c.updateValue(M,St),M++,O++,X=B.next();else if(_.has(pe)){const Fe=f(M,tt);m.set(Fe,c.detach(M)),O--}else c.attach(M,c.create(M,St)),M++,O++,X=B.next()}}for(;!X.done;)g_(c,m,f,c.length,X.value),X=B.next()}for(;M<=O;)c.destroy(c.detach(O--));m?.forEach(B=>{c.destroy(B)})}(B,c,M.trackByFn),B.updateIndexes(),M.hasEmptyBlock){const X=Dc(),tt=0===B.length;if(us(m,X,tt)){const St=f+2,oe=v_(m,St);if(tt){const pe=y_(_,St),Fe=Th(oe,pe.tView.ssrId);Pf(oe,_d(m,pe,void 0,{dehydratedView:Fe}),0,Sl(pe,Fe))}else mb(oe,0)}}}finally{et(d)}}function v_(c,d){return c[d]}function y_(c,d){return Jg(c,d)}function b_(c,d,f,m){const _=hn(),M=Ai(),O=Hn+c,R=_[Bi],B=M.firstCreatePass?function WL(c,d,f,m,_,M){const O=d.consts,B=kf(d,c,2,m,nc(O,_));return Dw(d,f,B,nc(O,M)),null!==B.attrs&&Om(B,B.attrs,!1),null!==B.mergedAttrs&&Om(B,B.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,B),B}(O,M,_,d,f,m):M.data[O],X=tA(M,_,B,R,d,c);_[O]=X;const tt=tc(B);return pu(B,!0),oO(R,X,B),!function Nm(c){return!(32&~c.flags)}(B)&&hd()&&Af(M,_,X,B),0===function vS(){return $i.lFrame.elementDepthCount}()&&ga(X,_),function NP(){$i.lFrame.elementDepthCount++}(),tt&&(If(M,_,B),Iv(M,B,_)),null!==m&&Ew(_,B),b_}function Jm(){let c=co();ES()?wS():(c=c.parent,pu(c,!1));const d=c;(function oU(c){return $i.skipHydrationRootTNode===c})(d)&&function jP(){$i.skipHydrationRootTNode=null}(),function LP(){$i.lFrame.elementDepthCount--}();const f=Ai();return f.firstCreatePass&&(_E(f,c),Qo(c)&&f.queries.elementEnd(c)),null!=d.classesWithoutHost&&function IS(c){return!!(8&c.flags)}(d)&&s_(f,d,hn(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function cU(c){return!!(16&c.flags)}(d)&&s_(f,d,hn(),d.stylesWithoutHost,!1),Jm}function qx(c,d,f,m){return b_(c,d,f,m),Jm(),qx}let tA=(c,d,f,m,_,M)=>(fd(!0),cb(m,_,function AS(){return $i.lFrame.currentNamespace}()));function x0(c,d,f){const m=hn(),_=Ai(),M=c+Hn,O=_.firstCreatePass?function iA(c,d,f,m,_){const M=d.consts,O=nc(M,m),R=kf(d,c,8,"ng-container",O);return null!==O&&Om(R,O,!0),Dw(d,f,R,nc(M,_)),null!==d.queries&&d.queries.elementStart(d,R),R}(M,_,m,d,f):_.data[M];pu(O,!0);const R=rA(_,m,O,c);return m[M]=R,hd()&&Af(_,m,R,O),ga(R,m),tc(O)&&(If(_,m,O),Iv(_,O,m)),null!=f&&Ew(m,O),x0}function tg(){let c=co();const d=Ai();return ES()?wS():(c=c.parent,pu(c,!1)),d.firstCreatePass&&(_E(d,c),Qo(c)&&d.queries.elementEnd(c)),tg}function __(c,d,f){return x0(c,d,f),tg(),__}let rA=(c,d,f,m)=>(fd(!0),Kt(d[Bi],""));function oA(){return hn()}function Jx(c,d,f){const m=hn();return us(m,Dc(),d)&&el(Ai(),Co(),m,c,d,m[Bi],f,!0),Jx}function t2(c,d,f){const m=hn();if(us(m,Dc(),d)){const M=Ai(),O=Co();el(M,O,m,c,d,Nw(Oy(M.data),O,m),f,!0)}return t2}const tp=void 0;var Fo=["en",[["a","p"],["AM","PM"],tp],[["AM","PM"],tp,tp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tp,"{1} 'at' {0}",tp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function XL(c){const f=Math.floor(Math.abs(c)),m=c.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===m?1:5}];let Ps={};function ho(c){const d=function Kr(c){return c.toLowerCase().replace(/_/g,"-")}(c);let f=bs(d);if(f)return f;const m=d.split("-")[0];if(f=bs(m),f)return f;if("en"===m)return Fo;throw new Dn(701,!1)}function ep(c){return ho(c)[Il.PluralCase]}function bs(c){return c in Ps||(Ps[c]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[c]),Ps[c]}var Il=function(c){return c[c.LocaleId=0]="LocaleId",c[c.DayPeriodsFormat=1]="DayPeriodsFormat",c[c.DayPeriodsStandalone=2]="DayPeriodsStandalone",c[c.DaysFormat=3]="DaysFormat",c[c.DaysStandalone=4]="DaysStandalone",c[c.MonthsFormat=5]="MonthsFormat",c[c.MonthsStandalone=6]="MonthsStandalone",c[c.Eras=7]="Eras",c[c.FirstDayOfWeek=8]="FirstDayOfWeek",c[c.WeekendRange=9]="WeekendRange",c[c.DateFormat=10]="DateFormat",c[c.TimeFormat=11]="TimeFormat",c[c.DateTimeFormat=12]="DateTimeFormat",c[c.NumberSymbols=13]="NumberSymbols",c[c.NumberFormats=14]="NumberFormats",c[c.CurrencyCode=15]="CurrencyCode",c[c.CurrencySymbol=16]="CurrencySymbol",c[c.CurrencyName=17]="CurrencyName",c[c.Currencies=18]="Currencies",c[c.Directionality=19]="Directionality",c[c.PluralCase=20]="PluralCase",c[c.ExtraData=21]="ExtraData",c}(Il||{});const ts="en-US";let Ru=ts,c2=(c,d,f)=>{};function d2(c,d,f,m){const _=hn(),M=Ai(),O=co();return f2(M,_,_[Bi],O,c,d,m),d2}function h2(c,d){const f=co(),m=hn(),_=Ai();return f2(_,m,Nw(Oy(_.data),f,m),f,c,d),h2}function f2(c,d,f,m,_,M,O){const R=tc(m),X=c.firstCreatePass&&Fv(c),tt=d[yr],St=Pw(d);let oe=!0;if(3&m.type||O){const bn=xo(m,d),jn=O?O(bn):bn,Gn=St.length,mn=O?_r=>O(Lr(_r[m.index])):m.index;let Yi=null;if(!O&&R&&(Yi=function vF(c,d,f,m){const _=c.cleanup;if(null!=_)for(let M=0;M<_.length-1;M+=2){const O=_[M];if(O===f&&_[M+1]===m){const R=d[Fs],B=_[M+2];return R.length>B?R[B]:null}"string"==typeof O&&(M+=2)}return null}(c,d,_,m.index)),null!==Yi)(Yi.__ngLastListenerFn__||Yi).__ngNextListenerFn__=M,Yi.__ngLastListenerFn__=M,oe=!1;else{M=EA(m,d,tt,M),c2(bn,_,M);const _r=f.listen(jn,_,M);St.push(M,_r),X&&X.push(_,mn,Gn,Gn+1)}}else M=EA(m,d,tt,M);const pe=m.outputs;let Fe;if(oe&&null!==pe&&(Fe=pe[_])){const bn=Fe.length;if(bn)for(let jn=0;jn<bn;jn+=2){const oo=d[Fe[jn]][Fe[jn+1]].subscribe(M),ps=St.length;St.push(M,oo),X&&X.push(_,m.index,ps,-(ps+1))}}}function _A(c,d,f,m){const _=et(null);try{return cd(6,d,f),!1!==f(m)}catch(M){return Rf(c,M),!1}finally{cd(7,d,f),et(_)}}function EA(c,d,f,m){return function _(M){if(M===Function)return m;wm(c.componentOffset>-1?Ja(c.index,d):d,5);let R=_A(d,f,m,M),B=_.__ngNextListenerFn__;for(;B;)R=_A(d,f,B,M)&&R,B=B.__ngNextListenerFn__;return R}}function eg(c=1){return function bE(c){return($i.lFrame.contextLView=function pE(c,d){for(;c>0;)d=d[ad],c--;return d}(c,$i.lFrame.contextLView))[yr]}(c)}function sp(c,d){let f=null;const m=function fe(c){const d=c.attrs;if(null!=d){const f=d.indexOf(5);if(!(1&f))return d[f+1]}return null}(c);for(let _=0;_<d.length;_++){const M=d[_];if("*"!==M){if(null===m?mt(c,M,!0):lo(m,M))return _}else f=_}return f}function wA(c){const d=hn()[Ir][zr];if(!d.projection){const m=d.projection=function Cc(c,d){const f=[];for(let m=0;m<c;m++)f.push(d);return f}(c?c.length:1,null),_=m.slice();let M=d.child;for(;null!==M;){if(128!==M.type){const O=c?sp(M,c):0;null!==O&&(_[O]?_[O].projectionNext=M:m[O]=M,_[O]=M)}M=M.next}}}function xA(c,d=0,f,m,_,M){const O=hn(),R=Ai(),B=m?c+1:null;null!==B&&Lm(O,R,B,m,_,M,null,f);const X=kf(R,Hn+c,16,null,f||null);null===X.projection&&(X.projection=d),wS();const St=!O[Wo]||$p();null===O[Ir][zr].projection[X.projection]&&null!==B?function p2(c,d,f){const m=Hn+f,_=d.data[m],M=c[m],O=Th(M,_.tView.ssrId);Pf(M,_d(c,_,void 0,{dehydratedView:O}),0,Sl(_,O))}(O,R,B):St&&32&~X.flags&&function nO(c,d,f){vw(d[Bi],0,d,f,pw(c,f,d),Tv(f.parent||d[zr],f,d))}(R,O,X)}function Od(c,d,f,m){Ib(c,d,f,m)}function bo(c,d,f){XO(c,d,f)}function O0(c){const d=hn(),f=Ai(),m=iv();Ty(m+1);const _=Lo(f,m);if(c.dirty&&function PP(c){return!(4&~c[wi])}(d)===!(2&~_.metadata.flags)){if(null===_.matches)c.reset([]);else{const M=Gf(d,m);c.reset(M,sD),c.notifyOnChanges()}return!0}return!1}function Lu(){return kb(hn(),iv())}function D_(c,d,f,m,_){Rb(d,Ib(c,f,m,_))}function T0(c,d,f,m){Rb(c,XO(d,f,m))}function DA(c=1){Ty(iv()+c)}function Td(c,d,f,m){f>=c.data.length&&(c.data[f]=null,c.blueprint[f]=null),d[f]=m}function ng(c){return lh(Sy(),Hn+c)}function PA(c,d=""){const f=hn(),m=Ai(),_=c+Hn,M=m.firstCreatePass?kf(m,_,1,d,null):m.data[_],O=NA(m,f,M,d,c);f[_]=O,hd()&&Af(m,f,O,M),pu(M,!1)}let NA=(c,d,f,m,_)=>(fd(!0),function ir(c,d){return c.createText(d)}(d[Bi],m));function _2(c){return T_("",c,""),_2}function T_(c,d,f){const m=hn(),_=function Zf(c,d,f,m){return us(c,Dc(),f)?d+Ft(f)+m:tr}(m,c,d,f);return _!==tr&&function bd(c,d,f){const m=Gp(d,c);!function fm(c,d,f){c.setValue(d,f)}(c[Bi],m,f)}(m,vs(),_),T_}function zc(c,d,f){qO(d)&&(d=d());const m=hn();return us(m,Dc(),d)&&el(Ai(),Co(),m,c,d,m[Bi],f,!1),zc}function Kh(c,d){const f=qO(c);return f&&c.set(d),f}function Rd(c,d){const f=hn(),m=Ai(),_=co();return f2(m,f,f[Bi],_,c,d),Rd}const FA={};function A_(c){const d=Ai(),f=hn(),m=c+Hn;return pu(kf(d,m,128,null,null),!1),Td(d,f,m,FA),A_}function k_(c){return qo("NgLet"),Td(Ai(),hn(),vs(),c),c}function I_(c){const f=lh(Sy(),Hn+c);if(f===FA)throw new Dn(314,!1);return f}function S2(c,d,f,m,_){if(c=Mt(c),Array.isArray(c))for(let M=0;M<c.length;M++)S2(c[M],d,f,m,_);else{const M=Ai(),O=hn(),R=co();let B=Zl(c)?c:Mt(c.provide);const X=od(c),tt=1048575&R.providerIndexes,St=R.directiveStart,oe=R.providerIndexes>>20;if(Zl(c)||!c.multi){const pe=new rv(X,_,ym),Fe=D2(B,d,_?tt:tt+oe,St);-1===Fe?(OE(sv(R,O),M,B),ja(M,c,d.length),d.push(B),R.directiveStart++,R.directiveEnd++,_&&(R.providerIndexes+=1048576),f.push(pe),O.push(pe)):(f[Fe]=pe,O[Fe]=pe)}else{const pe=D2(B,d,tt+oe,St),Fe=D2(B,d,tt,tt+oe),jn=Fe>=0&&f[Fe];if(_&&!jn||!_&&!(pe>=0&&f[pe])){OE(sv(R,O),M,B);const Gn=function O2(c,d,f,m,_){const M=new rv(c,f,ym);return M.multi=[],M.index=d,M.componentProviders=0,k0(M,_,m&&!f),M}(_?Hr:EF,f.length,_,m,X);!_&&jn&&(f[Fe].providerFactory=Gn),ja(M,c,d.length,0),d.push(B),R.directiveStart++,R.directiveEnd++,_&&(R.providerIndexes+=1048576),f.push(Gn),O.push(Gn)}else ja(M,c,pe>-1?pe:Fe,k0(f[_?Fe:pe],X,!_&&m));!_&&m&&jn&&f[Fe].componentProviders++}}}function ja(c,d,f,m){const _=Zl(d),M=function by(c){return!!c.useClass}(d);if(_||M){const B=(M?Mt(d.useClass):d).prototype.ngOnDestroy;if(B){const X=c.destroyHooks||(c.destroyHooks=[]);if(!_&&d.multi){const tt=X.indexOf(f);-1===tt?X.push(f,[m,B]):X[tt+1].push(m,B)}else X.push(f,B)}}}function k0(c,d,f){return f&&c.componentProviders++,c.multi.push(d)-1}function D2(c,d,f,m){for(let _=f;_<m;_++)if(d[_]===c)return _;return-1}function EF(c,d,f,m){return I0(this.multi,[])}function Hr(c,d,f,m){const _=this.multi;let M;if(this.providerFactory){const O=this.providerFactory.componentProviders,R=_f(f,f[yn],this.providerFactory.index,m);M=R.slice(0,O),I0(_,M);for(let B=O;B<R.length;B++)M.push(R[B])}else M=[],I0(_,M);return M}function I0(c,d){for(let f=0;f<c.length;f++)d.push((0,c[f])());return d}function Pl(c,d=[]){return f=>{f.providersResolver=(m,_)=>function R_(c,d,f){const m=Ai();if(m.firstCreatePass){const _=ta(c);S2(f,m.data,m.blueprint,_,!0),S2(d,m.data,m.blueprint,_,!1)}}(m,_?_(c):c,d)}}let wF=(()=>{class c{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f)){const m=kp(0,f.type),_=m.length>0?ia([m],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f,_)}return this.cachedInjectors.get(f)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}static#t=this.\u0275prov=Qt({token:c,providedIn:"environment",factory:()=>new c(Ar(Ts))})}return c})();function T2(c){qo("NgStandalone"),c.getStandaloneInjector=d=>d.get(wF).getOrCreateStandaloneInjector(c)}function A2(c,d,f,m){return UA(hn(),Ia(),c,d,f,m)}function og(c,d,f,m,_,M,O){return function HA(c,d,f,m,_,M,O,R,B){const X=d+f;return function lc(c,d,f,m,_,M){const O=Rh(c,d,f,m);return Rh(c,d+2,_,M)||O}(c,X,_,M,O,R)?ku(c,X+4,B?m.call(B,_,M,O,R):m(_,M,O,R)):sg(c,X+4)}(hn(),Ia(),c,d,f,m,_,M,O)}function sg(c,d){const f=c[d];return f===tr?void 0:f}function UA(c,d,f,m,_,M){const O=d+f;return us(c,O,_)?ku(c,O+1,M?m.call(M,_):m(_)):sg(c,O+1)}function P2(c,d){const f=Ai();let m;const _=c+Hn;f.firstCreatePass?(m=function DF(c,d){if(d)for(let f=d.length-1;f>=0;f--){const m=d[f];if(c===m.name)return m}}(d,f.pipeRegistry),f.data[_]=m,m.onDestroy&&(f.destroyHooks??=[]).push(_,m.onDestroy)):m=f.data[_];const M=m.factory||(m.factory=os(m.type)),R=Zr(ym);try{const B=ME(!1),X=M();return ME(B),Td(f,hn(),_,X),X}finally{Zr(R)}}function P_(c,d,f){const m=c+Hn,_=hn(),M=lh(_,m);return function lg(c,d){return c[yn].data[d].pure}(_,m)?UA(_,Ia(),d,M.transform,f,M):M.transform(f)}function P0(c,d){return yb(c,d)}class j_{constructor(d){this.full=d;const f=d.split(".");this.major=f[0],this.minor=f[1],this.patch=f.slice(2).join(".")}}let L0=(()=>{class c{log(f){console.log(f)}warn(f){console.warn(f)}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();const xk=new ti(""),Ck=new ti("");let W2,e4=(()=>{class c{constructor(f,m,_){this._ngZone=f,this.registry=m,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,W2||(function n4(c){W2=c}(_),_.addToWindow(m)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ji.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb()}});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(f)||(clearTimeout(m.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,m,_){let M=-1;m&&m>0&&(M=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==M),f()},m)),this._callbacks.push({doneCb:f,timeoutId:M,updateCb:_})}whenStable(f,m,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,m,_),this._runCallbacksIfReady()}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,m,_){return[]}static#t=this.\u0275fac=function(m){return new(m||c)(Ar(ji),Ar(Qh),Ar(Ck))};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac})}return c})(),Qh=(()=>{class c{constructor(){this._applications=new Map}registerApplication(f,m){this._applications.set(f,m)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,m=!0){return W2?.findTestabilityInTree(this,f,m)??null}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"platform"})}return c})();function K2(c){return!!c&&"function"==typeof c.then}function X2(c){return!!c&&"function"==typeof c.subscribe}const Mk=new ti("");let Sk=(()=>{class c{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m}),this.appInits=_i(Mk,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const _ of this.appInits){const M=_();if(K2(M))f.push(M);else if(X2(M)){const O=new Promise((R,B)=>{M.subscribe({complete:R,error:B})});f.push(O)}}const m=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{m()}).catch(_=>{this.reject(_)}),0===f.length&&m(),this.initialized=!0}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const H_=new ti("");let Fu=(()=>{class c{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=_i(nD),this.afterRenderManager=_i(bT),this.zonelessEnabled=_i(Yv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ii.B,this.afterTick=new ii.B,this.componentTypes=[],this.components=[],this.isStable=_i(Ef).hasPendingTasks.pipe((0,ki.T)(f=>!f)),this._injector=_i(Ts)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let f;return new Promise(m=>{f=this.isStable.subscribe({next:_=>{_&&m()}})}).finally(()=>{f.unsubscribe()})}get injector(){return this._injector}bootstrap(f,m){const _=f instanceof Db;if(!this._injector.get(Sk).done)throw!_&&Xl(f),new Dn(405,!1);let O;O=_?f:this._injector.get(Zv).resolveComponentFactory(f),this.componentTypes.push(O.componentType);const R=function Z2(c){return c.isBoundToModule}(O)?void 0:this._injector.get(Ih),X=O.create(Ei.NULL,[],m||O.selector,R),tt=X.location.nativeElement,St=X.injector.get(xk,null);return St?.registerApplication(tt),X.onDestroy(()=>{this.detachView(X.hostView),F0(this.components,X),St?.unregisterApplication(tt)}),this._loadComponent(X),X}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Dn(101,!1);const f=et(null);try{this._runningTick=!0,this.synchronize()}catch(m){this.internalErrorHandler(m)}finally{this._runningTick=!1,et(f),this.afterTick.next()}}synchronize(){let f=null;this._injector.destroyed||(f=this._injector.get(cx,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let m=0;for(;0!==this.dirtyFlags&&m++<10;)this.synchronizeOnce(f)}synchronizeOnce(f){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:_,notifyErrorHandler:M}of this._views)Dk(_,M,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else f?.begin?.(),f?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:f})=>ch(f))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(f){const m=f;this._views.push(m),m.attachToAppRef(this)}detachView(f){const m=f;F0(this._views,m),m.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const m=this._injector.get(H_,[]);[...this._bootstrapListeners,...m].forEach(_=>_(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>F0(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new Dn(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function F0(c,d){const f=c.indexOf(d);f>-1&&c.splice(f,1)}function Dk(c,d,f,m){(f||ch(c))&&vb(c,d,f&&!m?0:1)}class W_{constructor(d,f){this.ngModuleFactory=d,this.componentFactories=f}}let Ok=(()=>{class c{compileModuleSync(f){return new Bb(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const m=this.compileModuleSync(f),M=Cl(Os(f).declarations).reduce((O,R)=>{const B=er(R);return B&&O.push(new Bs(B)),O},[]);return new W_(m,M)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),l4=(()=>{class c{constructor(){this.zone=_i(ji),this.changeDetectionScheduler=_i(zf),this.applicationRef=_i(Fu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();function j0({ngZoneFactory:c,ignoreChangesOutsideZone:d,scheduleInRootZone:f}){return c??=()=>new ji({...J2(),scheduleInRootZone:f}),[{provide:ji,useFactory:c},{provide:ss,multi:!0,useFactory:()=>{const m=_i(l4,{optional:!0});return()=>m.initialize()}},{provide:ss,multi:!0,useFactory:()=>{const m=_i(c4);return()=>{m.initialize()}}},!0===d?{provide:RO,useValue:!0}:[],{provide:ax,useValue:f??br}]}function J2(c){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:c?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:c?.runCoalescing??!1}}let c4=(()=>{class c{constructor(){this.subscription=new Si.yU,this.initialized=!1,this.zone=_i(ji),this.pendingTasks=_i(Ef)}initialize(){if(this.initialized)return;this.initialized=!0;let f=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(f=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ji.assertNotInAngularZone(),queueMicrotask(()=>{null!==f&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(f),f=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ji.assertInAngularZone(),f??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})(),hg=(()=>{class c{constructor(){this.appRef=_i(Fu),this.taskService=_i(Ef),this.ngZone=_i(ji),this.zonelessEnabled=_i(Yv),this.disableScheduling=_i(RO,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Si.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fy):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_i(ax,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof FE||!this.zoneIsDefined)}notify(f){if(!this.zonelessEnabled&&5===f)return;switch(f){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const m=this.useMicrotaskScheduler?QS:ZS;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>m(()=>this.tick())):this.ngZone.runOutsideAngular(()=>m(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fy+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const f=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(m){throw this.taskService.remove(f),m}finally{this.cleanup()}this.useMicrotaskScheduler=!0,QS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(f)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const f=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(f)}}static#t=this.\u0275fac=function(m){return new(m||c)};static#e=this.\u0275prov=Qt({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();const eC=new ti("",{providedIn:"root",factory:()=>_i(eC,Mi.Optional|Mi.SkipSelf)||function u4(){return typeof $localize<"u"&&$localize.locale||ts}()}),d4=new ti("",{providedIn:"root",factory:()=>"USD"}),K_=new ti("");function X_(c){return!c.moduleRef}let Hc=null;function w4(){return!1}let oC=(()=>{class c{static#t=this.__NG_ELEMENT_ID__=Lk}return c})();function Lk(c){return function z0(c,d,f){if(fa(c)&&!f){const m=Ja(c.index,d);return new jv(m,m)}return 175&c.type?new jv(d[Ir],d):null}(co(),hn(),!(16&~c))}class zk{constructor(){}supports(d){return jb(d)}create(d){return new M4(d)}}const lC=(c,d)=>d;class M4{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||lC}forEachItem(d){let f;for(f=this._itHead;null!==f;f=f._next)d(f)}forEachOperation(d){let f=this._itHead,m=this._removalsHead,_=0,M=null;for(;f||m;){const O=!m||f&&f.currentIndex<U0(m,_,M)?f:m,R=U0(O,_,M),B=O.currentIndex;if(O===m)_--,m=m._nextRemoved;else if(f=f._next,null==O.previousIndex)_++;else{M||(M=[]);const X=R-_,tt=B-_;if(X!=tt){for(let oe=0;oe<X;oe++){const pe=oe<M.length?M[oe]:M[oe]=0,Fe=pe+oe;tt<=Fe&&Fe<X&&(M[oe]=pe+1)}M[O.previousIndex]=tt-X}}R!==B&&d(O,R,B)}}forEachPreviousItem(d){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachMovedItem(d){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}forEachIdentityChange(d){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)d(f)}diff(d){if(null==d&&(d=[]),!jb(d))throw new Dn(900,!1);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let _,M,O,f=this._itHead,m=!1;if(Array.isArray(d)){this.length=d.length;for(let R=0;R<this.length;R++)M=d[R],O=this._trackByFn(R,M),null!==f&&Object.is(f.trackById,O)?(m&&(f=this._verifyReinsertion(f,M,O,R)),Object.is(f.item,M)||this._addIdentityChange(f,M)):(f=this._mismatch(f,M,O,R),m=!0),f=f._next}else _=0,function Ix(c,d){if(Array.isArray(c))for(let f=0;f<c.length;f++)d(c[f]);else{const f=c[Symbol.iterator]();let m;for(;!(m=f.next()).done;)d(m.value)}}(d,R=>{O=this._trackByFn(_,R),null!==f&&Object.is(f.trackById,O)?(m&&(f=this._verifyReinsertion(f,R,O,_)),Object.is(f.item,R)||this._addIdentityChange(f,R)):(f=this._mismatch(f,R,O,_),m=!0),f=f._next,_++}),this.length=_;return this._truncate(f),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,f,m,_){let M;return null===d?M=this._itTail:(M=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._reinsertAfter(d,M,_)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(m,_))?(Object.is(d.item,f)||this._addIdentityChange(d,f),this._moveAfter(d,M,_)):d=this._addAfter(new S4(f,m),M,_),d}_verifyReinsertion(d,f,m,_){let M=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==M?d=this._reinsertAfter(M,d._prev,_):d.currentIndex!=_&&(d.currentIndex=_,this._addToMoves(d,_)),d}_truncate(d){for(;null!==d;){const f=d._next;this._addToRemovals(this._unlink(d)),d=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,f,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const _=d._prevRemoved,M=d._nextRemoved;return null===_?this._removalsHead=M:_._nextRemoved=M,null===M?this._removalsTail=_:M._prevRemoved=_,this._insertAfter(d,f,m),this._addToMoves(d,m),d}_moveAfter(d,f,m){return this._unlink(d),this._insertAfter(d,f,m),this._addToMoves(d,m),d}_addAfter(d,f,m){return this._insertAfter(d,f,m),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,f,m){const _=null===f?this._itHead:f._next;return d._next=_,d._prev=f,null===_?this._itTail=d:_._prev=d,null===f?this._itHead=d:f._next=d,null===this._linkedRecords&&(this._linkedRecords=new Uk),this._linkedRecords.put(d),d.currentIndex=m,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const f=d._prev,m=d._next;return null===f?this._itHead=m:f._next=m,null===m?this._itTail=f:m._prev=f,d}_addToMoves(d,f){return d.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Uk),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,f){return d.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class S4{constructor(d,f){this.item=d,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class t1{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,f){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===f||f<=m.currentIndex)&&Object.is(m.trackById,d))return m;return null}remove(d){const f=d._prevDup,m=d._nextDup;return null===f?this._head=m:f._nextDup=m,null===m?this._tail=f:m._prevDup=f,null===this._head}}class Uk{constructor(){this.map=new Map}put(d){const f=d.trackById;let m=this.map.get(f);m||(m=new t1,this.map.set(f,m)),m.add(d)}get(d,f){const _=this.map.get(d);return _?_.get(d,f):null}remove(d){const f=d.trackById;return this.map.get(f).remove(d)&&this.map.delete(f),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function U0(c,d,f){const m=c.previousIndex;if(null===m)return m;let _=0;return f&&m<f.length&&(_=f[m]),m+d+_}class G0{constructor(){}supports(d){return d instanceof Map||Xo(d)}create(){return new D4}}class D4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let f;for(f=this._mapHead;null!==f;f=f._next)d(f)}forEachPreviousItem(d){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)d(f)}forEachChangedItem(d){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)d(f)}forEachAddedItem(d){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)d(f)}forEachRemovedItem(d){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)d(f)}diff(d){if(d){if(!(d instanceof Map||Xo(d)))throw new Dn(900,!1)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(d,(m,_)=>{if(f&&f.key===_)this._maybeAddToChanges(f,m),this._appendAfter=f,f=f._next;else{const M=this._getOrCreateRecordForKey(_,m);f=this._insertBeforeOrAppend(f,M)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let m=f;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,f){if(d){const m=d._prev;return f._next=d,f._prev=m,d._prev=f,m&&(m._next=f),d===this._mapHead&&(this._mapHead=f),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(d,f){if(this._records.has(d)){const _=this._records.get(d);this._maybeAddToChanges(_,f);const M=_._prev,O=_._next;return M&&(M._next=O),O&&(O._prev=M),_._next=null,_._prev=null,_}const m=new e1(d);return this._records.set(d,m),m.currentValue=f,this._addToAdditions(m),m}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,f){Object.is(f,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=f,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,f){d instanceof Map?d.forEach(f):Object.keys(d).forEach(m=>f(d[m],m))}}class e1{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gk(){return new n1([new zk])}let n1=(()=>{class c{static#t=this.\u0275prov=Qt({token:c,providedIn:"root",factory:Gk});constructor(f){this.factories=f}static create(f,m){if(null!=m){const _=m.factories.slice();f=f.concat(_)}return new c(f)}static extend(f){return{provide:c,useFactory:m=>c.create(f,m||Gk()),deps:[[c,new Ul,new gl]]}}find(f){const m=this.factories.find(_=>_.supports(f));if(null!=m)return m;throw new Dn(901,!1)}}return c})();function cC(){return new r1([new G0])}let r1=(()=>{class c{static#t=this.\u0275prov=Qt({token:c,providedIn:"root",factory:cC});constructor(f){this.factories=f}static create(f,m){if(m){const _=m.factories.slice();f=f.concat(_)}return new c(f)}static extend(f){return{provide:c,useFactory:m=>c.create(f,m||cC()),deps:[[c,new Ul,new gl]]}}find(f){const m=this.factories.find(_=>_.supports(f));if(m)return m;throw new Dn(901,!1)}}return c})();function z4(c){try{const{rootComponent:d,appProviders:f,platformProviders:m}=c,_=function b4(c=[]){if(Hc)return Hc;const d=function iC(c=[],d){return Ei.create({name:d,providers:[{provide:mf,useValue:"platform"},{provide:K_,useValue:new Set([()=>Hc=null])},...c]})}(c);return Hc=d,function Y2(){!function Ot(c){Ae=c}(()=>{throw new Dn(600,!1)})}(),function rC(c){c.get(Gy,null)?.forEach(f=>f())}(d),d}(m),M=[j0({}),{provide:zf,useExisting:hg},...f||[]];return function Rk(c){const d=X_(c)?c.r3Injector:c.moduleRef.injector,f=d.get(ji);return f.run(()=>{X_(c)?c.r3Injector.resolveInjectorInitializers():c.moduleRef.resolveInjectorInitializers();const m=d.get(md,null);let _;if(f.runOutsideAngular(()=>{_=f.onError.subscribe({next:M=>{m.handleError(M)}})}),X_(c)){const M=()=>d.destroy(),O=c.platformInjector.get(K_);O.add(M),d.onDestroy(()=>{_.unsubscribe(),O.delete(M)})}else{const M=()=>c.moduleRef.destroy(),O=c.platformInjector.get(K_);O.add(M),c.moduleRef.onDestroy(()=>{F0(c.allPlatformModules,c.moduleRef),_.unsubscribe(),O.delete(M)})}return function s4(c,d,f){try{const m=f();return K2(m)?m.catch(_=>{throw d.runOutsideAngular(()=>c.handleError(_)),_}):m}catch(m){throw d.runOutsideAngular(()=>c.handleError(m)),m}}(m,f,()=>{const M=d.get(Sk);return M.runInitializers(),M.donePromise.then(()=>{if(function Pu(c){"string"==typeof c&&(Ru=c.toLowerCase().replace(/_/g,"-"))}(d.get(eC,ts)||ts),X_(c)){const R=d.get(Fu);return void 0!==c.rootComponent&&R.bootstrap(c.rootComponent),R}return function Y_(c,d){const f=c.injector.get(Fu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!c.instance.ngDoBootstrap)throw new Dn(-403,!1);c.instance.ngDoBootstrap(f)}d.push(c)}(c.moduleRef,c.allPlatformModules),c.moduleRef})})})}({r3Injector:new mT({providers:M,parent:_,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:_,rootComponent:d})}catch(d){return Promise.reject(d)}}function i6(c){return"boolean"==typeof c?c:null!=c&&"false"!==c}function r6(c,d=NaN){return isNaN(parseFloat(c))||isNaN(Number(c))?d:Number(c)}function l6(c,d){qo("NgSignals");const f=te(c);return d?.equal&&(f[ut].equal=d.equal),f}function c6(c){const d=et(null);try{return c()}finally{et(d)}}const u6=new ti("",{providedIn:"root",factory:()=>_i(d6)});let d6=(()=>{class c{static#t=this.\u0275prov=Qt({token:c,providedIn:"root",factory:()=>new h6})}return c})();class h6{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=_i(Ef),this.taskId=null}scheduleEffect(d){if(this.enqueue(d),null===this.taskId){const f=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(f),this.taskId=null})}}enqueue(d){const f=d.creationZone;this.queues.has(f)||this.queues.set(f,new Set);const m=this.queues.get(f);m.has(d)||(this.queuedEffectCount++,m.add(d))}flush(){for(;this.queuedEffectCount>0;)for(const[d,f]of this.queues)null===d?this.flushQueue(f):d.run(()=>this.flushQueue(f))}flushQueue(d){for(const f of d)d.delete(f),this.queuedEffectCount--,f.run()}}class f6{constructor(d,f,m,_,M,O){this.scheduler=d,this.effectFn=f,this.creationZone=m,this.injector=M,this.watcher=function Oe(c,d,f){const m=Object.create(Ln);f&&(m.consumerAllowSignalWrites=!0),m.fn=c,m.schedule=d;const _=B=>{m.cleanupFn=B};return m.ref={notify:()=>le(m),run:()=>{if(null===m.fn)return;if(function At(){return g}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(m.dirty=!1,m.hasRun&&!tn(m))return;m.hasRun=!0;const B=ve(m);try{m.cleanupFn(),m.cleanupFn=cn,m.fn(_)}finally{Le(m,B)}},cleanup:()=>m.cleanupFn(),destroy:()=>function O(B){(function M(B){return null===B.fn&&null===B.schedule})(B)||(be(B),B.cleanupFn(),B.fn=null,B.schedule=null,B.cleanupFn=cn)}(m),[ut]:m},m.ref}(R=>this.runEffect(R),()=>this.schedule(),O),this.unregisterOnDestroy=_?.onDestroy(()=>this.destroy())}runEffect(d){try{this.effectFn(d)}catch(f){this.injector.get(md,null,{optional:!0})?.handleError(f)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function pI(c,d){qo("NgSignals"),!d?.injector&&Sc();const f=d?.injector??_i(Ei),m=!0!==d?.manualCleanup?f.get(pd):null,_=new f6(f.get(u6),c,typeof Zone>"u"?null:Zone.current,m,f,d?.allowSignalWrites??!1),M=f.get(oC,null,{optional:!0});return M&&8&M._lView[wi]?(M._lView[Aa]??=[]).push(_.watcher.notify):_.watcher.notify(),_}function p1(c,d){const f=er(c),m=d.elementInjector||Pp();return new Bs(f).create(m,d.projectableNodes,d.hostElement,d.environmentInjector)}},7083:(dn,re,P)=>{"use strict";P.d(re,{br:()=>ft,ot:()=>vt,pQ:()=>ut});var x=P(4291),G=P(3982),g=P(7650),lt=P(3796);function ut(Rt){Rt||((0,x.Af3)(ut),Rt=(0,x.WQX)(x.abz));const yt=new G.c(jt=>Rt.onDestroy(jt.next.bind(jt)));return jt=>jt.pipe((0,lt.Q)(yt))}function ft(Rt,yt){!yt?.injector&&(0,x.Af3)(ft);const jt=yt?.injector??(0,x.WQX)(x.zZn),Ut=new g.m(1),le=(0,x.QZP)(()=>{let ve;try{ve=Rt()}catch(Le){return void(0,x.O8t)(()=>Ut.error(Le))}(0,x.O8t)(()=>Ut.next(ve))},{injector:jt,manualCleanup:!0});return jt.get(x.abz).onDestroy(()=>{le.destroy(),Ut.complete()}),Ut.asObservable()}function vt(Rt,yt){const jt=!yt?.manualCleanup;jt&&!yt?.injector&&(0,x.Af3)(vt);const Ut=jt?yt?.injector?.get(x.abz)??(0,x.WQX)(x.abz):null,le=function Dt(Rt=Object.is){return(yt,jt)=>1===yt.kind&&1===jt.kind&&Rt(yt.value,jt.value)}(yt?.equal);let ve;ve=(0,x.vPA)(yt?.requireSync?{kind:0}:{kind:1,value:yt?.initialValue},{equal:le});const Le=Rt.subscribe({next:tn=>ve.set({kind:1,value:tn}),error:tn=>{if(yt?.rejectErrors)throw tn;ve.set({kind:2,error:tn})}});if(yt?.requireSync&&0===ve().kind)throw new x.wOt(601,!1);return Ut?.onDestroy(Le.unsubscribe.bind(Le)),(0,x.EWP)(()=>{const tn=ve();switch(tn.kind){case 1:return tn.value;case 2:throw tn.error;case 0:throw new x.wOt(601,!1)}},{equal:yt?.equal})}},4007:(dn,re,P)=>{"use strict";P.d(re,{BC:()=>Fi,JD:()=>$a,MJ:()=>Vi,Qk:()=>Zd,X1:()=>id,YN:()=>cu,YS:()=>Ao,cV:()=>Pr,cb:()=>Dn,cz:()=>Le,j4:()=>wc,k0:()=>We,kq:()=>ft,l_:()=>Ec,me:()=>Ut,qT:()=>Mr,tU:()=>ss,vO:()=>ii,vS:()=>$o,xh:()=>Xs,xq:()=>au,ze:()=>uf});var x=P(4291),G=P(9284),g=P(3467),lt=P(745),ut=P(1071),et=P(8199);let Bt=(()=>{class Z{constructor(H,mt){this._renderer=H,this._elementRef=mt,this.onChange=fe=>{},this.onTouched=()=>{}}setProperty(H,mt){this._renderer.setProperty(this._elementRef.nativeElement,H,mt)}registerOnTouched(H){this.onTouched=H}registerOnChange(H){this.onChange=H}setDisabledState(H){this.setProperty("disabled",H)}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(x.sFG),x.rXU(x.aKT))};static#e=this.\u0275dir=x.FsC({type:Z})}return Z})(),At=(()=>{class Z extends Bt{static#t=this.\u0275fac=(()=>{let H;return function(fe){return(H||(H=x.xGo(Z)))(fe||Z)}})();static#e=this.\u0275dir=x.FsC({type:Z,features:[x.Vt3]})}return Z})();const ft=new x.nKC(""),Rt={provide:ft,useExisting:(0,x.Rfq)(()=>Ut),multi:!0},jt=new x.nKC("");let Ut=(()=>{class Z extends Bt{constructor(H,mt,fe){super(H,mt),this._compositionMode=fe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yt(){const Z=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(H){this.setProperty("value",H??"")}_handleInput(H){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(H)}_compositionStart(){this._composing=!0}_compositionEnd(H){this._composing=!1,this._compositionMode&&this.onChange(H)}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(x.sFG),x.rXU(x.aKT),x.rXU(jt,8))};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(mt,fe){1&mt&&x.bIt("input",function(ei){return fe._handleInput(ei.target.value)})("blur",function(){return fe.onTouched()})("compositionstart",function(){return fe._compositionStart()})("compositionend",function(ei){return fe._compositionEnd(ei.target.value)})},features:[x.Jv_([Rt]),x.Vt3]})}return Z})();function le(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function ve(Z){return null!=Z&&"number"==typeof Z.length}const Le=new x.nKC(""),tn=new x.nKC(""),be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class We{static min(q){return function Xt(Z){return q=>{if(le(q.value)||le(Z))return null;const H=parseFloat(q.value);return!isNaN(H)&&H<Z?{min:{min:Z,actual:q.value}}:null}}(q)}static max(q){return function zt(Z){return q=>{if(le(q.value)||le(Z))return null;const H=parseFloat(q.value);return!isNaN(H)&&H>Z?{max:{max:Z,actual:q.value}}:null}}(q)}static required(q){return Tt(q)}static requiredTrue(q){return de(q)}static email(q){return function Te(Z){return le(Z.value)||be.test(Z.value)?null:{email:!0}}(q)}static minLength(q){return te(q)}static maxLength(q){return $t(q)}static pattern(q){return function Wt(Z){if(!Z)return De;let q,H;return"string"==typeof Z?(H="","^"!==Z.charAt(0)&&(H+="^"),H+=Z,"$"!==Z.charAt(Z.length-1)&&(H+="$"),q=new RegExp(H)):(H=Z.toString(),q=Z),mt=>{if(le(mt.value))return null;const fe=mt.value;return q.test(fe)?null:{pattern:{requiredPattern:H,actualValue:fe}}}}(q)}static nullValidator(q){return null}static compose(q){return ht(q)}static composeAsync(q){return it(q)}}function Tt(Z){return le(Z.value)?{required:!0}:null}function de(Z){return!0===Z.value?null:{required:!0}}function te(Z){return q=>le(q.value)||!ve(q.value)?null:q.value.length<Z?{minlength:{requiredLength:Z,actualLength:q.value.length}}:null}function $t(Z){return q=>ve(q.value)&&q.value.length>Z?{maxlength:{requiredLength:Z,actualLength:q.value.length}}:null}function De(Z){return null}function xe(Z){return null!=Z}function he(Z){return(0,x.jNT)(Z)?(0,g.H)(Z):Z}function Ae(Z){let q={};return Z.forEach(H=>{q=null!=H?{...q,...H}:q}),0===Object.keys(q).length?null:q}function qt(Z,q){return q.map(H=>H(Z))}function dt(Z){return Z.map(q=>function Ot(Z){return!Z.validate}(q)?q:H=>q.validate(H))}function ht(Z){if(!Z)return null;const q=Z.filter(xe);return 0==q.length?null:function(H){return Ae(qt(H,q))}}function Et(Z){return null!=Z?ht(dt(Z)):null}function it(Z){if(!Z)return null;const q=Z.filter(xe);return 0==q.length?null:function(H){const mt=qt(H,q).map(he);return(0,lt.p)(mt).pipe((0,et.T)(Ae))}}function Ct(Z){return null!=Z?it(dt(Z)):null}function pt(Z,q){return null===Z?[q]:Array.isArray(Z)?[...Z,q]:[Z,q]}function Vt(Z){return Z._rawValidators}function _e(Z){return Z._rawAsyncValidators}function Ee(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function Oe(Z,q){return Array.isArray(Z)?Z.includes(q):Z===q}function cn(Z,q){const H=Ee(q);return Ee(Z).forEach(fe=>{Oe(H,fe)||H.push(fe)}),H}function Ln(Z,q){return Ee(q).filter(H=>!Oe(Z,H))}class Di{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(q){this._rawValidators=q||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(q){this._rawAsyncValidators=q||[],this._composedAsyncValidatorFn=Ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(q){this._onDestroyCallbacks.push(q)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(q=>q()),this._onDestroyCallbacks=[]}reset(q=void 0){this.control&&this.control.reset(q)}hasError(q,H){return!!this.control&&this.control.hasError(q,H)}getError(q,H){return this.control?this.control.getError(q,H):null}}class Fn extends Di{get formDirective(){return null}get path(){return null}}class ii extends Di{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Si{constructor(q){this._cd=q}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Fi=(()=>{class Z extends Si{constructor(H){super(H)}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(ii,2))};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(mt,fe){2&mt&&x.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)},features:[x.Vt3]})}return Z})(),Dn=(()=>{class Z extends Si{constructor(H){super(H)}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(Fn,10))};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(mt,fe){2&mt&&x.AVh("ng-untouched",fe.isUntouched)("ng-touched",fe.isTouched)("ng-pristine",fe.isPristine)("ng-dirty",fe.isDirty)("ng-valid",fe.isValid)("ng-invalid",fe.isInvalid)("ng-pending",fe.isPending)("ng-submitted",fe.isSubmitted)},features:[x.Vt3]})}return Z})();const Mn="VALID",an="INVALID",wn="PENDING",Ue="DISABLED";class Nn{}class kt extends Nn{constructor(q,H){super(),this.value=q,this.source=H}}class Mt extends Nn{constructor(q,H){super(),this.pristine=q,this.source=H}}class gt extends Nn{constructor(q,H){super(),this.touched=q,this.source=H}}class Lt extends Nn{constructor(q,H){super(),this.status=q,this.source=H}}class Ze extends Nn{constructor(q){super(),this.source=q}}class On extends Nn{constructor(q){super(),this.source=q}}function qn(Z){return(Gt(Z)?Z.validators:Z)||null}function Be(Z,q){return(Gt(q)?q.asyncValidators:Z)||null}function Gt(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Me(Z,q,H){const mt=Z.controls;if(!(q?Object.keys(mt):mt).length)throw new x.wOt(1e3,"");if(!mt[H])throw new x.wOt(1001,"")}function Zt(Z,q,H){Z._forEachChild((mt,fe)=>{if(void 0===H[fe])throw new x.wOt(1002,"")})}class Ht{constructor(q,H){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,x.EWP)(()=>this.statusReactive()),this.statusReactive=(0,x.vPA)(void 0),this._pristine=(0,x.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,x.vPA)(!0),this._touched=(0,x.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,x.vPA)(!1),this._events=new ut.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(q),this._assignAsyncValidators(H)}get validator(){return this._composedValidatorFn}set validator(q){this._rawValidators=this._composedValidatorFn=q}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(q){this._rawAsyncValidators=this._composedAsyncValidatorFn=q}get parent(){return this._parent}get status(){return(0,x.O8t)(this.statusReactive)}set status(q){(0,x.O8t)(()=>this.statusReactive.set(q))}get valid(){return this.status===Mn}get invalid(){return this.status===an}get pending(){return this.status==wn}get disabled(){return this.status===Ue}get enabled(){return this.status!==Ue}get pristine(){return(0,x.O8t)(this.pristineReactive)}set pristine(q){(0,x.O8t)(()=>this.pristineReactive.set(q))}get dirty(){return!this.pristine}get touched(){return(0,x.O8t)(this.touchedReactive)}set touched(q){(0,x.O8t)(()=>this.touchedReactive.set(q))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(q){this._assignValidators(q)}setAsyncValidators(q){this._assignAsyncValidators(q)}addValidators(q){this.setValidators(cn(q,this._rawValidators))}addAsyncValidators(q){this.setAsyncValidators(cn(q,this._rawAsyncValidators))}removeValidators(q){this.setValidators(Ln(q,this._rawValidators))}removeAsyncValidators(q){this.setAsyncValidators(Ln(q,this._rawAsyncValidators))}hasValidator(q){return Oe(this._rawValidators,q)}hasAsyncValidator(q){return Oe(this._rawAsyncValidators,q)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(q={}){const H=!1===this.touched;this.touched=!0;const mt=q.sourceControl??this;this._parent&&!q.onlySelf&&this._parent.markAsTouched({...q,sourceControl:mt}),H&&!1!==q.emitEvent&&this._events.next(new gt(!0,mt))}markAllAsTouched(q={}){this.markAsTouched({onlySelf:!0,emitEvent:q.emitEvent,sourceControl:this}),this._forEachChild(H=>H.markAllAsTouched(q))}markAsUntouched(q={}){const H=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const mt=q.sourceControl??this;this._forEachChild(fe=>{fe.markAsUntouched({onlySelf:!0,emitEvent:q.emitEvent,sourceControl:mt})}),this._parent&&!q.onlySelf&&this._parent._updateTouched(q,mt),H&&!1!==q.emitEvent&&this._events.next(new gt(!1,mt))}markAsDirty(q={}){const H=!0===this.pristine;this.pristine=!1;const mt=q.sourceControl??this;this._parent&&!q.onlySelf&&this._parent.markAsDirty({...q,sourceControl:mt}),H&&!1!==q.emitEvent&&this._events.next(new Mt(!1,mt))}markAsPristine(q={}){const H=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const mt=q.sourceControl??this;this._forEachChild(fe=>{fe.markAsPristine({onlySelf:!0,emitEvent:q.emitEvent})}),this._parent&&!q.onlySelf&&this._parent._updatePristine(q,mt),H&&!1!==q.emitEvent&&this._events.next(new Mt(!0,mt))}markAsPending(q={}){this.status=wn;const H=q.sourceControl??this;!1!==q.emitEvent&&(this._events.next(new Lt(this.status,H)),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.markAsPending({...q,sourceControl:H})}disable(q={}){const H=this._parentMarkedDirty(q.onlySelf);this.status=Ue,this.errors=null,this._forEachChild(fe=>{fe.disable({...q,onlySelf:!0})}),this._updateValue();const mt=q.sourceControl??this;!1!==q.emitEvent&&(this._events.next(new kt(this.value,mt)),this._events.next(new Lt(this.status,mt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...q,skipPristineCheck:H},this),this._onDisabledChange.forEach(fe=>fe(!0))}enable(q={}){const H=this._parentMarkedDirty(q.onlySelf);this.status=Mn,this._forEachChild(mt=>{mt.enable({...q,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent}),this._updateAncestors({...q,skipPristineCheck:H},this),this._onDisabledChange.forEach(mt=>mt(!1))}_updateAncestors(q,H){this._parent&&!q.onlySelf&&(this._parent.updateValueAndValidity(q),q.skipPristineCheck||this._parent._updatePristine({},H),this._parent._updateTouched({},H))}setParent(q){this._parent=q}getRawValue(){return this.value}updateValueAndValidity(q={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const mt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mn||this.status===wn)&&this._runAsyncValidator(mt,q.emitEvent)}const H=q.sourceControl??this;!1!==q.emitEvent&&(this._events.next(new kt(this.value,H)),this._events.next(new Lt(this.status,H)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!q.onlySelf&&this._parent.updateValueAndValidity({...q,sourceControl:H})}_updateTreeValidity(q={emitEvent:!0}){this._forEachChild(H=>H._updateTreeValidity(q)),this.updateValueAndValidity({onlySelf:!0,emitEvent:q.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ue:Mn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(q,H){if(this.asyncValidator){this.status=wn,this._hasOwnPendingAsyncValidator={emitEvent:!1!==H};const mt=he(this.asyncValidator(this));this._asyncValidationSubscription=mt.subscribe(fe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(fe,{emitEvent:H,shouldHaveEmitted:q})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const q=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,q}return!1}setErrors(q,H={}){this.errors=q,this._updateControlsErrors(!1!==H.emitEvent,this,H.shouldHaveEmitted)}get(q){let H=q;return null==H||(Array.isArray(H)||(H=H.split(".")),0===H.length)?null:H.reduce((mt,fe)=>mt&&mt._find(fe),this)}getError(q,H){const mt=H?this.get(H):this;return mt&&mt.errors?mt.errors[q]:null}hasError(q,H){return!!this.getError(q,H)}get root(){let q=this;for(;q._parent;)q=q._parent;return q}_updateControlsErrors(q,H,mt){this.status=this._calculateStatus(),q&&this.statusChanges.emit(this.status),(q||mt)&&this._events.next(new Lt(this.status,H)),this._parent&&this._parent._updateControlsErrors(q,H,mt)}_initObservables(){this.valueChanges=new x.bkB,this.statusChanges=new x.bkB}_calculateStatus(){return this._allControlsDisabled()?Ue:this.errors?an:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wn)?wn:this._anyControlsHaveStatus(an)?an:Mn}_anyControlsHaveStatus(q){return this._anyControls(H=>H.status===q)}_anyControlsDirty(){return this._anyControls(q=>q.dirty)}_anyControlsTouched(){return this._anyControls(q=>q.touched)}_updatePristine(q,H){const mt=!this._anyControlsDirty(),fe=this.pristine!==mt;this.pristine=mt,this._parent&&!q.onlySelf&&this._parent._updatePristine(q,H),fe&&this._events.next(new Mt(this.pristine,H))}_updateTouched(q={},H){this.touched=this._anyControlsTouched(),this._events.next(new gt(this.touched,H)),this._parent&&!q.onlySelf&&this._parent._updateTouched(q,H)}_registerOnCollectionChange(q){this._onCollectionChange=q}_setUpdateStrategy(q){Gt(q)&&null!=q.updateOn&&(this._updateOn=q.updateOn)}_parentMarkedDirty(q){return!q&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(q){return null}_assignValidators(q){this._rawValidators=Array.isArray(q)?q.slice():q,this._composedValidatorFn=function hi(Z){return Array.isArray(Z)?Et(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(q){this._rawAsyncValidators=Array.isArray(q)?q.slice():q,this._composedAsyncValidatorFn=function Ce(Z){return Array.isArray(Z)?Ct(Z):Z||null}(this._rawAsyncValidators)}}class wt extends Ht{constructor(q,H,mt){super(qn(H),Be(mt,H)),this.controls=q,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(q,H){return this.controls[q]?this.controls[q]:(this.controls[q]=H,H.setParent(this),H._registerOnCollectionChange(this._onCollectionChange),H)}addControl(q,H,mt={}){this.registerControl(q,H),this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}removeControl(q,H={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}setControl(q,H,mt={}){this.controls[q]&&this.controls[q]._registerOnCollectionChange(()=>{}),delete this.controls[q],H&&this.registerControl(q,H),this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}contains(q){return this.controls.hasOwnProperty(q)&&this.controls[q].enabled}setValue(q,H={}){Zt(this,0,q),Object.keys(q).forEach(mt=>{Me(this,!0,mt),this.controls[mt].setValue(q[mt],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(q,H={}){null!=q&&(Object.keys(q).forEach(mt=>{const fe=this.controls[mt];fe&&fe.patchValue(q[mt],{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(q={},H={}){this._forEachChild((mt,fe)=>{mt.reset(q?q[fe]:null,{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H,this),this._updateTouched(H,this),this.updateValueAndValidity(H)}getRawValue(){return this._reduceChildren({},(q,H,mt)=>(q[mt]=H.getRawValue(),q))}_syncPendingControls(){let q=this._reduceChildren(!1,(H,mt)=>!!mt._syncPendingControls()||H);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){Object.keys(this.controls).forEach(H=>{const mt=this.controls[H];mt&&q(mt,H)})}_setUpControls(){this._forEachChild(q=>{q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(q){for(const[H,mt]of Object.entries(this.controls))if(this.contains(H)&&q(mt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(H,mt,fe)=>((mt.enabled||this.disabled)&&(H[fe]=mt.value),H))}_reduceChildren(q,H){let mt=q;return this._forEachChild((fe,mi)=>{mt=H(mt,fe,mi)}),mt}_allControlsDisabled(){for(const q of Object.keys(this.controls))if(this.controls[q].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(q){return this.controls.hasOwnProperty(q)?this.controls[q]:null}}class Jn extends wt{}const to=new x.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Xr}),Xr="always";function eo(Z,q){return[...q.path,Z]}function Qt(Z,q,H=Xr){Ye(Z,q),q.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===H)&&q.valueAccessor.setDisabledState?.(Z.disabled),function Sn(Z,q){q.valueAccessor.registerOnChange(H=>{Z._pendingValue=H,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&Je(Z,q)})}(Z,q),function Vn(Z,q){const H=(mt,fe)=>{q.valueAccessor.writeValue(mt),fe&&q.viewToModelUpdate(mt)};Z.registerOnChange(H),q._registerOnDestroy(()=>{Z._unregisterOnChange(H)})}(Z,q),function ke(Z,q){q.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&Je(Z,q),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,q),function Pe(Z,q){if(q.valueAccessor.setDisabledState){const H=mt=>{q.valueAccessor.setDisabledState(mt)};Z.registerOnDisabledChange(H),q._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(H)})}}(Z,q)}function xn(Z,q,H=!0){const mt=()=>{};q.valueAccessor&&(q.valueAccessor.registerOnChange(mt),q.valueAccessor.registerOnTouched(mt)),ge(Z,q),Z&&(q._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function Jt(Z,q){Z.forEach(H=>{H.registerOnValidatorChange&&H.registerOnValidatorChange(q)})}function Ye(Z,q){const H=Vt(Z);null!==q.validator?Z.setValidators(pt(H,q.validator)):"function"==typeof H&&Z.setValidators([H]);const mt=_e(Z);null!==q.asyncValidator?Z.setAsyncValidators(pt(mt,q.asyncValidator)):"function"==typeof mt&&Z.setAsyncValidators([mt]);const fe=()=>Z.updateValueAndValidity();Jt(q._rawValidators,fe),Jt(q._rawAsyncValidators,fe)}function ge(Z,q){let H=!1;if(null!==Z){if(null!==q.validator){const fe=Vt(Z);if(Array.isArray(fe)&&fe.length>0){const mi=fe.filter(ei=>ei!==q.validator);mi.length!==fe.length&&(H=!0,Z.setValidators(mi))}}if(null!==q.asyncValidator){const fe=_e(Z);if(Array.isArray(fe)&&fe.length>0){const mi=fe.filter(ei=>ei!==q.asyncValidator);mi.length!==fe.length&&(H=!0,Z.setAsyncValidators(mi))}}}const mt=()=>{};return Jt(q._rawValidators,mt),Jt(q._rawAsyncValidators,mt),H}function Je(Z,q){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),q.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function si(Z,q){Ye(Z,q)}function vn(Z,q){if(!Z.hasOwnProperty("model"))return!1;const H=Z.model;return!!H.isFirstChange()||!Object.is(q,H.currentValue)}function In(Z,q){Z._syncPendingControls(),q.forEach(H=>{const mt=H.control;"submit"===mt.updateOn&&mt._pendingChange&&(H.viewToModelUpdate(mt._pendingValue),mt._pendingChange=!1)})}function pi(Z,q){if(!q)return null;let H,mt,fe;return Array.isArray(q),q.forEach(mi=>{mi.constructor===Ut?H=mi:function Pn(Z){return Object.getPrototypeOf(Z.constructor)===At}(mi)?mt=mi:fe=mi}),fe||mt||H||null}const jr={provide:Fn,useExisting:(0,x.Rfq)(()=>Pr)},cr=Promise.resolve();let Pr=(()=>{class Z extends Fn{get submitted(){return(0,x.O8t)(this.submittedReactive)}constructor(H,mt,fe){super(),this.callSetDisabledState=fe,this._submitted=(0,x.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,x.vPA)(!1),this._directives=new Set,this.ngSubmit=new x.bkB,this.form=new wt({},Et(H),Ct(mt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(H){cr.then(()=>{const mt=this._findContainer(H.path);H.control=mt.registerControl(H.name,H.control),Qt(H.control,H,this.callSetDisabledState),H.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(H)})}getControl(H){return this.form.get(H.path)}removeControl(H){cr.then(()=>{const mt=this._findContainer(H.path);mt&&mt.removeControl(H.name),this._directives.delete(H)})}addFormGroup(H){cr.then(()=>{const mt=this._findContainer(H.path),fe=new wt({});si(fe,H),mt.registerControl(H.name,fe),fe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(H){cr.then(()=>{const mt=this._findContainer(H.path);mt&&mt.removeControl(H.name)})}getFormGroup(H){return this.form.get(H.path)}updateModel(H,mt){cr.then(()=>{this.form.get(H.path).setValue(mt)})}setValue(H){this.control.setValue(H)}onSubmit(H){return this.submittedReactive.set(!0),In(this.form,this._directives),this.ngSubmit.emit(H),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(H){return H.pop(),H.length?this.form.get(H):this.form}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(Le,10),x.rXU(tn,10),x.rXU(to,8))};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(mt,fe){1&mt&&x.bIt("submit",function(ei){return fe.onSubmit(ei)})("reset",function(){return fe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x.Jv_([jr]),x.Vt3]})}return Z})();function Yr(Z,q){const H=Z.indexOf(q);H>-1&&Z.splice(H,1)}function fo(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}const Vi=class extends Ht{constructor(q=null,H,mt){super(qn(H),Be(mt,H)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(q),this._setUpdateStrategy(H),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gt(H)&&(H.nonNullable||H.initialValueIsDefault)&&(this.defaultValue=fo(q)?q.value:q)}setValue(q,H={}){this.value=this._pendingValue=q,this._onChange.length&&!1!==H.emitModelToViewChange&&this._onChange.forEach(mt=>mt(this.value,!1!==H.emitViewToModelChange)),this.updateValueAndValidity(H)}patchValue(q,H={}){this.setValue(q,H)}reset(q=this.defaultValue,H={}){this._applyFormState(q),this.markAsPristine(H),this.markAsUntouched(H),this.setValue(this.value,H),this._pendingChange=!1}_updateValue(){}_anyControls(q){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(q){this._onChange.push(q)}_unregisterOnChange(q){Yr(this._onChange,q)}registerOnDisabledChange(q){this._onDisabledChange.push(q)}_unregisterOnDisabledChange(q){Yr(this._onDisabledChange,q)}_forEachChild(q){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(q){fo(q)?(this.value=this._pendingValue=q.value,q.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=q}},wr={provide:ii,useExisting:(0,x.Rfq)(()=>$o)},Mi=Promise.resolve();let $o=(()=>{class Z extends ii{constructor(H,mt,fe,mi,ei,lo){super(),this._changeDetectorRef=ei,this.callSetDisabledState=lo,this.control=new Vi,this._registered=!1,this.name="",this.update=new x.bkB,this._parent=H,this._setValidators(mt),this._setAsyncValidators(fe),this.valueAccessor=pi(0,mi)}ngOnChanges(H){if(this._checkForErrors(),!this._registered||"name"in H){if(this._registered&&(this._checkName(),this.formDirective)){const mt=H.name.previousValue;this.formDirective.removeControl({name:mt,path:this._getPath(mt)})}this._setUpControl()}"isDisabled"in H&&this._updateDisabled(H),vn(H,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(H){Mi.then(()=>{this.control.setValue(H,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(H){const mt=H.isDisabled.currentValue,fe=0!==mt&&(0,x.L39)(mt);Mi.then(()=>{fe&&!this.control.disabled?this.control.disable():!fe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(H){return this._parent?eo(H,this._parent):[H]}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(Fn,9),x.rXU(Le,10),x.rXU(tn,10),x.rXU(ft,10),x.rXU(x.gRc,8),x.rXU(to,8))};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[x.Jv_([wr]),x.Vt3,x.OA$]})}return Z})(),Mr=(()=>{class Z{static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Z})();const qu=new x.nKC(""),ml={provide:ii,useExisting:(0,x.Rfq)(()=>Ec)};let Ec=(()=>{class Z extends ii{set isDisabled(H){}static#t=this._ngModelWarningSentOnce=!1;constructor(H,mt,fe,mi,ei){super(),this._ngModelWarningConfig=mi,this.callSetDisabledState=ei,this.update=new x.bkB,this._ngModelWarningSent=!1,this._setValidators(H),this._setAsyncValidators(mt),this.valueAccessor=pi(0,fe)}ngOnChanges(H){if(this._isControlChanged(H)){const mt=H.form.previousValue;mt&&xn(mt,this,!1),Qt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vn(H,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&xn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}_isControlChanged(H){return H.hasOwnProperty("form")}static#e=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(Le,10),x.rXU(tn,10),x.rXU(ft,10),x.rXU(qu,8),x.rXU(to,8))};static#n=this.\u0275dir=x.FsC({type:Z,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[x.Jv_([ml]),x.Vt3,x.OA$]})}return Z})();const ca={provide:Fn,useExisting:(0,x.Rfq)(()=>wc)};let wc=(()=>{class Z extends Fn{get submitted(){return(0,x.O8t)(this._submittedReactive)}set submitted(H){this._submittedReactive.set(H)}constructor(H,mt,fe){super(),this.callSetDisabledState=fe,this._submitted=(0,x.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,x.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new x.bkB,this._setValidators(H),this._setAsyncValidators(mt)}ngOnChanges(H){this._checkFormPresent(),H.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ge(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(H){const mt=this.form.get(H.path);return Qt(mt,H,this.callSetDisabledState),mt.updateValueAndValidity({emitEvent:!1}),this.directives.push(H),mt}getControl(H){return this.form.get(H.path)}removeControl(H){xn(H.control||null,H,!1),function bi(Z,q){const H=Z.indexOf(q);H>-1&&Z.splice(H,1)}(this.directives,H)}addFormGroup(H){this._setUpFormContainer(H)}removeFormGroup(H){this._cleanUpFormContainer(H)}getFormGroup(H){return this.form.get(H.path)}addFormArray(H){this._setUpFormContainer(H)}removeFormArray(H){this._cleanUpFormContainer(H)}getFormArray(H){return this.form.get(H.path)}updateModel(H,mt){this.form.get(H.path).setValue(mt)}onSubmit(H){return this._submittedReactive.set(!0),In(this.form,this.directives),this.ngSubmit.emit(H),this.form._events.next(new Ze(this.control)),"dialog"===H?.target?.method}onReset(){this.resetForm()}resetForm(H=void 0){this.form.reset(H),this._submittedReactive.set(!1),this.form._events.next(new On(this.form))}_updateDomValue(){this.directives.forEach(H=>{const mt=H.control,fe=this.form.get(H.path);mt!==fe&&(xn(mt||null,H),(Z=>Z instanceof Vi)(fe)&&(Qt(fe,H,this.callSetDisabledState),H.control=fe))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(H){const mt=this.form.get(H.path);si(mt,H),mt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(H){if(this.form){const mt=this.form.get(H.path);mt&&function ci(Z,q){return ge(Z,q)}(mt,H)&&mt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ye(this.form,this),this._oldForm&&ge(this._oldForm,this)}_checkFormPresent(){}static#t=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(Le,10),x.rXU(tn,10),x.rXU(to,8))};static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","formGroup",""]],hostBindings:function(mt,fe){1&mt&&x.bIt("submit",function(ei){return fe.onSubmit(ei)})("reset",function(){return fe.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[x.Jv_([ca]),x.Vt3,x.OA$]})}return Z})();const Da={provide:ii,useExisting:(0,x.Rfq)(()=>$a)};let $a=(()=>{class Z extends ii{set isDisabled(H){}static#t=this._ngModelWarningSentOnce=!1;constructor(H,mt,fe,mi,ei){super(),this._ngModelWarningConfig=ei,this._added=!1,this.name=null,this.update=new x.bkB,this._ngModelWarningSent=!1,this._parent=H,this._setValidators(mt),this._setAsyncValidators(fe),this.valueAccessor=pi(0,mi)}ngOnChanges(H){this._added||this._setUpControl(),vn(H,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(H){this.viewModel=H,this.update.emit(H)}get path(){return eo(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#e=this.\u0275fac=function(mt){return new(mt||Z)(x.rXU(Fn,13),x.rXU(Le,10),x.rXU(tn,10),x.rXU(ft,10),x.rXU(qu,8))};static#n=this.\u0275dir=x.FsC({type:Z,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[x.Jv_([Da]),x.Vt3,x.OA$]})}return Z})();function Vr(Z){return"number"==typeof Z?Z:parseInt(Z,10)}let Oa=(()=>{class Z{constructor(){this._validator=De}ngOnChanges(H){if(this.inputName in H){const mt=this.normalizeInput(H[this.inputName].currentValue);this._enabled=this.enabled(mt),this._validator=this._enabled?this.createValidator(mt):De,this._onChange&&this._onChange()}}validate(H){return this._validator(H)}registerOnValidatorChange(H){this._onChange=H}enabled(H){return null!=H}static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275dir=x.FsC({type:Z,features:[x.OA$]})}return Z})();const Yd={provide:Le,useExisting:(0,x.Rfq)(()=>Ao),multi:!0},yl={provide:Le,useExisting:(0,x.Rfq)(()=>au),multi:!0};let Ao=(()=>{class Z extends Oa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=x.L39,this.createValidator=H=>Tt}enabled(H){return H}static#t=this.\u0275fac=(()=>{let H;return function(fe){return(H||(H=x.xGo(Z)))(fe||Z)}})();static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(mt,fe){2&mt&&x.BMQ("required",fe._enabled?"":null)},inputs:{required:"required"},features:[x.Jv_([Yd]),x.Vt3]})}return Z})(),au=(()=>{class Z extends Ao{constructor(){super(...arguments),this.createValidator=H=>de}static#t=this.\u0275fac=(()=>{let H;return function(fe){return(H||(H=x.xGo(Z)))(fe||Z)}})();static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(mt,fe){2&mt&&x.BMQ("required",fe._enabled?"":null)},features:[x.Jv_([yl]),x.Vt3]})}return Z})();const cf={provide:Le,useExisting:(0,x.Rfq)(()=>Xs),multi:!0};let Xs=(()=>{class Z extends Oa{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=H=>Vr(H),this.createValidator=H=>te(H)}static#t=this.\u0275fac=(()=>{let H;return function(fe){return(H||(H=x.xGo(Z)))(fe||Z)}})();static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(mt,fe){2&mt&&x.BMQ("minlength",fe._enabled?fe.minlength:null)},inputs:{minlength:"minlength"},features:[x.Jv_([cf]),x.Vt3]})}return Z})();const sr={provide:Le,useExisting:(0,x.Rfq)(()=>ss),multi:!0};let ss=(()=>{class Z extends Oa{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=H=>Vr(H),this.createValidator=H=>$t(H)}static#t=this.\u0275fac=(()=>{let H;return function(fe){return(H||(H=x.xGo(Z)))(fe||Z)}})();static#e=this.\u0275dir=x.FsC({type:Z,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(mt,fe){2&mt&&x.BMQ("maxlength",fe._enabled?fe.maxlength:null)},inputs:{maxlength:"maxlength"},features:[x.Jv_([sr]),x.Vt3]})}return Z})(),Oi=(()=>{class Z{static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275mod=x.$C({type:Z});static#n=this.\u0275inj=x.G2t({})}return Z})();class $l extends Ht{constructor(q,H,mt){super(qn(H),Be(mt,H)),this.controls=q,this._initObservables(),this._setUpdateStrategy(H),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(q){return this.controls[this._adjustIndex(q)]}push(q,H={}){this.controls.push(q),this._registerControl(q),this.updateValueAndValidity({emitEvent:H.emitEvent}),this._onCollectionChange()}insert(q,H,mt={}){this.controls.splice(q,0,H),this._registerControl(H),this.updateValueAndValidity({emitEvent:mt.emitEvent})}removeAt(q,H={}){let mt=this._adjustIndex(q);mt<0&&(mt=0),this.controls[mt]&&this.controls[mt]._registerOnCollectionChange(()=>{}),this.controls.splice(mt,1),this.updateValueAndValidity({emitEvent:H.emitEvent})}setControl(q,H,mt={}){let fe=this._adjustIndex(q);fe<0&&(fe=0),this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),this.controls.splice(fe,1),H&&(this.controls.splice(fe,0,H),this._registerControl(H)),this.updateValueAndValidity({emitEvent:mt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(q,H={}){Zt(this,0,q),q.forEach((mt,fe)=>{Me(this,!1,fe),this.at(fe).setValue(mt,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H)}patchValue(q,H={}){null!=q&&(q.forEach((mt,fe)=>{this.at(fe)&&this.at(fe).patchValue(mt,{onlySelf:!0,emitEvent:H.emitEvent})}),this.updateValueAndValidity(H))}reset(q=[],H={}){this._forEachChild((mt,fe)=>{mt.reset(q[fe],{onlySelf:!0,emitEvent:H.emitEvent})}),this._updatePristine(H,this),this._updateTouched(H,this),this.updateValueAndValidity(H)}getRawValue(){return this.controls.map(q=>q.getRawValue())}clear(q={}){this.controls.length<1||(this._forEachChild(H=>H._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:q.emitEvent}))}_adjustIndex(q){return q<0?q+this.length:q}_syncPendingControls(){let q=this.controls.reduce((H,mt)=>!!mt._syncPendingControls()||H,!1);return q&&this.updateValueAndValidity({onlySelf:!0}),q}_forEachChild(q){this.controls.forEach((H,mt)=>{q(H,mt)})}_updateValue(){this.value=this.controls.filter(q=>q.enabled||this.disabled).map(q=>q.value)}_anyControls(q){return this.controls.some(H=>H.enabled&&q(H))}_setUpControls(){this._forEachChild(q=>this._registerControl(q))}_allControlsDisabled(){for(const q of this.controls)if(q.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(q){q.setParent(this),q._registerOnCollectionChange(this._onCollectionChange)}_find(q){return this.at(q)??null}}function nd(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let Kl=(()=>{class Z{constructor(){this.useNonNullable=!1}get nonNullable(){const H=new Z;return H.useNonNullable=!0,H}group(H,mt=null){const fe=this._reduceControls(H);let mi={};return nd(mt)?mi=mt:null!==mt&&(mi.validators=mt.validator,mi.asyncValidators=mt.asyncValidator),new wt(fe,mi)}record(H,mt=null){const fe=this._reduceControls(H);return new Jn(fe,mt)}control(H,mt,fe){let mi={};return this.useNonNullable?(nd(mt)?mi=mt:(mi.validators=mt,mi.asyncValidators=fe),new Vi(H,{...mi,nonNullable:!0})):new Vi(H,mt,fe)}array(H,mt,fe){const mi=H.map(ei=>this._createControl(ei));return new $l(mi,mt,fe)}_reduceControls(H){const mt={};return Object.keys(H).forEach(fe=>{mt[fe]=this._createControl(H[fe])}),mt}_createControl(H){return H instanceof Vi||H instanceof Ht?H:Array.isArray(H)?this.control(H[0],H.length>1?H[1]:null,H.length>2?H[2]:null):this.control(H)}static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275prov=x.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),Zd=(()=>{class Z{static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275prov=x.jDH({token:Z,factory:()=>(0,x.WQX)(Kl).nonNullable,providedIn:"root"})}return Z})(),uf=(()=>{class Z extends Kl{group(H,mt=null){return super.group(H,mt)}control(H,mt,fe){return super.control(H,mt,fe)}array(H,mt,fe){return super.array(H,mt,fe)}static#t=this.\u0275fac=(()=>{let H;return function(fe){return(H||(H=x.xGo(Z)))(fe||Z)}})();static#e=this.\u0275prov=x.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})(),cu=(()=>{class Z{static withConfig(H){return{ngModule:Z,providers:[{provide:to,useValue:H.callSetDisabledState??Xr}]}}static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275mod=x.$C({type:Z});static#n=this.\u0275inj=x.G2t({imports:[Oi]})}return Z})(),id=(()=>{class Z{static withConfig(H){return{ngModule:Z,providers:[{provide:qu,useValue:H.warnOnNgModelWithFormControl??"always"},{provide:to,useValue:H.callSetDisabledState??Xr}]}}static#t=this.\u0275fac=function(mt){return new(mt||Z)};static#e=this.\u0275mod=x.$C({type:Z});static#n=this.\u0275inj=x.G2t({imports:[Oi]})}return Z})()},3999:(dn,re,P)=>{"use strict";P.d(re,{$z:()=>Xt,Hl:()=>Ae,iY:()=>xe});var x=P(3823),G=P(4291),g=P(6582),lt=P(6569);const ut=["mat-button",""],et=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Bt=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],yt=["mat-icon-button",""],jt=["*"],le=new G.nKC("MAT_BUTTON_CONFIG"),Le=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let tn=(()=>{class qt{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(dt){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,dt)}get disableRipple(){return this._disableRipple}set disableRipple(dt){this._disableRipple=dt,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(dt){this._disabled=dt,this._updateRippleDisabled()}constructor(dt,ht,Et,it){this._elementRef=dt,this._platform=ht,this._ngZone=Et,this._animationMode=it,this._focusMonitor=(0,G.WQX)(g.FN),this._rippleLoader=(0,G.WQX)(lt.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Ct=(0,G.WQX)(le,{optional:!0}),pt=dt.nativeElement,Vt=pt.classList;this.disabledInteractive=Ct?.disabledInteractive??!1,this.color=Ct?.color??null,this._rippleLoader?.configureRipple(pt,{className:"mat-mdc-button-ripple"});for(const{attribute:_e,mdcClasses:Ee}of Le)pt.hasAttribute(_e)&&Vt.add(...Ee)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(dt="program",ht){dt?this._focusMonitor.focusVia(this._elementRef.nativeElement,dt,ht):this._elementRef.nativeElement.focus(ht)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#t=this.\u0275fac=function(ht){G.QTQ()};static#e=this.\u0275dir=G.FsC({type:qt,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",G.L39],disabled:[2,"disabled","disabled",G.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",G.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",G.L39]},features:[G.GFd]})}return qt})(),Xt=(()=>{class qt extends tn{constructor(dt,ht,Et,it){super(dt,ht,Et,it)}static#t=this.\u0275fac=function(ht){return new(ht||qt)(G.rXU(G.aKT),G.rXU(x.OD),G.rXU(G.SKi),G.rXU(G.bc$,8))};static#e=this.\u0275cmp=G.VBU({type:qt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(ht,Et){2&ht&&(G.BMQ("disabled",Et._getDisabledAttribute())("aria-disabled",Et._getAriaDisabled()),G.HbH(Et.color?"mat-"+Et.color:""),G.AVh("mat-mdc-button-disabled",Et.disabled)("mat-mdc-button-disabled-interactive",Et.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Et._animationMode)("mat-unthemed",!Et.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[G.Vt3,G.aNF],attrs:ut,ngContentSelectors:Bt,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ht,Et){1&ht&&(G.NAR(et),G.nrm(0,"span",0),G.SdG(1),G.j41(2,"span",1),G.SdG(3,1),G.k0s(),G.SdG(4,2),G.nrm(5,"span",2)(6,"span",3)),2&ht&&G.AVh("mdc-button__ripple",!Et._isFab)("mdc-fab__ripple",Et._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return qt})(),xe=(()=>{class qt extends tn{constructor(dt,ht,Et,it){super(dt,ht,Et,it),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#t=this.\u0275fac=function(ht){return new(ht||qt)(G.rXU(G.aKT),G.rXU(x.OD),G.rXU(G.SKi),G.rXU(G.bc$,8))};static#e=this.\u0275cmp=G.VBU({type:qt,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(ht,Et){2&ht&&(G.BMQ("disabled",Et._getDisabledAttribute())("aria-disabled",Et._getAriaDisabled()),G.HbH(Et.color?"mat-"+Et.color:""),G.AVh("mat-mdc-button-disabled",Et.disabled)("mat-mdc-button-disabled-interactive",Et.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===Et._animationMode)("mat-unthemed",!Et.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[G.Vt3,G.aNF],attrs:yt,ngContentSelectors:jt,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(ht,Et){1&ht&&(G.NAR(),G.nrm(0,"span",0),G.SdG(1),G.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color, var(--mat-app-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return qt})(),Ae=(()=>{class qt{static#t=this.\u0275fac=function(ht){return new(ht||qt)};static#e=this.\u0275mod=G.$C({type:qt});static#n=this.\u0275inj=G.G2t({imports:[lt.yE,lt.pZ,lt.yE]})}return qt})()},6569:(dn,re,P)=>{"use strict";P.d(re,{MJ:()=>Et,es:()=>Di,de:()=>it,Ju:()=>dt,QC:()=>Rn,is:()=>Ke,$E:()=>ri,yE:()=>de,wT:()=>an,Sy:()=>Nn,MI:()=>Mn,wg:()=>ae,O5:()=>Ie,r6:()=>we,Ej:()=>qn,pZ:()=>gn,ug:()=>sn,X0:()=>Ae,tO:()=>hi,jb:()=>wn,TL:()=>Ue});var x=P(4291),G=P(6582),g=P(4700),ut=P(9284),et=P(3823),Bt=P(4498),At=P(1071),ft=P(2675);const Rt=["text"],yt=[[["mat-icon"]],"*"],jt=["mat-icon","*"];function Ut(Be,Ce){if(1&Be&&x.nrm(0,"mat-pseudo-checkbox",1),2&Be){const Gt=x.XpG();x.Y8G("disabled",Gt.disabled)("state",Gt.selected?"checked":"unchecked")}}function le(Be,Ce){if(1&Be&&x.nrm(0,"mat-pseudo-checkbox",3),2&Be){const Gt=x.XpG();x.Y8G("disabled",Gt.disabled)}}function ve(Be,Ce){if(1&Be&&(x.j41(0,"span",4),x.EFF(1),x.k0s()),2&Be){const Gt=x.XpG();x.R7$(),x.SpI("(",Gt.group.label,")")}}const Le=["mat-internal-form-field",""],tn=["*"],Tt=new x.nKC("mat-sanity-checks",{providedIn:"root",factory:function zt(){return!0}});let de=(()=>{class Be{constructor(Gt,Me,Zt){this._sanityChecks=Me,this._document=Zt,this._hasDoneGlobalChecks=!1,Gt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Gt){return!(0,et.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Gt])}static#t=this.\u0275fac=function(Me){return new(Me||Be)(x.KVO(G.Q_),x.KVO(Tt,8),x.KVO(ut.qQ))};static#e=this.\u0275mod=x.$C({type:Be});static#n=this.\u0275inj=x.G2t({imports:[g.jI,g.jI]})}return Be})();class Ae{constructor(Ce,Gt,Me,Zt,Ht){this._defaultMatcher=Ce,this.ngControl=Gt,this._parentFormGroup=Me,this._parentForm=Zt,this._stateChanges=Ht,this.errorState=!1}updateErrorState(){const Ce=this.errorState,Gt=this._parentFormGroup||this._parentForm,Me=this.matcher||this._defaultMatcher,Zt=this.ngControl?this.ngControl.control:null,Ht=Me?.isErrorState(Zt,Gt)??!1;Ht!==Ce&&(this.errorState=Ht,this._stateChanges.next())}}const dt=new x.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function ht(){return(0,x.WQX)(x.xe9)}});class Et{constructor(){this._localeChanges=new At.B,this.localeChanges=this._localeChanges}getValidDateOrNull(Ce){return this.isDateInstance(Ce)&&this.isValid(Ce)?Ce:null}deserialize(Ce){return null==Ce||this.isDateInstance(Ce)&&this.isValid(Ce)?Ce:this.invalid()}setLocale(Ce){this.locale=Ce,this._localeChanges.next()}compareDate(Ce,Gt){return this.getYear(Ce)-this.getYear(Gt)||this.getMonth(Ce)-this.getMonth(Gt)||this.getDate(Ce)-this.getDate(Gt)}sameDate(Ce,Gt){if(Ce&&Gt){let Me=this.isValid(Ce),Zt=this.isValid(Gt);return Me&&Zt?!this.compareDate(Ce,Gt):Me==Zt}return Ce==Gt}clampDate(Ce,Gt,Me){return Gt&&this.compareDate(Ce,Gt)<0?Gt:Me&&this.compareDate(Ce,Me)>0?Me:Ce}}const it=new x.nKC("mat-date-formats");let Di=(()=>{class Be{isErrorState(Gt,Me){return!!(Gt&&Gt.invalid&&(Gt.touched||Me&&Me.submitted))}static#t=this.\u0275fac=function(Me){return new(Me||Be)};static#e=this.\u0275prov=x.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})();var Ii=function(Be){return Be[Be.FADING_IN=0]="FADING_IN",Be[Be.VISIBLE=1]="VISIBLE",Be[Be.FADING_OUT=2]="FADING_OUT",Be[Be.HIDDEN=3]="HIDDEN",Be}(Ii||{});class Fi{constructor(Ce,Gt,Me,Zt=!1){this._renderer=Ce,this.element=Gt,this.config=Me,this._animationForciblyDisabledThroughCss=Zt,this.state=Ii.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Dn=(0,et.BQ)({passive:!0,capture:!0});class on{constructor(){this._events=new Map,this._delegateEventHandler=Ce=>{const Gt=(0,et.Fb)(Ce);Gt&&this._events.get(Ce.type)?.forEach((Me,Zt)=>{(Zt===Gt||Zt.contains(Gt))&&Me.forEach(Ht=>Ht.handleEvent(Ce))})}}addHandler(Ce,Gt,Me,Zt){const Ht=this._events.get(Gt);if(Ht){const wt=Ht.get(Me);wt?wt.add(Zt):Ht.set(Me,new Set([Zt]))}else this._events.set(Gt,new Map([[Me,new Set([Zt])]])),Ce.runOutsideAngular(()=>{document.addEventListener(Gt,this._delegateEventHandler,Dn)})}removeHandler(Ce,Gt,Me){const Zt=this._events.get(Ce);if(!Zt)return;const Ht=Zt.get(Gt);Ht&&(Ht.delete(Me),0===Ht.size&&Zt.delete(Gt),0===Zt.size&&(this._events.delete(Ce),document.removeEventListener(Ce,this._delegateEventHandler,Dn)))}}const _t={enterDuration:225,exitDuration:150},me=(0,et.BQ)({passive:!0,capture:!0}),Qe=["mousedown","touchstart"],He=["mouseup","mouseleave","touchend","touchcancel"];class sn{static#t=this._eventManager=new on;constructor(Ce,Gt,Me,Zt){this._target=Ce,this._ngZone=Gt,this._platform=Zt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Zt.isBrowser&&(this._containerElement=(0,Bt.i8)(Me))}fadeInRipple(Ce,Gt,Me={}){const Zt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ht={..._t,...Me.animation};Me.centered&&(Ce=Zt.left+Zt.width/2,Gt=Zt.top+Zt.height/2);const wt=Me.radius||function Qn(Be,Ce,Gt){const Me=Math.max(Math.abs(Be-Gt.left),Math.abs(Be-Gt.right)),Zt=Math.max(Math.abs(Ce-Gt.top),Math.abs(Ce-Gt.bottom));return Math.sqrt(Me*Me+Zt*Zt)}(Ce,Gt,Zt),Yt=Ce-Zt.left,je=Gt-Zt.top,Xe=Ht.enterDuration,Jn=document.createElement("div");Jn.classList.add("mat-ripple-element"),Jn.style.left=Yt-wt+"px",Jn.style.top=je-wt+"px",Jn.style.height=2*wt+"px",Jn.style.width=2*wt+"px",null!=Me.color&&(Jn.style.backgroundColor=Me.color),Jn.style.transitionDuration=`${Xe}ms`,this._containerElement.appendChild(Jn);const Tr=window.getComputedStyle(Jn),Xr=Tr.transitionDuration,eo="none"===Tr.transitionProperty||"0s"===Xr||"0s, 0s"===Xr||0===Zt.width&&0===Zt.height,Qt=new Fi(this,Jn,Me,eo);Jn.style.transform="scale3d(1, 1, 1)",Qt.state=Ii.FADING_IN,Me.persistent||(this._mostRecentTransientRipple=Qt);let xn=null;return!eo&&(Xe||Ht.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Jt=()=>{xn&&(xn.fallbackTimer=null),clearTimeout(Ye),this._finishRippleTransition(Qt)},Pe=()=>this._destroyRipple(Qt),Ye=setTimeout(Pe,Xe+100);Jn.addEventListener("transitionend",Jt),Jn.addEventListener("transitioncancel",Pe),xn={onTransitionEnd:Jt,onTransitionCancel:Pe,fallbackTimer:Ye}}),this._activeRipples.set(Qt,xn),(eo||!Xe)&&this._finishRippleTransition(Qt),Qt}fadeOutRipple(Ce){if(Ce.state===Ii.FADING_OUT||Ce.state===Ii.HIDDEN)return;const Gt=Ce.element,Me={..._t,...Ce.config.animation};Gt.style.transitionDuration=`${Me.exitDuration}ms`,Gt.style.opacity="0",Ce.state=Ii.FADING_OUT,(Ce._animationForciblyDisabledThroughCss||!Me.exitDuration)&&this._finishRippleTransition(Ce)}fadeOutAll(){this._getActiveRipples().forEach(Ce=>Ce.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ce=>{Ce.config.persistent||Ce.fadeOut()})}setupTriggerEvents(Ce){const Gt=(0,Bt.i8)(Ce);!this._platform.isBrowser||!Gt||Gt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Gt,Qe.forEach(Me=>{sn._eventManager.addHandler(this._ngZone,Me,Gt,this)}))}handleEvent(Ce){"mousedown"===Ce.type?this._onMousedown(Ce):"touchstart"===Ce.type?this._onTouchStart(Ce):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{He.forEach(Gt=>{this._triggerElement.addEventListener(Gt,this,me)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ce){Ce.state===Ii.FADING_IN?this._startFadeOutTransition(Ce):Ce.state===Ii.FADING_OUT&&this._destroyRipple(Ce)}_startFadeOutTransition(Ce){const Gt=Ce===this._mostRecentTransientRipple,{persistent:Me}=Ce.config;Ce.state=Ii.VISIBLE,!Me&&(!Gt||!this._isPointerDown)&&Ce.fadeOut()}_destroyRipple(Ce){const Gt=this._activeRipples.get(Ce)??null;this._activeRipples.delete(Ce),this._activeRipples.size||(this._containerRect=null),Ce===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ce.state=Ii.HIDDEN,null!==Gt&&(Ce.element.removeEventListener("transitionend",Gt.onTransitionEnd),Ce.element.removeEventListener("transitioncancel",Gt.onTransitionCancel),null!==Gt.fallbackTimer&&clearTimeout(Gt.fallbackTimer)),Ce.element.remove()}_onMousedown(Ce){const Gt=(0,G._G)(Ce),Me=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Gt&&!Me&&(this._isPointerDown=!0,this.fadeInRipple(Ce.clientX,Ce.clientY,this._target.rippleConfig))}_onTouchStart(Ce){if(!this._target.rippleDisabled&&!(0,G.w6)(Ce)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Gt=Ce.changedTouches;if(Gt)for(let Me=0;Me<Gt.length;Me++)this.fadeInRipple(Gt[Me].clientX,Gt[Me].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Ce=>{!Ce.config.persistent&&(Ce.state===Ii.VISIBLE||Ce.config.terminateOnPointerUp&&Ce.state===Ii.FADING_IN)&&Ce.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Ce=this._triggerElement;Ce&&(Qe.forEach(Gt=>sn._eventManager.removeHandler(Gt,Ce,this)),this._pointerUpEventsRegistered&&(He.forEach(Gt=>Ce.removeEventListener(Gt,this,me)),this._pointerUpEventsRegistered=!1))}}const ri=new x.nKC("mat-ripple-global-options");let we=(()=>{class Be{get disabled(){return this._disabled}set disabled(Gt){Gt&&this.fadeOutAllNonPersistent(),this._disabled=Gt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Gt){this._trigger=Gt,this._setupTriggerEventsIfEnabled()}constructor(Gt,Me,Zt,Ht,wt){this._elementRef=Gt,this._animationMode=wt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ht||{},this._rippleRenderer=new sn(this,Me,Gt,Zt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Gt,Me=0,Zt){return"number"==typeof Gt?this._rippleRenderer.fadeInRipple(Gt,Me,{...this.rippleConfig,...Zt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Gt})}static#t=this.\u0275fac=function(Me){return new(Me||Be)(x.rXU(x.aKT),x.rXU(x.SKi),x.rXU(et.OD),x.rXU(ri,8),x.rXU(x.bc$,8))};static#e=this.\u0275dir=x.FsC({type:Be,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Me,Zt){2&Me&&x.AVh("mat-ripple-unbounded",Zt.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return Be})(),gn=(()=>{class Be{static#t=this.\u0275fac=function(Me){return new(Me||Be)};static#e=this.\u0275mod=x.$C({type:Be});static#n=this.\u0275inj=x.G2t({imports:[de,de]})}return Be})(),ae=(()=>{class Be{constructor(Gt){this._animationMode=Gt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#t=this.\u0275fac=function(Me){return new(Me||Be)(x.rXU(x.bc$,8))};static#e=this.\u0275cmp=x.VBU({type:Be,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Me,Zt){2&Me&&x.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Zt.state)("mat-pseudo-checkbox-checked","checked"===Zt.state)("mat-pseudo-checkbox-disabled",Zt.disabled)("mat-pseudo-checkbox-minimal","minimal"===Zt.appearance)("mat-pseudo-checkbox-full","full"===Zt.appearance)("_mat-animation-noopable","NoopAnimations"===Zt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[x.aNF],decls:0,vars:0,template:function(Me,Zt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-app-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-app-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return Be})(),Ie=(()=>{class Be{static#t=this.\u0275fac=function(Me){return new(Me||Be)};static#e=this.\u0275mod=x.$C({type:Be});static#n=this.\u0275inj=x.G2t({imports:[de]})}return Be})();const Ke=new x.nKC("MAT_OPTION_PARENT_COMPONENT"),Rn=new x.nKC("MatOptgroup");let Re=0;class Mn{constructor(Ce,Gt=!1){this.source=Ce,this.isUserInput=Gt}}let an=(()=>{class Be{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Gt){this._disabled=Gt}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Gt,Me,Zt,Ht){this._element=Gt,this._changeDetectorRef=Me,this._parent=Zt,this.group=Ht,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Re++,this.onSelectionChange=new x.bkB,this._stateChanges=new At.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Gt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Gt&&this._emitSelectionChangeEvent())}deselect(Gt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Gt&&this._emitSelectionChangeEvent())}focus(Gt,Me){const Zt=this._getHostElement();"function"==typeof Zt.focus&&Zt.focus(Me)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Gt){(Gt.keyCode===ft.Fm||Gt.keyCode===ft.t6)&&!(0,ft.rp)(Gt)&&(this._selectViaInteraction(),Gt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Gt=this.viewValue;Gt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Gt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Gt=!1){this.onSelectionChange.emit(new Mn(this,Gt))}static#t=this.\u0275fac=function(Me){return new(Me||Be)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(Ke,8),x.rXU(Rn,8))};static#e=this.\u0275cmp=x.VBU({type:Be,selectors:[["mat-option"]],viewQuery:function(Me,Zt){if(1&Me&&x.GBs(Rt,7),2&Me){let Ht;x.mGM(Ht=x.lsd())&&(Zt._text=Ht.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Me,Zt){1&Me&&x.bIt("click",function(){return Zt._selectViaInteraction()})("keydown",function(wt){return Zt._handleKeydown(wt)}),2&Me&&(x.Mr5("id",Zt.id),x.BMQ("aria-selected",Zt.selected)("aria-disabled",Zt.disabled.toString()),x.AVh("mdc-list-item--selected",Zt.selected)("mat-mdc-option-multiple",Zt.multiple)("mat-mdc-option-active",Zt.active)("mdc-list-item--disabled",Zt.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",x.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[x.GFd,x.aNF],ngContentSelectors:jt,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Me,Zt){1&Me&&(x.NAR(yt),x.DNE(0,Ut,1,2,"mat-pseudo-checkbox",1),x.SdG(1),x.j41(2,"span",2,0),x.SdG(4,1),x.k0s(),x.DNE(5,le,1,1,"mat-pseudo-checkbox",3)(6,ve,2,1,"span",4),x.nrm(7,"div",5)),2&Me&&(x.vxM(Zt.multiple?0:-1),x.R7$(5),x.vxM(Zt.multiple||!Zt.selected||Zt.hideSingleSelectionIndicator?-1:5),x.R7$(),x.vxM(Zt.group&&Zt.group._inert?6:-1),x.R7$(),x.Y8G("matRippleTrigger",Zt._getHostElement())("matRippleDisabled",Zt.disabled||Zt.disableRipple))},dependencies:[ae,we],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-app-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-app-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-app-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return Be})();function wn(Be,Ce,Gt){if(Gt.length){let Me=Ce.toArray(),Zt=Gt.toArray(),Ht=0;for(let wt=0;wt<Be+1;wt++)Me[wt].group&&Me[wt].group===Zt[Ht]&&Ht++;return Ht}return 0}function Ue(Be,Ce,Gt,Me){return Be<Gt?Be:Be+Ce>Gt+Me?Math.max(0,Be-Me+Ce):Gt}let Nn=(()=>{class Be{static#t=this.\u0275fac=function(Me){return new(Me||Be)};static#e=this.\u0275mod=x.$C({type:Be});static#n=this.\u0275inj=x.G2t({imports:[gn,de,Ie]})}return Be})();const kt={capture:!0},Mt=["focus","mousedown","mouseenter","touchstart"],gt="mat-ripple-loader-uninitialized",Lt="mat-ripple-loader-class-name",Ze="mat-ripple-loader-centered",On="mat-ripple-loader-disabled";let qn=(()=>{class Be{constructor(){this._document=(0,x.WQX)(ut.qQ,{optional:!0}),this._animationMode=(0,x.WQX)(x.bc$,{optional:!0}),this._globalRippleOptions=(0,x.WQX)(ri,{optional:!0}),this._platform=(0,x.WQX)(et.OD),this._ngZone=(0,x.WQX)(x.SKi),this._hosts=new Map,this._onInteraction=Gt=>{const Me=(0,et.Fb)(Gt);if(Me instanceof HTMLElement){const Zt=Me.closest(`[${gt}="${this._globalRippleOptions?.namespace??""}"]`);Zt&&this._createRipple(Zt)}},this._ngZone.runOutsideAngular(()=>{for(const Gt of Mt)this._document?.addEventListener(Gt,this._onInteraction,kt)})}ngOnDestroy(){const Gt=this._hosts.keys();for(const Me of Gt)this.destroyRipple(Me);for(const Me of Mt)this._document?.removeEventListener(Me,this._onInteraction,kt)}configureRipple(Gt,Me){Gt.setAttribute(gt,this._globalRippleOptions?.namespace??""),(Me.className||!Gt.hasAttribute(Lt))&&Gt.setAttribute(Lt,Me.className||""),Me.centered&&Gt.setAttribute(Ze,""),Me.disabled&&Gt.setAttribute(On,"")}getRipple(Gt){return this._hosts.get(Gt)||this._createRipple(Gt)}setDisabled(Gt,Me){const Zt=this._hosts.get(Gt);Zt?Zt.disabled=Me:Me?Gt.setAttribute(On,""):Gt.removeAttribute(On)}_createRipple(Gt){if(!this._document)return;const Me=this._hosts.get(Gt);if(Me)return Me;Gt.querySelector(".mat-ripple")?.remove();const Zt=this._document.createElement("span");Zt.classList.add("mat-ripple",Gt.getAttribute(Lt)),Gt.append(Zt);const Ht=new we(new x.aKT(Zt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ht._isInitialized=!0,Ht.trigger=Gt,Ht.centered=Gt.hasAttribute(Ze),Ht.disabled=Gt.hasAttribute(On),this.attachRipple(Gt,Ht),Ht}attachRipple(Gt,Me){Gt.removeAttribute(gt),this._hosts.set(Gt,Me)}destroyRipple(Gt){const Me=this._hosts.get(Gt);Me&&(Me.ngOnDestroy(),this._hosts.delete(Gt))}static#t=this.\u0275fac=function(Me){return new(Me||Be)};static#e=this.\u0275prov=x.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}return Be})(),hi=(()=>{class Be{static#t=this.\u0275fac=function(Me){return new(Me||Be)};static#e=this.\u0275cmp=x.VBU({type:Be,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Me,Zt){2&Me&&x.AVh("mdc-form-field--align-end","before"===Zt.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[x.aNF],attrs:Le,ngContentSelectors:tn,decls:1,vars:0,template:function(Me,Zt){1&Me&&(x.NAR(),x.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return Be})()},6627:(dn,re,P)=>{"use strict";P.d(re,{Vh:()=>Ln,bZ:()=>Ii,E7:()=>me,tx:()=>Dn,Yi:()=>ue,hM:()=>sn,CP:()=>Oe,BI:()=>_t});var x=P(2926),G=P(9284),g=P(4291),lt=P(6582),ut=P(3823),et=P(3068),Bt=P(2675),At=P(1071),ft=P(3777),vt=P(3204),Dt=P(4700),Rt=P(613);function yt(we,gn){}class jt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let le=(()=>{class we extends et.lb{constructor(ae,Ie,Ke,Cn,Rn,di,Re,Mn){super(),this._elementRef=ae,this._focusTrapFactory=Ie,this._config=Cn,this._interactivityChecker=Rn,this._ngZone=di,this._overlayRef=Re,this._focusMonitor=Mn,this._platform=(0,g.WQX)(ut.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,g.WQX)(g.gRc),this._injector=(0,g.WQX)(g.zZn),this._isDestroyed=!1,this.attachDomPortal=an=>{this._portalOutlet.hasAttached();const wn=this._portalOutlet.attachDomPortal(an);return this._contentAttached(),wn},this._document=Ke,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(ae){this._ariaLabelledByQueue.push(ae),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(ae){const Ie=this._ariaLabelledByQueue.indexOf(ae);Ie>-1&&(this._ariaLabelledByQueue.splice(Ie,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(ae){this._portalOutlet.hasAttached();const Ie=this._portalOutlet.attachComponentPortal(ae);return this._contentAttached(),Ie}attachTemplatePortal(ae){this._portalOutlet.hasAttached();const Ie=this._portalOutlet.attachTemplatePortal(ae);return this._contentAttached(),Ie}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ae,Ie){this._interactivityChecker.isFocusable(ae)||(ae.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ke=()=>{ae.removeEventListener("blur",Ke),ae.removeEventListener("mousedown",Ke),ae.removeAttribute("tabindex")};ae.addEventListener("blur",Ke),ae.addEventListener("mousedown",Ke)})),ae.focus(Ie)}_focusByCssSelector(ae,Ie){let Ke=this._elementRef.nativeElement.querySelector(ae);Ke&&this._forceFocus(Ke,Ie)}_trapFocus(){this._isDestroyed||(0,g.mal)(()=>{const ae=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ae.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const ae=this._config.restoreFocus;let Ie=null;if("string"==typeof ae?Ie=this._document.querySelector(ae):"boolean"==typeof ae?Ie=ae?this._elementFocusedBeforeDialogWasOpened:null:ae&&(Ie=ae),this._config.restoreFocus&&Ie&&"function"==typeof Ie.focus){const Ke=(0,ut.vc)(),Cn=this._elementRef.nativeElement;(!Ke||Ke===this._document.body||Ke===Cn||Cn.contains(Ke))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ie,this._closeInteractionType),this._closeInteractionType=null):Ie.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ae=this._elementRef.nativeElement,Ie=(0,ut.vc)();return ae===Ie||ae.contains(Ie)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,ut.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#t=this.\u0275fac=function(Ie){return new(Ie||we)(g.rXU(g.aKT),g.rXU(lt.GX),g.rXU(G.qQ,8),g.rXU(jt),g.rXU(lt.Z7),g.rXU(g.SKi),g.rXU(x.yY),g.rXU(lt.FN))};static#e=this.\u0275cmp=g.VBU({type:we,selectors:[["cdk-dialog-container"]],viewQuery:function(Ie,Ke){if(1&Ie&&g.GBs(et.I3,7),2&Ie){let Cn;g.mGM(Cn=g.lsd())&&(Ke._portalOutlet=Cn.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Ie,Ke){2&Ie&&g.BMQ("id",Ke._config.id||null)("role",Ke._config.role)("aria-modal",Ke._config.ariaModal)("aria-labelledby",Ke._config.ariaLabel?null:Ke._ariaLabelledByQueue[0])("aria-label",Ke._config.ariaLabel)("aria-describedby",Ke._config.ariaDescribedBy||null)},standalone:!0,features:[g.Vt3,g.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Ie,Ke){1&Ie&&g.DNE(0,yt,0,0,"ng-template",0)},dependencies:[et.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return we})();class ve{constructor(gn,ae){this.overlayRef=gn,this.config=ae,this.closed=new At.B,this.disableClose=ae.disableClose,this.backdropClick=gn.backdropClick(),this.keydownEvents=gn.keydownEvents(),this.outsidePointerEvents=gn.outsidePointerEvents(),this.id=ae.id,this.keydownEvents.subscribe(Ie=>{Ie.keyCode===Bt._f&&!this.disableClose&&!(0,Bt.rp)(Ie)&&(Ie.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=gn.detachments().subscribe(()=>{!1!==ae.closeOnOverlayDetachments&&this.close()})}close(gn,ae){if(this.containerInstance){const Ie=this.closed;this.containerInstance._closeInteractionType=ae?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),Ie.next(gn),Ie.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(gn="",ae=""){return this.overlayRef.updateSize({width:gn,height:ae}),this}addPanelClass(gn){return this.overlayRef.addPanelClass(gn),this}removePanelClass(gn){return this.overlayRef.removePanelClass(gn),this}}const Le=new g.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const we=(0,g.WQX)(x.hJ);return()=>we.scrollStrategies.block()}}),tn=new g.nKC("DialogData"),be=new g.nKC("DefaultDialogConfig");let zt=0,Tt=(()=>{class we{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(ae,Ie,Ke,Cn,Rn,di){this._overlay=ae,this._injector=Ie,this._defaultOptions=Ke,this._parentDialog=Cn,this._overlayContainer=Rn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new At.B,this._afterOpenedAtThisLevel=new At.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ft.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Rt.Z)(void 0))),this._scrollStrategy=di}open(ae,Ie){(Ie={...this._defaultOptions||new jt,...Ie}).id=Ie.id||"cdk-dialog-"+zt++,Ie.id&&this.getDialogById(Ie.id);const Cn=this._getOverlayConfig(Ie),Rn=this._overlay.create(Cn),di=new ve(Rn,Ie),Re=this._attachContainer(Rn,di,Ie);return di.containerInstance=Re,this._attachDialogContent(ae,di,Re,Ie),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(di),di.closed.subscribe(()=>this._removeOpenDialog(di,!0)),this.afterOpened.next(di),di}closeAll(){de(this.openDialogs,ae=>ae.close())}getDialogById(ae){return this.openDialogs.find(Ie=>Ie.id===ae)}ngOnDestroy(){de(this._openDialogsAtThisLevel,ae=>{!1===ae.config.closeOnDestroy&&this._removeOpenDialog(ae,!1)}),de(this._openDialogsAtThisLevel,ae=>ae.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ae){const Ie=new x.rR({positionStrategy:ae.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ae.scrollStrategy||this._scrollStrategy(),panelClass:ae.panelClass,hasBackdrop:ae.hasBackdrop,direction:ae.direction,minWidth:ae.minWidth,minHeight:ae.minHeight,maxWidth:ae.maxWidth,maxHeight:ae.maxHeight,width:ae.width,height:ae.height,disposeOnNavigation:ae.closeOnNavigation});return ae.backdropClass&&(Ie.backdropClass=ae.backdropClass),Ie}_attachContainer(ae,Ie,Ke){const Cn=Ke.injector||Ke.viewContainerRef?.injector,Rn=[{provide:jt,useValue:Ke},{provide:ve,useValue:Ie},{provide:x.yY,useValue:ae}];let di;Ke.container?"function"==typeof Ke.container?di=Ke.container:(di=Ke.container.type,Rn.push(...Ke.container.providers(Ke))):di=le;const Re=new et.A8(di,Ke.viewContainerRef,g.zZn.create({parent:Cn||this._injector,providers:Rn}),Ke.componentFactoryResolver);return ae.attach(Re).instance}_attachDialogContent(ae,Ie,Ke,Cn){if(ae instanceof g.C4Q){const Rn=this._createInjector(Cn,Ie,Ke,void 0);let di={$implicit:Cn.data,dialogRef:Ie};Cn.templateContext&&(di={...di,..."function"==typeof Cn.templateContext?Cn.templateContext():Cn.templateContext}),Ke.attachTemplatePortal(new et.VA(ae,null,di,Rn))}else{const Rn=this._createInjector(Cn,Ie,Ke,this._injector),di=Ke.attachComponentPortal(new et.A8(ae,Cn.viewContainerRef,Rn,Cn.componentFactoryResolver));Ie.componentRef=di,Ie.componentInstance=di.instance}}_createInjector(ae,Ie,Ke,Cn){const Rn=ae.injector||ae.viewContainerRef?.injector,di=[{provide:tn,useValue:ae.data},{provide:ve,useValue:Ie}];return ae.providers&&("function"==typeof ae.providers?di.push(...ae.providers(Ie,ae,Ke)):di.push(...ae.providers)),ae.direction&&(!Rn||!Rn.get(Dt.dS,null,{optional:!0}))&&di.push({provide:Dt.dS,useValue:{value:ae.direction,change:(0,vt.of)()}}),g.zZn.create({parent:Rn||Cn,providers:di})}_removeOpenDialog(ae,Ie){const Ke=this.openDialogs.indexOf(ae);Ke>-1&&(this.openDialogs.splice(Ke,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Cn,Rn)=>{Cn?Rn.setAttribute("aria-hidden",Cn):Rn.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ie&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ae=this._overlayContainer.getContainerElement();if(ae.parentElement){const Ie=ae.parentElement.children;for(let Ke=Ie.length-1;Ke>-1;Ke--){const Cn=Ie[Ke];Cn!==ae&&"SCRIPT"!==Cn.nodeName&&"STYLE"!==Cn.nodeName&&!Cn.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Cn,Cn.getAttribute("aria-hidden")),Cn.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ae=this._parentDialog;return ae?ae._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#t=this.\u0275fac=function(Ie){return new(Ie||we)(g.KVO(x.hJ),g.KVO(g.zZn),g.KVO(be,8),g.KVO(we,12),g.KVO(x.Sf),g.KVO(Le))};static#e=this.\u0275prov=g.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})();function de(we,gn){let ae=we.length;for(;ae--;)gn(we[ae])}let Te=(()=>{class we{static#t=this.\u0275fac=function(Ie){return new(Ie||we)};static#e=this.\u0275mod=g.$C({type:we});static#n=this.\u0275inj=g.G2t({providers:[Tt],imports:[x.z_,et.jc,lt.Pd,et.jc]})}return we})();var te=P(4498),$t=P(8169),Wt=P(2647),De=P(5910),xe=P(9755),he=P(6569);function qt(we,gn){}P(1732);class Ot{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const dt="mdc-dialog--open",ht="mdc-dialog--opening",Et="mdc-dialog--closing";let pt=(()=>{class we extends le{constructor(ae,Ie,Ke,Cn,Rn,di,Re,Mn,an){super(ae,Ie,Ke,Cn,Rn,di,Re,an),this._animationMode=Mn,this._animationStateChanged=new g.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?_e(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?_e(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Vt,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ht,dt)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(dt),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(dt),this._animationsEnabled?(this._hostElement.style.setProperty(Vt,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Et)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(ae){this._actionSectionCount+=ae,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ht,Et)}_waitForAnimationToComplete(ae,Ie){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(Ie,ae)}_requestAnimationFrame(ae){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(ae):ae()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ae){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ae})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(ae){const Ie=super.attachComponentPortal(ae);return Ie.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),Ie}static#t=this.\u0275fac=function(Ie){return new(Ie||we)(g.rXU(g.aKT),g.rXU(lt.GX),g.rXU(G.qQ,8),g.rXU(Ot),g.rXU(lt.Z7),g.rXU(g.SKi),g.rXU(x.yY),g.rXU(g.bc$,8),g.rXU(lt.FN))};static#e=this.\u0275cmp=g.VBU({type:we,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(Ie,Ke){2&Ie&&(g.Mr5("id",Ke._config.id),g.BMQ("aria-modal",Ke._config.ariaModal)("role",Ke._config.role)("aria-labelledby",Ke._config.ariaLabel?null:Ke._ariaLabelledByQueue[0])("aria-label",Ke._config.ariaLabel)("aria-describedby",Ke._config.ariaDescribedBy||null),g.AVh("_mat-animation-noopable",!Ke._animationsEnabled)("mat-mdc-dialog-container-with-actions",Ke._actionSectionCount>0))},standalone:!0,features:[g.Vt3,g.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(Ie,Ke){1&Ie&&(g.j41(0,"div",0)(1,"div",1),g.DNE(2,qt,0,0,"ng-template",2),g.k0s()())},dependencies:[et.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return we})();const Vt="--mat-dialog-transition-duration";function _e(we){return null==we?null:"number"==typeof we?we:we.endsWith("ms")?(0,te.OE)(we.substring(0,we.length-2)):we.endsWith("s")?1e3*(0,te.OE)(we.substring(0,we.length-1)):"0"===we?0:null}var Ee=function(we){return we[we.OPEN=0]="OPEN",we[we.CLOSING=1]="CLOSING",we[we.CLOSED=2]="CLOSED",we}(Ee||{});class Oe{constructor(gn,ae,Ie){this._ref=gn,this._containerInstance=Ie,this._afterOpened=new At.B,this._beforeClosed=new At.B,this._state=Ee.OPEN,this.disableClose=ae.disableClose,this.id=gn.id,gn.addPanelClass("mat-mdc-dialog-panel"),Ie._animationStateChanged.pipe((0,Wt.p)(Ke=>"opened"===Ke.state),(0,De.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ie._animationStateChanged.pipe((0,Wt.p)(Ke=>"closed"===Ke.state),(0,De.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),gn.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,$t.h)(this.backdropClick(),this.keydownEvents().pipe((0,Wt.p)(Ke=>Ke.keyCode===Bt._f&&!this.disableClose&&!(0,Bt.rp)(Ke)))).subscribe(Ke=>{this.disableClose||(Ke.preventDefault(),cn(this,"keydown"===Ke.type?"keyboard":"mouse"))})}close(gn){this._result=gn,this._containerInstance._animationStateChanged.pipe((0,Wt.p)(ae=>"closing"===ae.state),(0,De.s)(1)).subscribe(ae=>{this._beforeClosed.next(gn),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ae.totalTime+100)}),this._state=Ee.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(gn){let ae=this._ref.config.positionStrategy;return gn&&(gn.left||gn.right)?gn.left?ae.left(gn.left):ae.right(gn.right):ae.centerHorizontally(),gn&&(gn.top||gn.bottom)?gn.top?ae.top(gn.top):ae.bottom(gn.bottom):ae.centerVertically(),this._ref.updatePosition(),this}updateSize(gn="",ae=""){return this._ref.updateSize(gn,ae),this}addPanelClass(gn){return this._ref.addPanelClass(gn),this}removePanelClass(gn){return this._ref.removePanelClass(gn),this}getState(){return this._state}_finishDialogClose(){this._state=Ee.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function cn(we,gn,ae){return we._closeInteractionType=gn,we.close(ae)}const Ln=new g.nKC("MatMdcDialogData"),Di=new g.nKC("mat-mdc-dialog-default-options"),Fn=new g.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const we=(0,g.WQX)(x.hJ);return()=>we.scrollStrategies.block()}});let ki=0,Ii=(()=>{class we{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ae=this._parentDialog;return ae?ae._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(ae,Ie,Ke,Cn,Rn,di,Re,Mn){this._overlay=ae,this._defaultOptions=Cn,this._scrollStrategy=Rn,this._parentDialog=di,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new At.B,this._afterOpenedAtThisLevel=new At.B,this.dialogConfigClass=Ot,this.afterAllClosed=(0,ft.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Rt.Z)(void 0))),this._dialog=Ie.get(Tt),this._dialogRefConstructor=Oe,this._dialogContainerType=pt,this._dialogDataToken=Ln}open(ae,Ie){let Ke;(Ie={...this._defaultOptions||new Ot,...Ie}).id=Ie.id||"mat-mdc-dialog-"+ki++,Ie.scrollStrategy=Ie.scrollStrategy||this._scrollStrategy();const Cn=this._dialog.open(ae,{...Ie,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:Ie},{provide:jt,useValue:Ie}]},templateContext:()=>({dialogRef:Ke}),providers:(Rn,di,Re)=>(Ke=new this._dialogRefConstructor(Rn,Ie,Re),Ke.updatePosition(Ie?.position),[{provide:this._dialogContainerType,useValue:Re},{provide:this._dialogDataToken,useValue:di.data},{provide:this._dialogRefConstructor,useValue:Ke}])});return Ke.componentRef=Cn.componentRef,Ke.componentInstance=Cn.componentInstance,this.openDialogs.push(Ke),this.afterOpened.next(Ke),Ke.afterClosed().subscribe(()=>{const Rn=this.openDialogs.indexOf(Ke);Rn>-1&&(this.openDialogs.splice(Rn,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Ke}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ae){return this.openDialogs.find(Ie=>Ie.id===ae)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ae){let Ie=ae.length;for(;Ie--;)ae[Ie].close()}static#t=this.\u0275fac=function(Ie){return new(Ie||we)(g.KVO(x.hJ),g.KVO(g.zZn),g.KVO(G.aZ,8),g.KVO(Di,8),g.KVO(Fn),g.KVO(we,12),g.KVO(x.Sf),g.KVO(g.bc$,8))};static#e=this.\u0275prov=g.jDH({token:we,factory:we.\u0275fac,providedIn:"root"})}return we})(),Fi=0,Dn=(()=>{class we{constructor(ae,Ie,Ke){this.dialogRef=ae,this._elementRef=Ie,this._dialog=Ke,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Qe(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ae){const Ie=ae._matDialogClose||ae._matDialogCloseResult;Ie&&(this.dialogResult=Ie.currentValue)}_onButtonClick(ae){cn(this.dialogRef,0===ae.screenX&&0===ae.screenY?"keyboard":"mouse",this.dialogResult)}static#t=this.\u0275fac=function(Ie){return new(Ie||we)(g.rXU(Oe,8),g.rXU(g.aKT),g.rXU(Ii))};static#e=this.\u0275dir=g.FsC({type:we,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(Ie,Ke){1&Ie&&g.bIt("click",function(Rn){return Ke._onButtonClick(Rn)}),2&Ie&&g.BMQ("aria-label",Ke.ariaLabel||null)("type",Ke.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[g.OA$]})}return we})(),on=(()=>{class we{constructor(ae,Ie,Ke){this._dialogRef=ae,this._elementRef=Ie,this._dialog=Ke}ngOnInit(){this._dialogRef||(this._dialogRef=Qe(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#t=this.\u0275fac=function(Ie){return new(Ie||we)(g.rXU(Oe,8),g.rXU(g.aKT),g.rXU(Ii))};static#e=this.\u0275dir=g.FsC({type:we,standalone:!0})}return we})(),_t=(()=>{class we extends on{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Fi++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#t=this.\u0275fac=(()=>{let ae;return function(Ke){return(ae||(ae=g.xGo(we)))(Ke||we)}})();static#e=this.\u0275dir=g.FsC({type:we,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(Ie,Ke){2&Ie&&g.Mr5("id",Ke.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[g.Vt3]})}return we})(),ue=(()=>{class we{static#t=this.\u0275fac=function(Ie){return new(Ie||we)};static#e=this.\u0275dir=g.FsC({type:we,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[g.nM4([xe.uv])]})}return we})(),me=(()=>{class we extends on{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#t=this.\u0275fac=(()=>{let ae;return function(Ke){return(ae||(ae=g.xGo(we)))(Ke||we)}})();static#e=this.\u0275dir=g.FsC({type:we,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(Ie,Ke){2&Ie&&g.AVh("mat-mdc-dialog-actions-align-start","start"===Ke.align)("mat-mdc-dialog-actions-align-center","center"===Ke.align)("mat-mdc-dialog-actions-align-end","end"===Ke.align)},inputs:{align:"align"},standalone:!0,features:[g.Vt3]})}return we})();function Qe(we,gn){let ae=we.nativeElement.parentElement;for(;ae&&!ae.classList.contains("mat-mdc-dialog-container");)ae=ae.parentElement;return ae?gn.find(Ie=>Ie.id===ae.id):null}let sn=(()=>{class we{static#t=this.\u0275fac=function(Ie){return new(Ie||we)};static#e=this.\u0275mod=g.$C({type:we});static#n=this.\u0275inj=g.G2t({providers:[Ii],imports:[Te,x.z_,et.jc,he.yE,he.yE]})}return we})()},5696:(dn,re,P)=>{"use strict";P.d(re,{xb:()=>Ie,TL:()=>Fn,rl:()=>an,qT:()=>ri,RG:()=>wn,MV:()=>Si,nJ:()=>cn,yw:()=>Dn});var x=P(4291),G=P(4700),g=P(4498),lt=P(3823),ut=P(9284),et=P(3479),Bt=P(1071),At=P(8169),ft=P(3796),vt=P(3982),Dt=P(2647),Rt=P(7621);class jt{constructor(Nn){this._box=Nn,this._destroyed=new Bt.B,this._resizeSubject=new Bt.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(kt=>this._resizeSubject.next(kt)))}observe(Nn){return this._elementObservables.has(Nn)||this._elementObservables.set(Nn,new vt.c(kt=>{const Mt=this._resizeSubject.subscribe(kt);return this._resizeObserver?.observe(Nn,{box:this._box}),()=>{this._resizeObserver?.unobserve(Nn),Mt.unsubscribe(),this._elementObservables.delete(Nn)}}).pipe((0,Dt.p)(kt=>kt.some(Mt=>Mt.target===Nn)),(0,Rt.t)({bufferSize:1,refCount:!0}),(0,ft.Q)(this._destroyed))),this._elementObservables.get(Nn)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Ut=(()=>{class Ue{constructor(){this._observers=new Map,this._ngZone=(0,x.WQX)(x.SKi)}ngOnDestroy(){for(const[,kt]of this._observers)kt.destroy();this._observers.clear()}observe(kt,Mt){const gt=Mt?.box||"content-box";return this._observers.has(gt)||this._observers.set(gt,new jt(gt)),this._observers.get(gt).observe(kt)}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)};static#e=this.\u0275prov=x.jDH({token:Ue,factory:Ue.\u0275fac,providedIn:"root"})}return Ue})();var le=P(1732),ve=P(2959),Le=P(6569);const tn=["notch"],be=["matFormFieldNotchedOutline",""],We=["*"],Xt=["textField"],zt=["iconPrefixContainer"],Tt=["textPrefixContainer"],de=["iconSuffixContainer"],Te=["textSuffixContainer"],te=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],$t=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Wt(Ue,Nn){1&Ue&&x.nrm(0,"span",21)}function De(Ue,Nn){if(1&Ue&&(x.j41(0,"label",20),x.SdG(1,1),x.DNE(2,Wt,1,0,"span",21),x.k0s()),2&Ue){const kt=x.XpG(2);x.Y8G("floating",kt._shouldLabelFloat())("monitorResize",kt._hasOutline())("id",kt._labelId),x.BMQ("for",kt._control.disableAutomaticLabeling?null:kt._control.id),x.R7$(2),x.vxM(!kt.hideRequiredMarker&&kt._control.required?2:-1)}}function xe(Ue,Nn){if(1&Ue&&x.DNE(0,De,3,5,"label",20),2&Ue){const kt=x.XpG();x.vxM(kt._hasFloatingLabel()?0:-1)}}function he(Ue,Nn){1&Ue&&x.nrm(0,"div",7)}function Ae(Ue,Nn){}function qt(Ue,Nn){if(1&Ue&&x.DNE(0,Ae,0,0,"ng-template",13),2&Ue){x.XpG(2);const kt=x.sdS(1);x.Y8G("ngTemplateOutlet",kt)}}function Ot(Ue,Nn){if(1&Ue&&(x.j41(0,"div",9),x.DNE(1,qt,1,1,null,13),x.k0s()),2&Ue){const kt=x.XpG();x.Y8G("matFormFieldNotchedOutlineOpen",kt._shouldLabelFloat()),x.R7$(),x.vxM(kt._forceDisplayInfixLabel()?-1:1)}}function dt(Ue,Nn){1&Ue&&(x.j41(0,"div",10,2),x.SdG(2,2),x.k0s())}function ht(Ue,Nn){1&Ue&&(x.j41(0,"div",11,3),x.SdG(2,3),x.k0s())}function Et(Ue,Nn){}function it(Ue,Nn){if(1&Ue&&x.DNE(0,Et,0,0,"ng-template",13),2&Ue){x.XpG();const kt=x.sdS(1);x.Y8G("ngTemplateOutlet",kt)}}function Ct(Ue,Nn){1&Ue&&(x.j41(0,"div",14,4),x.SdG(2,4),x.k0s())}function pt(Ue,Nn){1&Ue&&(x.j41(0,"div",15,5),x.SdG(2,5),x.k0s())}function Vt(Ue,Nn){1&Ue&&x.nrm(0,"div",16)}function _e(Ue,Nn){if(1&Ue&&(x.j41(0,"div",18),x.SdG(1,6),x.k0s()),2&Ue){const kt=x.XpG();x.Y8G("@transitionMessages",kt._subscriptAnimationState)}}function Ee(Ue,Nn){if(1&Ue&&(x.j41(0,"mat-hint",22),x.EFF(1),x.k0s()),2&Ue){const kt=x.XpG(2);x.Y8G("id",kt._hintLabelId),x.R7$(),x.JRh(kt.hintLabel)}}function Oe(Ue,Nn){if(1&Ue&&(x.j41(0,"div",19),x.DNE(1,Ee,2,2,"mat-hint",22),x.SdG(2,7),x.nrm(3,"div",23),x.SdG(4,8),x.k0s()),2&Ue){const kt=x.XpG();x.Y8G("@transitionMessages",kt._subscriptAnimationState),x.R7$(),x.vxM(kt.hintLabel?1:-1)}}let cn=(()=>{class Ue{static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)};static#e=this.\u0275dir=x.FsC({type:Ue,selectors:[["mat-label"]],standalone:!0})}return Ue})(),Ln=0;const Di=new x.nKC("MatError");let Fn=(()=>{class Ue{constructor(kt,Mt){this.id="mat-mdc-error-"+Ln++,kt||Mt.nativeElement.setAttribute("aria-live","polite")}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)(x.kS0("aria-live"),x.rXU(x.aKT))};static#e=this.\u0275dir=x.FsC({type:Ue,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Mt,gt){2&Mt&&x.Mr5("id",gt.id)},inputs:{id:"id"},standalone:!0,features:[x.Jv_([{provide:Di,useExisting:Ue}])]})}return Ue})(),ii=0,Si=(()=>{class Ue{constructor(){this.align="start",this.id="mat-mdc-hint-"+ii++}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)};static#e=this.\u0275dir=x.FsC({type:Ue,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Mt,gt){2&Mt&&(x.Mr5("id",gt.id),x.BMQ("align",null),x.AVh("mat-mdc-form-field-hint-end","end"===gt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return Ue})();const ki=new x.nKC("MatPrefix"),Fi=new x.nKC("MatSuffix");let Dn=(()=>{class Ue{constructor(){this._isText=!1}set _isTextSelector(kt){this._isText=!0}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)};static#e=this.\u0275dir=x.FsC({type:Ue,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[x.Jv_([{provide:Fi,useExisting:Ue}])]})}return Ue})();const on=new x.nKC("FloatingLabelParent");let _t=(()=>{class Ue{get floating(){return this._floating}set floating(kt){this._floating=kt,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(kt){this._monitorResize=kt,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(kt){this._elementRef=kt,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,x.WQX)(Ut),this._ngZone=(0,x.WQX)(x.SKi),this._parent=(0,x.WQX)(on),this._resizeSubscription=new et.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ue(Ue){if(null!==Ue.offsetParent)return Ue.scrollWidth;const kt=Ue.cloneNode(!0);kt.style.setProperty("position","absolute"),kt.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(kt);const Mt=kt.scrollWidth;return kt.remove(),Mt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)(x.rXU(x.aKT))};static#e=this.\u0275dir=x.FsC({type:Ue,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Mt,gt){2&Mt&&x.AVh("mdc-floating-label--float-above",gt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return Ue})();const me="mdc-line-ripple--active",Qe="mdc-line-ripple--deactivating";let He=(()=>{class Ue{constructor(kt,Mt){this._elementRef=kt,this._handleTransitionEnd=gt=>{const Lt=this._elementRef.nativeElement.classList,Ze=Lt.contains(Qe);"opacity"===gt.propertyName&&Ze&&Lt.remove(me,Qe)},Mt.runOutsideAngular(()=>{kt.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const kt=this._elementRef.nativeElement.classList;kt.remove(Qe),kt.add(me)}deactivate(){this._elementRef.nativeElement.classList.add(Qe)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)(x.rXU(x.aKT),x.rXU(x.SKi))};static#e=this.\u0275dir=x.FsC({type:Ue,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return Ue})(),sn=(()=>{class Ue{constructor(kt,Mt){this._elementRef=kt,this._ngZone=Mt,this.open=!1}ngAfterViewInit(){const kt=this._elementRef.nativeElement.querySelector(".mdc-floating-label");kt?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(kt.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>kt.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(kt){this._notch.nativeElement.style.width=this.open&&kt?`calc(${kt}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)(x.rXU(x.aKT),x.rXU(x.SKi))};static#e=this.\u0275cmp=x.VBU({type:Ue,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Mt,gt){if(1&Mt&&x.GBs(tn,5),2&Mt){let Lt;x.mGM(Lt=x.lsd())&&(gt._notch=Lt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Mt,gt){2&Mt&&x.AVh("mdc-notched-outline--notched",gt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[x.aNF],attrs:be,ngContentSelectors:We,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(Mt,gt){1&Mt&&(x.NAR(),x.nrm(0,"div",1),x.j41(1,"div",2,0),x.SdG(3),x.k0s(),x.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return Ue})();const Qn={transitionMessages:(0,le.hZ)("transitionMessages",[(0,le.wk)("enter",(0,le.iF)({opacity:1,transform:"translateY(0%)"})),(0,le.kY)("void => enter",[(0,le.iF)({opacity:0,transform:"translateY(-5px)"}),(0,le.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ri=(()=>{class Ue{static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)};static#e=this.\u0275dir=x.FsC({type:Ue})}return Ue})();const Ie=new x.nKC("MatFormField"),Ke=new x.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Cn=0,an=(()=>{class Ue{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(kt){this._hideRequiredMarker=(0,g.he)(kt)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(kt){kt!==this._floatLabel&&(this._floatLabel=kt,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(kt){const Mt=this._appearance;this._appearance=kt||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Mt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(kt){this._subscriptSizing=kt||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(kt){this._hintLabel=kt,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(kt){this._explicitFormFieldControl=kt}constructor(kt,Mt,gt,Lt,Ze,On,qn,hi){this._elementRef=kt,this._changeDetectorRef=Mt,this._dir=Lt,this._platform=Ze,this._defaults=On,this._animationMode=qn,this._labelChild=(0,x.sbv)(cn),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Cn++,this._hintLabelId="mat-mdc-hint-"+Cn++,this._subscriptAnimationState="",this._destroyed=new Bt.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=(0,x.WQX)(x.zZn),this.getLabelId=(0,x.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,x.EWP)(()=>!!this._labelChild()),On&&(On.appearance&&(this.appearance=On.appearance),this._hideRequiredMarker=!!On?.hideRequiredMarker,On.color&&(this.color=On.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(kt){const Mt=this._control,gt="mat-mdc-form-field-type-";kt&&this._elementRef.nativeElement.classList.remove(gt+kt.controlType),Mt.controlType&&this._elementRef.nativeElement.classList.add(gt+Mt.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=Mt.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),Mt.ngControl&&Mt.ngControl.valueChanges&&(this._valueChanges=Mt.ngControl.valueChanges.pipe((0,ft.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(kt=>!kt._isText),this._hasTextPrefix=!!this._prefixChildren.find(kt=>kt._isText),this._hasIconSuffix=!!this._suffixChildren.find(kt=>!kt._isText),this._hasTextSuffix=!!this._suffixChildren.find(kt=>kt._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,At.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,x.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,ft.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(kt){const Mt=this._control?this._control.ngControl:null;return Mt&&Mt[kt]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let kt=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&kt.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Mt=this._hintChildren?this._hintChildren.find(Lt=>"start"===Lt.align):null,gt=this._hintChildren?this._hintChildren.find(Lt=>"end"===Lt.align):null;Mt?kt.push(Mt.id):this._hintLabel&&kt.push(this._hintLabelId),gt&&kt.push(gt.id)}else this._errorChildren&&kt.push(...this._errorChildren.map(Mt=>Mt.id));this._control.setDescribedByIds(kt)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const kt=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(kt.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Mt=this._iconPrefixContainer?.nativeElement,gt=this._textPrefixContainer?.nativeElement,Lt=this._iconSuffixContainer?.nativeElement,Ze=this._textSuffixContainer?.nativeElement,On=Mt?.getBoundingClientRect().width??0,qn=gt?.getBoundingClientRect().width??0,hi=Lt?.getBoundingClientRect().width??0,Be=Ze?.getBoundingClientRect().width??0;kt.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${On+qn}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${On+qn+hi+Be}px)`)}_isAttachedToDom(){const kt=this._elementRef.nativeElement;if(kt.getRootNode){const Mt=kt.getRootNode();return Mt&&Mt!==kt}return document.documentElement.contains(kt)}static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)(x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(x.SKi),x.rXU(G.dS),x.rXU(lt.OD),x.rXU(Ke,8),x.rXU(x.bc$,8),x.rXU(ut.qQ))};static#e=this.\u0275cmp=x.VBU({type:Ue,selectors:[["mat-form-field"]],contentQueries:function(Mt,gt,Lt){if(1&Mt&&(x.C6U(Lt,gt._labelChild,cn,5),x.wni(Lt,ri,5),x.wni(Lt,ki,5),x.wni(Lt,Fi,5),x.wni(Lt,Di,5),x.wni(Lt,Si,5)),2&Mt){let Ze;x.NyB(),x.mGM(Ze=x.lsd())&&(gt._formFieldControl=Ze.first),x.mGM(Ze=x.lsd())&&(gt._prefixChildren=Ze),x.mGM(Ze=x.lsd())&&(gt._suffixChildren=Ze),x.mGM(Ze=x.lsd())&&(gt._errorChildren=Ze),x.mGM(Ze=x.lsd())&&(gt._hintChildren=Ze)}},viewQuery:function(Mt,gt){if(1&Mt&&(x.GBs(Xt,5),x.GBs(zt,5),x.GBs(Tt,5),x.GBs(de,5),x.GBs(Te,5),x.GBs(_t,5),x.GBs(sn,5),x.GBs(He,5)),2&Mt){let Lt;x.mGM(Lt=x.lsd())&&(gt._textField=Lt.first),x.mGM(Lt=x.lsd())&&(gt._iconPrefixContainer=Lt.first),x.mGM(Lt=x.lsd())&&(gt._textPrefixContainer=Lt.first),x.mGM(Lt=x.lsd())&&(gt._iconSuffixContainer=Lt.first),x.mGM(Lt=x.lsd())&&(gt._textSuffixContainer=Lt.first),x.mGM(Lt=x.lsd())&&(gt._floatingLabel=Lt.first),x.mGM(Lt=x.lsd())&&(gt._notchedOutline=Lt.first),x.mGM(Lt=x.lsd())&&(gt._lineRipple=Lt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Mt,gt){2&Mt&&x.AVh("mat-mdc-form-field-label-always-float",gt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",gt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",gt._hasIconSuffix)("mat-form-field-invalid",gt._control.errorState)("mat-form-field-disabled",gt._control.disabled)("mat-form-field-autofilled",gt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===gt._animationMode)("mat-form-field-appearance-fill","fill"==gt.appearance)("mat-form-field-appearance-outline","outline"==gt.appearance)("mat-form-field-hide-placeholder",gt._hasFloatingLabel()&&!gt._shouldLabelFloat())("mat-focused",gt._control.focused)("mat-primary","accent"!==gt.color&&"warn"!==gt.color)("mat-accent","accent"===gt.color)("mat-warn","warn"===gt.color)("ng-untouched",gt._shouldForward("untouched"))("ng-touched",gt._shouldForward("touched"))("ng-pristine",gt._shouldForward("pristine"))("ng-dirty",gt._shouldForward("dirty"))("ng-valid",gt._shouldForward("valid"))("ng-invalid",gt._shouldForward("invalid"))("ng-pending",gt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[x.Jv_([{provide:Ie,useExisting:Ue},{provide:on,useExisting:Ue}]),x.aNF],ngContentSelectors:$t,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Mt,gt){if(1&Mt){const Lt=x.RV6();x.NAR(te),x.DNE(0,xe,1,1,"ng-template",null,0,x.C5r),x.j41(2,"div",6,1),x.bIt("click",function(On){return x.eBV(Lt),x.Njj(gt._control.onContainerClick(On))}),x.DNE(4,he,1,0,"div",7),x.j41(5,"div",8),x.DNE(6,Ot,2,2,"div",9)(7,dt,3,0,"div",10)(8,ht,3,0,"div",11),x.j41(9,"div",12),x.DNE(10,it,1,1,null,13),x.SdG(11),x.k0s(),x.DNE(12,Ct,3,0,"div",14)(13,pt,3,0,"div",15),x.k0s(),x.DNE(14,Vt,1,0,"div",16),x.k0s(),x.j41(15,"div",17),x.DNE(16,_e,2,1,"div",18)(17,Oe,5,2,"div",19),x.k0s()}if(2&Mt){let Lt;x.R7$(2),x.AVh("mdc-text-field--filled",!gt._hasOutline())("mdc-text-field--outlined",gt._hasOutline())("mdc-text-field--no-label",!gt._hasFloatingLabel())("mdc-text-field--disabled",gt._control.disabled)("mdc-text-field--invalid",gt._control.errorState),x.R7$(2),x.vxM(gt._hasOutline()||gt._control.disabled?-1:4),x.R7$(2),x.vxM(gt._hasOutline()?6:-1),x.R7$(),x.vxM(gt._hasIconPrefix?7:-1),x.R7$(),x.vxM(gt._hasTextPrefix?8:-1),x.R7$(2),x.vxM(!gt._hasOutline()||gt._forceDisplayInfixLabel()?10:-1),x.R7$(2),x.vxM(gt._hasTextSuffix?12:-1),x.R7$(),x.vxM(gt._hasIconSuffix?13:-1),x.R7$(),x.vxM(gt._hasOutline()?-1:14),x.R7$(),x.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===gt.subscriptSizing),x.R7$(),x.vxM("error"===(Lt=gt._getDisplayedMessages())?16:"hint"===Lt?17:-1)}},dependencies:[_t,sn,ut.T3,He,Si],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Qn.transitionMessages]},changeDetection:0})}return Ue})(),wn=(()=>{class Ue{static#t=this.\u0275fac=function(Mt){return new(Mt||Ue)};static#e=this.\u0275mod=x.$C({type:Ue});static#n=this.\u0275inj=x.G2t({imports:[Le.yE,ut.MD,ve.w5,Le.yE]})}return Ue})()},4288:(dn,re,P)=>{"use strict";P.d(re,{An:()=>ht,m_:()=>Et,tp:()=>de});var x=P(4291),G=P(6569),g=P(9284),lt=P(3204),ut=P(535),et=P(745),Bt=P(3479),At=P(5044),ft=P(8199),vt=P(1534),Dt=P(4507),Rt=P(3622),yt=P(5910),jt=P(7715),Ut=P(4845);const le=["*"];let ve;function tn(it){return function Le(){if(void 0===ve&&(ve=null,typeof window<"u")){const it=window;void 0!==it.trustedTypes&&(ve=it.trustedTypes.createPolicy("angular#components",{createHTML:Ct=>Ct}))}return ve}()?.createHTML(it)||it}function be(it){return Error(`Unable to find icon with the name "${it}"`)}function Xt(it){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${it}".`)}function zt(it){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${it}".`)}class Tt{constructor(Ct,pt,Vt){this.url=Ct,this.svgText=pt,this.options=Vt}}let de=(()=>{class it{constructor(pt,Vt,_e,Ee){this._httpClient=pt,this._sanitizer=Vt,this._errorHandler=Ee,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=_e}addSvgIcon(pt,Vt,_e){return this.addSvgIconInNamespace("",pt,Vt,_e)}addSvgIconLiteral(pt,Vt,_e){return this.addSvgIconLiteralInNamespace("",pt,Vt,_e)}addSvgIconInNamespace(pt,Vt,_e,Ee){return this._addSvgIconConfig(pt,Vt,new Tt(_e,null,Ee))}addSvgIconResolver(pt){return this._resolvers.push(pt),this}addSvgIconLiteralInNamespace(pt,Vt,_e,Ee){const Oe=this._sanitizer.sanitize(x.WPN.HTML,_e);if(!Oe)throw zt(_e);const cn=tn(Oe);return this._addSvgIconConfig(pt,Vt,new Tt("",cn,Ee))}addSvgIconSet(pt,Vt){return this.addSvgIconSetInNamespace("",pt,Vt)}addSvgIconSetLiteral(pt,Vt){return this.addSvgIconSetLiteralInNamespace("",pt,Vt)}addSvgIconSetInNamespace(pt,Vt,_e){return this._addSvgIconSetConfig(pt,new Tt(Vt,null,_e))}addSvgIconSetLiteralInNamespace(pt,Vt,_e){const Ee=this._sanitizer.sanitize(x.WPN.HTML,Vt);if(!Ee)throw zt(Vt);const Oe=tn(Ee);return this._addSvgIconSetConfig(pt,new Tt("",Oe,_e))}registerFontClassAlias(pt,Vt=pt){return this._fontCssClassesByAlias.set(pt,Vt),this}classNameForFontAlias(pt){return this._fontCssClassesByAlias.get(pt)||pt}setDefaultFontSetClass(...pt){return this._defaultFontSetClass=pt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(pt){const Vt=this._sanitizer.sanitize(x.WPN.RESOURCE_URL,pt);if(!Vt)throw Xt(pt);const _e=this._cachedIconsByUrl.get(Vt);return _e?(0,lt.of)($t(_e)):this._loadSvgIconFromConfig(new Tt(pt,null)).pipe((0,At.M)(Ee=>this._cachedIconsByUrl.set(Vt,Ee)),(0,ft.T)(Ee=>$t(Ee)))}getNamedSvgIcon(pt,Vt=""){const _e=Wt(Vt,pt);let Ee=this._svgIconConfigs.get(_e);if(Ee)return this._getSvgFromConfig(Ee);if(Ee=this._getIconConfigFromResolvers(Vt,pt),Ee)return this._svgIconConfigs.set(_e,Ee),this._getSvgFromConfig(Ee);const Oe=this._iconSetConfigs.get(Vt);return Oe?this._getSvgFromIconSetConfigs(pt,Oe):(0,ut.$)(be(_e))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(pt){return pt.svgText?(0,lt.of)($t(this._svgElementFromConfig(pt))):this._loadSvgIconFromConfig(pt).pipe((0,ft.T)(Vt=>$t(Vt)))}_getSvgFromIconSetConfigs(pt,Vt){const _e=this._extractIconWithNameFromAnySet(pt,Vt);if(_e)return(0,lt.of)(_e);const Ee=Vt.filter(Oe=>!Oe.svgText).map(Oe=>this._loadSvgIconSetFromConfig(Oe).pipe((0,vt.W)(cn=>{const Di=`Loading icon set URL: ${this._sanitizer.sanitize(x.WPN.RESOURCE_URL,Oe.url)} failed: ${cn.message}`;return this._errorHandler.handleError(new Error(Di)),(0,lt.of)(null)})));return(0,et.p)(Ee).pipe((0,ft.T)(()=>{const Oe=this._extractIconWithNameFromAnySet(pt,Vt);if(!Oe)throw be(pt);return Oe}))}_extractIconWithNameFromAnySet(pt,Vt){for(let _e=Vt.length-1;_e>=0;_e--){const Ee=Vt[_e];if(Ee.svgText&&Ee.svgText.toString().indexOf(pt)>-1){const Oe=this._svgElementFromConfig(Ee),cn=this._extractSvgIconFromSet(Oe,pt,Ee.options);if(cn)return cn}}return null}_loadSvgIconFromConfig(pt){return this._fetchIcon(pt).pipe((0,At.M)(Vt=>pt.svgText=Vt),(0,ft.T)(()=>this._svgElementFromConfig(pt)))}_loadSvgIconSetFromConfig(pt){return pt.svgText?(0,lt.of)(null):this._fetchIcon(pt).pipe((0,At.M)(Vt=>pt.svgText=Vt))}_extractSvgIconFromSet(pt,Vt,_e){const Ee=pt.querySelector(`[id="${Vt}"]`);if(!Ee)return null;const Oe=Ee.cloneNode(!0);if(Oe.removeAttribute("id"),"svg"===Oe.nodeName.toLowerCase())return this._setSvgAttributes(Oe,_e);if("symbol"===Oe.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Oe),_e);const cn=this._svgElementFromString(tn("<svg></svg>"));return cn.appendChild(Oe),this._setSvgAttributes(cn,_e)}_svgElementFromString(pt){const Vt=this._document.createElement("DIV");Vt.innerHTML=pt;const _e=Vt.querySelector("svg");if(!_e)throw Error("<svg> tag not found");return _e}_toSvgElement(pt){const Vt=this._svgElementFromString(tn("<svg></svg>")),_e=pt.attributes;for(let Ee=0;Ee<_e.length;Ee++){const{name:Oe,value:cn}=_e[Ee];"id"!==Oe&&Vt.setAttribute(Oe,cn)}for(let Ee=0;Ee<pt.childNodes.length;Ee++)pt.childNodes[Ee].nodeType===this._document.ELEMENT_NODE&&Vt.appendChild(pt.childNodes[Ee].cloneNode(!0));return Vt}_setSvgAttributes(pt,Vt){return pt.setAttribute("fit",""),pt.setAttribute("height","100%"),pt.setAttribute("width","100%"),pt.setAttribute("preserveAspectRatio","xMidYMid meet"),pt.setAttribute("focusable","false"),Vt&&Vt.viewBox&&pt.setAttribute("viewBox",Vt.viewBox),pt}_fetchIcon(pt){const{url:Vt,options:_e}=pt,Ee=_e?.withCredentials??!1;if(!this._httpClient)throw function We(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==Vt)throw Error(`Cannot fetch icon from URL "${Vt}".`);const Oe=this._sanitizer.sanitize(x.WPN.RESOURCE_URL,Vt);if(!Oe)throw Xt(Vt);const cn=this._inProgressUrlFetches.get(Oe);if(cn)return cn;const Ln=this._httpClient.get(Oe,{responseType:"text",withCredentials:Ee}).pipe((0,ft.T)(Di=>tn(Di)),(0,Dt.j)(()=>this._inProgressUrlFetches.delete(Oe)),(0,Rt.u)());return this._inProgressUrlFetches.set(Oe,Ln),Ln}_addSvgIconConfig(pt,Vt,_e){return this._svgIconConfigs.set(Wt(pt,Vt),_e),this}_addSvgIconSetConfig(pt,Vt){const _e=this._iconSetConfigs.get(pt);return _e?_e.push(Vt):this._iconSetConfigs.set(pt,[Vt]),this}_svgElementFromConfig(pt){if(!pt.svgElement){const Vt=this._svgElementFromString(pt.svgText);this._setSvgAttributes(Vt,pt.options),pt.svgElement=Vt}return pt.svgElement}_getIconConfigFromResolvers(pt,Vt){for(let _e=0;_e<this._resolvers.length;_e++){const Ee=this._resolvers[_e](Vt,pt);if(Ee)return De(Ee)?new Tt(Ee.url,null,Ee.options):new Tt(Ee,null)}}static#t=this.\u0275fac=function(Vt){return new(Vt||it)(x.KVO(jt.Qq,8),x.KVO(Ut.up),x.KVO(g.qQ,8),x.KVO(x.zcH))};static#e=this.\u0275prov=x.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();function $t(it){return it.cloneNode(!0)}function Wt(it,Ct){return it+":"+Ct}function De(it){return!(!it.url||!it.options)}const xe=new x.nKC("MAT_ICON_DEFAULT_OPTIONS"),he=new x.nKC("mat-icon-location",{providedIn:"root",factory:function Ae(){const it=(0,x.WQX)(g.qQ),Ct=it?it.location:null;return{getPathname:()=>Ct?Ct.pathname+Ct.search:""}}}),qt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ot=qt.map(it=>`[${it}]`).join(", "),dt=/^url\(['"]?#(.*?)['"]?\)$/;let ht=(()=>{class it{get color(){return this._color||this._defaultColor}set color(pt){this._color=pt}get svgIcon(){return this._svgIcon}set svgIcon(pt){pt!==this._svgIcon&&(pt?this._updateSvgIcon(pt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=pt)}get fontSet(){return this._fontSet}set fontSet(pt){const Vt=this._cleanupFontValue(pt);Vt!==this._fontSet&&(this._fontSet=Vt,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(pt){const Vt=this._cleanupFontValue(pt);Vt!==this._fontIcon&&(this._fontIcon=Vt,this._updateFontIconClasses())}constructor(pt,Vt,_e,Ee,Oe,cn){this._elementRef=pt,this._iconRegistry=Vt,this._location=Ee,this._errorHandler=Oe,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Bt.yU.EMPTY,cn&&(cn.color&&(this.color=this._defaultColor=cn.color),cn.fontSet&&(this.fontSet=cn.fontSet)),_e||pt.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(pt){if(!pt)return["",""];const Vt=pt.split(":");switch(Vt.length){case 1:return["",Vt[0]];case 2:return Vt;default:throw Error(`Invalid icon name: "${pt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const pt=this._elementsWithExternalReferences;if(pt&&pt.size){const Vt=this._location.getPathname();Vt!==this._previousPath&&(this._previousPath=Vt,this._prependPathToReferences(Vt))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(pt){this._clearSvgElement();const Vt=this._location.getPathname();this._previousPath=Vt,this._cacheChildrenWithExternalReferences(pt),this._prependPathToReferences(Vt),this._elementRef.nativeElement.appendChild(pt)}_clearSvgElement(){const pt=this._elementRef.nativeElement;let Vt=pt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Vt--;){const _e=pt.childNodes[Vt];(1!==_e.nodeType||"svg"===_e.nodeName.toLowerCase())&&_e.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const pt=this._elementRef.nativeElement,Vt=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(_e=>_e.length>0);this._previousFontSetClass.forEach(_e=>pt.classList.remove(_e)),Vt.forEach(_e=>pt.classList.add(_e)),this._previousFontSetClass=Vt,this.fontIcon!==this._previousFontIconClass&&!Vt.includes("mat-ligature-font")&&(this._previousFontIconClass&&pt.classList.remove(this._previousFontIconClass),this.fontIcon&&pt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(pt){return"string"==typeof pt?pt.trim().split(" ")[0]:pt}_prependPathToReferences(pt){const Vt=this._elementsWithExternalReferences;Vt&&Vt.forEach((_e,Ee)=>{_e.forEach(Oe=>{Ee.setAttribute(Oe.name,`url('${pt}#${Oe.value}')`)})})}_cacheChildrenWithExternalReferences(pt){const Vt=pt.querySelectorAll(Ot),_e=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ee=0;Ee<Vt.length;Ee++)qt.forEach(Oe=>{const cn=Vt[Ee],Ln=cn.getAttribute(Oe),Di=Ln?Ln.match(dt):null;if(Di){let Fn=_e.get(cn);Fn||(Fn=[],_e.set(cn,Fn)),Fn.push({name:Oe,value:Di[1]})}})}_updateSvgIcon(pt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),pt){const[Vt,_e]=this._splitIconName(pt);Vt&&(this._svgNamespace=Vt),_e&&(this._svgName=_e),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(_e,Vt).pipe((0,yt.s)(1)).subscribe(Ee=>this._setSvgElement(Ee),Ee=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Vt}:${_e}! ${Ee.message}`))})}}static#t=this.\u0275fac=function(Vt){return new(Vt||it)(x.rXU(x.aKT),x.rXU(de),x.kS0("aria-hidden"),x.rXU(he),x.rXU(x.zcH),x.rXU(xe,8))};static#e=this.\u0275cmp=x.VBU({type:it,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(Vt,_e){2&Vt&&(x.BMQ("data-mat-icon-type",_e._usingFontIcon()?"font":"svg")("data-mat-icon-name",_e._svgName||_e.fontIcon)("data-mat-icon-namespace",_e._svgNamespace||_e.fontSet)("fontIcon",_e._usingFontIcon()?_e.fontIcon:null),x.HbH(_e.color?"mat-"+_e.color:""),x.AVh("mat-icon-inline",_e.inline)("mat-icon-no-color","primary"!==_e.color&&"accent"!==_e.color&&"warn"!==_e.color))},inputs:{color:"color",inline:[2,"inline","inline",x.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[x.GFd,x.aNF],ngContentSelectors:le,decls:1,vars:0,template:function(Vt,_e){1&Vt&&(x.NAR(),x.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return it})(),Et=(()=>{class it{static#t=this.\u0275fac=function(Vt){return new(Vt||it)};static#e=this.\u0275mod=x.$C({type:it});static#n=this.\u0275inj=x.G2t({imports:[G.yE,G.yE]})}return it})()},1706:(dn,re,P)=>{"use strict";P.d(re,{fg:()=>Le,fS:()=>tn});var x=P(4498),G=P(3823),g=P(4291),lt=P(4080),ut=P(1071);const et=(0,G.BQ)({passive:!0});let Bt=(()=>{class be{constructor(Xt,zt){this._platform=Xt,this._ngZone=zt,this._monitoredElements=new Map}monitor(Xt){if(!this._platform.isBrowser)return lt.w;const zt=(0,x.i8)(Xt),Tt=this._monitoredElements.get(zt);if(Tt)return Tt.subject;const de=new ut.B,Te="cdk-text-field-autofilled",te=$t=>{"cdk-text-field-autofill-start"!==$t.animationName||zt.classList.contains(Te)?"cdk-text-field-autofill-end"===$t.animationName&&zt.classList.contains(Te)&&(zt.classList.remove(Te),this._ngZone.run(()=>de.next({target:$t.target,isAutofilled:!1}))):(zt.classList.add(Te),this._ngZone.run(()=>de.next({target:$t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{zt.addEventListener("animationstart",te,et),zt.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(zt,{subject:de,unlisten:()=>{zt.removeEventListener("animationstart",te,et)}}),de}stopMonitoring(Xt){const zt=(0,x.i8)(Xt),Tt=this._monitoredElements.get(zt);Tt&&(Tt.unlisten(),Tt.subject.complete(),zt.classList.remove("cdk-text-field-autofill-monitored"),zt.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(zt))}ngOnDestroy(){this._monitoredElements.forEach((Xt,zt)=>this.stopMonitoring(zt))}static#t=this.\u0275fac=function(zt){return new(zt||be)(g.KVO(G.OD),g.KVO(g.SKi))};static#e=this.\u0275prov=g.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})}return be})(),vt=(()=>{class be{static#t=this.\u0275fac=function(zt){return new(zt||be)};static#e=this.\u0275mod=g.$C({type:be});static#n=this.\u0275inj=g.G2t({})}return be})();var Dt=P(4007),Rt=P(6569),yt=P(5696);const Ut=new g.nKC("MAT_INPUT_VALUE_ACCESSOR"),le=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ve=0,Le=(()=>{class be{get disabled(){return this._disabled}set disabled(Xt){this._disabled=(0,x.he)(Xt),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Xt){this._id=Xt||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Dt.k0.required)??!1}set required(Xt){this._required=(0,x.he)(Xt)}get type(){return this._type}set type(Xt){this._type=Xt||"text",this._validateType(),!this._isTextarea&&(0,G.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(Xt){this._errorStateTracker.matcher=Xt}get value(){return this._inputValueAccessor.value}set value(Xt){Xt!==this.value&&(this._inputValueAccessor.value=Xt,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Xt){this._readonly=(0,x.he)(Xt)}get errorState(){return this._errorStateTracker.errorState}set errorState(Xt){this._errorStateTracker.errorState=Xt}constructor(Xt,zt,Tt,de,Te,te,$t,Wt,De,xe){this._elementRef=Xt,this._platform=zt,this.ngControl=Tt,this._autofillMonitor=Wt,this._ngZone=De,this._formField=xe,this._uid="mat-input-"+ve++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new ut.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(qt=>(0,G.MU)().has(qt)),this._iOSKeyupListener=qt=>{const Ot=qt.target;!Ot.value&&0===Ot.selectionStart&&0===Ot.selectionEnd&&(Ot.setSelectionRange(1,1),Ot.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const he=this._elementRef.nativeElement,Ae=he.nodeName.toLowerCase();this._inputValueAccessor=$t||he,this._previousNativeValue=this.value,this.id=this.id,zt.IOS&&De.runOutsideAngular(()=>{Xt.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Rt.X0(te,Tt,Te,de,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Ae,this._isTextarea="textarea"===Ae,this._isInFormField=!!xe,this._isNativeSelect&&(this.controlType=he.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Xt=>{this.autofilled=Xt.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Xt){this._elementRef.nativeElement.focus(Xt)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(Xt){Xt!==this.focused&&(this.focused=Xt,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Xt=this._elementRef.nativeElement.value;this._previousNativeValue!==Xt&&(this._previousNativeValue=Xt,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Xt=this._getPlaceholder();if(Xt!==this._previousPlaceholder){const zt=this._elementRef.nativeElement;this._previousPlaceholder=Xt,Xt?zt.setAttribute("placeholder",Xt):zt.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){le.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Xt=this._elementRef.nativeElement.validity;return Xt&&Xt.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Xt=this._elementRef.nativeElement,zt=Xt.options[0];return this.focused||Xt.multiple||!this.empty||!!(Xt.selectedIndex>-1&&zt&&zt.label)}return this.focused||!this.empty}setDescribedByIds(Xt){Xt.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Xt.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Xt=this._elementRef.nativeElement;return this._isNativeSelect&&(Xt.multiple||Xt.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#t=this.\u0275fac=function(zt){return new(zt||be)(g.rXU(g.aKT),g.rXU(G.OD),g.rXU(Dt.vO,10),g.rXU(Dt.cV,8),g.rXU(Dt.j4,8),g.rXU(Rt.es),g.rXU(Ut,10),g.rXU(Bt),g.rXU(g.SKi),g.rXU(yt.xb,8))};static#e=this.\u0275dir=g.FsC({type:be,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(zt,Tt){1&zt&&g.bIt("focus",function(){return Tt._focusChanged(!0)})("blur",function(){return Tt._focusChanged(!1)})("input",function(){return Tt._onInput()}),2&zt&&(g.Mr5("id",Tt.id)("disabled",Tt.disabled)("required",Tt.required),g.BMQ("name",Tt.name||null)("readonly",Tt.readonly&&!Tt._isNativeSelect||null)("aria-invalid",Tt.empty&&Tt.required?null:Tt.errorState)("aria-required",Tt.required)("id",Tt.id),g.AVh("mat-input-server",Tt._isServer)("mat-mdc-form-field-textarea-control",Tt._isInFormField&&Tt._isTextarea)("mat-mdc-form-field-input-control",Tt._isInFormField)("mdc-text-field__input",Tt._isInFormField)("mat-mdc-native-select-inline",Tt._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[g.Jv_([{provide:yt.qT,useExisting:be}]),g.OA$]})}return be})(),tn=(()=>{class be{static#t=this.\u0275fac=function(zt){return new(zt||be)};static#e=this.\u0275mod=g.$C({type:be});static#n=this.\u0275inj=g.G2t({imports:[Rt.yE,yt.RG,yt.RG,vt,Rt.yE]})}return be})()},3683:(dn,re,P)=>{"use strict";P.d(re,{TQ:()=>ve,UG:()=>Wt,_T:()=>xe,ht:()=>Le,x6:()=>$t});var x=P(4291),G=P(3999),g=P(1071),lt=P(9284),ut=P(1732),et=P(3068),Bt=P(3823),At=P(6582),ft=P(3260),vt=P(2926),Dt=P(3796),Rt=P(6569);function yt(he,Ae){if(1&he){const qt=x.RV6();x.j41(0,"div",1)(1,"button",2),x.bIt("click",function(){x.eBV(qt);const dt=x.XpG();return x.Njj(dt.action())}),x.EFF(2),x.k0s()()}if(2&he){const qt=x.XpG();x.R7$(2),x.SpI(" ",qt.data.action," ")}}const jt=["label"];function Ut(he,Ae){}const le=Math.pow(2,31)-1;class ve{constructor(Ae,qt){this._overlayRef=qt,this._afterDismissed=new g.B,this._afterOpened=new g.B,this._onAction=new g.B,this._dismissedByAction=!1,this.containerInstance=Ae,Ae._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ae){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ae,le))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Le=new x.nKC("MatSnackBarData");class tn{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let be=(()=>{class he{static#t=this.\u0275fac=function(Ot){return new(Ot||he)};static#e=this.\u0275dir=x.FsC({type:he,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return he})(),We=(()=>{class he{static#t=this.\u0275fac=function(Ot){return new(Ot||he)};static#e=this.\u0275dir=x.FsC({type:he,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return he})(),Xt=(()=>{class he{static#t=this.\u0275fac=function(Ot){return new(Ot||he)};static#e=this.\u0275dir=x.FsC({type:he,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return he})(),zt=(()=>{class he{constructor(qt,Ot){this.snackBarRef=qt,this.data=Ot}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#t=this.\u0275fac=function(Ot){return new(Ot||he)(x.rXU(ve),x.rXU(Le))};static#e=this.\u0275cmp=x.VBU({type:he,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[x.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(Ot,dt){1&Ot&&(x.j41(0,"div",0),x.EFF(1),x.k0s(),x.DNE(2,yt,3,1,"div",1)),2&Ot&&(x.R7$(),x.SpI(" ",dt.data.message,"\n"),x.R7$(),x.vxM(dt.hasAction?2:-1))},dependencies:[G.$z,be,We,Xt],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return he})();const Tt={snackBarState:(0,ut.hZ)("state",[(0,ut.wk)("void, hidden",(0,ut.iF)({transform:"scale(0.8)",opacity:0})),(0,ut.wk)("visible",(0,ut.iF)({transform:"scale(1)",opacity:1})),(0,ut.kY)("* => visible",(0,ut.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,ut.kY)("* => void, * => hidden",(0,ut.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,ut.iF)({opacity:0})))])};let de=0,Te=(()=>{class he extends et.lb{constructor(qt,Ot,dt,ht,Et){super(),this._ngZone=qt,this._elementRef=Ot,this._changeDetectorRef=dt,this._platform=ht,this.snackBarConfig=Et,this._document=(0,x.WQX)(lt.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new g.B,this._onExit=new g.B,this._onEnter=new g.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+de++,this.attachDomPortal=it=>{this._assertNotAttached();const Ct=this._portalOutlet.attachDomPortal(it);return this._afterPortalAttached(),Ct},this._live="assertive"!==Et.politeness||Et.announcementMessage?"off"===Et.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(qt){this._assertNotAttached();const Ot=this._portalOutlet.attachComponentPortal(qt);return this._afterPortalAttached(),Ot}attachTemplatePortal(qt){this._assertNotAttached();const Ot=this._portalOutlet.attachTemplatePortal(qt);return this._afterPortalAttached(),Ot}onAnimationEnd(qt){const{fromState:Ot,toState:dt}=qt;if(("void"===dt&&"void"!==Ot||"hidden"===dt)&&this._completeExit(),"visible"===dt){const ht=this._onEnter;this._ngZone.run(()=>{ht.next(),ht.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const qt=this._elementRef.nativeElement,Ot=this.snackBarConfig.panelClass;Ot&&(Array.isArray(Ot)?Ot.forEach(Et=>qt.classList.add(Et)):qt.classList.add(Ot)),this._exposeToModals();const dt=this._label.nativeElement,ht="mdc-snackbar__label";dt.classList.toggle(ht,!dt.querySelector(`.${ht}`))}_exposeToModals(){const qt=this._liveElementId,Ot=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let dt=0;dt<Ot.length;dt++){const ht=Ot[dt],Et=ht.getAttribute("aria-owns");this._trackedModals.add(ht),Et?-1===Et.indexOf(qt)&&ht.setAttribute("aria-owns",Et+" "+qt):ht.setAttribute("aria-owns",qt)}}_clearFromModals(){this._trackedModals.forEach(qt=>{const Ot=qt.getAttribute("aria-owns");if(Ot){const dt=Ot.replace(this._liveElementId,"").trim();dt.length>0?qt.setAttribute("aria-owns",dt):qt.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const qt=this._elementRef.nativeElement.querySelector("[aria-hidden]"),Ot=this._elementRef.nativeElement.querySelector("[aria-live]");if(qt&&Ot){let dt=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&qt.contains(document.activeElement)&&(dt=document.activeElement),qt.removeAttribute("aria-hidden"),Ot.appendChild(qt),dt?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#t=this.\u0275fac=function(Ot){return new(Ot||he)(x.rXU(x.SKi),x.rXU(x.aKT),x.rXU(x.gRc),x.rXU(Bt.OD),x.rXU(tn))};static#e=this.\u0275cmp=x.VBU({type:he,selectors:[["mat-snack-bar-container"]],viewQuery:function(Ot,dt){if(1&Ot&&(x.GBs(et.I3,7),x.GBs(jt,7)),2&Ot){let ht;x.mGM(ht=x.lsd())&&(dt._portalOutlet=ht.first),x.mGM(ht=x.lsd())&&(dt._label=ht.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(Ot,dt){1&Ot&&x.Kam("@state.done",function(Et){return dt.onAnimationEnd(Et)}),2&Ot&&x.zvX("@state",dt._animationState)},standalone:!0,features:[x.Vt3,x.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(Ot,dt){1&Ot&&(x.j41(0,"div",1)(1,"div",2,0)(3,"div",3),x.DNE(4,Ut,0,0,"ng-template",4),x.k0s(),x.nrm(5,"div"),x.k0s()()),2&Ot&&(x.R7$(5),x.BMQ("aria-live",dt._live)("role",dt._role)("id",dt._liveElementId))},dependencies:[et.I3],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Tt.snackBarState]}})}return he})();const $t=new x.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function te(){return new tn}});let Wt=(()=>{class he{get _openedSnackBarRef(){const qt=this._parentSnackBar;return qt?qt._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(qt){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=qt:this._snackBarRefAtThisLevel=qt}constructor(qt,Ot,dt,ht,Et,it){this._overlay=qt,this._live=Ot,this._injector=dt,this._breakpointObserver=ht,this._parentSnackBar=Et,this._defaultConfig=it,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=zt,this.snackBarContainerComponent=Te,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(qt,Ot){return this._attach(qt,Ot)}openFromTemplate(qt,Ot){return this._attach(qt,Ot)}open(qt,Ot="",dt){const ht={...this._defaultConfig,...dt};return ht.data={message:qt,action:Ot},ht.announcementMessage===qt&&(ht.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ht)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(qt,Ot){const ht=x.zZn.create({parent:Ot&&Ot.viewContainerRef&&Ot.viewContainerRef.injector||this._injector,providers:[{provide:tn,useValue:Ot}]}),Et=new et.A8(this.snackBarContainerComponent,Ot.viewContainerRef,ht),it=qt.attach(Et);return it.instance.snackBarConfig=Ot,it.instance}_attach(qt,Ot){const dt={...new tn,...this._defaultConfig,...Ot},ht=this._createOverlay(dt),Et=this._attachSnackBarContainer(ht,dt),it=new ve(Et,ht);if(qt instanceof x.C4Q){const Ct=new et.VA(qt,null,{$implicit:dt.data,snackBarRef:it});it.instance=Et.attachTemplatePortal(Ct)}else{const Ct=this._createInjector(dt,it),pt=new et.A8(qt,void 0,Ct),Vt=Et.attachComponentPortal(pt);it.instance=Vt.instance}return this._breakpointObserver.observe(ft.Rp.HandsetPortrait).pipe((0,Dt.Q)(ht.detachments())).subscribe(Ct=>{ht.overlayElement.classList.toggle(this.handsetCssClass,Ct.matches)}),dt.announcementMessage&&Et._onAnnounce.subscribe(()=>{this._live.announce(dt.announcementMessage,dt.politeness)}),this._animateSnackBar(it,dt),this._openedSnackBarRef=it,this._openedSnackBarRef}_animateSnackBar(qt,Ot){qt.afterDismissed().subscribe(()=>{this._openedSnackBarRef==qt&&(this._openedSnackBarRef=null),Ot.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{qt.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):qt.containerInstance.enter(),Ot.duration&&Ot.duration>0&&qt.afterOpened().subscribe(()=>qt._dismissAfter(Ot.duration))}_createOverlay(qt){const Ot=new vt.rR;Ot.direction=qt.direction;let dt=this._overlay.position().global();const ht="rtl"===qt.direction,Et="left"===qt.horizontalPosition||"start"===qt.horizontalPosition&&!ht||"end"===qt.horizontalPosition&&ht,it=!Et&&"center"!==qt.horizontalPosition;return Et?dt.left("0"):it?dt.right("0"):dt.centerHorizontally(),"top"===qt.verticalPosition?dt.top("0"):dt.bottom("0"),Ot.positionStrategy=dt,this._overlay.create(Ot)}_createInjector(qt,Ot){return x.zZn.create({parent:qt&&qt.viewContainerRef&&qt.viewContainerRef.injector||this._injector,providers:[{provide:ve,useValue:Ot},{provide:Le,useValue:qt.data}]})}static#t=this.\u0275fac=function(Ot){return new(Ot||he)(x.KVO(vt.hJ),x.KVO(At.Ai),x.KVO(x.zZn),x.KVO(ft.QP),x.KVO(he,12),x.KVO($t))};static#e=this.\u0275prov=x.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})(),xe=(()=>{class he{static#t=this.\u0275fac=function(Ot){return new(Ot||he)};static#e=this.\u0275mod=x.$C({type:he});static#n=this.\u0275inj=x.G2t({providers:[Wt],imports:[vt.z_,et.jc,G.Hl,Rt.yE,zt,Rt.yE]})}return he})()},4845:(dn,re,P)=>{"use strict";P.d(re,{B7:()=>de,B8:()=>Et,hE:()=>Ii,up:()=>Ie});var x=P(9284),G=P(4291);class g extends x.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class lt extends g{static makeCurrent(){(0,x.ZD)(new lt)}onAndCancel(Mt,gt,Lt){return Mt.addEventListener(gt,Lt),()=>{Mt.removeEventListener(gt,Lt)}}dispatchEvent(Mt,gt){Mt.dispatchEvent(gt)}remove(Mt){Mt.remove()}createElement(Mt,gt){return(gt=gt||this.getDefaultDocument()).createElement(Mt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Mt){return Mt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Mt){return Mt instanceof DocumentFragment}getGlobalEventTarget(Mt,gt){return"window"===gt?window:"document"===gt?Mt:"body"===gt?Mt.body:null}getBaseHref(Mt){const gt=function et(){return ut=ut||document.querySelector("base"),ut?ut.getAttribute("href"):null}();return null==gt?null:function Bt(kt){return new URL(kt,document.baseURI).pathname}(gt)}resetBaseElement(){ut=null}getUserAgent(){return window.navigator.userAgent}getCookie(Mt){return(0,x._b)(document.cookie,Mt)}}let ut=null,ft=(()=>{class kt{build(){return new XMLHttpRequest}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac})}return kt})();const vt=new G.nKC("");let Dt=(()=>{class kt{constructor(gt,Lt){this._zone=Lt,this._eventNameToPlugin=new Map,gt.forEach(Ze=>{Ze.manager=this}),this._plugins=gt.slice().reverse()}addEventListener(gt,Lt,Ze){return this._findPluginFor(Lt).addEventListener(gt,Lt,Ze)}getZone(){return this._zone}_findPluginFor(gt){let Lt=this._eventNameToPlugin.get(gt);if(Lt)return Lt;if(Lt=this._plugins.find(On=>On.supports(gt)),!Lt)throw new G.wOt(5101,!1);return this._eventNameToPlugin.set(gt,Lt),Lt}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(vt),G.KVO(G.SKi))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac})}return kt})();class Rt{constructor(Mt){this._doc=Mt}}const yt="ng-app-id";let jt=(()=>{class kt{constructor(gt,Lt,Ze,On={}){this.doc=gt,this.appId=Lt,this.nonce=Ze,this.platformId=On,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,x.Vy)(On),this.resetHostNodes()}addStyles(gt){for(const Lt of gt)1===this.changeUsageCount(Lt,1)&&this.onStyleAdded(Lt)}removeStyles(gt){for(const Lt of gt)this.changeUsageCount(Lt,-1)<=0&&this.onStyleRemoved(Lt)}ngOnDestroy(){const gt=this.styleNodesInDOM;gt&&(gt.forEach(Lt=>Lt.remove()),gt.clear());for(const Lt of this.getAllStyles())this.onStyleRemoved(Lt);this.resetHostNodes()}addHost(gt){this.hostNodes.add(gt);for(const Lt of this.getAllStyles())this.addStyleToHost(gt,Lt)}removeHost(gt){this.hostNodes.delete(gt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(gt){for(const Lt of this.hostNodes)this.addStyleToHost(Lt,gt)}onStyleRemoved(gt){const Lt=this.styleRef;Lt.get(gt)?.elements?.forEach(Ze=>Ze.remove()),Lt.delete(gt)}collectServerRenderedStyles(){const gt=this.doc.head?.querySelectorAll(`style[${yt}="${this.appId}"]`);if(gt?.length){const Lt=new Map;return gt.forEach(Ze=>{null!=Ze.textContent&&Lt.set(Ze.textContent,Ze)}),Lt}return null}changeUsageCount(gt,Lt){const Ze=this.styleRef;if(Ze.has(gt)){const On=Ze.get(gt);return On.usage+=Lt,On.usage}return Ze.set(gt,{usage:Lt,elements:[]}),Lt}getStyleElement(gt,Lt){const Ze=this.styleNodesInDOM,On=Ze?.get(Lt);if(On?.parentNode===gt)return Ze.delete(Lt),On.removeAttribute(yt),On;{const qn=this.doc.createElement("style");return this.nonce&&qn.setAttribute("nonce",this.nonce),qn.textContent=Lt,this.platformIsServer&&qn.setAttribute(yt,this.appId),gt.appendChild(qn),qn}}addStyleToHost(gt,Lt){const Ze=this.getStyleElement(gt,Lt),On=this.styleRef,qn=On.get(Lt)?.elements;qn?qn.push(Ze):On.set(Lt,{elements:[Ze],usage:1})}resetHostNodes(){const gt=this.hostNodes;gt.clear(),gt.add(this.doc.head)}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(x.qQ),G.KVO(G.sZ2),G.KVO(G.BIS,8),G.KVO(G.Agw))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac})}return kt})();const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},le=/%COMP%/g,We=new G.nKC("",{providedIn:"root",factory:()=>!0});function Tt(kt,Mt){return Mt.map(gt=>gt.replace(le,kt))}let de=(()=>{class kt{constructor(gt,Lt,Ze,On,qn,hi,Be,Ce=null){this.eventManager=gt,this.sharedStylesHost=Lt,this.appId=Ze,this.removeStylesOnCompDestroy=On,this.doc=qn,this.platformId=hi,this.ngZone=Be,this.nonce=Ce,this.rendererByCompId=new Map,this.platformIsServer=(0,x.Vy)(hi),this.defaultRenderer=new Te(gt,qn,Be,this.platformIsServer)}createRenderer(gt,Lt){if(!gt||!Lt)return this.defaultRenderer;this.platformIsServer&&Lt.encapsulation===G.gXe.ShadowDom&&(Lt={...Lt,encapsulation:G.gXe.Emulated});const Ze=this.getOrCreateRenderer(gt,Lt);return Ze instanceof he?Ze.applyToHost(gt):Ze instanceof xe&&Ze.applyStyles(),Ze}getOrCreateRenderer(gt,Lt){const Ze=this.rendererByCompId;let On=Ze.get(Lt.id);if(!On){const qn=this.doc,hi=this.ngZone,Be=this.eventManager,Ce=this.sharedStylesHost,Gt=this.removeStylesOnCompDestroy,Me=this.platformIsServer;switch(Lt.encapsulation){case G.gXe.Emulated:On=new he(Be,Ce,Lt,this.appId,Gt,qn,hi,Me);break;case G.gXe.ShadowDom:return new De(Be,Ce,gt,Lt,qn,hi,this.nonce,Me);default:On=new xe(Be,Ce,Lt,Gt,qn,hi,Me)}Ze.set(Lt.id,On)}return On}ngOnDestroy(){this.rendererByCompId.clear()}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(Dt),G.KVO(jt),G.KVO(G.sZ2),G.KVO(We),G.KVO(x.qQ),G.KVO(G.Agw),G.KVO(G.SKi),G.KVO(G.BIS))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac})}return kt})();class Te{constructor(Mt,gt,Lt,Ze){this.eventManager=Mt,this.doc=gt,this.ngZone=Lt,this.platformIsServer=Ze,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Mt,gt){return gt?this.doc.createElementNS(Ut[gt]||gt,Mt):this.doc.createElement(Mt)}createComment(Mt){return this.doc.createComment(Mt)}createText(Mt){return this.doc.createTextNode(Mt)}appendChild(Mt,gt){(Wt(Mt)?Mt.content:Mt).appendChild(gt)}insertBefore(Mt,gt,Lt){Mt&&(Wt(Mt)?Mt.content:Mt).insertBefore(gt,Lt)}removeChild(Mt,gt){gt.remove()}selectRootElement(Mt,gt){let Lt="string"==typeof Mt?this.doc.querySelector(Mt):Mt;if(!Lt)throw new G.wOt(-5104,!1);return gt||(Lt.textContent=""),Lt}parentNode(Mt){return Mt.parentNode}nextSibling(Mt){return Mt.nextSibling}setAttribute(Mt,gt,Lt,Ze){if(Ze){gt=Ze+":"+gt;const On=Ut[Ze];On?Mt.setAttributeNS(On,gt,Lt):Mt.setAttribute(gt,Lt)}else Mt.setAttribute(gt,Lt)}removeAttribute(Mt,gt,Lt){if(Lt){const Ze=Ut[Lt];Ze?Mt.removeAttributeNS(Ze,gt):Mt.removeAttribute(`${Lt}:${gt}`)}else Mt.removeAttribute(gt)}addClass(Mt,gt){Mt.classList.add(gt)}removeClass(Mt,gt){Mt.classList.remove(gt)}setStyle(Mt,gt,Lt,Ze){Ze&(G.czy.DashCase|G.czy.Important)?Mt.style.setProperty(gt,Lt,Ze&G.czy.Important?"important":""):Mt.style[gt]=Lt}removeStyle(Mt,gt,Lt){Lt&G.czy.DashCase?Mt.style.removeProperty(gt):Mt.style[gt]=""}setProperty(Mt,gt,Lt){null!=Mt&&(Mt[gt]=Lt)}setValue(Mt,gt){Mt.nodeValue=gt}listen(Mt,gt,Lt){if("string"==typeof Mt&&!(Mt=(0,x.QT)().getGlobalEventTarget(this.doc,Mt)))throw new Error(`Unsupported event target ${Mt} for event ${gt}`);return this.eventManager.addEventListener(Mt,gt,this.decoratePreventDefault(Lt))}decoratePreventDefault(Mt){return gt=>{if("__ngUnwrap__"===gt)return Mt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Mt(gt)):Mt(gt))&&gt.preventDefault()}}}function Wt(kt){return"TEMPLATE"===kt.tagName&&void 0!==kt.content}class De extends Te{constructor(Mt,gt,Lt,Ze,On,qn,hi,Be){super(Mt,On,qn,Be),this.sharedStylesHost=gt,this.hostEl=Lt,this.shadowRoot=Lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ce=Tt(Ze.id,Ze.styles);for(const Gt of Ce){const Me=document.createElement("style");hi&&Me.setAttribute("nonce",hi),Me.textContent=Gt,this.shadowRoot.appendChild(Me)}}nodeOrShadowRoot(Mt){return Mt===this.hostEl?this.shadowRoot:Mt}appendChild(Mt,gt){return super.appendChild(this.nodeOrShadowRoot(Mt),gt)}insertBefore(Mt,gt,Lt){return super.insertBefore(this.nodeOrShadowRoot(Mt),gt,Lt)}removeChild(Mt,gt){return super.removeChild(null,gt)}parentNode(Mt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Mt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xe extends Te{constructor(Mt,gt,Lt,Ze,On,qn,hi,Be){super(Mt,On,qn,hi),this.sharedStylesHost=gt,this.removeStylesOnCompDestroy=Ze,this.styles=Be?Tt(Be,Lt.styles):Lt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class he extends xe{constructor(Mt,gt,Lt,Ze,On,qn,hi,Be){const Ce=Ze+"-"+Lt.id;super(Mt,gt,Lt,On,qn,hi,Be,Ce),this.contentAttr=function Xt(kt){return"_ngcontent-%COMP%".replace(le,kt)}(Ce),this.hostAttr=function zt(kt){return"_nghost-%COMP%".replace(le,kt)}(Ce)}applyToHost(Mt){this.applyStyles(),this.setAttribute(Mt,this.hostAttr,"")}createElement(Mt,gt){const Lt=super.createElement(Mt,gt);return super.setAttribute(Lt,this.contentAttr,""),Lt}}let Ae=(()=>{class kt extends Rt{constructor(gt){super(gt)}supports(gt){return!0}addEventListener(gt,Lt,Ze){return gt.addEventListener(Lt,Ze,!1),()=>this.removeEventListener(gt,Lt,Ze)}removeEventListener(gt,Lt,Ze){return gt.removeEventListener(Lt,Ze)}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(x.qQ))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac})}return kt})();const qt=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={alt:kt=>kt.altKey,control:kt=>kt.ctrlKey,meta:kt=>kt.metaKey,shift:kt=>kt.shiftKey};let ht=(()=>{class kt extends Rt{constructor(gt){super(gt)}supports(gt){return null!=kt.parseEventName(gt)}addEventListener(gt,Lt,Ze){const On=kt.parseEventName(Lt),qn=kt.eventCallback(On.fullKey,Ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,x.QT)().onAndCancel(gt,On.domEventName,qn))}static parseEventName(gt){const Lt=gt.toLowerCase().split("."),Ze=Lt.shift();if(0===Lt.length||"keydown"!==Ze&&"keyup"!==Ze)return null;const On=kt._normalizeKey(Lt.pop());let qn="",hi=Lt.indexOf("code");if(hi>-1&&(Lt.splice(hi,1),qn="code."),qt.forEach(Ce=>{const Gt=Lt.indexOf(Ce);Gt>-1&&(Lt.splice(Gt,1),qn+=Ce+".")}),qn+=On,0!=Lt.length||0===On.length)return null;const Be={};return Be.domEventName=Ze,Be.fullKey=qn,Be}static matchEventFullKeyCode(gt,Lt){let Ze=Ot[gt.key]||gt.key,On="";return Lt.indexOf("code.")>-1&&(Ze=gt.code,On="code."),!(null==Ze||!Ze)&&(Ze=Ze.toLowerCase()," "===Ze?Ze="space":"."===Ze&&(Ze="dot"),qt.forEach(qn=>{qn!==Ze&&(0,dt[qn])(gt)&&(On+=qn+".")}),On+=Ze,On===Lt)}static eventCallback(gt,Lt,Ze){return On=>{kt.matchEventFullKeyCode(On,gt)&&Ze.runGuarded(()=>Lt(On))}}static _normalizeKey(gt){return"esc"===gt?"escape":gt}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(x.qQ))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac})}return kt})();function Et(kt,Mt){return(0,G.TL3)({rootComponent:kt,...Ct(Mt)})}function Ct(kt){return{appProviders:[...Fn,...kt?.providers??[]],platformProviders:Oe}}const Oe=[{provide:G.Agw,useValue:x.AJ},{provide:G.PLl,useValue:function Vt(){lt.makeCurrent()},multi:!0},{provide:x.qQ,useFactory:function Ee(){return(0,G.TL$)(document),document},deps:[]}],Fn=[{provide:G.H8p,useValue:"root"},{provide:G.zcH,useFactory:function _e(){return new G.zcH},deps:[]},{provide:vt,useClass:Ae,multi:!0,deps:[x.qQ,G.SKi,G.Agw]},{provide:vt,useClass:ht,multi:!0,deps:[x.qQ]},de,jt,Dt,{provide:G._9s,useExisting:de},{provide:x.N0,useClass:ft,deps:[]},[]];let Ii=(()=>{class kt{constructor(gt){this._doc=gt}getTitle(){return this._doc.title}setTitle(gt){this._doc.title=gt||""}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(x.qQ))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac,providedIn:"root"})}return kt})(),Ie=(()=>{class kt{static#t=this.\u0275fac=function(Lt){return new(Lt||kt)};static#e=this.\u0275prov=G.jDH({token:kt,factory:function(Lt){let Ze=null;return Ze=Lt?new(Lt||kt):G.KVO(Ke),Ze},providedIn:"root"})}return kt})(),Ke=(()=>{class kt extends Ie{constructor(gt){super(),this._doc=gt}sanitize(gt,Lt){if(null==Lt)return null;switch(gt){case G.WPN.NONE:return Lt;case G.WPN.HTML:return(0,G.ZF7)(Lt,"HTML")?(0,G.rcV)(Lt):(0,G.h9k)(this._doc,String(Lt)).toString();case G.WPN.STYLE:return(0,G.ZF7)(Lt,"Style")?(0,G.rcV)(Lt):Lt;case G.WPN.SCRIPT:if((0,G.ZF7)(Lt,"Script"))return(0,G.rcV)(Lt);throw new G.wOt(5200,!1);case G.WPN.URL:return(0,G.ZF7)(Lt,"URL")?(0,G.rcV)(Lt):(0,G.$MX)(String(Lt));case G.WPN.RESOURCE_URL:if((0,G.ZF7)(Lt,"ResourceURL"))return(0,G.rcV)(Lt);throw new G.wOt(5201,!1);default:throw new G.wOt(5202,!1)}}bypassSecurityTrustHtml(gt){return(0,G.Kcf)(gt)}bypassSecurityTrustStyle(gt){return(0,G.cWb)(gt)}bypassSecurityTrustScript(gt){return(0,G.UyX)(gt)}bypassSecurityTrustUrl(gt){return(0,G.osQ)(gt)}bypassSecurityTrustResourceUrl(gt){return(0,G.e5t)(gt)}static#t=this.\u0275fac=function(Lt){return new(Lt||kt)(G.KVO(x.qQ))};static#e=this.\u0275prov=G.jDH({token:kt,factory:kt.\u0275fac,providedIn:"root"})}return kt})()},5263:(dn,re,P)=>{"use strict";P.d(re,{j5:()=>or,wF:()=>In,L6:()=>cr,Z:()=>Pn,gx:()=>mr,Ix:()=>yn,n3:()=>os,ld:()=>Pr,lh:()=>Xg,Zy:()=>Rr,GB:()=>oh,Sn:()=>Qa});var x=P(4291),G=P(7375),g=P(3467),lt=P(3204),ut=P(8093);const Bt=(0,P(7272).L)(N=>function(){N(this),this.name="EmptyError",this.message="no elements in sequence"});var At=P(103),ft=P(3279),vt=P(3777),Dt=P(3754),Rt=P(535),yt=P(4080),jt=P(3982),Ut=P(3479),le=P(1531),ve=P(1391);function Le(){return(0,le.N)((N,U)=>{let L=null;N._refCount++;const $=(0,ve._)(U,void 0,void 0,void 0,()=>{if(!N||N._refCount<=0||0<--N._refCount)return void(L=null);const J=N._connection,bt=L;L=null,J&&(!bt||J===bt)&&J.unsubscribe(),U.unsubscribe()});N.subscribe($),$.closed||(L=N.connect())})}class tn extends jt.c{constructor(U,L){super(),this.source=U,this.subjectFactory=L,this._subject=null,this._refCount=0,this._connection=null,(0,le.S)(U)&&(this.lift=U.lift)}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:U}=this;this._subject=this._connection=null,U?.unsubscribe()}connect(){let U=this._connection;if(!U){U=this._connection=new Ut.yU;const L=this.getSubject();U.add(this.source.subscribe((0,ve._)(L,void 0,()=>{this._teardown(),L.complete()},$=>{this._teardown(),L.error($)},()=>this._teardown()))),U.closed&&(this._connection=null,U=Ut.yU.EMPTY)}return U}refCount(){return Le()(this)}}var be=P(1071),We=P(9284),Xt=P(8199),zt=P(7071),Tt=P(5910),de=P(613),Te=P(2647),te=P(7252);function $t(N){return(0,le.N)((U,L)=>{let $=!1;U.subscribe((0,ve._)(L,J=>{$=!0,L.next(J)},()=>{$||L.next(N),L.complete()}))})}function Wt(N=De){return(0,le.N)((U,L)=>{let $=!1;U.subscribe((0,ve._)(L,J=>{$=!0,L.next(J)},()=>$?L.complete():L.error(N())))})}function De(){return new Bt}var xe=P(7992);function he(N,U){const L=arguments.length>=2;return $=>$.pipe(N?(0,Te.p)((J,bt)=>N(J,bt,$)):xe.D,(0,Tt.s)(1),L?$t(U):Wt(()=>new Bt))}var Ae=P(5799),qt=P(5044),Ot=P(1534),dt=P(1546);function ht(N){return N<=0?()=>yt.w:(0,le.N)((U,L)=>{let $=[];U.subscribe((0,ve._)(L,J=>{$.push(J),N<$.length&&$.shift()},()=>{for(const J of $)L.next(J);L.complete()},void 0,()=>{$=null}))})}var it=P(3498),Ct=P(4507),pt=P(3796),Vt=P(7294),_e=P(4845);const Ee="primary",Oe=Symbol("RouteTitle");class cn{constructor(U){this.params=U||{}}has(U){return Object.prototype.hasOwnProperty.call(this.params,U)}get(U){if(this.has(U)){const L=this.params[U];return Array.isArray(L)?L[0]:L}return null}getAll(U){if(this.has(U)){const L=this.params[U];return Array.isArray(L)?L:[L]}return[]}get keys(){return Object.keys(this.params)}}function Ln(N){return new cn(N)}function Di(N,U,L){const $=L.path.split("/");if($.length>N.length||"full"===L.pathMatch&&(U.hasChildren()||$.length<N.length))return null;const J={};for(let bt=0;bt<$.length;bt++){const ne=$[bt],rn=N[bt];if(":"===ne[0])J[ne.substring(1)]=rn;else if(ne!==rn.path)return null}return{consumed:N.slice(0,$.length),posParams:J}}function ii(N,U){const L=N?Si(N):void 0,$=U?Si(U):void 0;if(!L||!$||L.length!=$.length)return!1;let J;for(let bt=0;bt<L.length;bt++)if(J=L[bt],!ki(N[J],U[J]))return!1;return!0}function Si(N){return[...Object.keys(N),...Object.getOwnPropertySymbols(N)]}function ki(N,U){if(Array.isArray(N)&&Array.isArray(U)){if(N.length!==U.length)return!1;const L=[...N].sort(),$=[...U].sort();return L.every((J,bt)=>$[bt]===J)}return N===U}function Ii(N){return N.length>0?N[N.length-1]:null}function Fi(N){return(0,G.A)(N)?N:(0,x.jNT)(N)?(0,g.H)(Promise.resolve(N)):(0,lt.of)(N)}const Dn={exact:function me(N,U,L){if(!Ie(N.segments,U.segments)||!Qn(N.segments,U.segments,L)||N.numberOfChildren!==U.numberOfChildren)return!1;for(const $ in U.children)if(!N.children[$]||!me(N.children[$],U.children[$],L))return!1;return!0},subset:He},on={exact:function ue(N,U){return ii(N,U)},subset:function Qe(N,U){return Object.keys(U).length<=Object.keys(N).length&&Object.keys(U).every(L=>ki(N[L],U[L]))},ignored:()=>!0};function _t(N,U,L){return Dn[L.paths](N.root,U.root,L.matrixParams)&&on[L.queryParams](N.queryParams,U.queryParams)&&!("exact"===L.fragment&&N.fragment!==U.fragment)}function He(N,U,L){return sn(N,U,U.segments,L)}function sn(N,U,L,$){if(N.segments.length>L.length){const J=N.segments.slice(0,L.length);return!(!Ie(J,L)||U.hasChildren()||!Qn(J,L,$))}if(N.segments.length===L.length){if(!Ie(N.segments,L)||!Qn(N.segments,L,$))return!1;for(const J in U.children)if(!N.children[J]||!He(N.children[J],U.children[J],$))return!1;return!0}{const J=L.slice(0,N.segments.length),bt=L.slice(N.segments.length);return!!(Ie(N.segments,J)&&Qn(N.segments,J,$)&&N.children[Ee])&&sn(N.children[Ee],U,bt,$)}}function Qn(N,U,L){return U.every(($,J)=>on[L](N[J].parameters,$.parameters))}class ri{constructor(U=new we([],{}),L={},$=null){this.root=U,this.queryParams=L,this.fragment=$}get queryParamMap(){return this._queryParamMap??=Ln(this.queryParams),this._queryParamMap}toString(){return di.serialize(this)}}class we{constructor(U,L){this.segments=U,this.children=L,this.parent=null,Object.values(L).forEach($=>$.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Re(this)}}class gn{constructor(U,L){this.path=U,this.parameters=L}get parameterMap(){return this._parameterMap??=Ln(this.parameters),this._parameterMap}toString(){return gt(this)}}function Ie(N,U){return N.length===U.length&&N.every((L,$)=>L.path===U[$].path)}let Cn=(()=>{class N{static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:()=>new Rn,providedIn:"root"})}return N})();class Rn{parse(U){const L=new Ht(U);return new ri(L.parseRootSegment(),L.parseQueryParams(),L.parseFragment())}serialize(U){const L=`/${Mn(U.root,!0)}`,$=function Ze(N){const U=Object.entries(N).map(([L,$])=>Array.isArray($)?$.map(J=>`${wn(L)}=${wn(J)}`).join("&"):`${wn(L)}=${wn($)}`).filter(L=>L);return U.length?`?${U.join("&")}`:""}(U.queryParams);return`${L}${$}${"string"==typeof U.fragment?`#${function Ue(N){return encodeURI(N)}(U.fragment)}`:""}`}}const di=new Rn;function Re(N){return N.segments.map(U=>gt(U)).join("/")}function Mn(N,U){if(!N.hasChildren())return Re(N);if(U){const L=N.children[Ee]?Mn(N.children[Ee],!1):"",$=[];return Object.entries(N.children).forEach(([J,bt])=>{J!==Ee&&$.push(`${J}:${Mn(bt,!1)}`)}),$.length>0?`${L}(${$.join("//")})`:L}{const L=function Ke(N,U){let L=[];return Object.entries(N.children).forEach(([$,J])=>{$===Ee&&(L=L.concat(U(J,$)))}),Object.entries(N.children).forEach(([$,J])=>{$!==Ee&&(L=L.concat(U(J,$)))}),L}(N,($,J)=>J===Ee?[Mn(N.children[Ee],!1)]:[`${J}:${Mn($,!1)}`]);return 1===Object.keys(N.children).length&&null!=N.children[Ee]?`${Re(N)}/${L[0]}`:`${Re(N)}/(${L.join("//")})`}}function an(N){return encodeURIComponent(N).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(N){return an(N).replace(/%3B/gi,";")}function Nn(N){return an(N).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kt(N){return decodeURIComponent(N)}function Mt(N){return kt(N.replace(/\+/g,"%20"))}function gt(N){return`${Nn(N.path)}${function Lt(N){return Object.entries(N).map(([U,L])=>`;${Nn(U)}=${Nn(L)}`).join("")}(N.parameters)}`}const On=/^[^\/()?;#]+/;function qn(N){const U=N.match(On);return U?U[0]:""}const hi=/^[^\/()?;=#]+/,Ce=/^[^=?&#]+/,Me=/^[^&#]+/;class Ht{constructor(U){this.url=U,this.remaining=U}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){const U={};if(this.consumeOptional("?"))do{this.parseQueryParam(U)}while(this.consumeOptional("&"));return U}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const U=[];for(this.peekStartsWith("(")||U.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),U.push(this.parseSegment());let L={};this.peekStartsWith("/(")&&(this.capture("/"),L=this.parseParens(!0));let $={};return this.peekStartsWith("(")&&($=this.parseParens(!1)),(U.length>0||Object.keys(L).length>0)&&($[Ee]=new we(U,L)),$}parseSegment(){const U=qn(this.remaining);if(""===U&&this.peekStartsWith(";"))throw new x.wOt(4009,!1);return this.capture(U),new gn(kt(U),this.parseMatrixParams())}parseMatrixParams(){const U={};for(;this.consumeOptional(";");)this.parseParam(U);return U}parseParam(U){const L=function Be(N){const U=N.match(hi);return U?U[0]:""}(this.remaining);if(!L)return;this.capture(L);let $="";if(this.consumeOptional("=")){const J=qn(this.remaining);J&&($=J,this.capture($))}U[kt(L)]=kt($)}parseQueryParam(U){const L=function Gt(N){const U=N.match(Ce);return U?U[0]:""}(this.remaining);if(!L)return;this.capture(L);let $="";if(this.consumeOptional("=")){const ne=function Zt(N){const U=N.match(Me);return U?U[0]:""}(this.remaining);ne&&($=ne,this.capture($))}const J=Mt(L),bt=Mt($);if(U.hasOwnProperty(J)){let ne=U[J];Array.isArray(ne)||(ne=[ne],U[J]=ne),ne.push(bt)}else U[J]=bt}parseParens(U){const L={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const $=qn(this.remaining),J=this.remaining[$.length];if("/"!==J&&")"!==J&&";"!==J)throw new x.wOt(4010,!1);let bt;$.indexOf(":")>-1?(bt=$.slice(0,$.indexOf(":")),this.capture(bt),this.capture(":")):U&&(bt=Ee);const ne=this.parseChildren();L[bt]=1===Object.keys(ne).length?ne[Ee]:new we([],ne),this.consumeOptional("//")}return L}peekStartsWith(U){return this.remaining.startsWith(U)}consumeOptional(U){return!!this.peekStartsWith(U)&&(this.remaining=this.remaining.substring(U.length),!0)}capture(U){if(!this.consumeOptional(U))throw new x.wOt(4011,!1)}}function wt(N){return N.segments.length>0?new we([],{[Ee]:N}):N}function Yt(N){const U={};for(const[$,J]of Object.entries(N.children)){const bt=Yt(J);if($===Ee&&0===bt.segments.length&&bt.hasChildren())for(const[ne,rn]of Object.entries(bt.children))U[ne]=rn;else(bt.segments.length>0||bt.hasChildren())&&(U[$]=bt)}return function je(N){if(1===N.numberOfChildren&&N.children[Ee]){const U=N.children[Ee];return new we(N.segments.concat(U.segments),U.children)}return N}(new we(N.segments,U))}function Xe(N){return N instanceof ri}function Tr(N){let U;const J=wt(function L(bt){const ne={};for(const ze of bt.children){const Yn=L(ze);ne[ze.outlet]=Yn}const rn=new we(bt.url,ne);return bt===N&&(U=rn),rn}(N.root));return U??J}function to(N,U,L,$){let J=N;for(;J.parent;)J=J.parent;if(0===U.length)return Qt(J,J,J,L,$);const bt=function Pe(N){if("string"==typeof N[0]&&1===N.length&&"/"===N[0])return new Jt(!0,0,N);let U=0,L=!1;const $=N.reduce((J,bt,ne)=>{if("object"==typeof bt&&null!=bt){if(bt.outlets){const rn={};return Object.entries(bt.outlets).forEach(([ze,Yn])=>{rn[ze]="string"==typeof Yn?Yn.split("/"):Yn}),[...J,{outlets:rn}]}if(bt.segmentPath)return[...J,bt.segmentPath]}return"string"!=typeof bt?[...J,bt]:0===ne?(bt.split("/").forEach((rn,ze)=>{0==ze&&"."===rn||(0==ze&&""===rn?L=!0:".."===rn?U++:""!=rn&&J.push(rn))}),J):[...J,bt]},[]);return new Jt(L,U,$)}(U);if(bt.toRoot())return Qt(J,J,new we([],{}),L,$);const ne=function ge(N,U,L){if(N.isAbsolute)return new Ye(U,!0,0);if(!L)return new Ye(U,!1,NaN);if(null===L.parent)return new Ye(L,!0,0);const $=Xr(N.commands[0])?0:1;return function Sn(N,U,L){let $=N,J=U,bt=L;for(;bt>J;){if(bt-=J,$=$.parent,!$)throw new x.wOt(4005,!1);J=$.segments.length}return new Ye($,!1,J-bt)}(L,L.segments.length-1+$,N.numberOfDoubleDots)}(bt,J,N),rn=ne.processChildren?Vn(ne.segmentGroup,ne.index,bt.commands):Je(ne.segmentGroup,ne.index,bt.commands);return Qt(J,ne.segmentGroup,rn,L,$)}function Xr(N){return"object"==typeof N&&null!=N&&!N.outlets&&!N.segmentPath}function eo(N){return"object"==typeof N&&null!=N&&N.outlets}function Qt(N,U,L,$,J){let ne,bt={};$&&Object.entries($).forEach(([ze,Yn])=>{bt[ze]=Array.isArray(Yn)?Yn.map(Gi=>`${Gi}`):`${Yn}`}),ne=N===U?L:xn(N,U,L);const rn=wt(Yt(ne));return new ri(rn,bt,J)}function xn(N,U,L){const $={};return Object.entries(N.children).forEach(([J,bt])=>{$[J]=bt===U?L:xn(bt,U,L)}),new we(N.segments,$)}class Jt{constructor(U,L,$){if(this.isAbsolute=U,this.numberOfDoubleDots=L,this.commands=$,U&&$.length>0&&Xr($[0]))throw new x.wOt(4003,!1);const J=$.find(eo);if(J&&J!==Ii($))throw new x.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ye{constructor(U,L,$){this.segmentGroup=U,this.processChildren=L,this.index=$}}function Je(N,U,L){if(N??=new we([],{}),0===N.segments.length&&N.hasChildren())return Vn(N,U,L);const $=function si(N,U,L){let $=0,J=U;const bt={match:!1,pathIndex:0,commandIndex:0};for(;J<N.segments.length;){if($>=L.length)return bt;const ne=N.segments[J],rn=L[$];if(eo(rn))break;const ze=`${rn}`,Yn=$<L.length-1?L[$+1]:null;if(J>0&&void 0===ze)break;if(ze&&Yn&&"object"==typeof Yn&&void 0===Yn.outlets){if(!se(ze,Yn,ne))return bt;$+=2}else{if(!se(ze,{},ne))return bt;$++}J++}return{match:!0,pathIndex:J,commandIndex:$}}(N,U,L),J=L.slice($.commandIndex);if($.match&&$.pathIndex<N.segments.length){const bt=new we(N.segments.slice(0,$.pathIndex),{});return bt.children[Ee]=new we(N.segments.slice($.pathIndex),N.children),Vn(bt,0,J)}return $.match&&0===J.length?new we(N.segments,{}):$.match&&!N.hasChildren()?ci(N,U,L):$.match?Vn(N,0,J):ci(N,U,L)}function Vn(N,U,L){if(0===L.length)return new we(N.segments,{});{const $=function ke(N){return eo(N[0])?N[0].outlets:{[Ee]:N}}(L),J={};if(Object.keys($).some(bt=>bt!==Ee)&&N.children[Ee]&&1===N.numberOfChildren&&0===N.children[Ee].segments.length){const bt=Vn(N.children[Ee],U,L);return new we(N.segments,bt.children)}return Object.entries($).forEach(([bt,ne])=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(J[bt]=Je(N.children[bt],U,ne))}),Object.entries(N.children).forEach(([bt,ne])=>{void 0===$[bt]&&(J[bt]=ne)}),new we(N.segments,J)}}function ci(N,U,L){const $=N.segments.slice(0,U);let J=0;for(;J<L.length;){const bt=L[J];if(eo(bt)){const ze=ti(bt.outlets);return new we($,ze)}if(0===J&&Xr(L[0])){$.push(new gn(N.segments[U].path,xt(L[0]))),J++;continue}const ne=eo(bt)?bt.outlets[Ee]:`${bt}`,rn=J<L.length-1?L[J+1]:null;ne&&rn&&Xr(rn)?($.push(new gn(ne,xt(rn))),J+=2):($.push(new gn(ne,{})),J++)}return new we($,{})}function ti(N){const U={};return Object.entries(N).forEach(([L,$])=>{"string"==typeof $&&($=[$]),null!==$&&(U[L]=ci(new we([],{}),0,$))}),U}function xt(N){const U={};return Object.entries(N).forEach(([L,$])=>U[L]=`${$}`),U}function se(N,U,L){return N==L.path&&ii(U,L.parameters)}const ce="imperative";var Ne=function(N){return N[N.NavigationStart=0]="NavigationStart",N[N.NavigationEnd=1]="NavigationEnd",N[N.NavigationCancel=2]="NavigationCancel",N[N.NavigationError=3]="NavigationError",N[N.RoutesRecognized=4]="RoutesRecognized",N[N.ResolveStart=5]="ResolveStart",N[N.ResolveEnd=6]="ResolveEnd",N[N.GuardsCheckStart=7]="GuardsCheckStart",N[N.GuardsCheckEnd=8]="GuardsCheckEnd",N[N.RouteConfigLoadStart=9]="RouteConfigLoadStart",N[N.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",N[N.ChildActivationStart=11]="ChildActivationStart",N[N.ChildActivationEnd=12]="ChildActivationEnd",N[N.ActivationStart=13]="ActivationStart",N[N.ActivationEnd=14]="ActivationEnd",N[N.Scroll=15]="Scroll",N[N.NavigationSkipped=16]="NavigationSkipped",N}(Ne||{});class vn{constructor(U,L){this.id=U,this.url=L}}class Pn extends vn{constructor(U,L,$="imperative",J=null){super(U,L),this.type=Ne.NavigationStart,this.navigationTrigger=$,this.restoredState=J}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class In extends vn{constructor(U,L,$){super(U,L),this.urlAfterRedirects=$,this.type=Ne.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var pi=function(N){return N[N.Redirect=0]="Redirect",N[N.SupersededByNewNavigation=1]="SupersededByNewNavigation",N[N.NoDataFromResolver=2]="NoDataFromResolver",N[N.GuardRejected=3]="GuardRejected",N}(pi||{}),bi=function(N){return N[N.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",N[N.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",N}(bi||{});class or extends vn{constructor(U,L,$,J){super(U,L),this.reason=$,this.code=J,this.type=Ne.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jr extends vn{constructor(U,L,$,J){super(U,L),this.reason=$,this.code=J,this.type=Ne.NavigationSkipped}}class cr extends vn{constructor(U,L,$,J){super(U,L),this.error=$,this.target=J,this.type=Ne.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pr extends vn{constructor(U,L,$,J){super(U,L),this.urlAfterRedirects=$,this.state=J,this.type=Ne.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends vn{constructor(U,L,$,J){super(U,L),this.urlAfterRedirects=$,this.state=J,this.type=Ne.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends vn{constructor(U,L,$,J,bt){super(U,L),this.urlAfterRedirects=$,this.state=J,this.shouldActivate=bt,this.type=Ne.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vi extends vn{constructor(U,L,$,J){super(U,L),this.urlAfterRedirects=$,this.state=J,this.type=Ne.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends vn{constructor(U,L,$,J){super(U,L),this.urlAfterRedirects=$,this.state=J,this.type=Ne.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po{constructor(U){this.route=U,this.type=Ne.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ft{constructor(U){this.route=U,this.type=Ne.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Se{constructor(U){this.snapshot=U,this.type=Ne.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(U){this.snapshot=U,this.type=Ne.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class en{constructor(U){this.snapshot=U,this.type=Ne.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(U){this.snapshot=U,this.type=Ne.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{}class wr{constructor(U,L){this.url=U,this.navigationBehaviorOptions=L}}function Ms(N){return N.outlet||Ee}function ml(N){if(!N)return null;if(N.routeConfig?._injector)return N.routeConfig._injector;for(let U=N.parent;U;U=U.parent){const L=U.routeConfig;if(L?._loadedInjector)return L._loadedInjector;if(L?._injector)return L._injector}return null}class Ec{get injector(){return ml(this.route?.snapshot)??this.rootInjector}set injector(U){}constructor(U){this.rootInjector=U,this.outlet=null,this.route=null,this.children=new ca(this.rootInjector),this.attachRef=null}}let ca=(()=>{class N{constructor(L){this.rootInjector=L,this.contexts=new Map}onChildOutletCreated(L,$){const J=this.getOrCreateContext(L);J.outlet=$,this.contexts.set(L,J)}onChildOutletDestroyed(L){const $=this.getContext(L);$&&($.outlet=null,$.attachRef=null)}onOutletDeactivated(){const L=this.contexts;return this.contexts=new Map,L}onOutletReAttached(L){this.contexts=L}getOrCreateContext(L){let $=this.getContext(L);return $||($=new Ec(this.rootInjector),this.contexts.set(L,$)),$}getContext(L){return this.contexts.get(L)||null}static#t=this.\u0275fac=function($){return new($||N)(x.KVO(x.uvJ))};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();class wc{constructor(U){this._root=U}get root(){return this._root.value}parent(U){const L=this.pathFromRoot(U);return L.length>1?L[L.length-2]:null}children(U){const L=ua(U,this._root);return L?L.children.map($=>$.value):[]}firstChild(U){const L=ua(U,this._root);return L&&L.children.length>0?L.children[0].value:null}siblings(U){const L=Ha(U,this._root);return L.length<2?[]:L[L.length-2].children.map(J=>J.value).filter(J=>J!==U)}pathFromRoot(U){return Ha(U,this._root).map(L=>L.value)}}function ua(N,U){if(N===U.value)return U;for(const L of U.children){const $=ua(N,L);if($)return $}return null}function Ha(N,U){if(N===U.value)return[U];for(const L of U.children){const $=Ha(N,L);if($.length)return $.unshift(U),$}return[]}class Ar{constructor(U,L){this.value=U,this.children=L}toString(){return`TreeNode(${this.value})`}}function zo(N){const U={};return N&&N.children.forEach(L=>U[L.value.outlet]=L),U}class _i extends wc{constructor(U,L){super(U),this.snapshot=L,td(this,U)}toString(){return this.snapshot.toString()}}function Da(N){const U=function $a(N){const bt=new zl([],{},{},"",{},Ee,N,null,{});return new Ju("",new Ar(bt,[]))}(N),L=new ut.t([new gn("",{})]),$=new ut.t({}),J=new ut.t({}),bt=new ut.t({}),ne=new ut.t(""),rn=new da(L,$,bt,ne,J,Ee,N,U.root);return rn.snapshot=U.root,new _i(new Ar(rn,[]),U)}class da{constructor(U,L,$,J,bt,ne,rn,ze){this.urlSubject=U,this.paramsSubject=L,this.queryParamsSubject=$,this.fragmentSubject=J,this.dataSubject=bt,this.outlet=ne,this.component=rn,this._futureSnapshot=ze,this.title=this.dataSubject?.pipe((0,Xt.T)(Yn=>Yn[Oe]))??(0,lt.of)(void 0),this.url=U,this.params=L,this.queryParams=$,this.fragment=J,this.data=bt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Xt.T)(U=>Ln(U))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Xt.T)(U=>Ln(U))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xc(N,U,L="emptyOnly"){let $;const{routeConfig:J}=N;return $=null===U||"always"!==L&&""!==J?.path&&(U.component||U.routeConfig?.loadComponent)?{params:{...N.params},data:{...N.data},resolve:{...N.data,...N._resolvedData??{}}}:{params:{...U.params,...N.params},data:{...U.data,...N.data},resolve:{...N.data,...U.data,...J?.data,...N._resolvedData}},J&&Xd(J)&&($.resolve[Oe]=J.title),$}class zl{get title(){return this.data?.[Oe]}constructor(U,L,$,J,bt,ne,rn,ze,Yn){this.url=U,this.params=L,this.queryParams=$,this.fragment=J,this.data=bt,this.outlet=ne,this.component=rn,this.routeConfig=ze,this._resolve=Yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ln(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ln(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map($=>$.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ju extends wc{constructor(U,L){super(L),this.url=U,td(this,L)}toString(){return gl(this._root)}}function td(N,U){U.value._routerState=N,U.children.forEach(L=>td(N,L))}function gl(N){const U=N.children.length>0?` { ${N.children.map(gl).join(", ")} } `:"";return`${N.value}${U}`}function su(N){if(N.snapshot){const U=N.snapshot,L=N._futureSnapshot;N.snapshot=L,ii(U.queryParams,L.queryParams)||N.queryParamsSubject.next(L.queryParams),U.fragment!==L.fragment&&N.fragmentSubject.next(L.fragment),ii(U.params,L.params)||N.paramsSubject.next(L.params),function Fn(N,U){if(N.length!==U.length)return!1;for(let L=0;L<N.length;++L)if(!ii(N[L],U[L]))return!1;return!0}(U.url,L.url)||N.urlSubject.next(L.url),ii(U.data,L.data)||N.dataSubject.next(L.data)}else N.snapshot=N._futureSnapshot,N.dataSubject.next(N._futureSnapshot.data)}function Ul(N,U){const L=ii(N.params,U.params)&&function ae(N,U){return Ie(N,U)&&N.every((L,$)=>ii(L.parameters,U[$].parameters))}(N.url,U.url);return L&&!(!N.parent!=!U.parent)&&(!N.parent||Ul(N.parent,U.parent))}function Xd(N){return"string"==typeof N.title||null===N.title}let os=(()=>{class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new x.bkB,this.deactivateEvents=new x.bkB,this.attachEvents=new x.bkB,this.detachEvents=new x.bkB,this.parentContexts=(0,x.WQX)(ca),this.location=(0,x.WQX)(x.c1b),this.changeDetector=(0,x.WQX)(x.gRc),this.inputBinder=(0,x.WQX)(Vr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(L){if(L.name){const{firstChange:$,previousValue:J}=L.name;if($)return;this.isTrackedInParentContexts(J)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(J)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(L){return this.parentContexts.getContext(L)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const L=this.parentContexts.getContext(this.name);L?.route&&(L.attachRef?this.attach(L.attachRef,L.route):this.activateWith(L.route,L.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x.wOt(4012,!1);this.location.detach();const L=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(L.instance),L}attach(L,$){this.activated=L,this._activatedRoute=$,this.location.insert(L.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(L.instance)}deactivate(){if(this.activated){const L=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(L)}}activateWith(L,$){if(this.isActivated)throw new x.wOt(4013,!1);this._activatedRoute=L;const J=this.location,ne=L.snapshot.component,rn=this.parentContexts.getOrCreateContext(this.name).children,ze=new Ss(L,rn,J.injector);this.activated=J.createComponent(ne,{index:J.length,injector:ze,environmentInjector:$}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275dir=x.FsC({type:N,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[x.OA$]})}return N})();class Ss{__ngOutletInjector(U){return new Ss(this.route,this.childContexts,U)}constructor(U,L,$){this.route=U,this.childContexts=L,this.parent=$}get(U,L){return U===da?this.route:U===ca?this.childContexts:this.parent.get(U,L)}}const Vr=new x.nKC("");function Ta(N,U,L){if(L&&N.shouldReuseRoute(U.value,L.value.snapshot)){const $=L.value;$._futureSnapshot=U.value;const J=function Cc(N,U,L){return U.children.map($=>{for(const J of L.children)if(N.shouldReuseRoute($.value,J.value.snapshot))return Ta(N,$,J);return Ta(N,$)})}(N,U,L);return new Ar($,J)}{if(N.shouldAttach(U.value)){const bt=N.retrieve(U.value);if(null!==bt){const ne=bt.route;return ne.value._futureSnapshot=U.value,ne.children=U.children.map(rn=>Ta(N,rn)),ne}}const $=function Wa(N){return new da(new ut.t(N.url),new ut.t(N.params),new ut.t(N.queryParams),new ut.t(N.fragment),new ut.t(N.data),N.outlet,N.component,N)}(U.value),J=U.children.map(bt=>Ta(N,bt));return new Ar($,J)}}class Ka{constructor(U,L){this.redirectTo=U,this.navigationBehaviorOptions=L}}const Yd="ngNavigationCancelingError";function yl(N,U){const{redirectTo:L,navigationBehaviorOptions:$}=Xe(U)?{redirectTo:U,navigationBehaviorOptions:void 0}:U,J=Ao(!1,pi.Redirect);return J.url=L,J.navigationBehaviorOptions=$,J}function Ao(N,U){const L=new Error(`NavigationCancelingError: ${N||""}`);return L[Yd]=!0,L.cancellationCode=U,L}function bl(N){return!!N&&N[Yd]}class Xs{constructor(U,L,$,J,bt){this.routeReuseStrategy=U,this.futureState=L,this.currState=$,this.forwardEvent=J,this.inputBindingEnabled=bt}activate(U){const L=this.futureState._root,$=this.currState?this.currState._root:null;this.deactivateChildRoutes(L,$,U),su(this.futureState.root),this.activateChildRoutes(L,$,U)}deactivateChildRoutes(U,L,$){const J=zo(L);U.children.forEach(bt=>{const ne=bt.value.outlet;this.deactivateRoutes(bt,J[ne],$),delete J[ne]}),Object.values(J).forEach(bt=>{this.deactivateRouteAndItsChildren(bt,$)})}deactivateRoutes(U,L,$){const J=U.value,bt=L?L.value:null;if(J===bt)if(J.component){const ne=$.getContext(J.outlet);ne&&this.deactivateChildRoutes(U,L,ne.children)}else this.deactivateChildRoutes(U,L,$);else bt&&this.deactivateRouteAndItsChildren(L,$)}deactivateRouteAndItsChildren(U,L){U.value.component&&this.routeReuseStrategy.shouldDetach(U.value.snapshot)?this.detachAndStoreRouteSubtree(U,L):this.deactivateRouteAndOutlet(U,L)}detachAndStoreRouteSubtree(U,L){const $=L.getContext(U.value.outlet),J=$&&U.value.component?$.children:L,bt=zo(U);for(const ne of Object.values(bt))this.deactivateRouteAndItsChildren(ne,J);if($&&$.outlet){const ne=$.outlet.detach(),rn=$.children.onOutletDeactivated();this.routeReuseStrategy.store(U.value.snapshot,{componentRef:ne,route:U,contexts:rn})}}deactivateRouteAndOutlet(U,L){const $=L.getContext(U.value.outlet),J=$&&U.value.component?$.children:L,bt=zo(U);for(const ne of Object.values(bt))this.deactivateRouteAndItsChildren(ne,J);$&&($.outlet&&($.outlet.deactivate(),$.children.onOutletDeactivated()),$.attachRef=null,$.route=null)}activateChildRoutes(U,L,$){const J=zo(L);U.children.forEach(bt=>{this.activateRoutes(bt,J[bt.value.outlet],$),this.forwardEvent(new Bn(bt.value.snapshot))}),U.children.length&&this.forwardEvent(new Ve(U.value.snapshot))}activateRoutes(U,L,$){const J=U.value,bt=L?L.value:null;if(su(J),J===bt)if(J.component){const ne=$.getOrCreateContext(J.outlet);this.activateChildRoutes(U,L,ne.children)}else this.activateChildRoutes(U,L,$);else if(J.component){const ne=$.getOrCreateContext(J.outlet);if(this.routeReuseStrategy.shouldAttach(J.snapshot)){const rn=this.routeReuseStrategy.retrieve(J.snapshot);this.routeReuseStrategy.store(J.snapshot,null),ne.children.onOutletReAttached(rn.contexts),ne.attachRef=rn.componentRef,ne.route=rn.route.value,ne.outlet&&ne.outlet.attach(rn.componentRef,rn.route.value),su(rn.route.value),this.activateChildRoutes(U,null,ne.children)}else ne.attachRef=null,ne.route=J,ne.outlet&&ne.outlet.activateWith(J,ne.injector),this.activateChildRoutes(U,null,ne.children)}else this.activateChildRoutes(U,null,$)}}class sr{constructor(U){this.path=U,this.route=this.path[this.path.length-1]}}class ss{constructor(U,L){this.component=U,this.route=L}}function ed(N,U,L){const $=N._root;return Gl($,U?U._root:null,L,[$.value])}function Xa(N,U){const L=Symbol(),$=U.get(N,L);return $===L?"function"!=typeof N||(0,x.LfX)(N)?U.get(N):N:$}function Gl(N,U,L,$,J={canDeactivateChecks:[],canActivateChecks:[]}){const bt=zo(U);return N.children.forEach(ne=>{(function Hl(N,U,L,$,J={canDeactivateChecks:[],canActivateChecks:[]}){const bt=N.value,ne=U?U.value:null,rn=L?L.getContext(N.value.outlet):null;if(ne&&bt.routeConfig===ne.routeConfig){const ze=function Oi(N,U,L){if("function"==typeof L)return L(N,U);switch(L){case"pathParamsChange":return!Ie(N.url,U.url);case"pathParamsOrQueryParamsChange":return!Ie(N.url,U.url)||!ii(N.queryParams,U.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ul(N,U)||!ii(N.queryParams,U.queryParams);default:return!Ul(N,U)}}(ne,bt,bt.routeConfig.runGuardsAndResolvers);ze?J.canActivateChecks.push(new sr($)):(bt.data=ne.data,bt._resolvedData=ne._resolvedData),Gl(N,U,bt.component?rn?rn.children:null:L,$,J),ze&&rn&&rn.outlet&&rn.outlet.isActivated&&J.canDeactivateChecks.push(new ss(rn.outlet.component,ne))}else ne&&$l(U,rn,J),J.canActivateChecks.push(new sr($)),Gl(N,null,bt.component?rn?rn.children:null:L,$,J)})(ne,bt[ne.value.outlet],L,$.concat([ne.value]),J),delete bt[ne.value.outlet]}),Object.entries(bt).forEach(([ne,rn])=>$l(rn,L.getContext(ne),J)),J}function $l(N,U,L){const $=zo(N),J=N.value;Object.entries($).forEach(([bt,ne])=>{$l(ne,J.component?U?U.children.getContext(bt):null:U,L)}),L.canDeactivateChecks.push(new ss(J.component&&U&&U.outlet&&U.outlet.isActivated?U.outlet.component:null,J))}function Wl(N){return"function"==typeof N}function cu(N){return N instanceof Bt||"EmptyError"===N?.name}const id=Symbol("INITIAL_VALUE");function Z(){return(0,zt.n)(N=>(0,At.z)(N.map(U=>U.pipe((0,Tt.s)(1),(0,de.Z)(id)))).pipe((0,Xt.T)(U=>{for(const L of U)if(!0!==L){if(L===id)return id;if(!1===L||q(L))return L}return!0}),(0,Te.p)(U=>U!==id),(0,Tt.s)(1)))}function q(N){return Xe(N)||N instanceof Ka}function Tp(N){return(0,Dt.F)((0,qt.M)(U=>{if("boolean"!=typeof U)throw yl(0,U)}),(0,Xt.T)(U=>!0===U))}class Jd{constructor(U){this.segmentGroup=U||null}}class Ys extends Error{constructor(U){super(),this.urlTree=U}}function Zs(N){return(0,Rt.$)(new Jd(N))}class er{constructor(U,L){this.urlSerializer=U,this.urlTree=L}lineralizeSegments(U,L){let $=[],J=L.root;for(;;){if($=$.concat(J.segments),0===J.numberOfChildren)return(0,lt.of)($);if(J.numberOfChildren>1||!J.children[Ee])return(0,Rt.$)(new x.wOt(4e3,!1));J=J.children[Ee]}}applyRedirectCommands(U,L,$,J,bt){if("string"!=typeof L){const rn=L,{queryParams:ze,fragment:Yn,routeConfig:Gi,url:qi,outlet:mo,params:_l,data:ls,title:El}=J,qa=(0,x.N4e)(bt,()=>rn({params:_l,data:ls,queryParams:ze,fragment:Yn,routeConfig:Gi,url:qi,outlet:mo,title:El}));if(qa instanceof ri)throw new Ys(qa);L=qa}const ne=this.applyRedirectCreateUrlTree(L,this.urlSerializer.parse(L),U,$);if("/"===L[0])throw new Ys(ne);return ne}applyRedirectCreateUrlTree(U,L,$,J){const bt=this.createSegmentGroup(U,L.root,$,J);return new ri(bt,this.createQueryParams(L.queryParams,this.urlTree.queryParams),L.fragment)}createQueryParams(U,L){const $={};return Object.entries(U).forEach(([J,bt])=>{if("string"==typeof bt&&":"===bt[0]){const rn=bt.substring(1);$[J]=L[rn]}else $[J]=bt}),$}createSegmentGroup(U,L,$,J){const bt=this.createSegments(U,L.segments,$,J);let ne={};return Object.entries(L.children).forEach(([rn,ze])=>{ne[rn]=this.createSegmentGroup(U,ze,$,J)}),new we(bt,ne)}createSegments(U,L,$,J){return L.map(bt=>":"===bt.path[0]?this.findPosParam(U,bt,J):this.findOrReturn(bt,$))}findPosParam(U,L,$){const J=$[L.path.substring(1)];if(!J)throw new x.wOt(4001,!1);return J}findOrReturn(U,L){let $=0;for(const J of L){if(J.path===U.path)return L.splice($),J;$++}return U}}const wo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function as(N,U,L,$,J){const bt=Xl(N,U,L);return bt.matched?($=function $o(N,U){return N.providers&&!N._injector&&(N._injector=(0,x.Ol2)(N.providers,U,`Route: ${N.path}`)),N._injector??U}(U,$),function qd(N,U,L,$){const J=U.canMatch;if(!J||0===J.length)return(0,lt.of)(!0);const bt=J.map(ne=>{const rn=Xa(ne,N);return Fi(function zg(N){return N&&Wl(N.canMatch)}(rn)?rn.canMatch(U,L):(0,x.N4e)(N,()=>rn(U,L)))});return(0,lt.of)(bt).pipe(Z(),Tp())}($,U,L).pipe((0,Xt.T)(ne=>!0===ne?bt:{...wo}))):(0,lt.of)(bt)}function Xl(N,U,L){if("**"===U.path)return function Os(N){return{matched:!0,parameters:N.length>0?Ii(N).parameters:{},consumedSegments:N,remainingSegments:[],positionalParamSegments:{}}}(L);if(""===U.path)return"full"===U.pathMatch&&(N.hasChildren()||L.length>0)?{...wo}:{matched:!0,consumedSegments:[],remainingSegments:L,parameters:{},positionalParamSegments:{}};const J=(U.matcher||Di)(L,N,U);if(!J)return{...wo};const bt={};Object.entries(J.posParams??{}).forEach(([rn,ze])=>{bt[rn]=ze.path});const ne=J.consumed.length>0?{...bt,...J.consumed[J.consumed.length-1].parameters}:bt;return{matched:!0,consumedSegments:J.consumed,remainingSegments:L.slice(J.consumed.length),parameters:ne,positionalParamSegments:J.posParams??{}}}function uu(N,U,L,$){return L.length>0&&function du(N,U,L){return L.some($=>Qs(N,U,$)&&Ms($)!==Ee)}(N,L,$)?{segmentGroup:new we(U,Ya($,new we(L,N.children))),slicedSegments:[]}:0===L.length&&function rd(N,U,L){return L.some($=>Qs(N,U,$))}(N,L,$)?{segmentGroup:new we(N.segments,Yl(N,L,$,N.children)),slicedSegments:L}:{segmentGroup:new we(N.segments,N.children),slicedSegments:L}}function Yl(N,U,L,$){const J={};for(const bt of L)if(Qs(N,U,bt)&&!$[Ms(bt)]){const ne=new we([],{});J[Ms(bt)]=ne}return{...$,...J}}function Ya(N,U){const L={};L[Ee]=U;for(const $ of N)if(""===$.path&&Ms($)!==Ee){const J=new we([],{});L[Ms($)]=J}return L}function Qs(N,U,L){return(!(N.hasChildren()||U.length>0)||"full"!==L.pathMatch)&&""===L.path}class kp{}class cS{constructor(U,L,$,J,bt,ne,rn){this.injector=U,this.configLoader=L,this.rootComponentType=$,this.config=J,this.urlTree=bt,this.paramsInheritanceStrategy=ne,this.urlSerializer=rn,this.applyRedirects=new er(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(U){return new x.wOt(4002,`'${U.segmentGroup}'`)}recognize(){const U=uu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(U).pipe((0,Xt.T)(({children:L,rootSnapshot:$})=>{const J=new Ar($,L),bt=new Ju("",J),ne=function Jn(N,U,L=null,$=null){return to(Tr(N),U,L,$)}($,[],this.urlTree.queryParams,this.urlTree.fragment);return ne.queryParams=this.urlTree.queryParams,bt.url=this.urlSerializer.serialize(ne),{state:bt,tree:ne}}))}match(U){const L=new zl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,U,Ee,L).pipe((0,Xt.T)($=>({children:$,rootSnapshot:L})),(0,Ot.W)($=>{if($ instanceof Ys)return this.urlTree=$.urlTree,this.match($.urlTree.root);throw $ instanceof Jd?this.noMatchError($):$}))}processSegmentGroup(U,L,$,J,bt){return 0===$.segments.length&&$.hasChildren()?this.processChildren(U,L,$,bt):this.processSegment(U,L,$,$.segments,J,!0,bt).pipe((0,Xt.T)(ne=>ne instanceof Ar?[ne]:[]))}processChildren(U,L,$,J){const bt=[];for(const ne of Object.keys($.children))"primary"===ne?bt.unshift(ne):bt.push(ne);return(0,g.H)(bt).pipe((0,Ae.H)(ne=>{const rn=$.children[ne],ze=function qu(N,U){const L=N.filter($=>Ms($)===U);return L.push(...N.filter($=>Ms($)!==U)),L}(L,ne);return this.processSegmentGroup(U,ze,rn,ne,J)}),(0,dt.S)((ne,rn)=>(ne.push(...rn),ne)),$t(null),function Et(N,U){const L=arguments.length>=2;return $=>$.pipe(N?(0,Te.p)((J,bt)=>N(J,bt,$)):xe.D,ht(1),L?$t(U):Wt(()=>new Bt))}(),(0,te.Z)(ne=>{if(null===ne)return Zs($);const rn=Mc(ne);return function Hg(N){N.sort((U,L)=>U.value.outlet===Ee?-1:L.value.outlet===Ee?1:U.value.outlet.localeCompare(L.value.outlet))}(rn),(0,lt.of)(rn)}))}processSegment(U,L,$,J,bt,ne,rn){return(0,g.H)(L).pipe((0,Ae.H)(ze=>this.processSegmentAgainstRoute(ze._injector??U,L,ze,$,J,bt,ne,rn).pipe((0,Ot.W)(Yn=>{if(Yn instanceof Jd)return(0,lt.of)(null);throw Yn}))),he(ze=>!!ze),(0,Ot.W)(ze=>{if(cu(ze))return function Ug(N,U,L){return 0===U.length&&!N.children[L]}($,J,bt)?(0,lt.of)(new kp):Zs($);throw ze}))}processSegmentAgainstRoute(U,L,$,J,bt,ne,rn,ze){return Ms($)===ne||ne!==Ee&&Qs(J,bt,$)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(U,J,$,bt,ne,ze):this.allowRedirects&&rn?this.expandSegmentAgainstRouteUsingRedirect(U,J,L,$,bt,ne,ze):Zs(J):Zs(J)}expandSegmentAgainstRouteUsingRedirect(U,L,$,J,bt,ne,rn){const{matched:ze,parameters:Yn,consumedSegments:Gi,positionalParamSegments:qi,remainingSegments:mo}=Xl(L,J,bt);if(!ze)return Zs(L);"string"==typeof J.redirectTo&&"/"===J.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _l=new zl(bt,Yn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pf(J),Ms(J),J.component??J._loadedComponent??null,J,Zl(J)),ls=xc(_l,rn,this.paramsInheritanceStrategy);_l.params=Object.freeze(ls.params),_l.data=Object.freeze(ls.data);const El=this.applyRedirects.applyRedirectCommands(Gi,J.redirectTo,qi,_l,U);return this.applyRedirects.lineralizeSegments(J,El).pipe((0,te.Z)(qa=>this.processSegment(U,$,L,qa.concat(mo),ne,!1,rn)))}matchSegmentAgainstRoute(U,L,$,J,bt,ne){const rn=as(L,$,J,U);return"**"===$.path&&(L.children={}),rn.pipe((0,zt.n)(ze=>ze.matched?this.getChildConfig(U=$._injector??U,$,J).pipe((0,zt.n)(({routes:Yn})=>{const Gi=$._loadedInjector??U,{parameters:qi,consumedSegments:mo,remainingSegments:_l}=ze,ls=new zl(mo,qi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pf($),Ms($),$.component??$._loadedComponent??null,$,Zl($)),El=xc(ls,ne,this.paramsInheritanceStrategy);ls.params=Object.freeze(El.params),ls.data=Object.freeze(El.data);const{segmentGroup:qa,slicedSegments:sh}=uu(L,mo,_l,Yn);if(0===sh.length&&qa.hasChildren())return this.processChildren(Gi,Yn,qa,ls).pipe((0,Xt.T)(ah=>new Ar(ls,ah)));if(0===Yn.length&&0===sh.length)return(0,lt.of)(new Ar(ls,[]));const hE=Ms($)===bt;return this.processSegment(Gi,Yn,qa,sh,hE?Ee:bt,!0,ls).pipe((0,Xt.T)(ah=>new Ar(ls,ah instanceof Ar?[ah]:[])))})):Zs(L)))}getChildConfig(U,L,$){return L.children?(0,lt.of)({routes:L.children,injector:U}):L.loadChildren?void 0!==L._loadedRoutes?(0,lt.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):function df(N,U,L,$){const J=U.canLoad;if(void 0===J||0===J.length)return(0,lt.of)(!0);const bt=J.map(ne=>{const rn=Xa(ne,N);return Fi(function nd(N){return N&&Wl(N.canLoad)}(rn)?rn.canLoad(U,L):(0,x.N4e)(N,()=>rn(U,L)))});return(0,lt.of)(bt).pipe(Z(),Tp())}(U,L,$).pipe((0,te.Z)(J=>J?this.configLoader.loadChildren(U,L).pipe((0,qt.M)(bt=>{L._loadedRoutes=bt.routes,L._loadedInjector=bt.injector})):function Ap(){return(0,Rt.$)(Ao(!1,pi.GuardRejected))}())):(0,lt.of)({routes:[],injector:U})}}function $g(N){const U=N.value.routeConfig;return U&&""===U.path}function Mc(N){const U=[],L=new Set;for(const $ of N){if(!$g($)){U.push($);continue}const J=U.find(bt=>$.value.routeConfig===bt.value.routeConfig);void 0!==J?(J.children.push(...$.children),L.add(J)):U.push($)}for(const $ of L){const J=Mc($.children);U.push(new Ar($.value,J))}return U.filter($=>!L.has($))}function pf(N){return N.data||{}}function Zl(N){return N.resolve||{}}function eh(N){const U=N.children.map(L=>eh(L)).flat();return[N,...U]}function Ts(N){return(0,zt.n)(U=>{const L=N(U);return L?(0,g.H)(L).pipe((0,Xt.T)(()=>U)):(0,lt.of)(U)})}let Za=(()=>{class N{buildTitle(L){let $,J=L.root;for(;void 0!==J;)$=this.getResolvedTitleForRoute(J)??$,J=J.children.find(bt=>bt.outlet===Ee);return $}getResolvedTitleForRoute(L){return L.data[Oe]}static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:()=>(0,x.WQX)(Np),providedIn:"root"})}return N})(),Np=(()=>{class N extends Za{constructor(L){super(),this.title=L}updateTitle(L){const $=this.buildTitle(L);void 0!==$&&this.title.setTitle($)}static#t=this.\u0275fac=function($){return new($||N)(x.KVO(_e.hE))};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const nh=new x.nKC("",{providedIn:"root",factory:()=>({})});let Kg=(()=>{class N{static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275cmp=x.VBU({type:N,selectors:[["ng-component"]],standalone:!0,features:[x.aNF],decls:1,vars:0,template:function($,J){1&$&&x.nrm(0,"router-outlet")},dependencies:[os],encapsulation:2})}return N})();function od(N){const U=N.children&&N.children.map(od),L=U?{...N,children:U}:{...N};return!L.component&&!L.loadComponent&&(U||L.loadChildren)&&L.outlet&&L.outlet!==Ee&&(L.component=Kg),L}const Ql=new x.nKC("");let Lp=(()=>{class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,x.WQX)(x.Ql9)}loadComponent(L){if(this.componentLoaders.get(L))return this.componentLoaders.get(L);if(L._loadedComponent)return(0,lt.of)(L._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(L);const $=Fi(L.loadComponent()).pipe((0,Xt.T)(ql),(0,qt.M)(bt=>{this.onLoadEndListener&&this.onLoadEndListener(L),L._loadedComponent=bt}),(0,Ct.j)(()=>{this.componentLoaders.delete(L)})),J=new tn($,()=>new be.B).pipe(Le());return this.componentLoaders.set(L,J),J}loadChildren(L,$){if(this.childrenLoaders.get($))return this.childrenLoaders.get($);if($._loadedRoutes)return(0,lt.of)({routes:$._loadedRoutes,injector:$._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener($);const bt=function _y(N,U,L,$){return Fi(N.loadChildren()).pipe((0,Xt.T)(ql),(0,te.Z)(J=>J instanceof x.Co$||Array.isArray(J)?(0,lt.of)(J):(0,g.H)(U.compileModuleAsync(J))),(0,Xt.T)(J=>{$&&$(N);let bt,ne,rn=!1;return Array.isArray(J)?(ne=J,!0):(bt=J.create(L).injector,ne=bt.get(Ql,[],{optional:!0,self:!0}).flat()),{routes:ne.map(od),injector:bt}}))}($,this.compiler,L,this.onLoadEndListener).pipe((0,Ct.j)(()=>{this.childrenLoaders.delete($)})),ne=new tn(bt,()=>new be.B).pipe(Le());return this.childrenLoaders.set($,ne),ne}static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();function ql(N){return function qs(N){return N&&"object"==typeof N&&"default"in N}(N)?N.default:N}let ih=(()=>{class N{static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:()=>(0,x.WQX)(gf),providedIn:"root"})}return N})(),gf=(()=>{class N{shouldProcessUrl(L){return!0}extract(L){return L}merge(L,$){return L}static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const Sc=new x.nKC(""),st=new x.nKC("");let W=(()=>{class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be.B,this.transitionAbortSubject=new be.B,this.configLoader=(0,x.WQX)(Lp),this.environmentInjector=(0,x.WQX)(x.uvJ),this.urlSerializer=(0,x.WQX)(Cn),this.rootContexts=(0,x.WQX)(ca),this.location=(0,x.WQX)(We.aZ),this.inputBindingEnabled=null!==(0,x.WQX)(Vr,{optional:!0}),this.titleStrategy=(0,x.WQX)(Za),this.options=(0,x.WQX)(nh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,x.WQX)(ih),this.createViewTransition=(0,x.WQX)(Sc,{optional:!0}),this.navigationErrorHandler=(0,x.WQX)(st,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,lt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=J=>this.events.next(new Ft(J)),this.configLoader.onLoadStartListener=J=>this.events.next(new po(J))}complete(){this.transitions?.complete()}handleNavigationRequest(L){const $=++this.navigationId;this.transitions?.next({...this.transitions.value,...L,id:$})}setupNavigations(L,$,J){return this.transitions=new ut.t({id:0,currentUrlTree:$,currentRawUrl:$,extractedUrl:this.urlHandlingStrategy.extract($),urlAfterRedirects:this.urlHandlingStrategy.extract($),rawUrl:$,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ce,restoredState:null,currentSnapshot:J.snapshot,targetSnapshot:null,currentRouterState:J,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Te.p)(bt=>0!==bt.id),(0,Xt.T)(bt=>({...bt,extractedUrl:this.urlHandlingStrategy.extract(bt.rawUrl)})),(0,zt.n)(bt=>{let ne=!1,rn=!1;return(0,lt.of)(bt).pipe((0,zt.n)(ze=>{if(this.navigationId>bt.id)return this.cancelNavigationTransition(bt,"",pi.SupersededByNewNavigation),yt.w;this.currentTransition=bt,this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,targetBrowserUrl:"string"==typeof ze.extras.browserUrl?this.urlSerializer.parse(ze.extras.browserUrl):ze.extras.browserUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Yn=!L.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Yn&&"reload"!==(ze.extras.onSameUrlNavigation??L.onSameUrlNavigation)){const qi="";return this.events.next(new jr(ze.id,this.urlSerializer.serialize(ze.rawUrl),qi,bi.IgnoredSameUrlNavigation)),ze.resolve(!1),yt.w}if(this.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return(0,lt.of)(ze).pipe((0,zt.n)(qi=>{const mo=this.transitions?.getValue();return this.events.next(new Pn(qi.id,this.urlSerializer.serialize(qi.extractedUrl),qi.source,qi.restoredState)),mo!==this.transitions?.getValue()?yt.w:Promise.resolve(qi)}),function by(N,U,L,$,J,bt){return(0,te.Z)(ne=>function Gg(N,U,L,$,J,bt,ne="emptyOnly"){return new cS(N,U,L,$,J,ne,bt).recognize()}(N,U,L,$,ne.extractedUrl,J,bt).pipe((0,Xt.T)(({state:rn,tree:ze})=>({...ne,targetSnapshot:rn,urlAfterRedirects:ze}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,L.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,qt.M)(qi=>{bt.targetSnapshot=qi.targetSnapshot,bt.urlAfterRedirects=qi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:qi.urlAfterRedirects};const mo=new Pr(qi.id,this.urlSerializer.serialize(qi.extractedUrl),this.urlSerializer.serialize(qi.urlAfterRedirects),qi.targetSnapshot);this.events.next(mo)}));if(Yn&&this.urlHandlingStrategy.shouldProcessUrl(ze.currentRawUrl)){const{id:qi,extractedUrl:mo,source:_l,restoredState:ls,extras:El}=ze,qa=new Pn(qi,this.urlSerializer.serialize(mo),_l,ls);this.events.next(qa);const sh=Da(this.rootComponentType).snapshot;return this.currentTransition=bt={...ze,targetSnapshot:sh,urlAfterRedirects:mo,extras:{...El,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=mo,(0,lt.of)(bt)}{const qi="";return this.events.next(new jr(ze.id,this.urlSerializer.serialize(ze.extractedUrl),qi,bi.IgnoredByUrlHandlingStrategy)),ze.resolve(!1),yt.w}}),(0,qt.M)(ze=>{const Yn=new Yr(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot);this.events.next(Yn)}),(0,Xt.T)(ze=>(this.currentTransition=bt={...ze,guards:ed(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)},bt)),function H(N,U){return(0,te.Z)(L=>{const{targetSnapshot:$,currentSnapshot:J,guards:{canActivateChecks:bt,canDeactivateChecks:ne}}=L;return 0===ne.length&&0===bt.length?(0,lt.of)({...L,guardsResult:!0}):function mt(N,U,L,$){return(0,g.H)(N).pipe((0,te.Z)(J=>function Qd(N,U,L,$,J){const bt=U&&U.routeConfig?U.routeConfig.canDeactivate:null;if(!bt||0===bt.length)return(0,lt.of)(!0);const ne=bt.map(rn=>{const ze=ml(U)??J,Yn=Xa(rn,ze);return Fi(function uf(N){return N&&Wl(N.canDeactivate)}(Yn)?Yn.canDeactivate(N,U,L,$):(0,x.N4e)(ze,()=>Yn(N,U,L,$))).pipe(he())});return(0,lt.of)(ne).pipe(Z())}(J.component,J.route,L,U,$)),he(J=>!0!==J,!0))}(ne,$,J,N).pipe((0,te.Z)(rn=>rn&&function Op(N){return"boolean"==typeof N}(rn)?function fe(N,U,L,$){return(0,g.H)(U).pipe((0,Ae.H)(J=>(0,ft.x)(function ei(N,U){return null!==N&&U&&U(new Se(N)),(0,lt.of)(!0)}(J.route.parent,$),function mi(N,U){return null!==N&&U&&U(new en(N)),(0,lt.of)(!0)}(J.route,$),function Ds(N,U,L){const $=U[U.length-1],bt=U.slice(0,U.length-1).reverse().map(ne=>function lu(N){const U=N.routeConfig?N.routeConfig.canActivateChild:null;return U&&0!==U.length?{node:N,guards:U}:null}(ne)).filter(ne=>null!==ne).map(ne=>(0,vt.v)(()=>{const rn=ne.guards.map(ze=>{const Yn=ml(ne.node)??L,Gi=Xa(ze,Yn);return Fi(function Zd(N){return N&&Wl(N.canActivateChild)}(Gi)?Gi.canActivateChild($,N):(0,x.N4e)(Yn,()=>Gi($,N))).pipe(he())});return(0,lt.of)(rn).pipe(Z())}));return(0,lt.of)(bt).pipe(Z())}(N,J.path,L),function lo(N,U,L){const $=U.routeConfig?U.routeConfig.canActivate:null;if(!$||0===$.length)return(0,lt.of)(!0);const J=$.map(bt=>(0,vt.v)(()=>{const ne=ml(U)??L,rn=Xa(bt,ne);return Fi(function Kl(N){return N&&Wl(N.canActivate)}(rn)?rn.canActivate(U,N):(0,x.N4e)(ne,()=>rn(U,N))).pipe(he())}));return(0,lt.of)(J).pipe(Z())}(N,J.route,L))),he(J=>!0!==J,!0))}($,bt,N,U):(0,lt.of)(rn)),(0,Xt.T)(rn=>({...L,guardsResult:rn})))})}(this.environmentInjector,ze=>this.events.next(ze)),(0,qt.M)(ze=>{if(bt.guardsResult=ze.guardsResult,ze.guardsResult&&"boolean"!=typeof ze.guardsResult)throw yl(0,ze.guardsResult);const Yn=new fo(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.events.next(Yn)}),(0,Te.p)(ze=>!!ze.guardsResult||(this.cancelNavigationTransition(ze,"",pi.GuardRejected),!1)),Ts(ze=>{if(ze.guards.canActivateChecks.length)return(0,lt.of)(ze).pipe((0,qt.M)(Yn=>{const Gi=new Vi(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),this.urlSerializer.serialize(Yn.urlAfterRedirects),Yn.targetSnapshot);this.events.next(Gi)}),(0,zt.n)(Yn=>{let Gi=!1;return(0,lt.of)(Yn).pipe(function mf(N,U){return(0,te.Z)(L=>{const{targetSnapshot:$,guards:{canActivateChecks:J}}=L;if(!J.length)return(0,lt.of)(L);const bt=new Set(J.map(ze=>ze.route)),ne=new Set;for(const ze of bt)if(!ne.has(ze))for(const Yn of eh(ze))ne.add(Yn);let rn=0;return(0,g.H)(ne).pipe((0,Ae.H)(ze=>bt.has(ze)?function Ip(N,U,L,$){const J=N.routeConfig,bt=N._resolve;return void 0!==J?.title&&!Xd(J)&&(bt[Oe]=J.title),function Rp(N,U,L,$){const J=Si(N);if(0===J.length)return(0,lt.of)({});const bt={};return(0,g.H)(J).pipe((0,te.Z)(ne=>function Pp(N,U,L,$){const J=ml(U)??$,bt=Xa(N,J);return Fi(bt.resolve?bt.resolve(U,L):(0,x.N4e)(J,()=>bt(U,L)))}(N[ne],U,L,$).pipe(he(),(0,qt.M)(rn=>{if(rn instanceof Ka)throw yl(new Rn,rn);bt[ne]=rn}))),ht(1),(0,it.u)(bt),(0,Ot.W)(ne=>cu(ne)?yt.w:(0,Rt.$)(ne)))}(bt,N,U,$).pipe((0,Xt.T)(ne=>(N._resolvedData=ne,N.data=xc(N,N.parent,L).resolve,null)))}(ze,$,N,U):(ze.data=xc(ze,ze.parent,N).resolve,(0,lt.of)(void 0))),(0,qt.M)(()=>rn++),ht(1),(0,te.Z)(ze=>rn===ne.size?(0,lt.of)(L):yt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,qt.M)({next:()=>Gi=!0,complete:()=>{Gi||this.cancelNavigationTransition(Yn,"",pi.NoDataFromResolver)}}))}),(0,qt.M)(Yn=>{const Gi=new mr(Yn.id,this.urlSerializer.serialize(Yn.extractedUrl),this.urlSerializer.serialize(Yn.urlAfterRedirects),Yn.targetSnapshot);this.events.next(Gi)}))}),Ts(ze=>{const Yn=Gi=>{const qi=[];Gi.routeConfig?.loadComponent&&!Gi.routeConfig._loadedComponent&&qi.push(this.configLoader.loadComponent(Gi.routeConfig).pipe((0,qt.M)(mo=>{Gi.component=mo}),(0,Xt.T)(()=>{})));for(const mo of Gi.children)qi.push(...Yn(mo));return qi};return(0,At.z)(Yn(ze.targetSnapshot.root)).pipe($t(null),(0,Tt.s)(1))}),Ts(()=>this.afterPreactivation()),(0,zt.n)(()=>{const{currentSnapshot:ze,targetSnapshot:Yn}=bt,Gi=this.createViewTransition?.(this.environmentInjector,ze.root,Yn.root);return Gi?(0,g.H)(Gi).pipe((0,Xt.T)(()=>bt)):(0,lt.of)(bt)}),(0,Xt.T)(ze=>{const Yn=function Oa(N,U,L){const $=Ta(N,U._root,L?L._root:void 0);return new _i($,U)}(L.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return this.currentTransition=bt={...ze,targetRouterState:Yn},this.currentNavigation.targetRouterState=Yn,bt}),(0,qt.M)(()=>{this.events.next(new Ni)}),((N,U,L,$)=>(0,Xt.T)(J=>(new Xs(U,J.targetRouterState,J.currentRouterState,L,$).activate(N),J)))(this.rootContexts,L.routeReuseStrategy,ze=>this.events.next(ze),this.inputBindingEnabled),(0,Tt.s)(1),(0,qt.M)({next:ze=>{ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new In(ze.id,this.urlSerializer.serialize(ze.extractedUrl),this.urlSerializer.serialize(ze.urlAfterRedirects))),this.titleStrategy?.updateTitle(ze.targetRouterState.snapshot),ze.resolve(!0)},complete:()=>{ne=!0}}),(0,pt.Q)(this.transitionAbortSubject.pipe((0,qt.M)(ze=>{throw ze}))),(0,Ct.j)(()=>{!ne&&!rn&&this.cancelNavigationTransition(bt,"",pi.SupersededByNewNavigation),this.currentTransition?.id===bt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,Ot.W)(ze=>{if(rn=!0,bl(ze))this.events.next(new or(bt.id,this.urlSerializer.serialize(bt.extractedUrl),ze.message,ze.cancellationCode)),function au(N){return bl(N)&&Xe(N.url)}(ze)?this.events.next(new wr(ze.url,ze.navigationBehaviorOptions)):bt.resolve(!1);else{const Yn=new cr(bt.id,this.urlSerializer.serialize(bt.extractedUrl),ze,bt.targetSnapshot??void 0);try{const Gi=(0,x.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Yn));if(Gi instanceof Ka){const{message:qi,cancellationCode:mo}=yl(0,Gi);this.events.next(new or(bt.id,this.urlSerializer.serialize(bt.extractedUrl),qi,mo)),this.events.next(new wr(Gi.redirectTo,Gi.navigationBehaviorOptions))}else{this.events.next(Yn);const qi=L.errorHandler(ze);bt.resolve(!!qi)}}catch(Gi){this.options.resolveNavigationPromiseOnError?bt.resolve(!1):bt.reject(Gi)}}return yt.w}))}))}cancelNavigationTransition(L,$,J){const bt=new or(L.id,this.urlSerializer.serialize(L.extractedUrl),$,J);this.events.next(bt),L.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const L=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),$=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return L.toString()!==$?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();function nt(N){return N!==ce}let ee=(()=>{class N{static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:()=>(0,x.WQX)(_n),providedIn:"root"})}return N})();class nn{shouldDetach(U){return!1}store(U,L){}shouldAttach(U){return!1}retrieve(U){return null}shouldReuseRoute(U,L){return U.routeConfig===L.routeConfig}}let _n=(()=>{class N extends nn{static#t=this.\u0275fac=(()=>{let L;return function(J){return(L||(L=x.xGo(N)))(J||N)}})();static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})(),ui=(()=>{class N{static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:()=>(0,x.WQX)(xr),providedIn:"root"})}return N})(),xr=(()=>{class N extends ui{constructor(){super(...arguments),this.location=(0,x.WQX)(We.aZ),this.urlSerializer=(0,x.WQX)(Cn),this.options=(0,x.WQX)(nh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,x.WQX)(ih),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Da(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(L){return this.location.subscribe($=>{"popstate"===$.type&&L($.url,$.state)})}handleRouterEvent(L,$){if(L instanceof Pn)this.stateMemento=this.createStateMemento();else if(L instanceof jr)this.rawUrlTree=$.initialUrl;else if(L instanceof Pr){if("eager"===this.urlUpdateStrategy&&!$.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge($.finalUrl,$.initialUrl);this.setBrowserUrl($.targetBrowserUrl??J,$)}}else L instanceof Ni?(this.currentUrlTree=$.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge($.finalUrl,$.initialUrl),this.routerState=$.targetRouterState,"deferred"===this.urlUpdateStrategy&&!$.extras.skipLocationChange&&this.setBrowserUrl($.targetBrowserUrl??this.rawUrlTree,$)):L instanceof or&&(L.code===pi.GuardRejected||L.code===pi.NoDataFromResolver)?this.restoreHistory($):L instanceof cr?this.restoreHistory($,!0):L instanceof In&&(this.lastSuccessfulId=L.id,this.currentPageId=this.browserPageId)}setBrowserUrl(L,$){const J=L instanceof ri?this.urlSerializer.serialize(L):L;if(this.location.isCurrentPathEqualTo(J)||$.extras.replaceUrl){const ne={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId)};this.location.replaceState(J,"",ne)}else{const bt={...$.extras.state,...this.generateNgRouterState($.id,this.browserPageId+1)};this.location.go(J,"",bt)}}restoreHistory(L,$=!1){if("computed"===this.canceledNavigationResolution){const bt=this.currentPageId-this.browserPageId;0!==bt?this.location.historyGo(bt):this.currentUrlTree===L.finalUrl&&0===bt&&(this.resetState(L),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&($&&this.resetState(L),this.resetUrlToCurrentUrlTree())}resetState(L){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,L.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(L,$){return"computed"===this.canceledNavigationResolution?{navigationId:L,\u0275routerPageId:$}:{navigationId:L}}static#t=this.\u0275fac=(()=>{let L;return function(J){return(L||(L=x.xGo(N)))(J||N)}})();static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();var Nr=function(N){return N[N.COMPLETE=0]="COMPLETE",N[N.FAILED=1]="FAILED",N[N.REDIRECTING=2]="REDIRECTING",N}(Nr||{});function kr(N,U){N.events.pipe((0,Te.p)(L=>L instanceof In||L instanceof or||L instanceof cr||L instanceof jr),(0,Xt.T)(L=>L instanceof In||L instanceof jr?Nr.COMPLETE:L instanceof or&&(L.code===pi.Redirect||L.code===pi.SupersededByNewNavigation)?Nr.REDIRECTING:Nr.FAILED),(0,Te.p)(L=>L!==Nr.REDIRECTING),(0,Tt.s)(1)).subscribe(()=>{U()})}function ur(N){throw N}const pr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ti={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yn=(()=>{class N{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,x.WQX)(x.H3F),this.stateManager=(0,x.WQX)(ui),this.options=(0,x.WQX)(nh,{optional:!0})||{},this.pendingTasks=(0,x.WQX)(x.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,x.WQX)(W),this.urlSerializer=(0,x.WQX)(Cn),this.location=(0,x.WQX)(We.aZ),this.urlHandlingStrategy=(0,x.WQX)(ih),this._events=new be.B,this.errorHandler=this.options.errorHandler||ur,this.navigated=!1,this.routeReuseStrategy=(0,x.WQX)(ee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,x.WQX)(Ql,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,x.WQX)(Vr,{optional:!0}),this.eventsSubscription=new Ut.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:L=>{this.console.warn(L)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const L=this.navigationTransitions.events.subscribe($=>{try{const J=this.navigationTransitions.currentTransition,bt=this.navigationTransitions.currentNavigation;if(null!==J&&null!==bt)if(this.stateManager.handleRouterEvent($,bt),$ instanceof or&&$.code!==pi.Redirect&&$.code!==pi.SupersededByNewNavigation)this.navigated=!0;else if($ instanceof In)this.navigated=!0;else if($ instanceof wr){const ne=$.navigationBehaviorOptions,rn=this.urlHandlingStrategy.merge($.url,J.currentRawUrl),ze={browserUrl:J.extras.browserUrl,info:J.extras.info,skipLocationChange:J.extras.skipLocationChange,replaceUrl:J.extras.replaceUrl||"eager"===this.urlUpdateStrategy||nt(J.source),...ne};this.scheduleNavigation(rn,ce,null,ze,{resolve:J.resolve,reject:J.reject,promise:J.promise})}(function Sr(N){return!(N instanceof Ni||N instanceof wr)})($)&&this._events.next($)}catch(J){this.navigationTransitions.transitionAbortSubject.next(J)}});this.eventsSubscription.add(L)}resetRootComponentType(L){this.routerState.root.component=L,this.navigationTransitions.rootComponentType=L}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ce,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((L,$)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(L,"popstate",$)},0)})}navigateToSyncWithBrowser(L,$,J){const bt={replaceUrl:!0},ne=J?.navigationId?J:null;if(J){const ze={...J};delete ze.navigationId,delete ze.\u0275routerPageId,0!==Object.keys(ze).length&&(bt.state=ze)}const rn=this.parseUrl(L);this.scheduleNavigation(rn,$,ne,bt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(L){this.config=L.map(od),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(L,$={}){const{relativeTo:J,queryParams:bt,fragment:ne,queryParamsHandling:rn,preserveFragment:ze}=$,Yn=ze?this.currentUrlTree.fragment:ne;let qi,Gi=null;switch(rn??this.options.defaultQueryParamsHandling){case"merge":Gi={...this.currentUrlTree.queryParams,...bt};break;case"preserve":Gi=this.currentUrlTree.queryParams;break;default:Gi=bt||null}null!==Gi&&(Gi=this.removeEmptyProps(Gi));try{qi=Tr(J?J.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof L[0]||"/"!==L[0][0])&&(L=[]),qi=this.currentUrlTree.root}return to(qi,L,Gi,Yn??null)}navigateByUrl(L,$={skipLocationChange:!1}){const J=Xe(L)?L:this.parseUrl(L),bt=this.urlHandlingStrategy.merge(J,this.rawUrlTree);return this.scheduleNavigation(bt,ce,null,$)}navigate(L,$={skipLocationChange:!1}){return function wi(N){for(let U=0;U<N.length;U++)if(null==N[U])throw new x.wOt(4008,!1)}(L),this.navigateByUrl(this.createUrlTree(L,$),$)}serializeUrl(L){return this.urlSerializer.serialize(L)}parseUrl(L){try{return this.urlSerializer.parse(L)}catch{return this.urlSerializer.parse("/")}}isActive(L,$){let J;if(J=!0===$?{...pr}:!1===$?{...Ti}:$,Xe(L))return _t(this.currentUrlTree,L,J);const bt=this.parseUrl(L);return _t(this.currentUrlTree,bt,J)}removeEmptyProps(L){return Object.entries(L).reduce(($,[J,bt])=>(null!=bt&&($[J]=bt),$),{})}scheduleNavigation(L,$,J,bt,ne){if(this.disposed)return Promise.resolve(!1);let rn,ze,Yn;ne?(rn=ne.resolve,ze=ne.reject,Yn=ne.promise):Yn=new Promise((qi,mo)=>{rn=qi,ze=mo});const Gi=this.pendingTasks.add();return kr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gi))}),this.navigationTransitions.handleNavigationRequest({source:$,restoredState:J,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:L,extras:bt,resolve:rn,reject:ze,promise:Yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Yn.catch(qi=>Promise.reject(qi))}static#t=this.\u0275fac=function($){return new($||N)};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();class Fs{}let ha=(()=>{class N{constructor(L,$,J,bt,ne){this.router=L,this.injector=J,this.preloadingStrategy=bt,this.loader=ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,Te.p)(L=>L instanceof In),(0,Ae.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(L,$){const J=[];for(const bt of $){bt.providers&&!bt._injector&&(bt._injector=(0,x.Ol2)(bt.providers,L,`Route: ${bt.path}`));const ne=bt._injector??L,rn=bt._loadedInjector??ne;(bt.loadChildren&&!bt._loadedRoutes&&void 0===bt.canLoad||bt.loadComponent&&!bt._loadedComponent)&&J.push(this.preloadConfig(ne,bt)),(bt.children||bt._loadedRoutes)&&J.push(this.processRoutes(rn,bt.children??bt._loadedRoutes))}return(0,g.H)(J).pipe((0,Vt.U)())}preloadConfig(L,$){return this.preloadingStrategy.preload($,()=>{let J;J=$.loadChildren&&void 0===$.canLoad?this.loader.loadChildren(L,$):(0,lt.of)(null);const bt=J.pipe((0,te.Z)(ne=>null===ne?(0,lt.of)(void 0):($._loadedRoutes=ne.routes,$._loadedInjector=ne.injector,this.processRoutes(ne.injector??L,ne.routes))));if($.loadComponent&&!$._loadedComponent){const ne=this.loader.loadComponent($);return(0,g.H)([bt,ne]).pipe((0,Vt.U)())}return bt})}static#t=this.\u0275fac=function($){return new($||N)(x.KVO(yn),x.KVO(x.Ql9),x.KVO(x.uvJ),x.KVO(Fs),x.KVO(Lp))};static#e=this.\u0275prov=x.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})();const Bi=new x.nKC("");function Xg(N,...U){return(0,x.EmA)([{provide:Ql,multi:!0,useValue:N},[],{provide:da,useFactory:ad,deps:[yn]},{provide:x.iLQ,multi:!0,useFactory:jp},U.map(L=>L.\u0275providers)])}function ad(N){return N.routerState.root}function Ir(N,U){return{\u0275kind:N,\u0275providers:U}}function jp(){const N=(0,x.WQX)(x.zZn);return U=>{const L=N.get(x.o8S);if(U!==L.components[0])return;const $=N.get(yn),J=N.get(Jl);1===N.get(Aa)&&$.initialNavigation(),N.get(As,null,x.$GK.Optional)?.setUpPreloading(),N.get(Bi,null,x.$GK.Optional)?.init(),$.resetRootComponentType(L.componentTypes[0]),J.closed||(J.next(),J.complete(),J.unsubscribe())}}const Jl=new x.nKC("",{factory:()=>new be.B}),Aa=new x.nKC("",{providedIn:"root",factory:()=>1});function Rr(){return Ir(2,[{provide:Aa,useValue:0},{provide:x.hnV,multi:!0,deps:[x.zZn],useFactory:U=>{const L=U.get(We.hj,Promise.resolve());return()=>L.then(()=>new Promise($=>{const J=U.get(yn),bt=U.get(Jl);kr(J,()=>{$(!0)}),U.get(W).afterPreactivation=()=>($(!0),bt.closed?(0,lt.of)(void 0):bt),J.initialNavigation()}))}}])}const As=new x.nKC("");function Qa(N){return Ir(0,[{provide:As,useExisting:ha},{provide:Fs,useExisting:N}])}function oh(){return Ir(6,[{provide:We.hb,useClass:We.fw}])}},2308:(dn,re,P)=>{"use strict";P.d(re,{Lt:()=>Nn,bA:()=>gt,Q8:()=>On,JO:()=>Re,$o:()=>qn});var x=P(4291),G=P(3204),g=P(5910),lt=P(3467),ut=P(8199),et=P(1071),Bt=P(8093),At=P(745),ft=P(1531),vt=P(1391),Dt=P(7992),Rt=P(2388),yt=P(4637),Ut=P(5044),le=P(1534),ve=P(7621),Le=P(7071),tn=P(103),be=P(4080),We=P(7083);function Xt(Qt){return Qt&&Qt.constructor&&"function"==typeof Qt.constructor.isBuffer&&Qt.constructor.isBuffer(Qt)}function zt(Qt){return Qt}function Tt(Qt,xn){const Jt=(xn=xn||{}).delimiter||".",Pe=xn.maxDepth,Ye=xn.transformKey||zt,ge={};return function Sn(ke,Je,Vn){Vn=Vn||1,Object.keys(ke).forEach(function(si){const ci=ke[si],ti=xn.safe&&Array.isArray(ci),xt=Object.prototype.toString.call(ci),se=Xt(ci),ce="[object Object]"===xt||"[object Array]"===xt,Ne=Je?Je+Jt+Ye(si):Ye(si);if(!ti&&!se&&ce&&Object.keys(ci).length&&(!xn.maxDepth||Vn<Pe))return Sn(ci,Ne,Vn+1);ge[Ne]=ci})}(Qt),ge}function de(Qt,xn){const Jt=(xn=xn||{}).delimiter||".",Pe=xn.overwrite||!1,Ye=xn.transformKey||zt,ge={};if(Xt(Qt)||"[object Object]"!==Object.prototype.toString.call(Qt))return Qt;function ke(si){const ci=Number(si);return isNaN(ci)||-1!==si.indexOf(".")||xn.object?si:ci}return Qt=Object.keys(Qt).reduce(function(si,ci){const ti=Object.prototype.toString.call(Qt[ci]);return"[object Object]"!==ti&&"[object Array]"!==ti||function Vn(si){const ci=Object.prototype.toString.call(si);return!si||("[object Array]"===ci?!si.length:"[object Object]"===ci?!Object.keys(si).length:void 0)}(Qt[ci])?(si[ci]=Qt[ci],si):function Je(si,ci,ti){return Object.keys(ti).reduce(function(xt,se){return xt[si+Jt+se]=ti[se],xt},ci)}(ci,si,Tt(Qt[ci],xn))},{}),Object.keys(Qt).forEach(function(si){const ci=si.split(Jt).map(Ye);let ti=ke(ci.shift()),xt=ke(ci[0]),se=ge;for(;void 0!==xt;){if("__proto__"===ti)return;const ce=Object.prototype.toString.call(se[ti]),Ne="[object Object]"===ce||"[object Array]"===ce;if(!Pe&&!Ne&&typeof se[ti]<"u")return;(Pe&&!Ne||!Pe&&null==se[ti])&&(se[ti]="number"!=typeof xt||xn.object?{}:[]),se=se[ti],ci.length>0&&(ti=ke(ci.shift()),xt=ke(ci[0]))}se[ti]=de(Qt[si],xn)}),ge}class Te{translations;constructor(xn){this.translations=xn}getTranslation(xn){return(0,G.of)(this.translations.get(xn)||{})}}const te=new x.nKC("TRANSLOCO_LOADER");function $t(Qt,xn){return Qt&&(Object.prototype.hasOwnProperty.call(Qt,xn)?Qt[xn]:xn.split(".").reduce((Jt,Pe)=>Jt?.[Pe],Qt))}function De(Qt){return Qt?Array.isArray(Qt)?Qt.length:Ot(Qt)?Object.keys(Qt).length:Qt?Qt.length:0:0}function Ae(Qt){return"string"==typeof Qt}function Ot(Qt){return!!Qt&&"object"==typeof Qt&&!Array.isArray(Qt)}function ht(Qt){return Qt.replace(/(?:^\w|[A-Z]|\b\w)/g,(xn,Jt)=>0==Jt?xn.toLowerCase():xn.toUpperCase()).replace(/\s+|_|-|\//g,"")}function it(Qt){return null==Qt}function Ct(Qt){return!1===it(Qt)}function Vt(Qt){return Qt&&"string"==typeof Qt.scope}function Oe(Qt){return Tt(Qt,{safe:!0})}const cn=new x.nKC("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>Ln}),Ln={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,fallbackLang:[],availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"],scopes:{keepCasing:!1}};function Di(Qt={}){return{...Ln,...Qt,missingHandler:{...Ln.missingHandler,...Qt.missingHandler},flatten:{...Ln.flatten,...Qt.flatten},scopes:{...Ln.scopes,...Qt.scopes}}}const Fn=new x.nKC("TRANSLOCO_TRANSPILER");let ii=(()=>{class Qt{config=(0,x.WQX)(cn,{optional:!0})??Ln;get interpolationMatcher(){return function Si(Qt){const[xn,Jt]=Qt.interpolation;return new RegExp(`${xn}([^${xn}${Jt}]*?)${Jt}`,"g")}(this.config)}transpile({value:Jt,params:Pe={},translation:Ye,key:ge}){if(Ae(Jt)){let Sn,ke=Jt;for(;null!==(Sn=this.interpolationMatcher.exec(ke));){const[Je,Vn]=Sn;ke=ke.replace(Je,()=>{const si=Vn.trim(),ci=$t(Pe,si);return Ct(ci)?ci:Ct(Ye[si])?this.transpile({params:Pe,translation:Ye,key:ge,value:Ye[si]}):""})}return ke}return Pe&&(Ot(Jt)?Jt=this.handleObject({value:Jt,params:Pe,translation:Ye,key:ge}):Array.isArray(Jt)&&(Jt=this.handleArray({value:Jt,params:Pe,translation:Ye,key:ge}))),Jt}handleObject({value:Jt,params:Pe={},translation:Ye,key:ge}){let Sn=Jt;return Object.keys(Pe).forEach(ke=>{const Je=this.transpile({value:$t(Sn,ke),params:$t(Pe,ke),translation:Ye,key:ge});Sn=function Wt(Qt,xn,Jt){Qt={...Qt};const Pe=xn.split("."),Ye=Pe.length-1;return Pe.reduce((ge,Sn,ke)=>(ge[Sn]=ke===Ye?Jt:Array.isArray(ge[Sn])?ge[Sn].slice():{...ge[Sn]},ge&&ge[Sn]),Qt),Qt}(Sn,ke,Je)}),Sn}handleArray({value:Jt,...Pe}){return Jt.map(Ye=>this.transpile({value:Ye,...Pe}))}static \u0275fac=function(Pe){return new(Pe||Qt)};static \u0275prov=x.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const Fi=new x.nKC("TRANSLOCO_MISSING_HANDLER");let Dn=(()=>{class Qt{handle(Jt,Pe){return Pe.missingHandler.logMissingKey&&!Pe.prodMode&&console.warn(`%c Missing translation for '${Jt}'`,"font-size: 12px; color: red"),Jt}static \u0275fac=function(Pe){return new(Pe||Qt)};static \u0275prov=x.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const on=new x.nKC("TRANSLOCO_INTERCEPTOR");let _t=(()=>{class Qt{preSaveTranslation(Jt){return Jt}preSaveTranslationKey(Jt,Pe){return Pe}static \u0275fac=function(Pe){return new(Pe||Qt)};static \u0275prov=x.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();const ue=new x.nKC("TRANSLOCO_FALLBACK_STRATEGY");let Cn,me=(()=>{class Qt{userConfig;constructor(Jt){this.userConfig=Jt}getNextLangs(){const Jt=this.userConfig.fallbackLang;if(!Jt)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(Jt)?Jt:[Jt]}static \u0275fac=function(Pe){return new(Pe||Qt)(x.KVO(cn))};static \u0275prov=x.jDH({token:Qt,factory:Qt.\u0275fac})}return Qt})();function Qe(Qt){if(!Qt)return"";const xn=Qt.split("/");return xn.pop(),xn.join("/")}function He(Qt){return Qt?Qt.split("/").pop():""}function sn(Qt,xn,Jt="|"){if(Ae(Qt)){const Pe=Qt.split(Jt),Ye=Pe.pop();return Ye===xn?[!0,Pe.toString()]:[!1,Ye]}return[!1,""]}function gn(Qt,xn){return function _e(Qt){return Qt&&Ot(Qt.loader)}(Qt)?function we(Qt,xn){return Object.keys(Qt).reduce((Jt,Pe)=>(Jt[`${xn}/${Pe}`]=Qt[Pe],Jt),{})}(Qt.loader,xn):void 0}function ae(Qt){return{scope:Qe(Qt)||null,langName:He(Qt)}}function Ie(Qt){const{path:xn,inlineLoader:Jt,mainLoader:Pe,data:Ye}=Qt;if(Jt){if(!1===function he(Qt){return"function"==typeof Qt}(Jt[xn]))throw`You're using an inline loader but didn't provide a loader for ${xn}`;return Jt[xn]().then(Sn=>Sn.default?Sn.default:Sn)}return Pe.getTranslation(xn,Ye)}let Re=(()=>{class Qt{loader;parser;missingHandler;interceptor;fallbackStrategy;langChanges$;translations=new Map;cache=new Map;firstFallbackLang;defaultLang="";availableLangs=[];isResolvedMissingOnce=!1;lang;failedLangs=new Set;events=new et.B;events$=this.events.asObservable();config;constructor(Jt,Pe,Ye,ge,Sn,ke){this.loader=Jt,this.parser=Pe,this.missingHandler=Ye,this.interceptor=ge,this.fallbackStrategy=ke,this.loader||(this.loader=new Te(this.translations)),Cn=this,this.config=JSON.parse(JSON.stringify(Sn)),this.setAvailableLangs(this.config.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.config),this.setDefaultLang(this.config.defaultLang),this.lang=new Bt.t(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.events$.pipe((0,We.pQ)()).subscribe(Je=>{"translationLoadSuccess"===Je.type&&Je.wasFailure&&this.setActiveLang(Je.payload.langName)})}getDefaultLang(){return this.defaultLang}setDefaultLang(Jt){this.defaultLang=Jt}getActiveLang(){return this.lang.getValue()}setActiveLang(Jt){return this.parser.onLangChanged?.(Jt),this.lang.next(Jt),this.events.next({type:"langChanged",payload:ae(Jt)}),this}setAvailableLangs(Jt){this.availableLangs=Jt}getAvailableLangs(){return this.availableLangs}load(Jt,Pe={}){const Ye=this.cache.get(Jt);if(Ye)return Ye;let ge;const Sn=this._isLangScoped(Jt);let ke;Sn&&(ke=Qe(Jt));const Je={path:Jt,mainLoader:this.loader,inlineLoader:Pe.inlineLoader,data:Sn?{scope:ke}:void 0};if(this.useFallbackTranslation(Jt)){const si=Sn?`${ke}/${this.firstFallbackLang}`:this.firstFallbackLang,ci=function Ke({mainLoader:Qt,path:xn,data:Jt,fallbackPath:Pe,inlineLoader:Ye}){return(Pe?[xn,Pe]:[xn]).map(Sn=>{const ke=Ie({path:Sn,mainLoader:Qt,inlineLoader:Ye,data:Jt});return(0,lt.H)(ke).pipe((0,ut.T)(Je=>({translation:Je,lang:Sn})))})}({...Je,fallbackPath:si});ge=(0,At.p)(ci)}else{const si=Ie(Je);ge=(0,lt.H)(si)}const Vn=ge.pipe(function jt(Qt=1/0){let xn;xn=Qt&&"object"==typeof Qt?Qt:{count:Qt};const{count:Jt=1/0,delay:Pe,resetOnSuccess:Ye=!1}=xn;return Jt<=0?Dt.D:(0,ft.N)((ge,Sn)=>{let Je,ke=0;const Vn=()=>{let si=!1;Je=ge.subscribe((0,vt._)(Sn,ci=>{Ye&&(ke=0),Sn.next(ci)},void 0,ci=>{if(ke++<Jt){const ti=()=>{Je?(Je.unsubscribe(),Je=null,Vn()):si=!0};if(null!=Pe){const xt="number"==typeof Pe?(0,Rt.O)(Pe):(0,yt.Tg)(Pe(ci,ke)),se=(0,vt._)(Sn,()=>{se.unsubscribe(),ti()},()=>{Sn.complete()});xt.subscribe(se)}else ti()}else Sn.error(ci)})),si&&(Je.unsubscribe(),Je=null,Vn())};Vn()})}(this.config.failedRetries),(0,Ut.M)(si=>{Array.isArray(si)?si.forEach(ci=>{this.handleSuccess(ci.lang,ci.translation),ci.lang!==Jt&&this.cache.set(ci.lang,(0,G.of)({}))}):this.handleSuccess(Jt,si)}),(0,le.W)(si=>(this.config.prodMode||console.error(`Error while trying to load "${Jt}"`,si),this.handleFailure(Jt,Pe))),(0,ve.t)(1));return this.cache.set(Jt,Vn),Vn}translate(Jt,Pe={},Ye=this.getActiveLang()){if(!Jt)return Jt;const{scope:ge,resolveLang:Sn}=this.resolveLangAndScope(Ye);if(Array.isArray(Jt))return Jt.map(Vn=>this.translate(ge?`${ge}.${Vn}`:Vn,Pe,Sn));Jt=ge?`${ge}.${Jt}`:Jt;const ke=this.getTranslation(Sn),Je=ke[Jt];return Je?this.parser.transpile({value:Je,params:Pe,translation:ke,key:Jt}):this._handleMissingKey(Jt,Je,Pe)}selectTranslate(Jt,Pe,Ye,ge=!1){let Sn;const ke=(Vn,si)=>this.load(Vn,si).pipe((0,ut.T)(()=>ge?this.translateObject(Jt,Pe,Vn):this.translate(Jt,Pe,Vn)));if(it(Ye))return this.langChanges$.pipe((0,Le.n)(Vn=>ke(Vn)));if(Vt(Ye=Array.isArray(Ye)?Ye[0]:Ye)){const Vn=Ye;Ye=Vn.scope,Sn=gn(Vn,Vn.scope)}if(this.isLang(Ye)||this.isScopeWithLang(Ye))return ke(Ye);const Je=Ye;return this.langChanges$.pipe((0,Le.n)(Vn=>ke(`${Je}/${Vn}`,{inlineLoader:Sn})))}isScopeWithLang(Jt){return this.isLang(He(Jt))}translateObject(Jt,Pe={},Ye=this.getActiveLang()){if(Ae(Jt)||Array.isArray(Jt)){const{resolveLang:Sn,scope:ke}=this.resolveLangAndScope(Ye);if(Array.isArray(Jt))return Jt.map(si=>this.translateObject(ke?`${ke}.${si}`:si,Pe,Sn));const Je=this.getTranslation(Sn),Vn=function Ee(Qt){return de(Qt)}(this.getObjectByKey(Je,Jt=ke?`${ke}.${Jt}`:Jt));return function xe(Qt){return 0===De(Qt)}(Vn)?this.translate(Jt,Pe,Ye):this.parser.transpile({value:Vn,params:Pe,translation:Je,key:Jt})}const ge=[];for(const[Sn,ke]of this.getEntries(Jt))ge.push(this.translateObject(Sn,ke,Ye));return ge}selectTranslateObject(Jt,Pe,Ye){if(Ae(Jt)||Array.isArray(Jt))return this.selectTranslate(Jt,Pe,Ye,!0);const[[ge,Sn],...ke]=this.getEntries(Jt);return this.selectTranslateObject(ge,Sn,Ye).pipe((0,ut.T)(Je=>{const Vn=[Je];for(const[si,ci]of ke)Vn.push(this.translateObject(si,ci,Ye));return Vn}))}getTranslation(Jt){if(Jt){if(this.isLang(Jt))return this.translations.get(Jt)||{};{const{scope:Pe,resolveLang:Ye}=this.resolveLangAndScope(Jt),ge=this.translations.get(Ye)||{};return this.getObjectByKey(ge,Pe)}}return this.translations}selectTranslation(Jt){let Pe=this.langChanges$;if(Jt){const Ye=He(Jt)!==Jt;Pe=this.isLang(Jt)||Ye?(0,G.of)(Jt):this.langChanges$.pipe((0,ut.T)(ge=>`${Jt}/${ge}`))}return Pe.pipe((0,Le.n)(Ye=>this.load(Ye).pipe((0,ut.T)(()=>this.getTranslation(Ye)))))}setTranslation(Jt,Pe=this.getActiveLang(),Ye={}){const Sn={merge:!0,emitChange:!0,...Ye},ke=Qe(Pe);let Je=Jt;if(ke){const xt=this.getMappedScope(ke);Je=Oe({[xt]:Jt})}const Vn=ke?He(Pe):Pe,si={...Sn.merge&&this.getTranslation(Vn),...Je},ci=this.config.flatten.aot?si:Oe(si),ti=this.interceptor.preSaveTranslation(ci,Vn);this.translations.set(Vn,ti),Sn.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(Jt,Pe,Ye={}){const ge=Ye.lang||this.getActiveLang(),Sn=this.interceptor.preSaveTranslationKey(Jt,Pe,ge);this.setTranslation({[Jt]:Sn},ge,{...Ye,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang:Jt}){const Pe=Array.isArray(Jt)?Jt[0]:Jt;Jt&&this.useFallbackTranslation(Pe)&&(this.firstFallbackLang=Pe)}_handleMissingKey(Jt,Pe,Ye){if(this.config.missingHandler.allowEmpty&&""===Pe)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const ge=this.translate(Jt,Ye,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,ge}return this.missingHandler.handle(Jt,this.getMissingHandlerData(),Ye)}_isLangScoped(Jt){return-1===this.getAvailableLangsIds().indexOf(Jt)}isLang(Jt){return-1!==this.getAvailableLangsIds().indexOf(Jt)}_loadDependencies(Jt,Pe){const Ye=He(Jt);return this._isLangScoped(Jt)&&!this.isLoadedTranslation(Ye)?(0,tn.z)([this.load(Ye),this.load(Jt,{inlineLoader:Pe})]):this.load(Jt,{inlineLoader:Pe})}_completeScopeWithLang(Jt){return this._isLangScoped(Jt)&&!this.isLang(He(Jt))?`${Jt}/${this.getActiveLang()}`:Jt}_setScopeAlias(Jt,Pe){this.config.scopeMapping||(this.config.scopeMapping={}),this.config.scopeMapping[Jt]=Pe}ngOnDestroy(){this.cache.clear()}isLoadedTranslation(Jt){return De(this.getTranslation(Jt))}getAvailableLangsIds(){return Ae(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(Pe=>Pe.id)}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(Jt){return this.config.missingHandler.useFallbackTranslation&&Jt!==this.firstFallbackLang}handleSuccess(Jt,Pe){this.setTranslation(Pe,Jt,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:ae(Jt)}),this.failedLangs.forEach(Ye=>this.cache.delete(Ye)),this.failedLangs.clear()}handleFailure(Jt,Pe){it(Pe.failedCounter)&&(Pe.failedCounter=0,Pe.fallbackLangs||(Pe.fallbackLangs=this.fallbackStrategy.getNextLangs(Jt)));const Ye=Jt.split("/"),Sn=Pe.fallbackLangs[Pe.failedCounter];if(this.failedLangs.add(Jt),this.cache.has(Sn))return this.handleSuccess(Sn,this.getTranslation(Sn)),be.w;if(!Sn||Sn===Ye[Ye.length-1]){let Vn="Unable to load translation and all the fallback languages";throw Ye.length>1&&(Vn+=", did you misspelled the scope name?"),new Error(Vn)}let Je=Sn;return Ye.length>1&&(Ye[Ye.length-1]=Sn,Je=Ye.join("/")),Pe.failedCounter++,this.events.next({type:"translationLoadFailure",payload:ae(Jt)}),this.load(Je,Pe)}getMappedScope(Jt){const{scopeMapping:Pe={},scopes:Ye={keepCasing:!1}}=this.config;return Pe[Jt]||(Ye.keepCasing?Jt:ht(Jt))}resolveLangAndScope(Jt){let Ye,Pe=Jt;if(this._isLangScoped(Jt)){const ge=He(Jt),Sn=this.isLang(ge);Pe=Sn?ge:this.getActiveLang(),Ye=this.getMappedScope(Sn?Qe(Jt):Jt)}return{scope:Ye,resolveLang:Pe}}getObjectByKey(Jt,Pe){const Ye={},ge=`${Pe}.`;for(const Sn in Jt)Sn.startsWith(ge)&&(Ye[Sn.replace(ge,"")]=Jt[Sn]);return Ye}getEntries(Jt){return Jt instanceof Map?Jt.entries():Object.entries(Jt)}static \u0275fac=function(Pe){return new(Pe||Qt)(x.KVO(te,8),x.KVO(Fn),x.KVO(Fi),x.KVO(on),x.KVO(cn),x.KVO(ue))};static \u0275prov=x.jDH({token:Qt,factory:Qt.\u0275fac,providedIn:"root"})}return Qt})(),Mn=(()=>{class Qt{html;static \u0275fac=function(Pe){return new(Pe||Qt)};static \u0275cmp=x.VBU({type:Qt,selectors:[["ng-component"]],inputs:{html:"html"},standalone:!0,features:[x.aNF],decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(Pe,Ye){1&Pe&&x.nrm(0,"div",0),2&Pe&&x.Y8G("innerHTML",Ye.html,x.npT)},encapsulation:2})}return Qt})();class an{view;vcr;constructor(xn,Jt){this.view=xn,this.vcr=Jt}attachView(){if(this.view instanceof x.C4Q)this.vcr.createEmbeddedView(this.view);else if(Ae(this.view)){const xn=this.vcr.createComponent(Mn);xn.instance.html=this.view,xn.hostView.detectChanges()}else this.vcr.createComponent(this.view)}detachView(){this.vcr.clear()}}const wn=new x.nKC("TRANSLOCO_LANG"),Ue=new x.nKC("TRANSLOCO_LOADING_TEMPLATE"),Nn=new x.nKC("TRANSLOCO_SCOPE");class kt{initialized=!1;resolve({inline:xn,provider:Jt,active:Pe}){let Ye=Pe;if(this.initialized)return Ye=Pe,Ye;if(Jt){const[,ge]=sn(Jt,"static");Ye=ge}if(xn){const[,ge]=sn(xn,"static");Ye=ge}return this.initialized=!0,Ye}resolveLangBasedOnScope(xn){return Qe(xn)?He(xn):xn}resolveLangPath(xn,Jt){return Jt?`${Jt}/${xn}`:xn}}class Mt{service;constructor(xn){this.service=xn}resolve(xn){const{inline:Jt,provider:Pe}=xn;if(Jt)return Jt;if(Pe){if(Vt(Pe)){const{scope:Ye,alias:ge=(this.service.config.scopes.keepCasing?Ye:ht(Ye))}=Pe;return this.service._setScopeAlias(Ye,ge),Ye}return Pe}}}let gt=(()=>{class Qt{destroyRef=(0,x.WQX)(x.abz);service=(0,x.WQX)(Re);tpl=(0,x.WQX)(x.C4Q,{optional:!0});providerLang=(0,x.WQX)(wn,{optional:!0});providerScope=(0,x.WQX)(Nn,{optional:!0});providedLoadingTpl=(0,x.WQX)(Ue,{optional:!0});cdr=(0,x.WQX)(x.gRc);host=(0,x.WQX)(x.aKT);vcr=(0,x.WQX)(x.c1b);renderer=(0,x.WQX)(x.sFG);view;memo=new Map;key;params={};inlineScope;inlineRead;prefix;inlineLang;inlineTpl;currentLang;loaderTplHandler;initialized=!1;path;langResolver=new kt;scopeResolver=new Mt(this.service);strategy=null===this.tpl?"attribute":"structural";static ngTemplateContextGuard(Jt,Pe){return!0}ngOnInit(){const Jt=function Qn(Qt,xn){const[Jt]=sn(xn,"static");return!Jt&&!!Qt.config.reRenderOnLangChange}(this.service,this.providerLang||this.inlineLang);if(this.service.langChanges$.pipe((0,Le.n)(Pe=>{const Ye=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:Pe});return Array.isArray(this.providerScope)?(0,At.p)(this.providerScope.map(ge=>this.resolveScope(Ye,ge))):this.resolveScope(Ye,this.providerScope)}),function ri(Qt){return Qt?xn=>xn:(0,g.s)(1)}(Jt),(0,We.pQ)(this.destroyRef)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.prefix||this.inlineRead),this.cdr.markForCheck(),this.initialized=!0}),!this.initialized){const Pe=this.resolveLoadingContent();Pe&&(this.loaderTplHandler=new an(Pe,this.vcr),this.loaderTplHandler.attachView())}}ngOnChanges(Jt){"attribute"===this.strategy&&Object.keys(Jt).some(Ye=>!Jt[Ye].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.service.translate(this.key,this.params,this.currentLang))}structuralStrategy(Jt,Pe){this.memo.clear();const Ye=this.getTranslateFn(Jt,Pe);this.view?(this.view.context.$implicit=Ye,this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:Ye,currentLang:this.currentLang}))}getTranslateFn(Jt,Pe){return(Ye,ge)=>{const Sn=Pe?`${Pe}.${Ye}`:Ye,ke=ge?`${Sn}${JSON.stringify(ge)}`:Sn;return this.memo.has(ke)||this.memo.set(ke,this.service.translate(Sn,ge,Jt)),this.memo.get(ke)}}resolveLoadingContent(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.memo.clear()}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(Jt,Pe){const Ye=this.scopeResolver.resolve({inline:this.inlineScope,provider:Pe});this.path=this.langResolver.resolveLangPath(Jt,Ye);const ge=gn(Pe,Ye);return this.service._loadDependencies(this.path,ge)}static \u0275fac=function(Pe){return new(Pe||Qt)};static \u0275dir=x.FsC({type:Qt,selectors:[["","transloco",""]],inputs:{key:[0,"transloco","key"],params:[0,"translocoParams","params"],inlineScope:[0,"translocoScope","inlineScope"],inlineRead:[0,"translocoRead","inlineRead"],prefix:[0,"translocoPrefix","prefix"],inlineLang:[0,"translocoLang","inlineLang"],inlineTpl:[0,"translocoLoadingTpl","inlineTpl"]},standalone:!0,features:[x.OA$]})}return Qt})(),On=(()=>{class Qt{static \u0275fac=function(Pe){return new(Pe||Qt)};static \u0275mod=x.$C({type:Qt});static \u0275inj=x.G2t({})}return Qt})();function qn(Qt){const xn=[Me(ii),Ht(Dn),wt(_t),Zt(me)];return Qt.config&&xn.push(function hi(Qt){return(0,x.EmA)([{provide:cn,useValue:Di(Qt)}])}(Qt.config)),Qt.loader&&xn.push(function Be(Qt){return(0,x.EmA)([{provide:te,useClass:Qt}])}(Qt.loader)),xn}function Me(Qt){return(0,x.EmA)([{provide:Fn,useClass:Qt,deps:[cn]}])}function Zt(Qt){return(0,x.EmA)([{provide:ue,useClass:Qt,deps:[cn]}])}function Ht(Qt){return(0,x.EmA)([{provide:Fi,useClass:Qt}])}function wt(Qt){return(0,x.EmA)([{provide:on,useClass:Qt}])}new x.nKC("TRANSLOCO_TEST_LANGS - Available testing languages"),new x.nKC("TRANSLOCO_TEST_OPTIONS - Testing options")},1487:(dn,re,P)=>{"use strict";function G(Ot){return null!=Ot&&"object"==typeof Ot&&!0===Ot["@@functional/placeholder"]}function g(Ot){return function dt(ht){return 0===arguments.length||G(ht)?dt:Ot.apply(this,arguments)}}P.d(re,{N:()=>he});const ut=g(function(dt){return null===dt?"Null":void 0===dt?"Undefined":Object.prototype.toString.call(dt).slice(8,-1)});function et(Ot,dt,ht){if(ht||(ht=new At),function Bt(Ot){var dt=typeof Ot;return null==Ot||"object"!=dt&&"function"!=dt}(Ot))return Ot;var Et=function(Ct){var pt=ht.get(Ot);if(pt)return pt;for(var Vt in ht.set(Ot,Ct),Ot)Object.prototype.hasOwnProperty.call(Ot,Vt)&&(Ct[Vt]=dt?et(Ot[Vt],!0,ht):Ot[Vt]);return Ct};switch(ut(Ot)){case"Object":return Et(Object.create(Object.getPrototypeOf(Ot)));case"Array":return Et(Array(Ot.length));case"Date":return new Date(Ot.valueOf());case"RegExp":return function x(Ot){return new RegExp(Ot.source,Ot.flags?Ot.flags:(Ot.global?"g":"")+(Ot.ignoreCase?"i":"")+(Ot.multiline?"m":"")+(Ot.sticky?"y":"")+(Ot.unicode?"u":"")+(Ot.dotAll?"s":""))}(Ot);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return Ot.slice();default:return Ot}}var At=function(){function Ot(){this.map={},this.length=0}return Ot.prototype.set=function(dt,ht){var Et=this.hash(dt),it=this.map[Et];it||(this.map[Et]=it=[]),it.push([dt,ht]),this.length+=1},Ot.prototype.hash=function(dt){var ht=[];for(var Et in dt)ht.push(Object.prototype.toString.call(dt[Et]));return ht.join()},Ot.prototype.get=function(dt){if(this.length<=180){for(var ht in this.map)for(var pt=this.map[ht],Et=0;Et<pt.length;Et+=1)if((it=pt[Et])[0]===dt)return it[1]}else{var Ct=this.hash(dt);if(pt=this.map[Ct])for(Et=0;Et<pt.length;Et+=1){var it;if((it=pt[Et])[0]===dt)return it[1]}}},Ot}();const vt=g(function(dt){return null!=dt&&"function"==typeof dt.clone?dt.clone():et(dt,!0)});function Dt(Ot){return function dt(ht,Et){switch(arguments.length){case 0:return dt;case 1:return G(ht)?dt:g(function(it){return Ot(ht,it)});default:return G(ht)&&G(Et)?dt:G(ht)?g(function(it){return Ot(it,Et)}):G(Et)?g(function(it){return Ot(ht,it)}):Ot(ht,Et)}}}function Rt(Ot){return function dt(ht,Et,it){switch(arguments.length){case 0:return dt;case 1:return G(ht)?dt:Dt(function(Ct,pt){return Ot(ht,Ct,pt)});case 2:return G(ht)&&G(Et)?dt:G(ht)?Dt(function(Ct,pt){return Ot(Ct,Et,pt)}):G(Et)?Dt(function(Ct,pt){return Ot(ht,Ct,pt)}):g(function(Ct){return Ot(ht,Et,Ct)});default:return G(ht)&&G(Et)&&G(it)?dt:G(ht)&&G(Et)?Dt(function(Ct,pt){return Ot(Ct,pt,it)}):G(ht)&&G(it)?Dt(function(Ct,pt){return Ot(Ct,Et,pt)}):G(Et)&&G(it)?Dt(function(Ct,pt){return Ot(ht,Ct,pt)}):G(ht)?g(function(Ct){return Ot(Ct,Et,it)}):G(Et)?g(function(Ct){return Ot(ht,Ct,it)}):G(it)?g(function(Ct){return Ot(ht,Et,Ct)}):Ot(ht,Et,it)}}}function yt(Ot){return"[object Object]"===Object.prototype.toString.call(Ot)}function jt(Ot,dt){return Object.prototype.hasOwnProperty.call(dt,Ot)}const le=Rt(function(dt,ht,Et){var Ct,it={};for(Ct in Et=Et||{},ht=ht||{})jt(Ct,ht)&&(it[Ct]=jt(Ct,Et)?dt(Ct,ht[Ct],Et[Ct]):ht[Ct]);for(Ct in Et)jt(Ct,Et)&&!jt(Ct,it)&&(it[Ct]=Et[Ct]);return it}),Le=Rt(function Ot(dt,ht,Et){return le(function(it,Ct,pt){return yt(Ct)&&yt(pt)?Ot(dt,Ct,pt):dt(it,Ct,pt)},ht,Et)}),be=Dt(function(dt,ht){return Le(function(Et,it,Ct){return Ct},dt,ht)}),We="@ngrx/store/init",Xt="@ngrx/effects/init",zt="@ngrx/store/update-reducers",Tt=Ot=>"object"==typeof Ot&&null!==Ot,de=Ot=>Ot?.constructor===Object,Te=Ot=>de(Ot)&&0===Object.keys(Ot).length,te=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,Wt=Ot=>{for(const dt in Ot)de(Ot[dt])&&(Te(Ot[dt])||Wt(Ot[dt]),Te(Ot[dt])&&delete Ot[dt]);return Ot},De=(Ot,dt)=>{if(!dt||!dt.length)return Ot;const ht=dt.map(Et=>({leftKey:Et.split(".")[0],rightKey:Et.split(".")[1]}));for(const Et in Ot){const it=ht.find(Vt=>Vt.leftKey===Et),Ct=it?.leftKey,pt=it?.rightKey;Tt(Ot[Et])?Ct&&pt?De(Ot[Et],[...dt,pt]):Ct?delete Ot[Et]:De(Ot[Et],dt):Ct&&delete Ot[Et]}return Wt(Ot)},he=Ot=>dt=>{const ht={rehydrate:!0,storageKeySerializer:Vt=>Vt,rehydrateStateMerger:(Vt,_e)=>be(Vt,_e),...Ot},{rehydrate:Et,rehydrateStateMerger:it}=ht,pt=Et&&Ae(ht)?(({storage:Ot,storageKeySerializer:dt,features:ht,storageError:Et})=>{const it=ht.reduce((Ct,pt)=>{const{storageKeySerializerForFeature:Vt,stateKey:_e,deserialize:Ee,storageForFeature:Oe}=pt,cn=Vt?Vt(_e):dt(_e);try{const Ln=Oe?Oe.getItem(cn):Ot.getItem(cn);return Ln?{...Ct,[_e]:Ee?Ee(Ln):JSON.parse(Ln,(Di,Fn)=>te.test(String(Fn))&&!isNaN(Date.parse(Fn))?new Date(Fn):Fn)}:Ct}catch(Ln){if(!Et)throw Ln;Et(Ln)}},Object());return Te(it)?void 0:it})(ht):void 0;return(Vt,_e)=>{const Ee=_e.type===We?dt(Vt,_e):{...Vt},Oe=void 0!==pt&&[We,zt].includes(_e.type),cn=dt(Oe?it(Ee,pt):Ee,_e);return[We,Xt].includes(_e.type)||(qt(ht),((Ot,{features:dt,storage:ht,storageKeySerializer:Et,storageError:it})=>{dt.filter(({stateKey:Ct})=>void 0!==Ot[Ct]).filter(({stateKey:Ct,shouldSync:pt})=>!pt||pt(Ot[Ct],Ot)).forEach(({stateKey:Ct,excludeKeys:pt,storageKeySerializerForFeature:Vt,serialize:_e,storageForFeature:Ee})=>{const Oe=vt(Ot[Ct]),cn=De(Oe,pt);if(Te(cn))return;const Ln=Vt?Vt(Ct):Et(Ct),Di=_e?_e(cn):JSON.stringify(cn);try{Ee?Ee.setItem(Ln,Di):ht.setItem(Ln,Di)}catch(Fn){if(!it)throw Fn;it(Fn)}})})(cn,ht)),cn}},Ae=({storage:Ot,storageError:dt,storageKeySerializer:ht,version:Et,versionKey:it="ngrx-store-storagesync.version"})=>{const Ct=ht(it);try{const pt=Ot.getItem(Ct);return null==pt&&null==Et||Number(pt)===Et}catch(pt){if(!dt)throw pt;dt(pt)}return!1},qt=({storage:Ot,storageError:dt,storageKeySerializer:ht,version:Et,versionKey:it="ngrx-store-storagesync.version"})=>{const Ct=ht(it);try{Et?Ot.setItem(Ct,String(Et)):Ot.removeItem(Ct)}catch(pt){if(!dt)throw pt;dt(pt)}}},3027:(dn,re,P)=>{"use strict";P.d(re,{C:()=>G});var x=P(4291);let G=(()=>{class g{constructor(){this.mxIconButtonSize="lg",this.mxIconButtonSelected=!1}static#t=this.\u0275fac=function(et){return new(et||g)};static#e=this.\u0275dir=x.FsC({type:g,selectors:[["button","mxIconButton",""]],hostVars:10,hostBindings:function(et,Bt){2&et&&x.AVh("mx-icon-lg","lg"===Bt.mxIconButtonSize)("mx-icon-md","md"===Bt.mxIconButtonSize)("mx-icon-sm","sm"===Bt.mxIconButtonSize)("mx-icon-xs","xs"===Bt.mxIconButtonSize)("mx-button-selected",Bt.mxIconButtonSelected)},inputs:{mxIconButtonSize:"mxIconButtonSize",mxIconButtonSelected:[2,"mxIconButtonSelected","mxIconButtonSelected",x.L39]},standalone:!0,features:[x.GFd]})}return g})()},9434:(dn,re,P)=>{"use strict";P.d(re,{h:()=>G});var x=P(4291);let G=(()=>{class g{constructor(){this.mxButtonIsLoading=!1}static#t=this.\u0275fac=function(et){return new(et||g)};static#e=this.\u0275dir=x.FsC({type:g,selectors:[["button","mxButtonIsLoading",""]],hostVars:2,hostBindings:function(et,Bt){2&et&&x.AVh("mx-loading-button",Bt.mxButtonIsLoading)},inputs:{mxButtonIsLoading:[2,"mxButtonIsLoading","mxButtonIsLoading",x.L39]},standalone:!0,features:[x.GFd]})}return g})()},1996:(dn,re,P)=>{"use strict";P.d(re,{u:()=>Rt});var x=P(9284),G=P(4291),g=P(5044),lt=P(1071);const ut={infoTipTitleLabel:"Info",errorTipTitleLabel:"Error",successTipTitleLabel:"Success",warningTipTitleLabel:"Warning"};let et=(()=>{class yt{constructor(){this.changes=new lt.B,this.infoTipTitleLabel=ut.infoTipTitleLabel,this.warningTipTitleLabel=ut.warningTipTitleLabel,this.errorTipTitleLabel=ut.errorTipTitleLabel,this.successTipTitleLabel=ut.successTipTitleLabel}updateTranslate(Ut){this.infoTipTitleLabel=Ut.infoTipTitleLabel||ut.infoTipTitleLabel,this.errorTipTitleLabel=Ut.errorTipTitleLabel||ut.errorTipTitleLabel,this.warningTipTitleLabel=Ut.warningTipTitleLabel||ut.warningTipTitleLabel,this.successTipTitleLabel=Ut.successTipTitleLabel||ut.successTipTitleLabel,this.changes.next()}get defaultLabes(){return ut}static#t=this.\u0275fac=function(le){return new(le||yt)};static#e=this.\u0275prov=G.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})();new G.Xx1,new G.kdw;const ft=["*"];function vt(yt,jt){1&yt&&G.eu8(0)}const Dt=[{attribute:"mx-warning-tip",classes:["mx-infotip--warning"]},{attribute:"mx-info-tip",classes:["mx-infotip--info"]},{attribute:"mx-error-tip",classes:["mx-infotip--error"]},{attribute:"mx-success-tip",classes:["mx-infotip--success"]}];let Rt=(()=>{class yt{#t;#e;#n;get titleLabel(){return"mx-error-tip"===this.tipType?this.intl.errorTipTitleLabel:"mx-success-tip"===this.tipType?this.intl.successTipTitleLabel:"mx-warning-tip"===this.tipType?this.intl.warningTipTitleLabel:this.intl.infoTipTitleLabel}constructor(){this.#t=(0,G.WQX)(G.aKT),this.#e=this.#t.nativeElement,this.#n=this.#e.classList,this.cd=(0,G.WQX)(G.gRc),this.intl=(0,G.WQX)(et),this.intlChanges$=this.intl.changes.asObservable().pipe((0,g.M)(()=>this.cd.markForCheck())),this.tipType="mx-info-tip",this.infotipType="Info";for(const{attribute:Ut,classes:le}of Dt)this.#e.hasAttribute(Ut)&&(this.#n.add(...le),this.tipType=Ut)}ngOnInit(){let Ut=Dt.find(le=>"mx-info-tip"===le.attribute);"Error"===this.infotipType&&(this.tipType="mx-error-tip",Ut=Dt.find(le=>"mx-error-tip"===le.attribute)),"Success"===this.infotipType&&(this.tipType="mx-success-tip",Ut=Dt.find(le=>"mx-success-tip"===le.attribute)),"Warning"===this.infotipType&&(this.tipType="mx-warning-tip",Ut=Dt.find(le=>"mx-warning-tip"===le.attribute)),Ut&&this.#n.add(...Ut.classes)}static#i=this.\u0275fac=function(le){return new(le||yt)};static#r=this.\u0275cmp=G.VBU({type:yt,selectors:[["mx-infotip"],["div","mx-warning-tip",""],["div","mx-info-tip",""],["div","mx-error-tip",""],["div","mx-success-tip",""]],inputs:{infotipType:"infotipType"},standalone:!0,features:[G.aNF],ngContentSelectors:ft,decls:7,vars:4,consts:[[4,"ngIf"],[1,"mx-infotip_title"],[1,"mx-infotip_content"]],template:function(le,ve){1&le&&(G.NAR(),G.DNE(0,vt,1,0,"ng-container",0),G.nI1(1,"async"),G.j41(2,"div")(3,"div",1),G.EFF(4),G.k0s(),G.j41(5,"div",2),G.SdG(6),G.k0s()()),2&le&&(G.Y8G("ngIf",G.bMT(1,2,ve.intlChanges$)),G.R7$(4),G.JRh(ve.titleLabel))},dependencies:[x.bT,x.Jj],styles:[".gl-display-lg[_ngcontent-%COMP%]{font-weight:400;font-size:56px;line-height:64px;letter-spacing:0}.gl-display-md[_ngcontent-%COMP%]{font-weight:400;font-size:44px;line-height:52px;letter-spacing:0}.gl-display-sm[_ngcontent-%COMP%]{font-weight:400;font-size:36px;line-height:44px;letter-spacing:0}.gl-headline-lg[_ngcontent-%COMP%]{font-weight:400;font-size:32px;line-height:40px;letter-spacing:0}.gl-headline-md[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:36px;letter-spacing:0}.gl-headline-sm[_ngcontent-%COMP%]{font-weight:400;font-size:24px;line-height:32px;letter-spacing:0}.gl-title-lg[_ngcontent-%COMP%]{font-weight:400;font-size:22px;line-height:28px;letter-spacing:0}.gl-title-md[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-title-sm[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-lg[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:24px;letter-spacing:.15px}.gl-label-md[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:20px;letter-spacing:.1px}.gl-label-sm[_ngcontent-%COMP%], .mx-infotip_title[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:16px;letter-spacing:.5px}.gl-body-lg[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.gl-body-md[_ngcontent-%COMP%], .mx-infotip_content[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}.gl-body-sm[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:16px;letter-spacing:.4px}.rounded-x-sm[_ngcontent-%COMP%], [_nghost-%COMP%]{border-radius:4px}.rounded-sm[_ngcontent-%COMP%]{border-radius:8px}.rounded-md[_ngcontent-%COMP%]{border-radius:12px}.rounded-lg[_ngcontent-%COMP%]{border-radius:16px}.rounded-x-lg[_ngcontent-%COMP%]{border-radius:28px}.rounded-full[_ngcontent-%COMP%]{border-radius:50%}[_nghost-%COMP%]{display:block;display:grid;width:100%;max-width:680px;padding:8px 16px 8px 20px;gap:2px;box-sizing:border-box}"]})}return yt})()},633:(dn,re,P)=>{"use strict";P.d(re,{U:()=>Dt});var x=P(4291),G=P(3683),g=P(9284),lt=P(3999),ut=P(4288);let et=(()=>{class Rt{static#t=this.\u0275fac=function(Ut){return new(Ut||Rt)};static#e=this.\u0275dir=x.FsC({type:Rt,selectors:[["button","mxInvertButton",""]],hostAttrs:[1,"mx-invert-button"],standalone:!0})}return Rt})();var Bt=P(3027),At=P(1071);function ft(Rt,yt){if(1&Rt){const jt=x.RV6();x.j41(0,"button",7),x.bIt("click",function(){x.eBV(jt);const le=x.XpG();return x.Njj(le.onAction.next())}),x.EFF(1),x.k0s()}if(2&Rt){const jt=x.XpG();x.R7$(),x.SpI(" ",jt.data.actionLabel||"Action"," ")}}let vt=(()=>{class Rt{constructor(){this.snackBarRef=(0,x.WQX)(G.TQ),this.data=(0,x.WQX)(G.ht),this.onAction=new At.B}ngAfterViewInit(){const jt=document.querySelectorAll(".mx-snackbar-container");if(jt.length&&this.data?.offsetBottom){const Ut=this.data.offsetBottom||16;jt.forEach(le=>{le.style.marginBottom=`${Ut}px`})}}ngOnDestroy(){this.onAction?.complete()}static#t=this.\u0275fac=function(Ut){return new(Ut||Rt)};static#e=this.\u0275cmp=x.VBU({type:Rt,selectors:[["mx-snackbar"]],standalone:!0,features:[x.aNF],decls:8,vars:2,consts:[["role","snackbar",1,"mx-snackbar"],[1,"mx-snackbar__content"],[1,"mx-snackbar__message-wrapper"],[1,"mx-snackbar__message"],["mat-button","","mxInvertButton","","matSnackBarAction","","class","mx-snackbar__action-button",3,"click",4,"ngIf"],["mat-icon-button","","mxIconButton","","mxInvertButton","",1,"mx-snackbar__dismiss-button",3,"click"],["svgIcon","icon:clear"],["mat-button","","mxInvertButton","","matSnackBarAction","",1,"mx-snackbar__action-button",3,"click"]],template:function(Ut,le){1&Ut&&(x.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),x.EFF(4),x.k0s()(),x.DNE(5,ft,2,1,"button",4),x.k0s(),x.j41(6,"button",5),x.bIt("click",function(){return le.snackBarRef.dismiss()}),x.nrm(7,"mat-icon",6),x.k0s()()),2&Ut&&(x.R7$(4),x.JRh(le.data.message),x.R7$(),x.Y8G("ngIf",le.data.showAction))},dependencies:[g.bT,lt.Hl,lt.$z,lt.iY,ut.m_,ut.An,et,Bt.C],styles:[".mx-snackbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mx-snackbar__content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-grow:1;gap:8px}.mx-snackbar__message-wrapper[_ngcontent-%COMP%]{padding:14px 8px 14px 16px;flex-grow:1}.mx-snackbar__message[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical}.mx-snackbar__dismiss-button.mat-mdc-icon-button.mat-mdc-button-base.mx-icon-lg[_ngcontent-%COMP%]{padding:8px;height:40px;width:40px}"],changeDetection:0})}return Rt})(),Dt=(()=>{class Rt{constructor(){this.snackbar=(0,x.WQX)(G.UG),this.DURATION=6e3}open(jt,Ut){const le={horizontalPosition:"center",verticalPosition:"bottom",duration:this.DURATION,panelClass:"mx-snackbar-container",data:{message:jt,...Ut}};return this.snackbar&&this.snackbar.dismiss(),this.snackbar.openFromComponent(vt,le)}static#t=this.\u0275fac=function(Ut){return new(Ut||Rt)};static#e=this.\u0275prov=x.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})()},8823:(dn,re,P)=>{"use strict";P.d(re,{Nj:()=>te});var x=P(4291),G=P(7375),g=P(103),lt=P(3467),ut=P(3982),et=P(7650),Bt=P(3754),At=P(3479),ft=P(7569),vt=P(5044),Dt=P(7071);let yt=(()=>{class Wt{static#t=this.\u0275fac=function(he){return new(he||Wt)};static#e=this.\u0275prov=x.jDH({token:Wt,factory:()=>function Rt(Wt){return Wt instanceof x.SKi}((0,x.WQX)(x.SKi))?new Ut:(0,x.WQX)(jt),providedIn:"root"})}return Wt})(),jt=(()=>{class Wt extends yt{constructor(xe){super(),this.appRef=xe,this.isScheduled=!1}schedule(){this.isScheduled||(this.isScheduled=!0,requestAnimationFrame(()=>{this.appRef.tick(),this.isScheduled=!1}))}static#t=this.\u0275fac=function(he){return new(he||Wt)(x.KVO(x.o8S))};static#e=this.\u0275prov=x.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"})}return Wt})();class Ut extends yt{schedule(){}}let le=(()=>{class Wt{constructor(xe,he){this.cdRef=xe,this.tickScheduler=he}schedule(){this.cdRef.markForCheck(),this.tickScheduler.schedule()}static#t=this.\u0275fac=function(he){return new(he||Wt)(x.KVO(x.gRc),x.KVO(yt))};static#e=this.\u0275prov=x.jDH({token:Wt,factory:Wt.\u0275fac})}return Wt})();function Tt(Wt){const De=function Le(Wt){return De=>Wt[De.type]?.(De)}(Wt),xe=new et.m(1);return{nextPotentialObservable(he){xe.next(he)},handlePotentialObservableChanges:()=>xe.pipe((0,ft.F)(),function de(){return(0,Bt.F)((0,Dt.n)(Wt=>{const De=function tn(Wt){return(0,G.A)(Wt)?Wt:function We(Wt){return function Xt(Wt){return!!Wt&&"object"==typeof Wt&&!Array.isArray(Wt)}(Wt)&&Object.keys(Wt).length>0&&Object.values(Wt).every(G.A)}(Wt)?(0,g.z)(function zt(Wt){return Object.keys(Wt).reduce((De,xe)=>({...De,[xe]:Wt[xe].pipe((0,ft.F)())}),{})}(Wt)):function be(Wt){return"function"==typeof Wt?.then}(Wt)?(0,lt.H)(Wt):new ut.c(De=>{De.next(Wt)})}(Wt);let xe=!0,he=!0;return new ut.c(Ae=>{const qt=(0,x.O8t)(()=>De.subscribe({next(Ot){Ae.next({type:"next",value:Ot,reset:xe,synchronous:he}),xe=!1},error(Ot){Ae.next({type:"error",error:Ot,reset:xe,synchronous:he}),xe=!1},complete(){Ae.next({type:"complete",reset:xe,synchronous:he}),xe=!1}}));return xe&&(Ae.next({type:"suspense",reset:xe,synchronous:!0}),xe=!1),he=!1,qt})}))}(),(0,ft.F)(Te),(0,vt.M)(De))}}function Te(Wt,De){return Wt.type===De.type&&Wt.reset===De.reset&&("next"===De.type?Wt.value===De.value:"error"!==De.type||Wt.error===De.error)}let te=(()=>{class Wt{set ngrxLet(xe){this.renderEventManager.nextPotentialObservable(xe)}constructor(xe,he,Ae,qt){this.mainTemplateRef=xe,this.viewContainerRef=he,this.errorHandler=Ae,this.renderScheduler=qt,this.isMainViewCreated=!1,this.isSuspenseViewCreated=!1,this.viewContext={$implicit:void 0,ngrxLet:void 0,error:void 0,complete:!1},this.renderEventManager=Tt({suspense:()=>{this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0,this.viewContext.complete=!1,this.renderSuspenseView()},next:Ot=>{this.viewContext.$implicit=Ot.value,this.viewContext.ngrxLet=Ot.value,Ot.reset&&(this.viewContext.error=void 0,this.viewContext.complete=!1),this.renderMainView(Ot.synchronous)},error:Ot=>{this.viewContext.error=Ot.error,Ot.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.complete=!1),this.renderMainView(Ot.synchronous),this.errorHandler.handleError(Ot.error)},complete:Ot=>{this.viewContext.complete=!0,Ot.reset&&(this.viewContext.$implicit=void 0,this.viewContext.ngrxLet=void 0,this.viewContext.error=void 0),this.renderMainView(Ot.synchronous)}}),this.subscription=new At.yU}static ngTemplateContextGuard(xe,he){return!0}ngOnInit(){this.subscription.add(this.renderEventManager.handlePotentialObservableChanges().subscribe())}ngOnDestroy(){this.subscription.unsubscribe()}renderMainView(xe){this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!1,this.viewContainerRef.clear()),this.isMainViewCreated||(this.isMainViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.mainTemplateRef,this.viewContext)),xe||this.renderScheduler.schedule()}renderSuspenseView(){this.isMainViewCreated&&(this.isMainViewCreated=!1,this.viewContainerRef.clear()),this.suspenseTemplateRef&&!this.isSuspenseViewCreated&&(this.isSuspenseViewCreated=!0,this.viewContainerRef.createEmbeddedView(this.suspenseTemplateRef))}static#t=this.\u0275fac=function(he){return new(he||Wt)(x.rXU(x.C4Q),x.rXU(x.c1b),x.rXU(x.zcH),x.rXU(le))};static#e=this.\u0275dir=x.FsC({type:Wt,selectors:[["","ngrxLet",""]],inputs:{ngrxLet:"ngrxLet",suspenseTemplateRef:[0,"ngrxLetSuspenseTpl","suspenseTemplateRef"]},standalone:!0,features:[x.Jv_([le])]})}return Wt})()},1867:(dn,re,P)=>{"use strict";P.d(re,{En:()=>Ct,EH:()=>$t,gp:()=>pt,SI:()=>di});var x=P(8169),G=P(3982),g=P(1071),lt=P(5266),ut=P(4080),et=P(3204),Bt=P(535),At=P(4834);class vt{constructor(Mn,an,wn){this.kind=Mn,this.value=an,this.error=wn,this.hasValue="N"===Mn}observe(Mn){return Dt(this,Mn)}do(Mn,an,wn){const{kind:Ue,value:Nn,error:kt}=this;return"N"===Ue?Mn?.(Nn):"E"===Ue?an?.(kt):wn?.()}accept(Mn,an,wn){var Ue;return(0,At.T)(null===(Ue=Mn)||void 0===Ue?void 0:Ue.next)?this.observe(Mn):this.do(Mn,an,wn)}toObservable(){const{kind:Mn,value:an,error:wn}=this,Ue="N"===Mn?(0,et.of)(an):"E"===Mn?(0,Bt.$)(()=>wn):"C"===Mn?ut.w:0;if(!Ue)throw new TypeError(`Unexpected notification kind ${Mn}`);return Ue}static createNext(Mn){return new vt("N",Mn)}static createError(Mn){return new vt("E",void 0,Mn)}static createComplete(){return vt.completeNotification}}function Dt(Re,Mn){var an,wn,Ue;const{kind:Nn,value:kt,error:Mt}=Re;if("string"!=typeof Nn)throw new TypeError('Invalid notification, missing "kind"');"N"===Nn?null===(an=Mn.next)||void 0===an||an.call(Mn,kt):"E"===Nn?null===(wn=Mn.error)||void 0===wn||wn.call(Mn,Mt):null===(Ue=Mn.complete)||void 0===Ue||Ue.call(Mn)}vt.completeNotification=new vt("C");var Rt=P(1531),yt=P(1391),Ut=P(8199),le=P(1534),ve=P(2647),Le=P(4637);function tn(Re,Mn,an,wn){return(0,Rt.N)((Ue,Nn)=>{let kt;Mn&&"function"!=typeof Mn?({duration:an,element:kt,connector:wn}=Mn):kt=Mn;const Mt=new Map,gt=Be=>{Mt.forEach(Be),Be(Nn)},Lt=Be=>gt(Ce=>Ce.error(Be));let Ze=0,On=!1;const qn=new yt.H(Nn,Be=>{try{const Ce=Re(Be);let Gt=Mt.get(Ce);if(!Gt){Mt.set(Ce,Gt=wn?wn():new g.B);const Me=function hi(Be,Ce){const Gt=new G.c(Me=>{Ze++;const Zt=Ce.subscribe(Me);return()=>{Zt.unsubscribe(),0==--Ze&&On&&qn.unsubscribe()}});return Gt.key=Be,Gt}(Ce,Gt);if(Nn.next(Me),an){const Zt=(0,yt._)(Gt,()=>{Gt.complete(),Zt?.unsubscribe()},void 0,void 0,()=>Mt.delete(Ce));qn.add((0,Le.Tg)(an(Me)).subscribe(Zt))}}Gt.next(kt?kt(Be):Be)}catch(Ce){Lt(Ce)}},()=>gt(Be=>Be.complete()),Lt,()=>Mt.clear(),()=>(On=!0,0===Ze));Ue.subscribe(qn)})}var be=P(7252),We=P(6345),zt=P(5910),Tt=P(4291),de=P(5973);const Te={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},te="__@ngrx/effects_create__";function $t(Re,Mn={}){const an=Mn.functional?Re:Re(),wn={...Te,...Mn};return Object.defineProperty(an,te,{value:wn}),an}function he(Re){return Object.getPrototypeOf(Re)}function qt(Re){return"function"==typeof Re}function ht(Re,Mn,an){const wn=he(Re),Nn=wn&&"Object"!==wn.constructor.name?wn.constructor.name:null,kt=function xe(Re){return function Wt(Re){return Object.getOwnPropertyNames(Re).filter(wn=>!(!Re[wn]||!Re[wn].hasOwnProperty(te))&&Re[wn][te].hasOwnProperty("dispatch")).map(wn=>({propertyName:wn,...Re[wn][te]}))}(Re)}(Re).map(({propertyName:Mt,dispatch:gt,useEffectsErrorHandler:Lt})=>{const Ze="function"==typeof Re[Mt]?Re[Mt]():Re[Mt],On=Lt?an(Ze,Mn):Ze;return!1===gt?On.pipe((0,lt.w)()):On.pipe(function jt(){return(0,Rt.N)((Re,Mn)=>{Re.subscribe((0,yt._)(Mn,an=>{Mn.next(vt.createNext(an))},()=>{Mn.next(vt.createComplete()),Mn.complete()},an=>{Mn.next(vt.createError(an)),Mn.complete()}))})}()).pipe((0,Ut.T)(hi=>({effect:Re[Mt],notification:hi,propertyName:Mt,sourceName:Nn,sourceInstance:Re})))});return(0,x.h)(...kt)}function it(Re,Mn,an=10){return Re.pipe((0,le.W)(wn=>(Mn&&Mn.handleError(wn),an<=1?Re:it(Re,Mn,an-1))))}let Ct=(()=>{class Re extends G.c{constructor(an){super(),an&&(this.source=an)}lift(an){const wn=new Re;return wn.source=this,wn.operator=an,wn}static#t=this.\u0275fac=function(wn){return new(wn||Re)(Tt.KVO(de.sA))};static#e=this.\u0275prov=Tt.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();function pt(...Re){return(0,ve.p)(Mn=>Re.some(an=>"string"==typeof an?an===Mn.type:an.type===Mn.type))}new Tt.nKC("@ngrx/effects Internal Root Guard"),new Tt.nKC("@ngrx/effects User Provided Effects"),new Tt.nKC("@ngrx/effects Internal Root Effects"),new Tt.nKC("@ngrx/effects Internal Root Effects Instances"),new Tt.nKC("@ngrx/effects Internal Feature Effects"),new Tt.nKC("@ngrx/effects Internal Feature Effects Instance Groups");const Di=new Tt.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>it}),ii=(0,de.VP)("@ngrx/effects/init");function Qe(Re){return He(Re,"ngrxOnInitEffects")}function He(Re,Mn){return Re&&Mn in Re&&"function"==typeof Re[Mn]}let sn=(()=>{class Re extends g.B{constructor(an,wn){super(),this.errorHandler=an,this.effectsErrorHandler=wn}addEffects(an){this.next(an)}toActions(){return this.pipe(tn(an=>function Ae(Re){return!!Re.constructor&&"Object"!==Re.constructor.name&&"Function"!==Re.constructor.name}(an)?he(an):an),(0,be.Z)(an=>an.pipe(tn(Qn))),(0,be.Z)(an=>{const wn=an.pipe((0,We.p)(Nn=>function ri(Re,Mn){return an=>{const wn=ht(an,Re,Mn);return function ue(Re){return He(Re,"ngrxOnRunEffects")}(an)?an.ngrxOnRunEffects(wn):wn}}(this.errorHandler,this.effectsErrorHandler)(Nn)),(0,Ut.T)(Nn=>(function Si(Re,Mn){if("N"===Re.notification.kind){const an=Re.notification.value;!function ki(Re){return"function"!=typeof Re&&Re&&Re.type&&"string"==typeof Re.type}(an)&&Mn.handleError(new Error(`Effect ${function Ii({propertyName:Re,sourceInstance:Mn,sourceName:an}){const wn="function"==typeof Mn[Re];return an?`"${an}.${String(Re)}${wn?"()":""}"`:`"${String(Re)}()"`}(Re)} dispatched an invalid action: ${function Fi(Re){try{return JSON.stringify(Re)}catch{return Re}}(an)}`))}}(Nn,this.errorHandler),Nn.notification)),(0,ve.p)(Nn=>"N"===Nn.kind&&null!=Nn.value),function Xt(){return(0,Rt.N)((Re,Mn)=>{Re.subscribe((0,yt._)(Mn,an=>Dt(an,Mn)))})}()),Ue=an.pipe((0,zt.s)(1),(0,ve.p)(Qe),(0,Ut.T)(Nn=>Nn.ngrxOnInitEffects()));return(0,x.h)(wn,Ue)}))}static#t=this.\u0275fac=function(wn){return new(wn||Re)(Tt.KVO(Tt.zcH),Tt.KVO(Di))};static#e=this.\u0275prov=Tt.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();function Qn(Re){return function on(Re){return He(Re,"ngrxOnIdentifyEffects")}(Re)?Re.ngrxOnIdentifyEffects():""}let we=(()=>{class Re{get isStarted(){return!!this.effectsSubscription}constructor(an,wn){this.effectSources=an,this.store=wn,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static#t=this.\u0275fac=function(wn){return new(wn||Re)(Tt.KVO(sn),Tt.KVO(de.il))};static#e=this.\u0275prov=Tt.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})();function di(...Re){const Mn=Re.flat(),an=function Ot(Re){return Re.filter(qt)}(Mn);return(0,Tt.EmA)([an,{provide:Tt.Z63,multi:!0,useValue:()=>{(0,Tt.WQX)(de.$J),(0,Tt.WQX)(de.JS,{optional:!0});const wn=(0,Tt.WQX)(we),Ue=(0,Tt.WQX)(sn),Nn=!wn.isStarted;Nn&&wn.start();for(const kt of Mn){const Mt=qt(kt)?(0,Tt.WQX)(kt):kt;Ue.addEffects(Mt)}Nn&&(0,Tt.WQX)(de.il).dispatch(ii())}}])}},5561:(dn,re,P)=>{"use strict";P.d(re,{C_:()=>Ut,ME:()=>Xt,jr:()=>zt,y8:()=>$t});var x=P(5973),G=P(4291),g=P(5263),lt=P(6058);const ut="@ngrx/router-store/request",Bt=((0,x.VP)(ut,(0,x.xk)()),"@ngrx/router-store/navigation"),ft=((0,x.VP)(Bt,(0,x.xk)()),"@ngrx/router-store/cancel"),Dt=((0,x.VP)(ft,(0,x.xk)()),"@ngrx/router-store/error"),yt=((0,x.VP)(Dt,(0,x.xk)()),"@ngrx/router-store/navigated");function Ut(he,Ae){const qt=Ae;switch(qt.type){case Bt:case Dt:case ft:return{state:qt.payload.routerState,navigationId:qt.payload.event.id};default:return he}}(0,x.VP)(yt,(0,x.xk)());class le{serialize(Ae){return{root:this.serializeRoute(Ae.root),url:Ae.url}}serializeRoute(Ae){const qt=Ae.children.map(Ot=>this.serializeRoute(Ot));return{params:Ae.params,data:Ae.data,url:Ae.url,outlet:Ae.outlet,title:Ae.title,routeConfig:Ae.routeConfig?{path:Ae.routeConfig.path,pathMatch:Ae.routeConfig.pathMatch,redirectTo:Ae.routeConfig.redirectTo,outlet:Ae.routeConfig.outlet,title:"string"==typeof Ae.routeConfig.title?Ae.routeConfig.title:void 0}:null,queryParams:Ae.queryParams,fragment:Ae.fragment,firstChild:qt[0],children:qt}}}var ve=function(he){return he[he.PreActivation=1]="PreActivation",he[he.PostActivation=2]="PostActivation",he}(ve||{});const Le="router",tn=new G.nKC("@ngrx/router-store Internal Configuration"),be=new G.nKC("@ngrx/router-store Configuration");function We(he){return{stateKey:Le,serializer:le,navigationActionTiming:ve.PreActivation,...he}}class Xt{serialize(Ae){return{root:this.serializeRoute(Ae.root),url:Ae.url}}serializeRoute(Ae){const qt=Ae.children.map(Ot=>this.serializeRoute(Ot));return{params:Ae.params,paramMap:Ae.paramMap,data:Ae.data,url:Ae.url,outlet:Ae.outlet,title:Ae.title,routeConfig:Ae.routeConfig?{component:Ae.routeConfig.component,path:Ae.routeConfig.path,pathMatch:Ae.routeConfig.pathMatch,redirectTo:Ae.routeConfig.redirectTo,outlet:Ae.routeConfig.outlet,title:Ae.routeConfig.title}:null,queryParams:Ae.queryParams,queryParamMap:Ae.queryParamMap,fragment:Ae.fragment,component:Ae.routeConfig?Ae.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:qt[0],pathFromRoot:void 0,children:qt}}}class zt{}var Tt=function(he){return he[he.NONE=1]="NONE",he[he.ROUTER=2]="ROUTER",he[he.STORE=3]="STORE",he}(Tt||{});let de=(()=>{class he{constructor(qt,Ot,dt,ht,Et,it){this.store=qt,this.router=Ot,this.serializer=dt,this.errorHandler=ht,this.config=Et,this.activeRuntimeChecks=it,this.lastEvent=null,this.routerState=null,this.trigger=Tt.NONE,this.stateKey=this.config.stateKey,!(0,x.Lg)()&&(0,G.naY)()&&(it?.strictActionSerializability||it?.strictStateSerializability)&&this.serializer instanceof Xt&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,x.Lt)(this.stateKey),(0,lt.E)(this.store)).subscribe(([qt,Ot])=>{this.navigateIfNeeded(qt,Ot)})}navigateIfNeeded(qt,Ot){if(!qt||!qt.state||this.trigger===Tt.ROUTER||this.lastEvent instanceof g.Z)return;const dt=qt.state.url;(function Te(he,Ae){return te(he)===te(Ae)})(this.router.url,dt)||(this.storeState=Ot,this.trigger=Tt.STORE,this.router.navigateByUrl(dt).catch(ht=>{this.errorHandler.handleError(ht)}))}setUpRouterEventsListener(){const qt=this.config.navigationActionTiming===ve.PostActivation;let Ot;this.router.events.pipe((0,lt.E)(this.store)).subscribe(([dt,ht])=>{this.lastEvent=dt,dt instanceof g.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Tt.STORE&&(this.storeState=ht,this.dispatchRouterRequest(dt))):dt instanceof g.ld?(Ot=dt,!qt&&this.trigger!==Tt.STORE&&this.dispatchRouterNavigation(dt)):dt instanceof g.j5?(this.dispatchRouterCancel(dt),this.reset()):dt instanceof g.L6?(this.dispatchRouterError(dt),this.reset()):dt instanceof g.wF&&(this.trigger!==Tt.STORE&&(qt&&this.dispatchRouterNavigation(Ot),this.dispatchRouterNavigated(dt)),this.reset())})}dispatchRouterRequest(qt){this.dispatchRouterAction(ut,{event:qt})}dispatchRouterNavigation(qt){const Ot=this.serializer.serialize(qt.state);this.dispatchRouterAction(Bt,{routerState:Ot,event:new g.ld(qt.id,qt.url,qt.urlAfterRedirects,Ot)})}dispatchRouterCancel(qt){this.dispatchRouterAction(ft,{storeState:this.storeState,event:qt})}dispatchRouterError(qt){this.dispatchRouterAction(Dt,{storeState:this.storeState,event:new g.L6(qt.id,qt.url,`${qt}`)})}dispatchRouterNavigated(qt){const Ot=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(yt,{event:qt,routerState:Ot})}dispatchRouterAction(qt,Ot){this.trigger=Tt.ROUTER;try{this.store.dispatch({type:qt,payload:{routerState:this.routerState,...Ot,event:0===this.config.routerState?Ot.event:{id:Ot.event.id,url:Ot.event.url,urlAfterRedirects:Ot.event.urlAfterRedirects}}})}finally{this.trigger=Tt.NONE}}reset(){this.trigger=Tt.NONE,this.storeState=null,this.routerState=null}static#t=this.\u0275fac=function(Ot){return new(Ot||he)(G.KVO(x.il),G.KVO(g.Ix),G.KVO(zt),G.KVO(G.zcH),G.KVO(be),G.KVO(x.A5))};static#e=this.\u0275prov=G.jDH({token:he,factory:he.\u0275fac})}return he})();function te(he){return he?.length>0&&"/"===he[he.length-1]?he.substring(0,he.length-1):he}function $t(he={}){return(0,G.EmA)([{provide:tn,useValue:he},{provide:be,useFactory:We,deps:[tn]},{provide:zt,useClass:he.serializer?he.serializer:0===he.routerState?Xt:le},{provide:G.Z63,multi:!0,useFactory:()=>()=>(0,G.WQX)(de)},de])}},5973:(dn,re,P)=>{"use strict";P.d(re,{A5:()=>Ln,SS:()=>Te,JS:()=>ii,Zz:()=>de,N_:()=>De,$J:()=>Fn,Bh:()=>_t,QU:()=>on,sA:()=>He,h1:()=>Qn,il:()=>ae,q6:()=>ue,VP:()=>Ut,UX:()=>wt,vy:()=>po,Mz:()=>Me,Lg:()=>qn,on:()=>mr,xk:()=>le,vQ:()=>Pn,NT:()=>or,Lt:()=>Ke,KC:()=>ve});var x=P(4291),G=P(8093),g=P(3982),lt=P(1071),ut=P(391),et=P(1240),Bt=P(6058),At=P(1546),ft=P(8199),Dt=P(7569),Rt=P(7083);const yt={};function Ut(Ft,Se){if(yt[Ft]=(yt[Ft]||0)+1,"function"==typeof Se)return Le(Ft,(...en)=>({...Se(...en),type:Ft}));switch(Se?Se._as:"empty"){case"empty":return Le(Ft,()=>({type:Ft}));case"props":return Le(Ft,en=>({...en,type:Ft}));default:throw new Error("Unexpected config.")}}function le(){return{_as:"props",_p:void 0}}function ve(Ft){}function Le(Ft,Se){return Object.defineProperty(Se,"type",{value:Ft,writable:!1})}const de="@ngrx/store/init";let Te=(()=>{class Ft extends G.t{constructor(){super({type:de})}next(Ve){if("function"==typeof Ve)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof Ve>"u")throw new TypeError("Actions must be objects");if(typeof Ve.type>"u")throw new TypeError("Actions must have a type property");super.next(Ve)}complete(){}ngOnDestroy(){super.complete()}static#t=this.\u0275fac=function(en){return new(en||Ft)};static#e=this.\u0275prov=x.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();const te=[Te],$t=new x.nKC("@ngrx/store Internal Root Guard"),Wt=new x.nKC("@ngrx/store Internal Initial State"),De=new x.nKC("@ngrx/store Initial State"),xe=new x.nKC("@ngrx/store Reducer Factory"),he=new x.nKC("@ngrx/store Internal Reducer Factory Provider"),Ae=new x.nKC("@ngrx/store Initial Reducers"),qt=new x.nKC("@ngrx/store Internal Initial Reducers"),Ot=new x.nKC("@ngrx/store Store Features"),dt=new x.nKC("@ngrx/store Internal Store Reducers"),ht=new x.nKC("@ngrx/store Internal Feature Reducers"),Et=new x.nKC("@ngrx/store Internal Feature Configs"),it=new x.nKC("@ngrx/store Internal Store Features"),Ct=new x.nKC("@ngrx/store Internal Feature Reducers Token"),pt=new x.nKC("@ngrx/store Feature Reducers"),Vt=new x.nKC("@ngrx/store User Provided Meta Reducers"),_e=new x.nKC("@ngrx/store Meta Reducers"),Ee=new x.nKC("@ngrx/store Internal Resolved Meta Reducers"),Oe=new x.nKC("@ngrx/store User Runtime Checks Config"),cn=new x.nKC("@ngrx/store Internal User Runtime Checks Config"),Ln=new x.nKC("@ngrx/store Internal Runtime Checks"),Di=new x.nKC("@ngrx/store Check if Action types are unique"),Fn=new x.nKC("@ngrx/store Root Store Provider"),ii=new x.nKC("@ngrx/store Feature State Provider");function Si(Ft,Se={}){const Ve=Object.keys(Ft),en={};for(let Xn=0;Xn<Ve.length;Xn++){const Ni=Ve[Xn];"function"==typeof Ft[Ni]&&(en[Ni]=Ft[Ni])}const Bn=Object.keys(en);return function(Ni,wr){Ni=void 0===Ni?Se:Ni;let Mi=!1;const $o={};for(let Mr=0;Mr<Bn.length;Mr++){const Zr=Bn[Mr],Wd=Ni[Zr],Kd=(0,en[Zr])(Wd,wr);$o[Zr]=Kd,Mi=Mi||Kd!==Wd}return Mi?$o:Ni}}function Ii(...Ft){return function(Se){if(0===Ft.length)return Se;const Ve=Ft[Ft.length-1];return Ft.slice(0,-1).reduceRight((Bn,Xn)=>Xn(Bn),Ve(Se))}}function Fi(Ft,Se){return Array.isArray(Se)&&Se.length>0&&(Ft=Ii.apply(null,[...Se,Ft])),(Ve,en)=>{const Bn=Ft(Ve);return(Xn,Ni)=>Bn(Xn=void 0===Xn?en:Xn,Ni)}}class on extends g.c{}class _t extends Te{}const ue="@ngrx/store/update-reducers";let me=(()=>{class Ft extends G.t{get currentReducers(){return this.reducers}constructor(Ve,en,Bn,Xn){super(Xn(Bn,en)),this.dispatcher=Ve,this.initialState=en,this.reducers=Bn,this.reducerFactory=Xn}addFeature(Ve){this.addFeatures([Ve])}addFeatures(Ve){const en=Ve.reduce((Bn,{reducers:Xn,reducerFactory:Ni,metaReducers:wr,initialState:Mi,key:$o})=>{const Mr="function"==typeof Xn?function Dn(Ft){const Se=Array.isArray(Ft)&&Ft.length>0?Ii(...Ft):Ve=>Ve;return(Ve,en)=>(Ve=Se(Ve),(Bn,Xn)=>Ve(Bn=void 0===Bn?en:Bn,Xn))}(wr)(Xn,Mi):Fi(Ni,wr)(Xn,Mi);return Bn[$o]=Mr,Bn},{});this.addReducers(en)}removeFeature(Ve){this.removeFeatures([Ve])}removeFeatures(Ve){this.removeReducers(Ve.map(en=>en.key))}addReducer(Ve,en){this.addReducers({[Ve]:en})}addReducers(Ve){this.reducers={...this.reducers,...Ve},this.updateReducers(Object.keys(Ve))}removeReducer(Ve){this.removeReducers([Ve])}removeReducers(Ve){Ve.forEach(en=>{this.reducers=function ki(Ft,Se){return Object.keys(Ft).filter(Ve=>Ve!==Se).reduce((Ve,en)=>Object.assign(Ve,{[en]:Ft[en]}),{})}(this.reducers,en)}),this.updateReducers(Ve)}updateReducers(Ve){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ue,features:Ve})}ngOnDestroy(){this.complete()}static#t=this.\u0275fac=function(en){return new(en||Ft)(x.KVO(_t),x.KVO(De),x.KVO(Ae),x.KVO(xe))};static#e=this.\u0275prov=x.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();const Qe=[me,{provide:on,useExisting:me},{provide:_t,useExisting:Te}];let He=(()=>{class Ft extends lt.B{ngOnDestroy(){this.complete()}static#t=this.\u0275fac=(()=>{let Ve;return function(Bn){return(Ve||(Ve=x.xGo(Ft)))(Bn||Ft)}})();static#e=this.\u0275prov=x.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();const sn=[He];class Qn extends g.c{}let ri=(()=>{class Ft extends G.t{static#t=this.INIT=de;constructor(Ve,en,Bn,Xn){super(Xn);const $o=Ve.pipe((0,et.Q)(ut.T)).pipe((0,Bt.E)(en)).pipe((0,At.S)(we,{state:Xn}));this.stateSubscription=$o.subscribe(({state:Mr,action:Zr})=>{this.next(Mr),Bn.next(Zr)}),this.state=(0,Rt.ot)(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static#e=this.\u0275fac=function(en){return new(en||Ft)(x.KVO(Te),x.KVO(on),x.KVO(He),x.KVO(De))};static#n=this.\u0275prov=x.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();function we(Ft={state:void 0},[Se,Ve]){const{state:en}=Ft;return{state:Ve(en,Se),action:Se}}const gn=[ri,{provide:Qn,useExisting:ri}];let ae=(()=>{class Ft extends g.c{constructor(Ve,en,Bn){super(),this.actionsObserver=en,this.reducerManager=Bn,this.source=Ve,this.state=Ve.state}select(Ve,...en){return Ke.call(null,Ve,...en)(this)}selectSignal(Ve,en){return(0,x.EWP)(()=>Ve(this.state()),en)}lift(Ve){const en=new Ft(this,this.actionsObserver,this.reducerManager);return en.operator=Ve,en}dispatch(Ve){this.actionsObserver.next(Ve)}next(Ve){this.actionsObserver.next(Ve)}error(Ve){this.actionsObserver.error(Ve)}complete(){this.actionsObserver.complete()}addReducer(Ve,en){this.reducerManager.addReducer(Ve,en)}removeReducer(Ve){this.reducerManager.removeReducer(Ve)}static#t=this.\u0275fac=function(en){return new(en||Ft)(x.KVO(Qn),x.KVO(Te),x.KVO(me))};static#e=this.\u0275prov=x.jDH({token:Ft,factory:Ft.\u0275fac})}return Ft})();const Ie=[ae];function Ke(Ft,Se,...Ve){return function(Bn){let Xn;if("string"==typeof Ft){const Ni=[Se,...Ve].filter(Boolean);Xn=Bn.pipe(function vt(...Ft){const Se=Ft.length;if(0===Se)throw new Error("list of properties cannot be empty.");return(0,ft.T)(Ve=>{let en=Ve;for(let Bn=0;Bn<Se;Bn++){const Xn=en?.[Ft[Bn]];if(!(typeof Xn<"u"))return;en=Xn}return en})}(Ft,...Ni))}else{if("function"!=typeof Ft)throw new TypeError(`Unexpected type '${typeof Ft}' in select operator, expected 'string' or 'function'`);Xn=Bn.pipe((0,ft.T)(Ni=>Ft(Ni,Se)))}return Xn.pipe((0,Dt.F)())}}const Cn="https://ngrx.io/guide/store/configuration/runtime-checks";function Rn(Ft){return void 0===Ft}function di(Ft){return null===Ft}function Re(Ft){return Array.isArray(Ft)}function Ue(Ft){return"object"==typeof Ft&&null!==Ft}function Mt(Ft){return"function"==typeof Ft}let Ze=!1;function qn(){return Ze}function hi(Ft,Se){return Ft===Se}function Gt(Ft,Se=hi,Ve=hi){let Xn,en=null,Bn=null;return{memoized:function $o(){if(void 0!==Xn)return Xn.result;if(!en)return Bn=Ft.apply(null,arguments),en=arguments,Bn;if(!function Be(Ft,Se,Ve){for(let en=0;en<Ft.length;en++)if(!Ve(Ft[en],Se[en]))return!0;return!1}(arguments,en,Se))return Bn;const Mr=Ft.apply(null,arguments);return en=arguments,Ve(Bn,Mr)?Bn:(Bn=Mr,Mr)},reset:function Ni(){en=null,Bn=null},setResult:function wr(Mr=void 0){Xn={result:Mr}},clearResult:function Mi(){Xn=void 0}}}function Me(...Ft){return function Ht(Ft,Se={stateFn:Zt}){return function(...Ve){let en=Ve;if(Array.isArray(en[0])){const[Mr,...Zr]=en;en=[...Mr,...Zr]}else 1===en.length&&function Yt(Ft){return!!Ft&&"object"==typeof Ft&&Object.values(Ft).every(Se=>"function"==typeof Se)}(en[0])&&(en=function je(Ft){const Se=Object.values(Ft),Ve=Object.keys(Ft);return[...Se,(...Bn)=>Ve.reduce((Xn,Ni,wr)=>({...Xn,[Ni]:Bn[wr]}),{})]}(en[0]));const Bn=en.slice(0,en.length-1),Xn=en[en.length-1],Ni=Bn.filter(Mr=>Mr.release&&"function"==typeof Mr.release),wr=Ft(function(...Mr){return Xn.apply(null,Mr)}),Mi=Gt(function(Mr,Zr){return Se.stateFn.apply(null,[Mr,Bn,Zr,wr])});return Object.assign(Mi.memoized,{release:function $o(){Mi.reset(),wr.reset(),Ni.forEach(Mr=>Mr.release())},projector:wr.memoized,setResult:Mi.setResult,clearResult:Mi.clearResult})}}(Gt)(...Ft)}function Zt(Ft,Se,Ve,en){if(void 0===Ve){const Xn=Se.map(Ni=>Ni(Ft));return en.memoized.apply(null,Xn)}const Bn=Se.map(Xn=>Xn(Ft,Ve));return en.memoized.apply(null,[...Bn,Ve])}function wt(Ft){return Me(Se=>{const Ve=Se[Ft];return!qn()&&(0,x.naY)()&&!(Ft in Se)&&console.warn(`@ngrx/store: The feature name "${Ft}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Ft}', ...) or StoreModule.forFeature('${Ft}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),Ve},Se=>Se)}function to(Ft){return Ft instanceof x.nKC?(0,x.WQX)(Ft):Ft}function Xr(Ft,Se){return Se.map((Ve,en)=>{if(Ft[en]instanceof x.nKC){const Bn=(0,x.WQX)(Ft[en]);return{key:Ve.key,reducerFactory:Bn.reducerFactory?Bn.reducerFactory:Si,metaReducers:Bn.metaReducers?Bn.metaReducers:[],initialState:Bn.initialState}}return Ve})}function eo(Ft){return Ft.map(Se=>Se instanceof x.nKC?(0,x.WQX)(Se):Se)}function Qt(Ft){return"function"==typeof Ft?Ft():Ft}function xn(Ft,Se){return Ft.concat(Se)}function Jt(){if((0,x.WQX)(ae,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Ye(Ft){Object.freeze(Ft);const Se=Mt(Ft);return Object.getOwnPropertyNames(Ft).forEach(Ve=>{if(!Ve.startsWith("\u0275")&&function Lt(Ft,Se){return Object.prototype.hasOwnProperty.call(Ft,Se)}(Ft,Ve)&&(!Se||"caller"!==Ve&&"callee"!==Ve&&"arguments"!==Ve)){const en=Ft[Ve];(Ue(en)||Mt(en))&&!Object.isFrozen(en)&&Ye(en)}}),Ft}function Sn(Ft,Se=[]){return(Rn(Ft)||di(Ft))&&0===Se.length?{path:["root"],value:Ft}:Object.keys(Ft).reduce((en,Bn)=>{if(en)return en;const Xn=Ft[Bn];return function gt(Ft){return Mt(Ft)&&Ft.hasOwnProperty("\u0275cmp")}(Xn)?en:!(Rn(Xn)||di(Xn)||function wn(Ft){return"number"==typeof Ft}(Xn)||function an(Ft){return"boolean"==typeof Ft}(Xn)||function Mn(Ft){return"string"==typeof Ft}(Xn)||Re(Xn))&&(function kt(Ft){if(!function Nn(Ft){return Ue(Ft)&&!Re(Ft)}(Ft))return!1;const Se=Object.getPrototypeOf(Ft);return Se===Object.prototype||null===Se}(Xn)?Sn(Xn,[...Se,Bn]):{path:[...Se,Bn],value:Xn})},!1)}function ke(Ft,Se){if(!1===Ft)return;const Ve=Ft.path.join("."),en=new Error(`Detected unserializable ${Se} at "${Ve}". ${Cn}#strict${Se}serializability`);throw en.value=Ft.value,en.unserializablePath=Ve,en}function Vn(Ft){return(0,x.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Ft}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function si({strictActionSerializability:Ft,strictStateSerializability:Se}){return Ve=>Ft||Se?function ge(Ft,Se){return function(Ve,en){Se.action(en)&&ke(Sn(en),"action");const Bn=Ft(Ve,en);return Se.state()&&ke(Sn(Bn),"state"),Bn}}(Ve,{action:en=>Ft&&!ti(en),state:()=>Se}):Ve}function ci({strictActionImmutability:Ft,strictStateImmutability:Se}){return Ve=>Ft||Se?function Pe(Ft,Se){return function(Ve,en){const Bn=Se.action(en)?Ye(en):en,Xn=Ft(Ve,Bn);return Se.state()?Ye(Xn):Xn}}(Ve,{action:en=>Ft&&!ti(en),state:()=>Se}):Ve}function ti(Ft){return Ft.type.startsWith("@ngrx")}function xt({strictActionWithinNgZone:Ft}){return Se=>Ft?function Je(Ft,Se){return function(Ve,en){if(Se.action(en)&&!x.SKi.isInAngularZone())throw new Error(`Action '${en.type}' running outside NgZone. ${Cn}#strictactionwithinngzone`);return Ft(Ve,en)}}(Se,{action:Ve=>Ft&&!ti(Ve)}):Se}function se(Ft){return[{provide:cn,useValue:Ft},{provide:Oe,useFactory:Ne,deps:[cn]},{provide:Ln,deps:[Oe],useFactory:Vn},{provide:_e,multi:!0,deps:[Ln],useFactory:ci},{provide:_e,multi:!0,deps:[Ln],useFactory:si},{provide:_e,multi:!0,deps:[Ln],useFactory:xt}]}function ce(){return[{provide:Di,multi:!0,deps:[Ln],useFactory:vn}]}function Ne(Ft){return Ft}function vn(Ft){if(!Ft.strictActionTypeUniqueness)return;const Se=Object.entries(yt).filter(([,Ve])=>Ve>1).map(([Ve])=>Ve);if(Se.length)throw new Error(`Action types are registered more than once, ${Se.map(Ve=>`"${Ve}"`).join(", ")}. ${Cn}#strictactiontypeuniqueness`)}function Pn(Ft,Se,Ve={}){return(0,x.EmA)([...Pr(Ft,Se,Ve),cr])}function In(Ft={},Se={}){return[{provide:$t,useFactory:Jt},{provide:Wt,useValue:Se.initialState},{provide:De,useFactory:Qt,deps:[Wt]},{provide:qt,useValue:Ft},{provide:dt,useExisting:Ft instanceof x.nKC?Ft:qt},{provide:Ae,deps:[qt,[new x.y_5(dt)]],useFactory:to},{provide:Vt,useValue:Se.metaReducers?Se.metaReducers:[]},{provide:Ee,deps:[_e,Vt],useFactory:xn},{provide:he,useValue:Se.reducerFactory?Se.reducerFactory:Si},{provide:xe,deps:[he,Ee],useFactory:Fi},te,Qe,sn,gn,Ie,se(Se.runtimeChecks),ce()]}const bi=[{provide:Fn,useFactory:function pi(){(0,x.WQX)(Te),(0,x.WQX)(on),(0,x.WQX)(He),(0,x.WQX)(ae),(0,x.WQX)($t,{optional:!0}),(0,x.WQX)(Di,{optional:!0})}},{provide:x.Z63,multi:!0,useFactory:()=>()=>(0,x.WQX)(Fn)}];function or(Ft,Se){return(0,x.EmA)([...In(Ft,Se),bi])}const cr=[{provide:ii,useFactory:function jr(){(0,x.WQX)(Fn);const Ft=(0,x.WQX)(it),Se=(0,x.WQX)(pt),Ve=(0,x.WQX)(me);(0,x.WQX)(Di,{optional:!0});const en=Ft.map((Bn,Xn)=>{const wr=Se.shift()[Xn];return{...Bn,reducers:wr,initialState:Qt(Bn.initialState)}});Ve.addFeatures(en)}},{provide:x.Z63,multi:!0,useFactory:()=>()=>(0,x.WQX)(ii)}];function Pr(Ft,Se,Ve={}){return[{provide:Et,multi:!0,useValue:Ft instanceof Object?{}:Ve},{provide:Ot,multi:!0,useValue:{key:Ft instanceof Object?Ft.name:Ft,reducerFactory:Ve instanceof x.nKC||!Ve.reducerFactory?Si:Ve.reducerFactory,metaReducers:Ve instanceof x.nKC||!Ve.metaReducers?[]:Ve.metaReducers,initialState:Ve instanceof x.nKC||!Ve.initialState?void 0:Ve.initialState}},{provide:it,deps:[Et,Ot],useFactory:Xr},{provide:ht,multi:!0,useValue:Ft instanceof Object?Ft.reducer:Se},{provide:Ct,multi:!0,useExisting:Se instanceof x.nKC?Se:ht},{provide:pt,multi:!0,deps:[ht,[new x.y_5(Ct)]],useFactory:eo},ce()]}function mr(...Ft){return{reducer:Ft.pop(),types:Ft.map(en=>en.type)}}function po(Ft,...Se){const Ve=new Map;for(const en of Se)for(const Bn of en.types){const Xn=Ve.get(Bn);Ve.set(Bn,Xn?(wr,Mi)=>en.reducer(Xn(wr,Mi),Mi):en.reducer)}return function(en=Ft,Bn){const Xn=Ve.get(Bn.type);return Xn?Xn(en,Bn):en}}},6994:(dn,re,P)=>{"use strict";function x(g,lt,ut,et,Bt,At,ft){try{var vt=g[At](ft),Dt=vt.value}catch(Rt){return void ut(Rt)}vt.done?lt(Dt):Promise.resolve(Dt).then(et,Bt)}function G(g){return function(){var lt=this,ut=arguments;return new Promise(function(et,Bt){var At=g.apply(lt,ut);function ft(Dt){x(At,et,Bt,ft,vt,"next",Dt)}function vt(Dt){x(At,et,Bt,ft,vt,"throw",Dt)}ft(void 0)})}}P.d(re,{A:()=>G})},3460:(dn,re,P)=>{"use strict";function Rt(dt,ht,Et,it){return new(Et||(Et=Promise))(function(pt,Vt){function _e(cn){try{Oe(it.next(cn))}catch(Ln){Vt(Ln)}}function Ee(cn){try{Oe(it.throw(cn))}catch(Ln){Vt(Ln)}}function Oe(cn){cn.done?pt(cn.value):function Ct(pt){return pt instanceof Et?pt:new Et(function(Vt){Vt(pt)})}(cn.value).then(_e,Ee)}Oe((it=it.apply(dt,ht||[])).next())})}function We(dt){return this instanceof We?(this.v=dt,this):new We(dt)}function Xt(dt,ht,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,it=Et.apply(dt,ht||[]),pt=[];return Ct=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),_e("next"),_e("throw"),_e("return",function Vt(Fn){return function(ii){return Promise.resolve(ii).then(Fn,Ln)}}),Ct[Symbol.asyncIterator]=function(){return this},Ct;function _e(Fn,ii){it[Fn]&&(Ct[Fn]=function(Si){return new Promise(function(ki,Ii){pt.push([Fn,Si,ki,Ii])>1||Ee(Fn,Si)})},ii&&(Ct[Fn]=ii(Ct[Fn])))}function Ee(Fn,ii){try{!function Oe(Fn){Fn.value instanceof We?Promise.resolve(Fn.value.v).then(cn,Ln):Di(pt[0][2],Fn)}(it[Fn](ii))}catch(Si){Di(pt[0][3],Si)}}function cn(Fn){Ee("next",Fn)}function Ln(Fn){Ee("throw",Fn)}function Di(Fn,ii){Fn(ii),pt.shift(),pt.length&&Ee(pt[0][0],pt[0][1])}}function Tt(dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,ht=dt[Symbol.asyncIterator];return ht?ht.call(dt):(dt=function le(dt){var ht="function"==typeof Symbol&&Symbol.iterator,Et=ht&&dt[ht],it=0;if(Et)return Et.call(dt);if(dt&&"number"==typeof dt.length)return{next:function(){return dt&&it>=dt.length&&(dt=void 0),{value:dt&&dt[it++],done:!dt}}};throw new TypeError(ht?"Object is not iterable.":"Symbol.iterator is not defined.")}(dt),Et={},it("next"),it("throw"),it("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function it(pt){Et[pt]=dt[pt]&&function(Vt){return new Promise(function(_e,Ee){!function Ct(pt,Vt,_e,Ee){Promise.resolve(Ee).then(function(Oe){pt({value:Oe,done:_e})},Vt)}(_e,Ee,(Vt=dt[pt](Vt)).done,Vt.value)})}}}P.d(re,{AQ:()=>Xt,N3:()=>We,sH:()=>Rt,xN:()=>Tt}),"function"==typeof SuppressedError&&SuppressedError}},dn=>{dn(dn.s=5789)}]);